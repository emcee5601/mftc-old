const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SimpleFitTestProtocolPanel-BtYCWIjr.js","./SimpleFitTestProtocolPanel-D541uJuR.css"])))=>i.map(i=>d[i]);
function W1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function _a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hg={exports:{}},Bl={},Wg={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=Symbol.for("react.element"),Y1=Symbol.for("react.portal"),z1=Symbol.for("react.fragment"),Q1=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),G1=Symbol.for("react.provider"),q1=Symbol.for("react.context"),X1=Symbol.for("react.forward_ref"),Z1=Symbol.for("react.suspense"),J1=Symbol.for("react.memo"),eS=Symbol.for("react.lazy"),Up=Symbol.iterator;function tS(t){return t===null||typeof t!="object"?null:(t=Up&&t[Up]||t["@@iterator"],typeof t=="function"?t:null)}var Yg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zg=Object.assign,Qg={};function ui(t,e,n){this.props=t,this.context=e,this.refs=Qg,this.updater=n||Yg}ui.prototype.isReactComponent={};ui.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ui.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kg(){}Kg.prototype=ui.prototype;function uf(t,e,n){this.props=t,this.context=e,this.refs=Qg,this.updater=n||Yg}var cf=uf.prototype=new Kg;cf.constructor=uf;zg(cf,ui.prototype);cf.isPureReactComponent=!0;var Bp=Array.isArray,Gg=Object.prototype.hasOwnProperty,df={current:null},qg={key:!0,ref:!0,__self:!0,__source:!0};function Xg(t,e,n){var r,o={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Gg.call(e,r)&&!qg.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];o.children=s}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Ta,type:t,key:i,ref:a,props:o,_owner:df.current}}function nS(t,e){return{$$typeof:Ta,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ff(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ta}function rS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hp=/\/+/g;function Au(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rS(""+t.key):e.toString(36)}function ys(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ta:case Y1:a=!0}}if(a)return a=t,o=o(a),t=r===""?"."+Au(a,0):r,Bp(o)?(n="",t!=null&&(n=t.replace(Hp,"$&/")+"/"),ys(o,e,n,"",function(u){return u})):o!=null&&(ff(o)&&(o=nS(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(Hp,"$&/")+"/")+t)),e.push(o)),1;if(a=0,r=r===""?".":r+":",Bp(t))for(var l=0;l<t.length;l++){i=t[l];var s=r+Au(i,l);a+=ys(i,e,n,s,o)}else if(s=tS(t),typeof s=="function")for(t=s.call(t),l=0;!(i=t.next()).done;)i=i.value,s=r+Au(i,l++),a+=ys(i,e,n,s,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Va(t,e,n){if(t==null)return t;var r=[],o=0;return ys(t,r,"","",function(i){return e.call(n,i,o++)}),r}function oS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tt={current:null},ws={transition:null},iS={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:ws,ReactCurrentOwner:df};function Zg(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Va,forEach:function(t,e,n){Va(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Va(t,function(){e++}),e},toArray:function(t){return Va(t,function(e){return e})||[]},only:function(t){if(!ff(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=ui;se.Fragment=z1;se.Profiler=K1;se.PureComponent=uf;se.StrictMode=Q1;se.Suspense=Z1;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iS;se.act=Zg;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zg({},t.props),o=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=df.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(s in e)Gg.call(e,s)&&!qg.hasOwnProperty(s)&&(r[s]=e[s]===void 0&&l!==void 0?l[s]:e[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ta,type:t.type,key:o,ref:i,props:r,_owner:a}};se.createContext=function(t){return t={$$typeof:q1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:G1,_context:t},t.Consumer=t};se.createElement=Xg;se.createFactory=function(t){var e=Xg.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:X1,render:t}};se.isValidElement=ff;se.lazy=function(t){return{$$typeof:eS,_payload:{_status:-1,_result:t},_init:oS}};se.memo=function(t,e){return{$$typeof:J1,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=ws.transition;ws.transition={};try{t()}finally{ws.transition=e}};se.unstable_act=Zg;se.useCallback=function(t,e){return Tt.current.useCallback(t,e)};se.useContext=function(t){return Tt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Tt.current.useDeferredValue(t)};se.useEffect=function(t,e){return Tt.current.useEffect(t,e)};se.useId=function(){return Tt.current.useId()};se.useImperativeHandle=function(t,e,n){return Tt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Tt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Tt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Tt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Tt.current.useReducer(t,e,n)};se.useRef=function(t){return Tt.current.useRef(t)};se.useState=function(t){return Tt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Tt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Tt.current.useTransition()};se.version="18.3.1";Wg.exports=se;var m=Wg.exports;const D=_a(m),Bc=W1({__proto__:null,default:D},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS=m,sS=Symbol.for("react.element"),lS=Symbol.for("react.fragment"),uS=Object.prototype.hasOwnProperty,cS=aS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dS={key:!0,ref:!0,__self:!0,__source:!0};function Jg(t,e,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)uS.call(e,r)&&!dS.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:sS,type:t,key:i,ref:a,props:o,_owner:cS.current}}Bl.Fragment=lS;Bl.jsx=Jg;Bl.jsxs=Jg;Hg.exports=Bl;var C=Hg.exports,ev={exports:{}},Ht={},tv={exports:{}},nv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,I){var V=P.length;P.push(I);e:for(;0<V;){var J=V-1>>>1,ee=P[J];if(0<o(ee,I))P[J]=I,P[V]=ee,V=J;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var I=P[0],V=P.pop();if(V!==I){P[0]=V;e:for(var J=0,ee=P.length,xe=ee>>>1;J<xe;){var De=2*(J+1)-1,qe=P[De],_e=De+1,L=P[_e];if(0>o(qe,V))_e<ee&&0>o(L,qe)?(P[J]=L,P[_e]=V,J=_e):(P[J]=qe,P[De]=V,J=De);else if(_e<ee&&0>o(L,V))P[J]=L,P[_e]=V,J=_e;else break e}}return I}function o(P,I){var V=P.sortIndex-I.sortIndex;return V!==0?V:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var s=[],u=[],c=1,d=null,f=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(P){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=P)r(u),I.sortIndex=I.expirationTime,e(s,I);else break;I=n(u)}}function E(P){if(g=!1,S(P),!v)if(n(s)!==null)v=!0,N(_);else{var I=n(u);I!==null&&U(E,I.startTime-P)}}function _(P,I){v=!1,g&&(g=!1,h(x),x=-1),p=!0;var V=f;try{for(S(I),d=n(s);d!==null&&(!(d.expirationTime>I)||P&&!O());){var J=d.callback;if(typeof J=="function"){d.callback=null,f=d.priorityLevel;var ee=J(d.expirationTime<=I);I=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(s)&&r(s),S(I)}else r(s);d=n(s)}if(d!==null)var xe=!0;else{var De=n(u);De!==null&&U(E,De.startTime-I),xe=!1}return xe}finally{d=null,f=V,p=!1}}var b=!1,T=null,x=-1,k=5,M=-1;function O(){return!(t.unstable_now()-M<k)}function A(){if(T!==null){var P=t.unstable_now();M=P;var I=!0;try{I=T(!0,P)}finally{I?H():(b=!1,T=null)}}else b=!1}var H;if(typeof w=="function")H=function(){w(A)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=A,H=function(){$.postMessage(null)}}else H=function(){y(A,0)};function N(P){T=P,b||(b=!0,H())}function U(P,I){x=y(function(){P(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,N(_))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(s)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var V=f;f=I;try{return P()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=f;f=P;try{return I()}finally{f=V}},t.unstable_scheduleCallback=function(P,I,V){var J=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?J+V:J):V=J,P){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,P={id:c++,callback:I,priorityLevel:P,startTime:V,expirationTime:ee,sortIndex:-1},V>J?(P.sortIndex=V,e(u,P),n(s)===null&&P===n(u)&&(g?(h(x),x=-1):g=!0,U(E,V-J))):(P.sortIndex=ee,e(s,P),v||p||(v=!0,N(_))),P},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(P){var I=f;return function(){var V=f;f=I;try{return P.apply(this,arguments)}finally{f=V}}}})(nv);tv.exports=nv;var fS=tv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS=m,Ut=fS;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rv=new Set,ea={};function uo(t,e){Yo(t,e),Yo(t+"Capture",e)}function Yo(t,e){for(ea[t]=e,t=0;t<e.length;t++)rv.add(e[t])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hc=Object.prototype.hasOwnProperty,hS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wp={},Yp={};function mS(t){return Hc.call(Yp,t)?!0:Hc.call(Wp,t)?!1:hS.test(t)?Yp[t]=!0:(Wp[t]=!0,!1)}function gS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vS(t,e,n,r){if(e===null||typeof e>"u"||gS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dt(t,e,n,r,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var pf=/[\-:]([a-z])/g;function hf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pf,hf);pt[e]=new Dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pf,hf);pt[e]=new Dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pf,hf);pt[e]=new Dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Dt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function mf(t,e,n,r){var o=pt.hasOwnProperty(e)?pt[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vS(e,n,o,r)&&(n=null),r||o===null?mS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=pS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ua=Symbol.for("react.element"),So=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),gf=Symbol.for("react.strict_mode"),Wc=Symbol.for("react.profiler"),ov=Symbol.for("react.provider"),iv=Symbol.for("react.context"),vf=Symbol.for("react.forward_ref"),Yc=Symbol.for("react.suspense"),zc=Symbol.for("react.suspense_list"),yf=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),av=Symbol.for("react.offscreen"),zp=Symbol.iterator;function gi(t){return t===null||typeof t!="object"?null:(t=zp&&t[zp]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Fu;function Ni(t){if(Fu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fu=e&&e[1]||""}return`
`+Fu+t}var $u=!1;function ju(t,e){if(!t||$u)return"";$u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,l=i.length-1;1<=a&&0<=l&&o[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==i[l]){var s=`
`+o[a].replace(" at new "," at ");return t.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",t.displayName)),s}while(1<=a&&0<=l);break}}}finally{$u=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ni(t):""}function yS(t){switch(t.tag){case 5:return Ni(t.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 2:case 15:return t=ju(t.type,!1),t;case 11:return t=ju(t.type.render,!1),t;case 1:return t=ju(t.type,!0),t;default:return""}}function Qc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Co:return"Fragment";case So:return"Portal";case Wc:return"Profiler";case gf:return"StrictMode";case Yc:return"Suspense";case zc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iv:return(t.displayName||"Context")+".Consumer";case ov:return(t._context.displayName||"Context")+".Provider";case vf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yf:return e=t.displayName||null,e!==null?e:Qc(t.type)||"Memo";case cr:e=t._payload,t=t._init;try{return Qc(t(e))}catch{}}return null}function wS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qc(e);case 8:return e===gf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SS(t){var e=sv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ba(t){t._valueTracker||(t._valueTracker=SS(t))}function lv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kc(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uv(t,e){e=e.checked,e!=null&&mf(t,"checked",e,!1)}function Gc(t,e){uv(t,e);var n=Or(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qc(t,e.type,n):e.hasOwnProperty("defaultValue")&&qc(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qc(t,e,n){(e!=="number"||Ys(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ii=Array.isArray;function Io(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Xc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Ii(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function cv(t,e){var n=Or(e.value),r=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ha,fv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ha=Ha||document.createElement("div"),Ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ha.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ta(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CS=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(t){CS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hi[e]=Hi[t]})});function pv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hi.hasOwnProperty(t)&&Hi[t]?(""+e).trim():e+"px"}function hv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=pv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var ES=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jc(t,e){if(e){if(ES[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function ed(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var td=null;function wf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nd=null,Lo=null,Ao=null;function Xp(t){if(t=Pa(t)){if(typeof nd!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Ql(e),nd(t.stateNode,t.type,e))}}function mv(t){Lo?Ao?Ao.push(t):Ao=[t]:Lo=t}function gv(){if(Lo){var t=Lo,e=Ao;if(Ao=Lo=null,Xp(t),e)for(t=0;t<e.length;t++)Xp(e[t])}}function vv(t,e){return t(e)}function yv(){}var Vu=!1;function wv(t,e,n){if(Vu)return t(e,n);Vu=!0;try{return vv(t,e,n)}finally{Vu=!1,(Lo!==null||Ao!==null)&&(yv(),gv())}}function na(t,e){var n=t.stateNode;if(n===null)return null;var r=Ql(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var rd=!1;if(Jn)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){rd=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{rd=!1}function bS(t,e,n,r,o,i,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Wi=!1,zs=null,Qs=!1,od=null,xS={onError:function(t){Wi=!0,zs=t}};function _S(t,e,n,r,o,i,a,l,s){Wi=!1,zs=null,bS.apply(xS,arguments)}function TS(t,e,n,r,o,i,a,l,s){if(_S.apply(this,arguments),Wi){if(Wi){var u=zs;Wi=!1,zs=null}else throw Error(R(198));Qs||(Qs=!0,od=u)}}function co(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Sv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zp(t){if(co(t)!==t)throw Error(R(188))}function DS(t){var e=t.alternate;if(!e){if(e=co(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Zp(o),t;if(i===r)return Zp(o),e;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function Cv(t){return t=DS(t),t!==null?Ev(t):null}function Ev(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ev(t);if(e!==null)return e;t=t.sibling}return null}var bv=Ut.unstable_scheduleCallback,Jp=Ut.unstable_cancelCallback,kS=Ut.unstable_shouldYield,PS=Ut.unstable_requestPaint,He=Ut.unstable_now,OS=Ut.unstable_getCurrentPriorityLevel,Sf=Ut.unstable_ImmediatePriority,xv=Ut.unstable_UserBlockingPriority,Ks=Ut.unstable_NormalPriority,MS=Ut.unstable_LowPriority,_v=Ut.unstable_IdlePriority,Hl=null,Pn=null;function RS(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Hl,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:LS,NS=Math.log,IS=Math.LN2;function LS(t){return t>>>=0,t===0?32:31-(NS(t)/IS|0)|0}var Wa=64,Ya=4194304;function Li(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~o;l!==0?r=Li(l):(i&=a,i!==0&&(r=Li(i)))}else a=n&~o,a!==0?r=Li(a):i!==0&&(r=Li(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pn(e),o=1<<n,r|=t[n],e&=~o;return r}function AS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-pn(i),l=1<<a,s=o[a];s===-1?(!(l&n)||l&r)&&(o[a]=AS(l,e)):s<=e&&(t.expiredLanes|=l),i&=~l}}function id(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tv(){var t=Wa;return Wa<<=1,!(Wa&4194240)&&(Wa=64),t}function Uu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Da(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=n}function $S(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-pn(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function Cf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pn(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Ee=0;function Dv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kv,Ef,Pv,Ov,Mv,ad=!1,za=[],Cr=null,Er=null,br=null,ra=new Map,oa=new Map,pr=[],jS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eh(t,e){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(e.pointerId)}}function yi(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Pa(e),e!==null&&Ef(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function VS(t,e,n,r,o){switch(e){case"focusin":return Cr=yi(Cr,t,e,n,r,o),!0;case"dragenter":return Er=yi(Er,t,e,n,r,o),!0;case"mouseover":return br=yi(br,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return ra.set(i,yi(ra.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,oa.set(i,yi(oa.get(i)||null,t,e,n,r,o)),!0}return!1}function Rv(t){var e=Hr(t.target);if(e!==null){var n=co(e);if(n!==null){if(e=n.tag,e===13){if(e=Sv(n),e!==null){t.blockedOn=e,Mv(t.priority,function(){Pv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ss(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);td=r,n.target.dispatchEvent(r),td=null}else return e=Pa(n),e!==null&&Ef(e),t.blockedOn=n,!1;e.shift()}return!0}function th(t,e,n){Ss(t)&&n.delete(e)}function US(){ad=!1,Cr!==null&&Ss(Cr)&&(Cr=null),Er!==null&&Ss(Er)&&(Er=null),br!==null&&Ss(br)&&(br=null),ra.forEach(th),oa.forEach(th)}function wi(t,e){t.blockedOn===e&&(t.blockedOn=null,ad||(ad=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,US)))}function ia(t){function e(o){return wi(o,t)}if(0<za.length){wi(za[0],t);for(var n=1;n<za.length;n++){var r=za[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cr!==null&&wi(Cr,t),Er!==null&&wi(Er,t),br!==null&&wi(br,t),ra.forEach(e),oa.forEach(e),n=0;n<pr.length;n++)r=pr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)Rv(n),n.blockedOn===null&&pr.shift()}var Fo=ar.ReactCurrentBatchConfig,qs=!0;function BS(t,e,n,r){var o=Ee,i=Fo.transition;Fo.transition=null;try{Ee=1,bf(t,e,n,r)}finally{Ee=o,Fo.transition=i}}function HS(t,e,n,r){var o=Ee,i=Fo.transition;Fo.transition=null;try{Ee=4,bf(t,e,n,r)}finally{Ee=o,Fo.transition=i}}function bf(t,e,n,r){if(qs){var o=sd(t,e,n,r);if(o===null)Xu(t,e,r,Xs,n),eh(t,r);else if(VS(o,t,e,n,r))r.stopPropagation();else if(eh(t,r),e&4&&-1<jS.indexOf(t)){for(;o!==null;){var i=Pa(o);if(i!==null&&kv(i),i=sd(t,e,n,r),i===null&&Xu(t,e,r,Xs,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Xu(t,e,r,null,n)}}var Xs=null;function sd(t,e,n,r){if(Xs=null,t=wf(r),t=Hr(t),t!==null)if(e=co(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Sv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xs=t,null}function Nv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OS()){case Sf:return 1;case xv:return 4;case Ks:case MS:return 16;case _v:return 536870912;default:return 16}default:return 16}}var vr=null,xf=null,Cs=null;function Iv(){if(Cs)return Cs;var t,e=xf,n=e.length,r,o="value"in vr?vr.value:vr.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===o[i-r];r++);return Cs=o.slice(t,1<r?1-r:void 0)}function Es(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qa(){return!0}function nh(){return!1}function Wt(t){function e(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qa:nh,this.isPropagationStopped=nh,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),e}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_f=Wt(ci),ka=Fe({},ci,{view:0,detail:0}),WS=Wt(ka),Bu,Hu,Si,Wl=Fe({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Bu=t.screenX-Si.screenX,Hu=t.screenY-Si.screenY):Hu=Bu=0,Si=t),Bu)},movementY:function(t){return"movementY"in t?t.movementY:Hu}}),rh=Wt(Wl),YS=Fe({},Wl,{dataTransfer:0}),zS=Wt(YS),QS=Fe({},ka,{relatedTarget:0}),Wu=Wt(QS),KS=Fe({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),GS=Wt(KS),qS=Fe({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XS=Wt(qS),ZS=Fe({},ci,{data:0}),oh=Wt(ZS),JS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tC[t])?!!e[t]:!1}function Tf(){return nC}var rC=Fe({},ka,{key:function(t){if(t.key){var e=JS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tf,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oC=Wt(rC),iC=Fe({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ih=Wt(iC),aC=Fe({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tf}),sC=Wt(aC),lC=Fe({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),uC=Wt(lC),cC=Fe({},Wl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dC=Wt(cC),fC=[9,13,27,32],Df=Jn&&"CompositionEvent"in window,Yi=null;Jn&&"documentMode"in document&&(Yi=document.documentMode);var pC=Jn&&"TextEvent"in window&&!Yi,Lv=Jn&&(!Df||Yi&&8<Yi&&11>=Yi),ah=" ",sh=!1;function Av(t,e){switch(t){case"keyup":return fC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eo=!1;function hC(t,e){switch(t){case"compositionend":return Fv(e);case"keypress":return e.which!==32?null:(sh=!0,ah);case"textInput":return t=e.data,t===ah&&sh?null:t;default:return null}}function mC(t,e){if(Eo)return t==="compositionend"||!Df&&Av(t,e)?(t=Iv(),Cs=xf=vr=null,Eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lv&&e.locale!=="ko"?null:e.data;default:return null}}var gC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gC[t.type]:e==="textarea"}function $v(t,e,n,r){mv(r),e=Zs(e,"onChange"),0<e.length&&(n=new _f("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zi=null,aa=null;function vC(t){Gv(t,0)}function Yl(t){var e=_o(t);if(lv(e))return t}function yC(t,e){if(t==="change")return e}var jv=!1;if(Jn){var Yu;if(Jn){var zu="oninput"in document;if(!zu){var uh=document.createElement("div");uh.setAttribute("oninput","return;"),zu=typeof uh.oninput=="function"}Yu=zu}else Yu=!1;jv=Yu&&(!document.documentMode||9<document.documentMode)}function ch(){zi&&(zi.detachEvent("onpropertychange",Vv),aa=zi=null)}function Vv(t){if(t.propertyName==="value"&&Yl(aa)){var e=[];$v(e,aa,t,wf(t)),wv(vC,e)}}function wC(t,e,n){t==="focusin"?(ch(),zi=e,aa=n,zi.attachEvent("onpropertychange",Vv)):t==="focusout"&&ch()}function SC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yl(aa)}function CC(t,e){if(t==="click")return Yl(e)}function EC(t,e){if(t==="input"||t==="change")return Yl(e)}function bC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:bC;function sa(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Hc.call(e,o)||!mn(t[o],e[o]))return!1}return!0}function dh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fh(t,e){var n=dh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dh(n)}}function Uv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Uv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bv(){for(var t=window,e=Ys();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ys(t.document)}return e}function kf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xC(t){var e=Bv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Uv(n.ownerDocument.documentElement,n)){if(r!==null&&kf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=fh(n,i);var a=fh(n,r);o&&a&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _C=Jn&&"documentMode"in document&&11>=document.documentMode,bo=null,ld=null,Qi=null,ud=!1;function ph(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ud||bo==null||bo!==Ys(r)||(r=bo,"selectionStart"in r&&kf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qi&&sa(Qi,r)||(Qi=r,r=Zs(ld,"onSelect"),0<r.length&&(e=new _f("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bo)))}function Ka(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xo={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},Qu={},Hv={};Jn&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function zl(t){if(Qu[t])return Qu[t];if(!xo[t])return t;var e=xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Hv)return Qu[t]=e[n];return t}var Wv=zl("animationend"),Yv=zl("animationiteration"),zv=zl("animationstart"),Qv=zl("transitionend"),Kv=new Map,hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,e){Kv.set(t,e),uo(e,[t])}for(var Ku=0;Ku<hh.length;Ku++){var Gu=hh[Ku],TC=Gu.toLowerCase(),DC=Gu[0].toUpperCase()+Gu.slice(1);Lr(TC,"on"+DC)}Lr(Wv,"onAnimationEnd");Lr(Yv,"onAnimationIteration");Lr(zv,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(Qv,"onTransitionEnd");Yo("onMouseEnter",["mouseout","mouseover"]);Yo("onMouseLeave",["mouseout","mouseover"]);Yo("onPointerEnter",["pointerout","pointerover"]);Yo("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function mh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TS(r,e,void 0,t),t.currentTarget=null}function Gv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==i&&o.isPropagationStopped())break e;mh(o,l,u),i=s}else for(a=0;a<r.length;a++){if(l=r[a],s=l.instance,u=l.currentTarget,l=l.listener,s!==i&&o.isPropagationStopped())break e;mh(o,l,u),i=s}}}if(Qs)throw t=od,Qs=!1,od=null,t}function ke(t,e){var n=e[hd];n===void 0&&(n=e[hd]=new Set);var r=t+"__bubble";n.has(r)||(qv(e,t,2,!1),n.add(r))}function qu(t,e,n){var r=0;e&&(r|=4),qv(n,t,r,e)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function la(t){if(!t[Ga]){t[Ga]=!0,rv.forEach(function(n){n!=="selectionchange"&&(kC.has(n)||qu(n,!1,t),qu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ga]||(e[Ga]=!0,qu("selectionchange",!1,e))}}function qv(t,e,n,r){switch(Nv(e)){case 1:var o=BS;break;case 4:o=HS;break;default:o=bf}n=o.bind(null,e,n,t),o=void 0,!rd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Xu(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var s=a.tag;if((s===3||s===4)&&(s=a.stateNode.containerInfo,s===o||s.nodeType===8&&s.parentNode===o))return;a=a.return}for(;l!==null;){if(a=Hr(l),a===null)return;if(s=a.tag,s===5||s===6){r=i=a;continue e}l=l.parentNode}}r=r.return}wv(function(){var u=i,c=wf(n),d=[];e:{var f=Kv.get(t);if(f!==void 0){var p=_f,v=t;switch(t){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":p=oC;break;case"focusin":v="focus",p=Wu;break;case"focusout":v="blur",p=Wu;break;case"beforeblur":case"afterblur":p=Wu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=sC;break;case Wv:case Yv:case zv:p=GS;break;case Qv:p=uC;break;case"scroll":p=WS;break;case"wheel":p=dC;break;case"copy":case"cut":case"paste":p=XS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ih}var g=(e&4)!==0,y=!g&&t==="scroll",h=g?f!==null?f+"Capture":null:f;g=[];for(var w=u,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,h!==null&&(E=na(w,h),E!=null&&g.push(ua(w,E,S)))),y)break;w=w.return}0<g.length&&(f=new p(f,v,null,n,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==td&&(v=n.relatedTarget||n.fromElement)&&(Hr(v)||v[er]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Hr(v):null,v!==null&&(y=co(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=rh,E="onMouseLeave",h="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=ih,E="onPointerLeave",h="onPointerEnter",w="pointer"),y=p==null?f:_o(p),S=v==null?f:_o(v),f=new g(E,w+"leave",p,n,c),f.target=y,f.relatedTarget=S,E=null,Hr(c)===u&&(g=new g(h,w+"enter",v,n,c),g.target=S,g.relatedTarget=y,E=g),y=E,p&&v)t:{for(g=p,h=v,w=0,S=g;S;S=go(S))w++;for(S=0,E=h;E;E=go(E))S++;for(;0<w-S;)g=go(g),w--;for(;0<S-w;)h=go(h),S--;for(;w--;){if(g===h||h!==null&&g===h.alternate)break t;g=go(g),h=go(h)}g=null}else g=null;p!==null&&gh(d,f,p,g,!1),v!==null&&y!==null&&gh(d,y,v,g,!0)}}e:{if(f=u?_o(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=yC;else if(lh(f))if(jv)_=EC;else{_=SC;var b=wC}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=CC);if(_&&(_=_(t,u))){$v(d,_,n,c);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&qc(f,"number",f.value)}switch(b=u?_o(u):window,t){case"focusin":(lh(b)||b.contentEditable==="true")&&(bo=b,ld=u,Qi=null);break;case"focusout":Qi=ld=bo=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,ph(d,n,c);break;case"selectionchange":if(_C)break;case"keydown":case"keyup":ph(d,n,c)}var T;if(Df)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Eo?Av(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Lv&&n.locale!=="ko"&&(Eo||x!=="onCompositionStart"?x==="onCompositionEnd"&&Eo&&(T=Iv()):(vr=c,xf="value"in vr?vr.value:vr.textContent,Eo=!0)),b=Zs(u,x),0<b.length&&(x=new oh(x,t,null,n,c),d.push({event:x,listeners:b}),T?x.data=T:(T=Fv(n),T!==null&&(x.data=T)))),(T=pC?hC(t,n):mC(t,n))&&(u=Zs(u,"onBeforeInput"),0<u.length&&(c=new oh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}Gv(d,e)})}function ua(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zs(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=na(t,n),i!=null&&r.unshift(ua(t,i,o)),i=na(t,e),i!=null&&r.push(ua(t,i,o))),t=t.return}return r}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gh(t,e,n,r,o){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&u!==null&&(l=u,o?(s=na(n,i),s!=null&&a.unshift(ua(n,s,l))):o||(s=na(n,i),s!=null&&a.push(ua(n,s,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var PC=/\r\n?/g,OC=/\u0000|\uFFFD/g;function vh(t){return(typeof t=="string"?t:""+t).replace(PC,`
`).replace(OC,"")}function qa(t,e,n){if(e=vh(e),vh(t)!==e&&n)throw Error(R(425))}function Js(){}var cd=null,dd=null;function fd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pd=typeof setTimeout=="function"?setTimeout:void 0,MC=typeof clearTimeout=="function"?clearTimeout:void 0,yh=typeof Promise=="function"?Promise:void 0,RC=typeof queueMicrotask=="function"?queueMicrotask:typeof yh<"u"?function(t){return yh.resolve(null).then(t).catch(NC)}:pd;function NC(t){setTimeout(function(){throw t})}function Zu(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),ia(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ia(e)}function xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var di=Math.random().toString(36).slice(2),xn="__reactFiber$"+di,ca="__reactProps$"+di,er="__reactContainer$"+di,hd="__reactEvents$"+di,IC="__reactListeners$"+di,LC="__reactHandles$"+di;function Hr(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[er]||n[xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wh(t);t!==null;){if(n=t[xn])return n;t=wh(t)}return e}t=n,n=t.parentNode}return null}function Pa(t){return t=t[xn]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Ql(t){return t[ca]||null}var md=[],To=-1;function Ar(t){return{current:t}}function Pe(t){0>To||(t.current=md[To],md[To]=null,To--)}function Te(t,e){To++,md[To]=t.current,t.current=e}var Mr={},wt=Ar(Mr),Ot=Ar(!1),Jr=Mr;function zo(t,e){var n=t.type.contextTypes;if(!n)return Mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Mt(t){return t=t.childContextTypes,t!=null}function el(){Pe(Ot),Pe(wt)}function Sh(t,e,n){if(wt.current!==Mr)throw Error(R(168));Te(wt,e),Te(Ot,n)}function Xv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(R(108,wS(t)||"Unknown",o));return Fe({},n,r)}function tl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mr,Jr=wt.current,Te(wt,t),Te(Ot,Ot.current),!0}function Ch(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=Xv(t,e,Jr),r.__reactInternalMemoizedMergedChildContext=t,Pe(Ot),Pe(wt),Te(wt,t)):Pe(Ot),Te(Ot,n)}var Bn=null,Kl=!1,Ju=!1;function Zv(t){Bn===null?Bn=[t]:Bn.push(t)}function AC(t){Kl=!0,Zv(t)}function Fr(){if(!Ju&&Bn!==null){Ju=!0;var t=0,e=Ee;try{var n=Bn;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bn=null,Kl=!1}catch(o){throw Bn!==null&&(Bn=Bn.slice(t+1)),bv(Sf,Fr),o}finally{Ee=e,Ju=!1}}return null}var Do=[],ko=0,nl=null,rl=0,Xt=[],Zt=0,eo=null,Wn=1,Yn="";function jr(t,e){Do[ko++]=rl,Do[ko++]=nl,nl=t,rl=e}function Jv(t,e,n){Xt[Zt++]=Wn,Xt[Zt++]=Yn,Xt[Zt++]=eo,eo=t;var r=Wn;t=Yn;var o=32-pn(r)-1;r&=~(1<<o),n+=1;var i=32-pn(e)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Wn=1<<32-pn(e)+o|n<<o|r,Yn=i+t}else Wn=1<<i|n<<o|r,Yn=t}function Pf(t){t.return!==null&&(jr(t,1),Jv(t,1,0))}function Of(t){for(;t===nl;)nl=Do[--ko],Do[ko]=null,rl=Do[--ko],Do[ko]=null;for(;t===eo;)eo=Xt[--Zt],Xt[Zt]=null,Yn=Xt[--Zt],Xt[Zt]=null,Wn=Xt[--Zt],Xt[Zt]=null}var $t=null,Ft=null,Me=!1,fn=null;function e0(t,e){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Eh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,Ft=xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,Ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eo!==null?{id:Wn,overflow:Yn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,Ft=null,!0):!1;default:return!1}}function gd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vd(t){if(Me){var e=Ft;if(e){var n=e;if(!Eh(t,e)){if(gd(t))throw Error(R(418));e=xr(n.nextSibling);var r=$t;e&&Eh(t,e)?e0(r,n):(t.flags=t.flags&-4097|2,Me=!1,$t=t)}}else{if(gd(t))throw Error(R(418));t.flags=t.flags&-4097|2,Me=!1,$t=t}}}function bh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Xa(t){if(t!==$t)return!1;if(!Me)return bh(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fd(t.type,t.memoizedProps)),e&&(e=Ft)){if(gd(t))throw t0(),Error(R(418));for(;e;)e0(t,e),e=xr(e.nextSibling)}if(bh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ft=xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ft=null}}else Ft=$t?xr(t.stateNode.nextSibling):null;return!0}function t0(){for(var t=Ft;t;)t=xr(t.nextSibling)}function Qo(){Ft=$t=null,Me=!1}function Mf(t){fn===null?fn=[t]:fn.push(t)}var FC=ar.ReactCurrentBatchConfig;function Ci(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=o.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Za(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xh(t){var e=t._init;return e(t._payload)}function n0(t){function e(h,w){if(t){var S=h.deletions;S===null?(h.deletions=[w],h.flags|=16):S.push(w)}}function n(h,w){if(!t)return null;for(;w!==null;)e(h,w),w=w.sibling;return null}function r(h,w){for(h=new Map;w!==null;)w.key!==null?h.set(w.key,w):h.set(w.index,w),w=w.sibling;return h}function o(h,w){return h=kr(h,w),h.index=0,h.sibling=null,h}function i(h,w,S){return h.index=S,t?(S=h.alternate,S!==null?(S=S.index,S<w?(h.flags|=2,w):S):(h.flags|=2,w)):(h.flags|=1048576,w)}function a(h){return t&&h.alternate===null&&(h.flags|=2),h}function l(h,w,S,E){return w===null||w.tag!==6?(w=ac(S,h.mode,E),w.return=h,w):(w=o(w,S),w.return=h,w)}function s(h,w,S,E){var _=S.type;return _===Co?c(h,w,S.props.children,E,S.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===cr&&xh(_)===w.type)?(E=o(w,S.props),E.ref=Ci(h,w,S),E.return=h,E):(E=Ps(S.type,S.key,S.props,null,h.mode,E),E.ref=Ci(h,w,S),E.return=h,E)}function u(h,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=sc(S,h.mode,E),w.return=h,w):(w=o(w,S.children||[]),w.return=h,w)}function c(h,w,S,E,_){return w===null||w.tag!==7?(w=Gr(S,h.mode,E,_),w.return=h,w):(w=o(w,S),w.return=h,w)}function d(h,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ac(""+w,h.mode,S),w.return=h,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ua:return S=Ps(w.type,w.key,w.props,null,h.mode,S),S.ref=Ci(h,null,w),S.return=h,S;case So:return w=sc(w,h.mode,S),w.return=h,w;case cr:var E=w._init;return d(h,E(w._payload),S)}if(Ii(w)||gi(w))return w=Gr(w,h.mode,S,null),w.return=h,w;Za(h,w)}return null}function f(h,w,S,E){var _=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return _!==null?null:l(h,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ua:return S.key===_?s(h,w,S,E):null;case So:return S.key===_?u(h,w,S,E):null;case cr:return _=S._init,f(h,w,_(S._payload),E)}if(Ii(S)||gi(S))return _!==null?null:c(h,w,S,E,null);Za(h,S)}return null}function p(h,w,S,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return h=h.get(S)||null,l(w,h,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ua:return h=h.get(E.key===null?S:E.key)||null,s(w,h,E,_);case So:return h=h.get(E.key===null?S:E.key)||null,u(w,h,E,_);case cr:var b=E._init;return p(h,w,S,b(E._payload),_)}if(Ii(E)||gi(E))return h=h.get(S)||null,c(w,h,E,_,null);Za(w,E)}return null}function v(h,w,S,E){for(var _=null,b=null,T=w,x=w=0,k=null;T!==null&&x<S.length;x++){T.index>x?(k=T,T=null):k=T.sibling;var M=f(h,T,S[x],E);if(M===null){T===null&&(T=k);break}t&&T&&M.alternate===null&&e(h,T),w=i(M,w,x),b===null?_=M:b.sibling=M,b=M,T=k}if(x===S.length)return n(h,T),Me&&jr(h,x),_;if(T===null){for(;x<S.length;x++)T=d(h,S[x],E),T!==null&&(w=i(T,w,x),b===null?_=T:b.sibling=T,b=T);return Me&&jr(h,x),_}for(T=r(h,T);x<S.length;x++)k=p(T,h,x,S[x],E),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?x:k.key),w=i(k,w,x),b===null?_=k:b.sibling=k,b=k);return t&&T.forEach(function(O){return e(h,O)}),Me&&jr(h,x),_}function g(h,w,S,E){var _=gi(S);if(typeof _!="function")throw Error(R(150));if(S=_.call(S),S==null)throw Error(R(151));for(var b=_=null,T=w,x=w=0,k=null,M=S.next();T!==null&&!M.done;x++,M=S.next()){T.index>x?(k=T,T=null):k=T.sibling;var O=f(h,T,M.value,E);if(O===null){T===null&&(T=k);break}t&&T&&O.alternate===null&&e(h,T),w=i(O,w,x),b===null?_=O:b.sibling=O,b=O,T=k}if(M.done)return n(h,T),Me&&jr(h,x),_;if(T===null){for(;!M.done;x++,M=S.next())M=d(h,M.value,E),M!==null&&(w=i(M,w,x),b===null?_=M:b.sibling=M,b=M);return Me&&jr(h,x),_}for(T=r(h,T);!M.done;x++,M=S.next())M=p(T,h,x,M.value,E),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?x:M.key),w=i(M,w,x),b===null?_=M:b.sibling=M,b=M);return t&&T.forEach(function(A){return e(h,A)}),Me&&jr(h,x),_}function y(h,w,S,E){if(typeof S=="object"&&S!==null&&S.type===Co&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ua:e:{for(var _=S.key,b=w;b!==null;){if(b.key===_){if(_=S.type,_===Co){if(b.tag===7){n(h,b.sibling),w=o(b,S.props.children),w.return=h,h=w;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===cr&&xh(_)===b.type){n(h,b.sibling),w=o(b,S.props),w.ref=Ci(h,b,S),w.return=h,h=w;break e}n(h,b);break}else e(h,b);b=b.sibling}S.type===Co?(w=Gr(S.props.children,h.mode,E,S.key),w.return=h,h=w):(E=Ps(S.type,S.key,S.props,null,h.mode,E),E.ref=Ci(h,w,S),E.return=h,h=E)}return a(h);case So:e:{for(b=S.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(h,w.sibling),w=o(w,S.children||[]),w.return=h,h=w;break e}else{n(h,w);break}else e(h,w);w=w.sibling}w=sc(S,h.mode,E),w.return=h,h=w}return a(h);case cr:return b=S._init,y(h,w,b(S._payload),E)}if(Ii(S))return v(h,w,S,E);if(gi(S))return g(h,w,S,E);Za(h,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(h,w.sibling),w=o(w,S),w.return=h,h=w):(n(h,w),w=ac(S,h.mode,E),w.return=h,h=w),a(h)):n(h,w)}return y}var Ko=n0(!0),r0=n0(!1),ol=Ar(null),il=null,Po=null,Rf=null;function Nf(){Rf=Po=il=null}function If(t){var e=ol.current;Pe(ol),t._currentValue=e}function yd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $o(t,e){il=t,Rf=Po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pt=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(Rf!==t)if(t={context:t,memoizedValue:e,next:null},Po===null){if(il===null)throw Error(R(308));Po=t,il.dependencies={lanes:0,firstContext:t}}else Po=Po.next=t;return e}var Wr=null;function Lf(t){Wr===null?Wr=[t]:Wr.push(t)}function o0(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Lf(e)):(n.next=o.next,o.next=n),e.interleaved=n,tr(t,r)}function tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dr=!1;function Af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,tr(t,n)}return o=r.interleaved,o===null?(e.next=e,Lf(r)):(e.next=o.next,o.next=e),r.interleaved=e,tr(t,n)}function bs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cf(t,n)}}function _h(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function al(t,e,n,r){var o=t.updateQueue;dr=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var s=l,u=s.next;s.next=null,a===null?i=u:a.next=u,a=s;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==a&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(i!==null){var d=o.baseState;a=0,c=u=s=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,g=l;switch(f=e,p=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=Fe({},d,f);break e;case 2:dr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,s=d):c=c.next=p,a|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(s=d),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,e=o.shared.interleaved,e!==null){o=e;do a|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);no|=a,t.lanes=a,t.memoizedState=d}}function Th(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(R(191,o));o.call(r)}}}var Oa={},On=Ar(Oa),da=Ar(Oa),fa=Ar(Oa);function Yr(t){if(t===Oa)throw Error(R(174));return t}function Ff(t,e){switch(Te(fa,e),Te(da,t),Te(On,Oa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zc(e,t)}Pe(On),Te(On,e)}function Go(){Pe(On),Pe(da),Pe(fa)}function a0(t){Yr(fa.current);var e=Yr(On.current),n=Zc(e,t.type);e!==n&&(Te(da,t),Te(On,n))}function $f(t){da.current===t&&(Pe(On),Pe(da))}var Ne=Ar(0);function sl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ec=[];function jf(){for(var t=0;t<ec.length;t++)ec[t]._workInProgressVersionPrimary=null;ec.length=0}var xs=ar.ReactCurrentDispatcher,tc=ar.ReactCurrentBatchConfig,to=0,Le=null,Ze=null,rt=null,ll=!1,Ki=!1,pa=0,$C=0;function ht(){throw Error(R(321))}function Vf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mn(t[n],e[n]))return!1;return!0}function Uf(t,e,n,r,o,i){if(to=i,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xs.current=t===null||t.memoizedState===null?BC:HC,t=n(r,o),Ki){i=0;do{if(Ki=!1,pa=0,25<=i)throw Error(R(301));i+=1,rt=Ze=null,e.updateQueue=null,xs.current=WC,t=n(r,o)}while(Ki)}if(xs.current=ul,e=Ze!==null&&Ze.next!==null,to=0,rt=Ze=Le=null,ll=!1,e)throw Error(R(300));return t}function Bf(){var t=pa!==0;return pa=0,t}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Le.memoizedState=rt=t:rt=rt.next=t,rt}function rn(){if(Ze===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=rt===null?Le.memoizedState:rt.next;if(e!==null)rt=e,Ze=t;else{if(t===null)throw Error(R(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},rt===null?Le.memoizedState=rt=t:rt=rt.next=t}return rt}function ha(t,e){return typeof e=="function"?e(t):e}function nc(t){var e=rn(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=Ze,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=a=null,s=null,u=i;do{var c=u.lane;if((to&c)===c)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=d,a=r):s=s.next=d,Le.lanes|=c,no|=c}u=u.next}while(u!==null&&u!==i);s===null?a=r:s.next=l,mn(r,e.memoizedState)||(Pt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=s,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,Le.lanes|=i,no|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rc(t){var e=rn(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=t(i,a.action),a=a.next;while(a!==o);mn(i,e.memoizedState)||(Pt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function s0(){}function l0(t,e){var n=Le,r=rn(),o=e(),i=!mn(r.memoizedState,o);if(i&&(r.memoizedState=o,Pt=!0),r=r.queue,Hf(d0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,ma(9,c0.bind(null,n,r,o,e),void 0,null),at===null)throw Error(R(349));to&30||u0(n,e,o)}return o}function u0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c0(t,e,n,r){e.value=n,e.getSnapshot=r,f0(e)&&p0(t)}function d0(t,e,n){return n(function(){f0(e)&&p0(t)})}function f0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mn(t,n)}catch{return!0}}function p0(t){var e=tr(t,1);e!==null&&hn(e,t,1,-1)}function Dh(t){var e=yn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:t},e.queue=t,t=t.dispatch=UC.bind(null,Le,t),[e.memoizedState,t]}function ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function h0(){return rn().memoizedState}function _s(t,e,n,r){var o=yn();Le.flags|=t,o.memoizedState=ma(1|e,n,void 0,r===void 0?null:r)}function Gl(t,e,n,r){var o=rn();r=r===void 0?null:r;var i=void 0;if(Ze!==null){var a=Ze.memoizedState;if(i=a.destroy,r!==null&&Vf(r,a.deps)){o.memoizedState=ma(e,n,i,r);return}}Le.flags|=t,o.memoizedState=ma(1|e,n,i,r)}function kh(t,e){return _s(8390656,8,t,e)}function Hf(t,e){return Gl(2048,8,t,e)}function m0(t,e){return Gl(4,2,t,e)}function g0(t,e){return Gl(4,4,t,e)}function v0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function y0(t,e,n){return n=n!=null?n.concat([t]):null,Gl(4,4,v0.bind(null,e,t),n)}function Wf(){}function w0(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function S0(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function C0(t,e,n){return to&21?(mn(n,e)||(n=Tv(),Le.lanes|=n,no|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=n)}function jC(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=tc.transition;tc.transition={};try{t(!1),e()}finally{Ee=n,tc.transition=r}}function E0(){return rn().memoizedState}function VC(t,e,n){var r=Dr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},b0(t))x0(e,n);else if(n=o0(t,e,n,r),n!==null){var o=_t();hn(n,t,r,o),_0(n,e,r)}}function UC(t,e,n){var r=Dr(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(b0(t))x0(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(o.hasEagerState=!0,o.eagerState=l,mn(l,a)){var s=e.interleaved;s===null?(o.next=o,Lf(e)):(o.next=s.next,s.next=o),e.interleaved=o;return}}catch{}finally{}n=o0(t,e,o,r),n!==null&&(o=_t(),hn(n,t,r,o),_0(n,e,r))}}function b0(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function x0(t,e){Ki=ll=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cf(t,n)}}var ul={readContext:nn,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},BC={readContext:nn,useCallback:function(t,e){return yn().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:kh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_s(4194308,4,v0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _s(4194308,4,t,e)},useInsertionEffect:function(t,e){return _s(4,2,t,e)},useMemo:function(t,e){var n=yn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VC.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=yn();return t={current:t},e.memoizedState=t},useState:Dh,useDebugValue:Wf,useDeferredValue:function(t){return yn().memoizedState=t},useTransition:function(){var t=Dh(!1),e=t[0];return t=jC.bind(null,t[1]),yn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,o=yn();if(Me){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),at===null)throw Error(R(349));to&30||u0(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,kh(d0.bind(null,r,i,t),[t]),r.flags|=2048,ma(9,c0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=yn(),e=at.identifierPrefix;if(Me){var n=Yn,r=Wn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$C++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HC={readContext:nn,useCallback:w0,useContext:nn,useEffect:Hf,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:S0,useReducer:nc,useRef:h0,useState:function(){return nc(ha)},useDebugValue:Wf,useDeferredValue:function(t){var e=rn();return C0(e,Ze.memoizedState,t)},useTransition:function(){var t=nc(ha)[0],e=rn().memoizedState;return[t,e]},useMutableSource:s0,useSyncExternalStore:l0,useId:E0,unstable_isNewReconciler:!1},WC={readContext:nn,useCallback:w0,useContext:nn,useEffect:Hf,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:S0,useReducer:rc,useRef:h0,useState:function(){return rc(ha)},useDebugValue:Wf,useDeferredValue:function(t){var e=rn();return Ze===null?e.memoizedState=t:C0(e,Ze.memoizedState,t)},useTransition:function(){var t=rc(ha)[0],e=rn().memoizedState;return[t,e]},useMutableSource:s0,useSyncExternalStore:l0,useId:E0,unstable_isNewReconciler:!1};function cn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ql={isMounted:function(t){return(t=t._reactInternals)?co(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_t(),o=Dr(t),i=zn(r,o);i.payload=e,n!=null&&(i.callback=n),e=_r(t,i,o),e!==null&&(hn(e,t,o,r),bs(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_t(),o=Dr(t),i=zn(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=_r(t,i,o),e!==null&&(hn(e,t,o,r),bs(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),r=Dr(t),o=zn(n,r);o.tag=2,e!=null&&(o.callback=e),e=_r(t,o,r),e!==null&&(hn(e,t,r,n),bs(e,t,r))}};function Ph(t,e,n,r,o,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!sa(n,r)||!sa(o,i):!0}function T0(t,e,n){var r=!1,o=Mr,i=e.contextType;return typeof i=="object"&&i!==null?i=nn(i):(o=Mt(e)?Jr:wt.current,r=e.contextTypes,i=(r=r!=null)?zo(t,o):Mr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ql,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function Oh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ql.enqueueReplaceState(e,e.state,null)}function Sd(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},Af(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=nn(i):(i=Mt(e)?Jr:wt.current,o.context=zo(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(wd(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&ql.enqueueReplaceState(o,o.state,null),al(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function qo(t,e){try{var n="",r=e;do n+=yS(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function oc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YC=typeof WeakMap=="function"?WeakMap:Map;function D0(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dl||(dl=!0,Md=r),Cd(t,e)},n}function k0(t,e,n){n=zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Cd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cd(t,e),typeof r!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Mh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YC;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=iE.bind(null,t,e,n),e.then(t,t))}function Rh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nh(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,_r(n,e,1))),n.lanes|=1),t)}var zC=ar.ReactCurrentOwner,Pt=!1;function Ct(t,e,n,r){e.child=t===null?r0(e,null,n,r):Ko(e,t.child,n,r)}function Ih(t,e,n,r,o){n=n.render;var i=e.ref;return $o(e,o),r=Uf(t,e,n,r,i,o),n=Bf(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,nr(t,e,o)):(Me&&n&&Pf(e),e.flags|=1,Ct(t,e,r,o),e.child)}function Lh(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Zf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,P0(t,e,i,r,o)):(t=Ps(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:sa,n(a,r)&&t.ref===e.ref)return nr(t,e,o)}return e.flags|=1,t=kr(i,r),t.ref=e.ref,t.return=e,e.child=t}function P0(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(sa(i,r)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(Pt=!0);else return e.lanes=t.lanes,nr(t,e,o)}return Ed(t,e,n,r,o)}function O0(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Mo,It),It|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Mo,It),It|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Te(Mo,It),It|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Te(Mo,It),It|=r;return Ct(t,e,o,n),e.child}function M0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ed(t,e,n,r,o){var i=Mt(n)?Jr:wt.current;return i=zo(e,i),$o(e,o),n=Uf(t,e,n,r,i,o),r=Bf(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,nr(t,e,o)):(Me&&r&&Pf(e),e.flags|=1,Ct(t,e,n,o),e.child)}function Ah(t,e,n,r,o){if(Mt(n)){var i=!0;tl(e)}else i=!1;if($o(e,o),e.stateNode===null)Ts(t,e),T0(e,n,r),Sd(e,n,r,o),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var s=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=nn(u):(u=Mt(n)?Jr:wt.current,u=zo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||s!==u)&&Oh(e,a,r,u),dr=!1;var f=e.memoizedState;a.state=f,al(e,r,a,o),s=e.memoizedState,l!==r||f!==s||Ot.current||dr?(typeof c=="function"&&(wd(e,n,c,r),s=e.memoizedState),(l=dr||Ph(e,n,l,r,f,s,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,i0(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:cn(e.type,l),a.props=u,d=e.pendingProps,f=a.context,s=n.contextType,typeof s=="object"&&s!==null?s=nn(s):(s=Mt(n)?Jr:wt.current,s=zo(e,s));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||f!==s)&&Oh(e,a,r,s),dr=!1,f=e.memoizedState,a.state=f,al(e,r,a,o);var v=e.memoizedState;l!==d||f!==v||Ot.current||dr?(typeof p=="function"&&(wd(e,n,p,r),v=e.memoizedState),(u=dr||Ph(e,n,u,r,f,v,s)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,s),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,s)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=s,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return bd(t,e,n,r,i,o)}function bd(t,e,n,r,o,i){M0(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return o&&Ch(e,n,!1),nr(t,e,i);r=e.stateNode,zC.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ko(e,t.child,null,i),e.child=Ko(e,null,l,i)):Ct(t,e,l,i),e.memoizedState=r.state,o&&Ch(e,n,!0),e.child}function R0(t){var e=t.stateNode;e.pendingContext?Sh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sh(t,e.context,!1),Ff(t,e.containerInfo)}function Fh(t,e,n,r,o){return Qo(),Mf(o),e.flags|=256,Ct(t,e,n,r),e.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function _d(t){return{baseLanes:t,cachePool:null,transitions:null}}function N0(t,e,n){var r=e.pendingProps,o=Ne.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(o&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Te(Ne,o&1),t===null)return vd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Jl(a,r,0,null),t=Gr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_d(n),e.memoizedState=xd,t):Yf(e,a));if(o=t.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return QC(t,e,a,r,l,o,n);if(i){i=r.fallback,a=e.mode,o=t.child,l=o.sibling;var s={mode:"hidden",children:r.children};return!(a&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=s,e.deletions=null):(r=kr(o,s),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=kr(l,i):(i=Gr(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?_d(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=xd,r}return i=t.child,t=i.sibling,r=kr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yf(t,e){return e=Jl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ja(t,e,n,r){return r!==null&&Mf(r),Ko(e,t.child,null,n),t=Yf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QC(t,e,n,r,o,i,a){if(n)return e.flags&256?(e.flags&=-257,r=oc(Error(R(422))),Ja(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Jl({mode:"visible",children:r.children},o,0,null),i=Gr(i,o,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ko(e,t.child,null,a),e.child.memoizedState=_d(a),e.memoizedState=xd,i);if(!(e.mode&1))return Ja(t,e,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(R(419)),r=oc(i,r,void 0),Ja(t,e,a,r)}if(l=(a&t.childLanes)!==0,Pt||l){if(r=at,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,tr(t,o),hn(r,t,o,-1))}return Xf(),r=oc(Error(R(421))),Ja(t,e,a,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=aE.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,Ft=xr(o.nextSibling),$t=e,Me=!0,fn=null,t!==null&&(Xt[Zt++]=Wn,Xt[Zt++]=Yn,Xt[Zt++]=eo,Wn=t.id,Yn=t.overflow,eo=e),e=Yf(e,r.children),e.flags|=4096,e)}function $h(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yd(t.return,e,n)}function ic(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function I0(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Ct(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$h(t,n,e);else if(t.tag===19)$h(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&sl(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),ic(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&sl(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}ic(e,!0,n,null,i);break;case"together":ic(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ts(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KC(t,e,n){switch(e.tag){case 3:R0(e),Qo();break;case 5:a0(e);break;case 1:Mt(e.type)&&tl(e);break;case 4:Ff(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Te(ol,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?N0(t,e,n):(Te(Ne,Ne.current&1),t=nr(t,e,n),t!==null?t.sibling:null);Te(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return I0(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Te(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,O0(t,e,n)}return nr(t,e,n)}var L0,Td,A0,F0;L0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Td=function(){};A0=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Yr(On.current);var i=null;switch(n){case"input":o=Kc(t,o),r=Kc(t,r),i=[];break;case"select":o=Fe({},o,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":o=Xc(t,o),r=Xc(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Js)}Jc(n,r);var a;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ea.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var s=r[u];if(l=o?.[u],r.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in s)s.hasOwnProperty(a)&&l[a]!==s[a]&&(n||(n={}),n[a]=s[a])}else n||(i||(i=[]),i.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(i=i||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(i=i||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ea.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&ke("scroll",t),i||l===s||(i=[])):(i=i||[]).push(u,s))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};F0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ei(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GC(t,e,n){var r=e.pendingProps;switch(Of(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Mt(e.type)&&el(),mt(e),null;case 3:return r=e.stateNode,Go(),Pe(Ot),Pe(wt),jf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(Id(fn),fn=null))),Td(t,e),mt(e),null;case 5:$f(e);var o=Yr(fa.current);if(n=e.type,t!==null&&e.stateNode!=null)A0(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return mt(e),null}if(t=Yr(On.current),Xa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[xn]=e,r[ca]=i,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<Ai.length;o++)ke(Ai[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Qp(r,i),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ke("invalid",r);break;case"textarea":Gp(r,i),ke("invalid",r)}Jc(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&qa(r.textContent,l,t),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qa(r.textContent,l,t),o=["children",""+l]):ea.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ke("scroll",r)}switch(n){case"input":Ba(r),Kp(r,i,!0);break;case"textarea":Ba(r),qp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Js)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[xn]=e,t[ca]=r,L0(t,e,!1,!1),e.stateNode=t;e:{switch(a=ed(n,r),n){case"dialog":ke("cancel",t),ke("close",t),o=r;break;case"iframe":case"object":case"embed":ke("load",t),o=r;break;case"video":case"audio":for(o=0;o<Ai.length;o++)ke(Ai[o],t);o=r;break;case"source":ke("error",t),o=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),o=r;break;case"details":ke("toggle",t),o=r;break;case"input":Qp(t,r),o=Kc(t,r),ke("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Fe({},r,{value:void 0}),ke("invalid",t);break;case"textarea":Gp(t,r),o=Xc(t,r),ke("invalid",t);break;default:o=r}Jc(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var s=l[i];i==="style"?hv(t,s):i==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&fv(t,s)):i==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&ta(t,s):typeof s=="number"&&ta(t,""+s):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ea.hasOwnProperty(i)?s!=null&&i==="onScroll"&&ke("scroll",t):s!=null&&mf(t,i,s,a))}switch(n){case"input":Ba(t),Kp(t,r,!1);break;case"textarea":Ba(t),qp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Or(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Io(t,!!r.multiple,i,!1):r.defaultValue!=null&&Io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)F0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=Yr(fa.current),Yr(On.current),Xa(e)){if(r=e.stateNode,n=e.memoizedProps,r[xn]=e,(i=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:qa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=e,e.stateNode=r}return mt(e),null;case 13:if(Pe(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Ft!==null&&e.mode&1&&!(e.flags&128))t0(),Qo(),e.flags|=98560,i=!1;else if(i=Xa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(R(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[xn]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),i=!1}else fn!==null&&(Id(fn),fn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?Je===0&&(Je=3):Xf())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return Go(),Td(t,e),t===null&&la(e.stateNode.containerInfo),mt(e),null;case 10:return If(e.type._context),mt(e),null;case 17:return Mt(e.type)&&el(),mt(e),null;case 19:if(Pe(Ne),i=e.memoizedState,i===null)return mt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ei(i,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sl(t),a!==null){for(e.flags|=128,Ei(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(Ne,Ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&He()>Xo&&(e.flags|=128,r=!0,Ei(i,!1),e.lanes=4194304)}else{if(!r)if(t=sl(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ei(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Me)return mt(e),null}else 2*He()-i.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,Ei(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=He(),e.sibling=null,n=Ne.current,Te(Ne,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return qf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?It&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function qC(t,e){switch(Of(e),e.tag){case 1:return Mt(e.type)&&el(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(),Pe(Ot),Pe(wt),jf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $f(e),null;case 13:if(Pe(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Ne),null;case 4:return Go(),null;case 10:return If(e.type._context),null;case 22:case 23:return qf(),null;case 24:return null;default:return null}}var es=!1,vt=!1,XC=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function Dd(t,e,n){try{n()}catch(r){je(t,e,r)}}var jh=!1;function ZC(t,e){if(cd=qs,t=Bv(),kf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,s=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||o!==0&&d.nodeType!==3||(l=a+o),d!==i||r!==0&&d.nodeType!==3||(s=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===o&&(l=a),f===i&&++c===r&&(s=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(dd={focusedElem:t,selectionRange:n},qs=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,h=e.stateNode,w=h.getSnapshotBeforeUpdate(e.elementType===e.type?g:cn(e.type,g),y);h.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(E){je(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return v=jh,jh=!1,v}function Gi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Dd(e,n,i)}o=o.next}while(o!==r)}}function Xl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $0(t){var e=t.alternate;e!==null&&(t.alternate=null,$0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xn],delete e[ca],delete e[hd],delete e[IC],delete e[LC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function j0(t){return t.tag===5||t.tag===3||t.tag===4}function Vh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||j0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Js));else if(r!==4&&(t=t.child,t!==null))for(Pd(t,e,n),t=t.sibling;t!==null;)Pd(t,e,n),t=t.sibling}function Od(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Od(t,e,n),t=t.sibling;t!==null;)Od(t,e,n),t=t.sibling}var ut=null,dn=!1;function lr(t,e,n){for(n=n.child;n!==null;)V0(t,e,n),n=n.sibling}function V0(t,e,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Hl,n)}catch{}switch(n.tag){case 5:vt||Oo(n,e);case 6:var r=ut,o=dn;ut=null,lr(t,e,n),ut=r,dn=o,ut!==null&&(dn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(dn?(t=ut,n=n.stateNode,t.nodeType===8?Zu(t.parentNode,n):t.nodeType===1&&Zu(t,n),ia(t)):Zu(ut,n.stateNode));break;case 4:r=ut,o=dn,ut=n.stateNode.containerInfo,dn=!0,lr(t,e,n),ut=r,dn=o;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Dd(n,e,a),o=o.next}while(o!==r)}lr(t,e,n);break;case 1:if(!vt&&(Oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){je(n,e,l)}lr(t,e,n);break;case 21:lr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,lr(t,e,n),vt=r):lr(t,e,n);break;default:lr(t,e,n)}}function Uh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XC),e.forEach(function(r){var o=sE.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:ut=l.stateNode,dn=!1;break e;case 3:ut=l.stateNode.containerInfo,dn=!0;break e;case 4:ut=l.stateNode.containerInfo,dn=!0;break e}l=l.return}if(ut===null)throw Error(R(160));V0(i,a,o),ut=null,dn=!1;var s=o.alternate;s!==null&&(s.return=null),o.return=null}catch(u){je(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U0(e,t),e=e.sibling}function U0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(e,t),vn(t),r&4){try{Gi(3,t,t.return),Xl(3,t)}catch(g){je(t,t.return,g)}try{Gi(5,t,t.return)}catch(g){je(t,t.return,g)}}break;case 1:ln(e,t),vn(t),r&512&&n!==null&&Oo(n,n.return);break;case 5:if(ln(e,t),vn(t),r&512&&n!==null&&Oo(n,n.return),t.flags&32){var o=t.stateNode;try{ta(o,"")}catch(g){je(t,t.return,g)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,s=t.updateQueue;if(t.updateQueue=null,s!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&uv(o,i),ed(l,a);var u=ed(l,i);for(a=0;a<s.length;a+=2){var c=s[a],d=s[a+1];c==="style"?hv(o,d):c==="dangerouslySetInnerHTML"?fv(o,d):c==="children"?ta(o,d):mf(o,c,d,u)}switch(l){case"input":Gc(o,i);break;case"textarea":cv(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Io(o,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Io(o,!!i.multiple,i.defaultValue,!0):Io(o,!!i.multiple,i.multiple?[]:"",!1))}o[ca]=i}catch(g){je(t,t.return,g)}}break;case 6:if(ln(e,t),vn(t),r&4){if(t.stateNode===null)throw Error(R(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(g){je(t,t.return,g)}}break;case 3:if(ln(e,t),vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ia(e.containerInfo)}catch(g){je(t,t.return,g)}break;case 4:ln(e,t),vn(t);break;case 13:ln(e,t),vn(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Kf=He())),r&4&&Uh(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(u=vt)||c,ln(e,t),vt=u):ln(e,t),vn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Y=t,c=t.child;c!==null;){for(d=Y=c;Y!==null;){switch(f=Y,p=f.child,f.tag){case 0:case 11:case 14:case 15:Gi(4,f,f.return);break;case 1:Oo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){je(r,n,g)}}break;case 5:Oo(f,f.return);break;case 22:if(f.memoizedState!==null){Hh(d);continue}}p!==null?(p.return=f,Y=p):Hh(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,s=d.memoizedProps.style,a=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=pv("display",a))}catch(g){je(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){je(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ln(e,t),vn(t),r&4&&Uh(t);break;case 21:break;default:ln(e,t),vn(t)}}function vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(j0(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ta(o,""),r.flags&=-33);var i=Vh(t);Od(t,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Vh(t);Pd(t,l,a);break;default:throw Error(R(161))}}catch(s){je(t,t.return,s)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JC(t,e,n){Y=t,B0(t)}function B0(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var o=Y,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||es;if(!a){var l=o.alternate,s=l!==null&&l.memoizedState!==null||vt;l=es;var u=vt;if(es=a,(vt=s)&&!u)for(Y=o;Y!==null;)a=Y,s=a.child,a.tag===22&&a.memoizedState!==null?Wh(o):s!==null?(s.return=a,Y=s):Wh(o);for(;i!==null;)Y=i,B0(i),i=i.sibling;Y=o,es=l,vt=u}Bh(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Y=i):Bh(t)}}function Bh(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Xl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:cn(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Th(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Th(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var s=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ia(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}vt||e.flags&512&&kd(e)}catch(f){je(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Hh(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Wh(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xl(4,e)}catch(s){je(e,n,s)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(s){je(e,o,s)}}var i=e.return;try{kd(e)}catch(s){je(e,i,s)}break;case 5:var a=e.return;try{kd(e)}catch(s){je(e,a,s)}}}catch(s){je(e,e.return,s)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var eE=Math.ceil,cl=ar.ReactCurrentDispatcher,zf=ar.ReactCurrentOwner,tn=ar.ReactCurrentBatchConfig,fe=0,at=null,Qe=null,ft=0,It=0,Mo=Ar(0),Je=0,ga=null,no=0,Zl=0,Qf=0,qi=null,kt=null,Kf=0,Xo=1/0,Un=null,dl=!1,Md=null,Tr=null,ts=!1,yr=null,fl=0,Xi=0,Rd=null,Ds=-1,ks=0;function _t(){return fe&6?He():Ds!==-1?Ds:Ds=He()}function Dr(t){return t.mode&1?fe&2&&ft!==0?ft&-ft:FC.transition!==null?(ks===0&&(ks=Tv()),ks):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:Nv(t.type)),t):1}function hn(t,e,n,r){if(50<Xi)throw Xi=0,Rd=null,Error(R(185));Da(t,n,r),(!(fe&2)||t!==at)&&(t===at&&(!(fe&2)&&(Zl|=n),Je===4&&hr(t,ft)),Rt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Xo=He()+500,Kl&&Fr()))}function Rt(t,e){var n=t.callbackNode;FS(t,e);var r=Gs(t,t===at?ft:0);if(r===0)n!==null&&Jp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jp(n),e===1)t.tag===0?AC(Yh.bind(null,t)):Zv(Yh.bind(null,t)),RC(function(){!(fe&6)&&Fr()}),n=null;else{switch(Dv(r)){case 1:n=Sf;break;case 4:n=xv;break;case 16:n=Ks;break;case 536870912:n=_v;break;default:n=Ks}n=q0(n,H0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function H0(t,e){if(Ds=-1,ks=0,fe&6)throw Error(R(327));var n=t.callbackNode;if(jo()&&t.callbackNode!==n)return null;var r=Gs(t,t===at?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pl(t,r);else{e=r;var o=fe;fe|=2;var i=Y0();(at!==t||ft!==e)&&(Un=null,Xo=He()+500,Kr(t,e));do try{rE();break}catch(l){W0(t,l)}while(!0);Nf(),cl.current=i,fe=o,Qe!==null?e=0:(at=null,ft=0,e=Je)}if(e!==0){if(e===2&&(o=id(t),o!==0&&(r=o,e=Nd(t,o))),e===1)throw n=ga,Kr(t,0),hr(t,r),Rt(t,He()),n;if(e===6)hr(t,r);else{if(o=t.current.alternate,!(r&30)&&!tE(o)&&(e=pl(t,r),e===2&&(i=id(t),i!==0&&(r=i,e=Nd(t,i))),e===1))throw n=ga,Kr(t,0),hr(t,r),Rt(t,He()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:Vr(t,kt,Un);break;case 3:if(hr(t,r),(r&130023424)===r&&(e=Kf+500-He(),10<e)){if(Gs(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){_t(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=pd(Vr.bind(null,t,kt,Un),e);break}Vr(t,kt,Un);break;case 4:if(hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var a=31-pn(r);i=1<<a,a=e[a],a>o&&(o=a),r&=~i}if(r=o,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eE(r/1960))-r,10<r){t.timeoutHandle=pd(Vr.bind(null,t,kt,Un),r);break}Vr(t,kt,Un);break;case 5:Vr(t,kt,Un);break;default:throw Error(R(329))}}}return Rt(t,He()),t.callbackNode===n?H0.bind(null,t):null}function Nd(t,e){var n=qi;return t.current.memoizedState.isDehydrated&&(Kr(t,e).flags|=256),t=pl(t,e),t!==2&&(e=kt,kt=n,e!==null&&Id(e)),t}function Id(t){kt===null?kt=t:kt.push.apply(kt,t)}function tE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!mn(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hr(t,e){for(e&=~Qf,e&=~Zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pn(e),r=1<<n;t[n]=-1,e&=~r}}function Yh(t){if(fe&6)throw Error(R(327));jo();var e=Gs(t,0);if(!(e&1))return Rt(t,He()),null;var n=pl(t,e);if(t.tag!==0&&n===2){var r=id(t);r!==0&&(e=r,n=Nd(t,r))}if(n===1)throw n=ga,Kr(t,0),hr(t,e),Rt(t,He()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vr(t,kt,Un),Rt(t,He()),null}function Gf(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Xo=He()+500,Kl&&Fr())}}function ro(t){yr!==null&&yr.tag===0&&!(fe&6)&&jo();var e=fe;fe|=1;var n=tn.transition,r=Ee;try{if(tn.transition=null,Ee=1,t)return t()}finally{Ee=r,tn.transition=n,fe=e,!(fe&6)&&Fr()}}function qf(){It=Mo.current,Pe(Mo)}function Kr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MC(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(Of(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&el();break;case 3:Go(),Pe(Ot),Pe(wt),jf();break;case 5:$f(r);break;case 4:Go();break;case 13:Pe(Ne);break;case 19:Pe(Ne);break;case 10:If(r.type._context);break;case 22:case 23:qf()}n=n.return}if(at=t,Qe=t=kr(t.current,null),ft=It=e,Je=0,ga=null,Qf=Zl=no=0,kt=qi=null,Wr!==null){for(e=0;e<Wr.length;e++)if(n=Wr[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}Wr=null}return t}function W0(t,e){do{var n=Qe;try{if(Nf(),xs.current=ul,ll){for(var r=Le.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ll=!1}if(to=0,rt=Ze=Le=null,Ki=!1,pa=0,zf.current=null,n===null||n.return===null){Je=1,ga=e,Qe=null;break}e:{var i=t,a=n.return,l=n,s=e;if(e=ft,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Rh(a);if(p!==null){p.flags&=-257,Nh(p,a,l,i,e),p.mode&1&&Mh(i,u,e),e=p,s=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(s),e.updateQueue=g}else v.add(s);break e}else{if(!(e&1)){Mh(i,u,e),Xf();break e}s=Error(R(426))}}else if(Me&&l.mode&1){var y=Rh(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Nh(y,a,l,i,e),Mf(qo(s,l));break e}}i=s=qo(s,l),Je!==4&&(Je=2),qi===null?qi=[i]:qi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var h=D0(i,s,e);_h(i,h);break e;case 1:l=s;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Tr===null||!Tr.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=k0(i,l,e);_h(i,E);break e}}i=i.return}while(i!==null)}Q0(n)}catch(_){e=_,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function Y0(){var t=cl.current;return cl.current=ul,t===null?ul:t}function Xf(){(Je===0||Je===3||Je===2)&&(Je=4),at===null||!(no&268435455)&&!(Zl&268435455)||hr(at,ft)}function pl(t,e){var n=fe;fe|=2;var r=Y0();(at!==t||ft!==e)&&(Un=null,Kr(t,e));do try{nE();break}catch(o){W0(t,o)}while(!0);if(Nf(),fe=n,cl.current=r,Qe!==null)throw Error(R(261));return at=null,ft=0,Je}function nE(){for(;Qe!==null;)z0(Qe)}function rE(){for(;Qe!==null&&!kS();)z0(Qe)}function z0(t){var e=G0(t.alternate,t,It);t.memoizedProps=t.pendingProps,e===null?Q0(t):Qe=e,zf.current=null}function Q0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qC(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,Qe=null;return}}else if(n=GC(n,e,It),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);Je===0&&(Je=5)}function Vr(t,e,n){var r=Ee,o=tn.transition;try{tn.transition=null,Ee=1,oE(t,e,n,r)}finally{tn.transition=o,Ee=r}return null}function oE(t,e,n,r){do jo();while(yr!==null);if(fe&6)throw Error(R(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($S(t,i),t===at&&(Qe=at=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ts||(ts=!0,q0(Ks,function(){return jo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tn.transition,tn.transition=null;var a=Ee;Ee=1;var l=fe;fe|=4,zf.current=null,ZC(t,n),U0(n,t),xC(dd),qs=!!cd,dd=cd=null,t.current=n,JC(n),PS(),fe=l,Ee=a,tn.transition=i}else t.current=n;if(ts&&(ts=!1,yr=t,fl=o),i=t.pendingLanes,i===0&&(Tr=null),RS(n.stateNode),Rt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(dl)throw dl=!1,t=Md,Md=null,t;return fl&1&&t.tag!==0&&jo(),i=t.pendingLanes,i&1?t===Rd?Xi++:(Xi=0,Rd=t):Xi=0,Fr(),null}function jo(){if(yr!==null){var t=Dv(fl),e=tn.transition,n=Ee;try{if(tn.transition=null,Ee=16>t?16:t,yr===null)var r=!1;else{if(t=yr,yr=null,fl=0,fe&6)throw Error(R(331));var o=fe;for(fe|=4,Y=t.current;Y!==null;){var i=Y,a=i.child;if(Y.flags&16){var l=i.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:Gi(8,c,i)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var f=c.sibling,p=c.return;if($0(c),c===u){Y=null;break}if(f!==null){f.return=p,Y=f;break}Y=p}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Y=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Y=a;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gi(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,Y=h;break e}Y=i.return}}var w=t.current;for(Y=w;Y!==null;){a=Y;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Y=S;else e:for(a=w;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xl(9,l)}}catch(_){je(l,l.return,_)}if(l===a){Y=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Y=E;break e}Y=l.return}}if(fe=o,Fr(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Hl,t)}catch{}r=!0}return r}finally{Ee=n,tn.transition=e}}return!1}function zh(t,e,n){e=qo(n,e),e=D0(t,e,1),t=_r(t,e,1),e=_t(),t!==null&&(Da(t,1,e),Rt(t,e))}function je(t,e,n){if(t.tag===3)zh(t,t,n);else for(;e!==null;){if(e.tag===3){zh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tr===null||!Tr.has(r))){t=qo(n,t),t=k0(e,t,1),e=_r(e,t,1),t=_t(),e!==null&&(Da(e,1,t),Rt(e,t));break}}e=e.return}}function iE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(ft&n)===n&&(Je===4||Je===3&&(ft&130023424)===ft&&500>He()-Kf?Kr(t,0):Qf|=n),Rt(t,e)}function K0(t,e){e===0&&(t.mode&1?(e=Ya,Ya<<=1,!(Ya&130023424)&&(Ya=4194304)):e=1);var n=_t();t=tr(t,e),t!==null&&(Da(t,e,n),Rt(t,n))}function aE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K0(t,n)}function sE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),K0(t,n)}var G0;G0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)Pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pt=!1,KC(t,e,n);Pt=!!(t.flags&131072)}else Pt=!1,Me&&e.flags&1048576&&Jv(e,rl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ts(t,e),t=e.pendingProps;var o=zo(e,wt.current);$o(e,n),o=Uf(null,e,r,t,o,n);var i=Bf();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(r)?(i=!0,tl(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Af(e),o.updater=ql,e.stateNode=o,o._reactInternals=e,Sd(e,r,t,n),e=bd(null,e,r,!0,i,n)):(e.tag=0,Me&&i&&Pf(e),Ct(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ts(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=uE(r),t=cn(r,t),o){case 0:e=Ed(null,e,r,t,n);break e;case 1:e=Ah(null,e,r,t,n);break e;case 11:e=Ih(null,e,r,t,n);break e;case 14:e=Lh(null,e,r,cn(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:cn(r,o),Ed(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:cn(r,o),Ah(t,e,r,o,n);case 3:e:{if(R0(e),t===null)throw Error(R(387));r=e.pendingProps,i=e.memoizedState,o=i.element,i0(t,e),al(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=qo(Error(R(423)),e),e=Fh(t,e,r,n,o);break e}else if(r!==o){o=qo(Error(R(424)),e),e=Fh(t,e,r,n,o);break e}else for(Ft=xr(e.stateNode.containerInfo.firstChild),$t=e,Me=!0,fn=null,n=r0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),r===o){e=nr(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return a0(e),t===null&&vd(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,a=o.children,fd(r,o)?a=null:i!==null&&fd(r,i)&&(e.flags|=32),M0(t,e),Ct(t,e,a,n),e.child;case 6:return t===null&&vd(e),null;case 13:return N0(t,e,n);case 4:return Ff(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:cn(r,o),Ih(t,e,r,o,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,a=o.value,Te(ol,r._currentValue),r._currentValue=a,i!==null)if(mn(i.value,a)){if(i.children===o.children&&!Ot.current){e=nr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(i.tag===1){s=zn(-1,n&-n),s.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?s.next=s:(s.next=c.next,c.next=s),u.pending=s}}i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),yd(i.return,n,e),l.lanes|=n;break}s=s.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(R(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),yd(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ct(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,$o(e,n),o=nn(o),r=r(o),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,o=cn(r,e.pendingProps),o=cn(r.type,o),Lh(t,e,r,o,n);case 15:return P0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:cn(r,o),Ts(t,e),e.tag=1,Mt(r)?(t=!0,tl(e)):t=!1,$o(e,n),T0(e,r,o),Sd(e,r,o,n),bd(null,e,r,!0,t,n);case 19:return I0(t,e,n);case 22:return O0(t,e,n)}throw Error(R(156,e.tag))};function q0(t,e){return bv(t,e)}function lE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(t,e,n,r){return new lE(t,e,n,r)}function Zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uE(t){if(typeof t=="function")return Zf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vf)return 11;if(t===yf)return 14}return 2}function kr(t,e){var n=t.alternate;return n===null?(n=en(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ps(t,e,n,r,o,i){var a=2;if(r=t,typeof t=="function")Zf(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Co:return Gr(n.children,o,i,e);case gf:a=8,o|=8;break;case Wc:return t=en(12,n,e,o|2),t.elementType=Wc,t.lanes=i,t;case Yc:return t=en(13,n,e,o),t.elementType=Yc,t.lanes=i,t;case zc:return t=en(19,n,e,o),t.elementType=zc,t.lanes=i,t;case av:return Jl(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ov:a=10;break e;case iv:a=9;break e;case vf:a=11;break e;case yf:a=14;break e;case cr:a=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=en(a,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Gr(t,e,n,r){return t=en(7,t,r,e),t.lanes=n,t}function Jl(t,e,n,r){return t=en(22,t,r,e),t.elementType=av,t.lanes=n,t.stateNode={isHidden:!1},t}function ac(t,e,n){return t=en(6,t,null,e),t.lanes=n,t}function sc(t,e,n){return e=en(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cE(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uu(0),this.expirationTimes=Uu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uu(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Jf(t,e,n,r,o,i,a,l,s){return t=new cE(t,e,n,l,s),e===1?(e=1,i===!0&&(e|=8)):e=0,i=en(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Af(i),t}function dE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X0(t){if(!t)return Mr;t=t._reactInternals;e:{if(co(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(Mt(n))return Xv(t,n,e)}return e}function Z0(t,e,n,r,o,i,a,l,s){return t=Jf(n,r,!0,t,o,i,a,l,s),t.context=X0(null),n=t.current,r=_t(),o=Dr(n),i=zn(r,o),i.callback=e??null,_r(n,i,o),t.current.lanes=o,Da(t,o,r),Rt(t,r),t}function eu(t,e,n,r){var o=e.current,i=_t(),a=Dr(o);return n=X0(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_r(o,e,a),t!==null&&(hn(t,o,a,i),bs(t,o,a)),a}function hl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ep(t,e){Qh(t,e),(t=t.alternate)&&Qh(t,e)}function fE(){return null}var J0=typeof reportError=="function"?reportError:function(t){console.error(t)};function tp(t){this._internalRoot=t}tu.prototype.render=tp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));eu(t,e,null,null)};tu.prototype.unmount=tp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){eu(null,t,null,null)}),e[er]=null}};function tu(t){this._internalRoot=t}tu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ov();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pr.length&&e!==0&&e<pr[n].priority;n++);pr.splice(n,0,t),n===0&&Rv(t)}};function np(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kh(){}function pE(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=hl(a);i.call(u)}}var a=Z0(e,r,t,0,null,!1,!1,"",Kh);return t._reactRootContainer=a,t[er]=a.current,la(t.nodeType===8?t.parentNode:t),ro(),a}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=hl(s);l.call(u)}}var s=Jf(t,0,!1,null,null,!1,!1,"",Kh);return t._reactRootContainer=s,t[er]=s.current,la(t.nodeType===8?t.parentNode:t),ro(function(){eu(e,s,n,r)}),s}function ru(t,e,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var l=o;o=function(){var s=hl(a);l.call(s)}}eu(e,a,t,o)}else a=pE(n,e,t,o,r);return hl(a)}kv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Li(e.pendingLanes);n!==0&&(Cf(e,n|1),Rt(e,He()),!(fe&6)&&(Xo=He()+500,Fr()))}break;case 13:ro(function(){var r=tr(t,1);if(r!==null){var o=_t();hn(r,t,1,o)}}),ep(t,1)}};Ef=function(t){if(t.tag===13){var e=tr(t,134217728);if(e!==null){var n=_t();hn(e,t,134217728,n)}ep(t,134217728)}};Pv=function(t){if(t.tag===13){var e=Dr(t),n=tr(t,e);if(n!==null){var r=_t();hn(n,t,e,r)}ep(t,e)}};Ov=function(){return Ee};Mv=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};nd=function(t,e,n){switch(e){case"input":if(Gc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Ql(r);if(!o)throw Error(R(90));lv(r),Gc(r,o)}}}break;case"textarea":cv(t,n);break;case"select":e=n.value,e!=null&&Io(t,!!n.multiple,e,!1)}};vv=Gf;yv=ro;var hE={usingClientEntryPoint:!1,Events:[Pa,_o,Ql,mv,gv,Gf]},bi={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mE={bundleType:bi.bundleType,version:bi.version,rendererPackageName:bi.rendererPackageName,rendererConfig:bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cv(t),t===null?null:t.stateNode},findFiberByHostInstance:bi.findFiberByHostInstance||fE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ns.isDisabled&&ns.supportsFiber)try{Hl=ns.inject(mE),Pn=ns}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hE;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!np(e))throw Error(R(200));return dE(t,e,null,n)};Ht.createRoot=function(t,e){if(!np(t))throw Error(R(299));var n=!1,r="",o=J0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Jf(t,1,!1,null,null,n,!1,r,o),t[er]=e.current,la(t.nodeType===8?t.parentNode:t),new tp(e)};Ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Cv(e),t=t===null?null:t.stateNode,t};Ht.flushSync=function(t){return ro(t)};Ht.hydrate=function(t,e,n){if(!nu(e))throw Error(R(200));return ru(null,t,e,!0,n)};Ht.hydrateRoot=function(t,e,n){if(!np(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=J0;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Z0(e,null,t,1,n??null,o,!1,i,a),t[er]=e.current,la(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new tu(e)};Ht.render=function(t,e,n){if(!nu(e))throw Error(R(200));return ru(null,t,e,!1,n)};Ht.unmountComponentAtNode=function(t){if(!nu(t))throw Error(R(40));return t._reactRootContainer?(ro(function(){ru(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1};Ht.unstable_batchedUpdates=Gf;Ht.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nu(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return ru(t,e,n,!1,r)};Ht.version="18.3.1-next-f1338f8080-20240426";function ey(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ey)}catch(t){console.error(t)}}ey(),ev.exports=Ht;var ou=ev.exports;const gE=_a(ou);var ty,Gh=ou;ty=Gh.createRoot,Gh.hydrateRoot;var ve=(t=>(t.MASK="mask",t.AMBIENT="ambient",t))(ve||{});const ot={defaultAmbientPurgeDuration:4,defaultAmbientSampleDuration:5,defaultMaskPurgeDuration:4,defaultMaskSampleDuration:40};function vE(t){return typeof t=="string"?t:t.instructions??t.i??t.instructions??t.i??"oops no instructions?!"}function yE(t){return typeof t=="string"?ot.defaultAmbientSampleDuration:t.ambient_sample??t.as??t.ambient_duration??t.a??ot.defaultAmbientSampleDuration}function wE(t){return typeof t=="string"?ot.defaultMaskSampleDuration:t.mask_sample??t.ms??t.sample_duration??t.s??ot.defaultMaskSampleDuration}function SE(t){if(typeof t=="string")return ot.defaultAmbientPurgeDuration;let e;return(e=t.ambient_purge)!==void 0||(e=t.ap)!==void 0||(e=t.purge_duration)!==void 0||(e=t.p)!==void 0?e:t.ambient_duration===0||t.a===0?0:ot.defaultAmbientPurgeDuration}function CE(t){if(typeof t=="string")return ot.defaultMaskPurgeDuration;let e;return(e=t.mask_purge)!==void 0||(e=t.mp)!==void 0||(e=t.purge_duration)!==void 0||(e=t.p)!==void 0?e:t.sample_duration===0||t.s===0?0:ot.defaultMaskPurgeDuration}function EE(t){return t.some(e=>typeof e!="string")}function bE(t){const e={};return Object.entries(t).forEach(([n,r])=>{const o=[];e[n]=o,r.forEach(i=>{o.push({instructions:vE(i),ambient_sample:yE(i),mask_sample:wE(i),ambient_purge:SE(i),mask_purge:CE(i)})}),EE(r)||o.push({instructions:"Finalizing",ambient_purge:ot.defaultAmbientPurgeDuration,ambient_sample:ot.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0})}),e}var ne={},Zo={};/**
 * @license MIT
 * doc-path <https://github.com/mrodrig/doc-path>
 * Copyright (c) 2015-present, Michael Rodrigues.
 */Object.defineProperty(Zo,"__esModule",{value:!0});Zo.setPath=Zo.evaluatePath=void 0;function Fi(t,e){if(!t)return null;const{dotIndex:n,key:r,remaining:o}=ml(e),i=typeof t=="object"&&e in t?t[e]:void 0,a=typeof t=="object"&&r in t?t[r]:void 0;if(n>=0&&typeof t=="object"&&!(e in t)){const{key:l}=ml(o),s=parseInt(l);return Array.isArray(a)&&isNaN(s)?a.map(u=>Fi(u,o)):Fi(a,o)}else if(Array.isArray(t)){const l=parseInt(r);return e===r&&n===-1&&!isNaN(l)?a:t.map(s=>Fi(s,e))}else{if(n>=0&&e!==r&&typeof t=="object"&&r in t)return Fi(a,o);if(n===-1&&typeof t=="object"&&r in t&&!(e in t))return a}return i}Zo.evaluatePath=Fi;function xE(t,e,n){if(t){if(!e)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return $i(t,e,n)}Zo.setPath=xE;function $i(t,e,n){const{dotIndex:r,key:o,remaining:i}=ml(e);if(e.startsWith("__proto__")||e.startsWith("constructor")||e.startsWith("prototype"))return t;if(r>=0){const a=parseInt(o);if(typeof t=="object"&&t!==null&&!(o in t)&&Array.isArray(t)&&!isNaN(a))return t[o]=t[o]??{},$i(t[o],i,n),t;if(typeof t=="object"&&t!==null&&!(o in t)&&Array.isArray(t))return t.forEach(l=>$i(l,e,n)),t;if(typeof t=="object"&&t!==null&&!(o in t)&&!Array.isArray(t)){const{key:l}=ml(i),s=parseInt(l);if(!isNaN(s))t[o]=[];else{if(i==="")return t[e]=n,t;t[o]={}}}$i(t[o],i,n)}else if(Array.isArray(t)){const a=parseInt(o);return e===o&&r===-1&&!isNaN(a)?(t[o]=n,t):(t.forEach(l=>$i(l,i,n)),t)}else t[o]=n;return t}function ml(t){const e=_E(t);return{dotIndex:e,key:t.slice(0,e>=0?e:void 0).replace(/\\./g,"."),remaining:t.slice(e+1)}}function _E(t){for(let e=0;e<t.length;e++){const n=e>0?t[e-1]:"";if(t[e]==="."&&n!=="\\")return e}return-1}var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.excelBOM=Dn.defaultCsv2JsonOptions=Dn.defaultJson2CsvOptions=Dn.errors=void 0;Dn.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}};Dn.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1};Dn.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1};Dn.excelBOM="\uFEFF";Object.defineProperty(ne,"__esModule",{value:!0});ne.isInvalid=ne.flatten=ne.unique=ne.arrayDifference=ne.isError=ay=ne.isUndefined=oy=ne.isNull=ne.isObject=ne.isString=ne.isNumber=ne.unwind=ne.getNCharacters=ne.removeEmptyFields=ne.isEmptyField=ne.computeSchemaDifferences=ne.isDateRepresentation=ne.isStringRepresentation=Jo=ne.deepCopy=ne.validate=ne.buildC2JOptions=ne.buildJ2COptions=void 0;const lc=Zo,wr=Dn,TE=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,uc=1e5;function DE(t){return{...wr.defaultJson2CsvOptions,...t,delimiter:{field:t?.delimiter?.field??wr.defaultJson2CsvOptions.delimiter.field,wrap:t?.delimiter?.wrap||wr.defaultJson2CsvOptions.delimiter.wrap,eol:t?.delimiter?.eol||wr.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:Object.create({})}}ne.buildJ2COptions=DE;function kE(t){return{...wr.defaultCsv2JsonOptions,...t,delimiter:{field:t?.delimiter?.field??wr.defaultCsv2JsonOptions.delimiter.field,wrap:t?.delimiter?.wrap||wr.defaultCsv2JsonOptions.delimiter.wrap,eol:t?.delimiter?.eol||wr.defaultCsv2JsonOptions.delimiter.eol}}}ne.buildC2JOptions=kE;function PE(t,e,n){if(!t)throw new Error(`${n.cannotCallOn} ${t}.`);if(!e(t))throw new Error(n.dataCheckFailure);return!0}ne.validate=PE;function Ld(t){return JSON.parse(JSON.stringify(t))}var Jo=ne.deepCopy=Ld;function OE(t,e){const n=t[0],r=t.length-1,o=t[r];return n===e.delimiter.wrap&&o===e.delimiter.wrap}ne.isStringRepresentation=OE;function ME(t){return TE.test(t)}ne.isDateRepresentation=ME;function RE(t,e){return Ad(t,e).concat(Ad(e,t))}ne.computeSchemaDifferences=RE;function ny(t){return iy(t)||ry(t)||t===""}ne.isEmptyField=ny;function NE(t){return t.filter(e=>!ny(e))}ne.removeEmptyFields=NE;function IE(t,e,n){return t.substring(e,e+n)}ne.getNCharacters=IE;function LE(t,e,n){const r=(0,lc.evaluatePath)(e,n);let o=Ld(e);Array.isArray(r)&&r.length?r.forEach(i=>{o=Ld(e),t.push((0,lc.setPath)(o,n,i))}):(Array.isArray(r)&&r.length===0&&(0,lc.setPath)(o,n,""),t.push(o))}function AE(t,e){const n=[];return t.forEach(r=>{LE(n,r,e)}),n}ne.unwind=AE;function FE(t){return!isNaN(Number(t))}ne.isNumber=FE;function $E(t){return typeof t=="string"}ne.isString=$E;function jE(t){return typeof t=="object"}ne.isObject=jE;function ry(t){return t===null}var oy=ne.isNull=ry;function iy(t){return typeof t>"u"}var ay=ne.isUndefined=iy;function VE(t){return Object.prototype.toString.call(t)==="[object Error]"}ne.isError=VE;function Ad(t,e){return t.filter(n=>!e.includes(n))}ne.arrayDifference=Ad;function UE(t){return[...new Set(t)]}ne.unique=UE;function BE(t){if(t.flat)return t.flat();if(t.length>uc){let e=[];for(let n=0;n<t.length;n+=uc)e=e.concat(...t.slice(n,n+uc));return e}return t.reduce((e,n)=>e.concat(n),[])}ne.flatten=BE;function HE(t){return t===1/0||t===-1/0}ne.isInvalid=HE;var dt=(t=>(t.DISCONNECTED="Disconnected",t.WAITING="Waiting for PortaCount",t.RECEIVING="Receiving data",t))(dt||{});function Ve(t,e=!1,n=!0){const r=Math.abs(t),o=Math.round(r%1e3),i=Math.floor(r/1e3),a=i%60,l=Math.floor(i/60),s=l%60,u=Math.floor(l/60),c=n?`:${a.toString().padStart(2,"0")}`:"",d=e&&n&&o>0?`.${o.toString().padStart(3,"0")}`:"",f=u||!n;return`${t<0?"-":""}${f?`${u}:`:""}${s.toString().padStart(f?2:1,"0")}${c}${d}`}function WE(t,e=!1){return`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}${e?`:${t.getSeconds().toString().padStart(2,"0")}`:""}`}function HI(t){const e=100*(1-1/t);return Number(e).toFixed(e<99?0:3)}function YE(t){switch(t){case dt.DISCONNECTED:return"connection-status status-disconnected";case dt.WAITING:return"connection-status status-waiting";case dt.RECEIVING:return"connection-status status-receiving";default:return"connection-status"}}function WI(t){return t<1.1?"result aborted":t<20?"result low-fit-score":t<100?"result moderate-fit-score":t>=100?"result high-fit-score":"result aborted"}function zE(t,e=0,n=-1){return t.slice(e,n).reduce((r,o)=>r+o,0)}function QE(...t){return sy(t)}function sy(t,e=0,n=-1){return n<0&&(n=t.length),zE(t,e,n)/(n-e)}function iu(t){return isNaN(t)||ay(t)||oy(t)?"?":t<1?t.toFixed(2):t<10?t.toFixed(1):t.toFixed(0)}function cc(t){if(t.length===0)return 0;const e=t.toSorted();if(e.length%2===0){const n=e.length/2;return(e[n-1]+e[n])/2}else{const n=Math.floor(e.length/2);return e[n]}}const ly=Intl.Collator("en",{sensitivity:"base"}),qh=new TextDecoder("utf-8");async function*uy(t){async function e(){const l=await t.read();return!l.done&&l.value,l}let{value:n,done:r}=await e(),o=n?qh.decode(n,{stream:!0}):"";const i=/\r\n|\n|\r/gm;let a=0;for(;;){const l=i.exec(o);if(!l){if(r)break;const u=o.substring(a);({value:n,done:r}=await e()),o=u+(n?qh.decode(n,{stream:!0}):""),a=i.lastIndex=0;continue}yield o.substring(a,l.index),a=i.lastIndex}a<o.length&&(yield o.substring(a))}function Xh(t){return new ReadableStream({start(e){n().catch(r=>e.error(r));async function n(){return t.dataRequest().then(r=>r.length===0?(va("No data from source: closing"),e.close(),new Uint8Array):(e.enqueue(r),n()))}},cancel(){va("cancel() called on underlying source"),t.close()}})}class cy{_closed=!1;close(){this.closeImpl(),this._closed=!0}set closed(e){this._closed=e}get closed(){return this._closed}}class mr extends cy{static NO_MORE_DATA=new Promise(e=>e(new Uint8Array));static DEFAULT_BYTES_PER_SECOND=1200;static encoder=new TextEncoder;reader;linesSource;nextLine;lastLineTimestamp=0;buffer=new Uint8Array;bufferIndex=0;fileOrUrl;rateBytesPerSecond;lastRequestTime=0;constructor(e,n=mr.DEFAULT_BYTES_PER_SECOND){super(),this.fileOrUrl=e,this.rateBytesPerSecond=Math.max(n,1)}async dataRequest(){if(this.reader===void 0){if(typeof this.fileOrUrl=="string"?this.reader=await fetch(this.fileOrUrl).then(s=>{if(s.ok)return s.body?.getReader();throw new Error(`Failed to file: ${s.status}`)}):this.reader=this.fileOrUrl.stream().getReader(),!this.reader)return mr.NO_MORE_DATA;console.debug("simulator(file) started")}this.linesSource||(this.linesSource=uy(this.reader));let e=0;if(this.bufferIndex>=this.buffer.length){if(!this.nextLine){const c=await this.linesSource.next();if(c.done)return mr.NO_MORE_DATA;this.nextLine=c.value}const u=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)\s*(?<rest>.+)$/i.exec(this.nextLine);if(u&&u.groups){const{timestamp:c,rest:d}=u.groups,f=Date.parse(c);e=this.lastLineTimestamp?f-this.lastLineTimestamp:0,this.lastLineTimestamp=f,this.buffer=mr.encoder.encode(d+`\r
`)}else this.buffer=mr.encoder.encode(this.nextLine+`\r
`);this.bufferIndex=0,this.nextLine=void 0}let n=Date.now(),r=e;n===this.lastRequestTime&&(r+=50,n+=r,r>50&&console.debug(`simulator: next data chunk available ${Ve(r)}`));const o=n-(this.lastRequestTime||n-1e3);this.lastRequestTime=n;const i=Math.ceil(o*this.rateBytesPerSecond/1e3),a=this.bufferIndex+(this.bufferIndex+i<this.buffer.length?i:this.buffer.length),l=this.buffer?.slice(this.bufferIndex,a);return this.bufferIndex+=l.length,new Promise(s=>{r?setTimeout(()=>{s(l)},r):s(l)})}closeImpl(){}}function va(t){console.log(`source: ${t}`)}const At=new class{_synth;speechEnabled=!1;_allVoices=[];selectedVoice=null;speechRate=1;constructor(){}ensureSynthInitialized(){this._synth||(this._synth=this.initSynth())}initSynth(){const t=window.speechSynthesis;return this.updateVoiceList(t.getVoices()),t.onvoiceschanged=()=>{this.updateVoiceList(t.getVoices())},t}get synth(){return this.ensureSynthInitialized(),this._synth}updateVoiceList(t){this._allVoices=t.filter(e=>e.lang.startsWith("en")).sort((e,n)=>`${e.lang} ${e.name}`.localeCompare(`${n.lang} ${n.name}`))}setSelectedVoice(t){this.selectedVoice=t}getSelectedVoice(){return this.selectedVoice}get allVoices(){return this.ensureSynthInitialized(),this._allVoices}setSpeechEnabled(t){this.speechEnabled=t}isSayingSomething(){return this.synth.speaking}sayItLater(t){if(!this.speechEnabled)return;console.log(`say it later: ${t}`);const e=new SpeechSynthesisUtterance(t);e.voice=this.selectedVoice,e.rate=this.speechRate,this.synth.speak(e)}sayIt(t){if(!this.speechEnabled)return;console.log(`using ${this.selectedVoice?.name} say it ${t}`);const e=new SpeechSynthesisUtterance(t);e.voice=this.selectedVoice,e.rate=this.speechRate,this.synth.speaking?(this.synth.cancel(),setTimeout(()=>this.synth.speak(e),60)):this.synth.speak(e)}sayItPolitely(t){if(this.isSayingSomething()){console.log(`say it politely yielding. ${t}`);return}this.sayIt(t)}};var ue=(t=>(t.External="External",t.Internal="Internal",t.Manual="Manual",t))(ue||{});class Vn{static PARTICLE_COUNT=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)?\s*(?<concentration>\d+\.\d+)\s*/;static SAMPLING_FROM_MASK=/^VF$/;static SAMPLING_FROM_AMBIENT=/^VN$/;static DATA_TRANSMISSION_DISABLED=/^ZD$/;static DATA_TRANSMISSION_ENABLED=/^ZE$/;static EXTERNAL_CONTROL=/^(OK|EJ)$/;static INTERNAL_CONTROL=/^G$/;static TURN_POWER_OFF=/^Y$/;static N95_COMPANION_PATTERN=/^Q(?<connected>[YN])/i;static SETTINGS_PATTERN=/^S.+$/}class le{static INVOKE_EXTERNAL_CONTROL="J";static RELEASE_FROM_EXTERNAL_CONTROL="G";static TEST_TO_SEE_N95_COMPANION_IS_ATTACHED="Q";static SWITCH_VALVE_ON="VN";static SWITCH_VALVE_OFF="VF";static DISABLE_CONTINUOUS_DATA_TRANSMISSION="ZD";static ENABLE_CONTINUOUS_DATA_TRANSMISSION="ZE";static REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE="R";static REQUEST_VOLTAGE_INFO="C";static REQUEST_SETTINGS="S";static TURN_POWER_OFF="Y";static SET_MASK_SAMPLE_TIME="PTMxxvv";static SET_AMBIENT_SAMPLE_TIME="PTA00vv";static SET_MASK_SAMPLE_PURGE_TIME="PTPM0vv";static SET_AMBIENT_SAMPLE_PURGE_TIME="PTPA0vv";static SET_FIT_FACTOR_PASS_LEVEL="PPxxvvvvv";static DISPLAY_CONCENTRATION_ON_PORTACOUNT_PLUS="Dxxxxxx.xx";static DISPLAY_FIT_FACTOR_PASS_LEVEL_ON_PORTACOUNT_PLUS="Lxxxxxx";static DISPLAY_FIT_FACTOR_ON_PORTACOUNT_PLUS="Fxxxxxx.x";static DISPLAY_OVERALL_FIT_FACTOR_ON_PORTACOUNT_PLUS="Axxxxxx.x";static DISPLAY_EXERCISE_NUMBER_ON_PORTACOUNT_PLUS="Ixxxxxxxx";static CLEAR_DISPLAY_ON_PORTACOUNT_PLUS="K";static SOUND_BEEPER_INSIDE_THE_PORTACOUNT_PLUS="Bxx";static expectedCommandResponses=new Map([[le.INVOKE_EXTERNAL_CONTROL,Vn.EXTERNAL_CONTROL]]);writer=null;encoder=new TextEncoder;verifiedToBeExternallyControllable=!1;portaCountClient;commandChain;constructor(e){this.portaCountClient=e}setWriter(e){this.writer=e}sendCommand(e,n=1){const r=`${e}\r`,o=le.expectedCommandResponses.get(e)||RegExp(`^${e}`),i=this.encoder.encode(r);if(this.writer){const a=()=>new Promise((l,s)=>{let u=!1,c=n,d;const f=()=>{clearTimeout(d),this.portaCountClient.removeListener(p)},p={lineReceived:h=>{(o?o.exec(h):e===h)&&(u=!0,f(),l(),console.debug(`received expected response to command '${e}'`))}},v=()=>{console.debug(`sending command '${e}', expecting '${o}' in response, retries remaining ${c}`),this.writer.write(i)},g=()=>{d=setTimeout(y,3e3)},y=()=>{if(u){console.debug(`retry handler triggered but we've already received the expected response for command '${e}'`);return}c>0?(console.debug(`retrying command '${e}'`),c--,v(),g()):(o?s(`too many retries, giving up on command '${e}'`):(console.debug(`no explicit expected response for command '${e}', but also didn't receive any other recognized response`),l()),f())};this.portaCountClient.addListener(p),v(),c>0&&g()});this.commandChain?(console.debug(`chaining command ${e}`),this.commandChain=this.commandChain.then(a).catch(()=>{})):this.commandChain=a()}else console.log("writer not available")}set controlSource(e){e===ue.Internal?this.releaseManualControl():(this.assumeManualControl(),this.verifiedToBeExternallyControllable||this.verifyExternalControllability())}set sampleSource(e){e===ve.AMBIENT?this.sampleAmbient():this.sampleMask()}assumeManualControl(){this.sendCommand(le.INVOKE_EXTERNAL_CONTROL)}releaseManualControl(){this.sendCommand(le.RELEASE_FROM_EXTERNAL_CONTROL)}enableDataTransmission(){this.sendCommand(le.ENABLE_CONTINUOUS_DATA_TRANSMISSION)}disableDataTransmission(){this.sendCommand(le.DISABLE_CONTINUOUS_DATA_TRANSMISSION)}sampleAmbient(){this.sendCommand(le.SWITCH_VALVE_ON)}sampleMask(){this.sendCommand(le.SWITCH_VALVE_OFF)}requestSettings(){this.sendCommand(le.REQUEST_SETTINGS)}requestRuntimeStatus(){this.sendCommand(le.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE)}powerOff(){this.sendCommand(le.TURN_POWER_OFF),At.sayItLater("Power off")}beep(e=2){this.sendCommand(`B${String(e).padStart(2,"0")}`)}verifyExternalControllability(){let e=0;const n={lineReceived(){e=Date.now()}};this.portaCountClient.addListener(n),this.beep(),this.beep(),setTimeout(()=>{this.portaCountClient.removeListener(n),Date.now()-e>3e3?console.log("Could not verify that we can externally control the device"):this.verifiedToBeExternallyControllable=!0},5e3)}}var nt=(t=>(t.Idle="Idle",t.Testing="Testing",t.Counting="Counting",t.Disconnected="Disconnected",t))(nt||{});const et=class{static PORTACOUNT_VERSION=/^PORTACOUNT\s+PLUS\S+PROM\S+(?<version>.+)/i;static COPYRIGHT=/^COPYRIGHT.+/i;static LICENSE=/^ALL\s+RIGHTS\s+RESERVED/i;static SERIAL_NUMBER=/^Serial\s+Number\s+(?<serialNumber>\d+)/i;static PASS_LEVEL=/^FF\s+pass\s+level\s+(?<passLevel>\d+)/i;static NUM_EXERCISES=/^No\.\s+of\s+exers\s*=\s*(?<num_exercises>\d+)/i;static AMBIENT_PURGE=/^Ambt\s+purge\s*=\s*(?<ambientPurgeTime>\d+)/i;static AMBIENT_SAMPLE=/^Ambt\s+sample\s*=\s*(?<ambientSampleTime>\d+)/i;static MASK_PURGE=/^Mask\s+purge\s*=\s*(?<maskPurgeTime>\d+)/i;static MASK_SAMPLE=/^Mask\s+sample\s+(?<exerciseNumber>\d+)\s*=\s*(?<maskSampleTime>\d+)/i;static DIP_SWITCH=/^DIP\s+switch\s+=\s+(?<dipSwitchBits>\d+)/i;static COUNT_READING=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)?\s*Conc\.\s+(?<concentration>[\d.]+)/i;static NEW_TEST=/^NEW\s+TEST\s+PASS\s*=\s*(?<passLevel>\d+)/i;static AMBIENT_READING=/^Ambient\s+(?<concentration>[\d.]+)/i;static MASK_READING=/^Mask\s+(?<concentration>[\d+.]+)/i;static FIT_FACTOR=/^FF\s+(?<exerciseNumber>\d+)\s+(?<fitFactor>[\d.]+)\s+(?<result>.+)/;static TEST_TERMINATED=/^Test\s+Terminated/i;static OVERALL_FIT_FACTOR=/^Overall\s+FF\s+(?<fitFactor>[\d.]+)\s+(?<result>.+)/i;static LOW_PARTICLE_COUNT=/^(?<concentration>\d+)\/cc\s+Low\s+Particle\s+Count/i;static BATTERY_AND_PULSE_STATUS=/^R(?<battery>.)(?<pulse>.)$/;static VOLTAGE_INFO=/^(?<component>C[SBTCLPD])(?<value>.+)$/;static Setting=class{static Timing=class{static AMBIENT_PURGE=/^STPA\s+(?<duration>\d+)/i;static MASK_PURGE=/^STPM\s+(?<duration>\d+)/i;static AMBIENT_SAMPLE=/^STA\s+(?<duration>\d+)/i;static MASK_SAMPLE=/^STM(?<exercise_num>\d\d)(?<duration>\d+)/i};static FF_PASS_LEVEL=/^SP\s+(?<index>\d\d)(?<score>\d+)/i;static SERIAL_NUMBER=/^SS\s+(?<serial_number>\d+)/i;static RUN_TIME_SINCE_FACTORY_SERVICE=/^SR\s+(?<runtime>\d+)/i;static LAST_SERVICE_DATE=/^SD\s+0(?<month>\d\d)(?<year>\d\d)/i}};class Yt{_timestamp;constructor(){this._timestamp=Date.now()}get timestamp(){return this._timestamp}asOf(e){return this._timestamp=e,this}}class Zh extends Yt{line;constructor(e){super(),this.line=e}}class dc extends Yt{sampleSource;constructor(e){super(),this.sampleSource=e}}class fc extends Yt{dataTransmissionState;constructor(e){super(),this.dataTransmissionState=e}}class pc extends Yt{source;constructor(e){super(),this.source=e}}class Jh extends Yt{constructor(){super()}}class Ro extends Yt{sampleSource;controlSource;concentration;constructor(e,n,r){super(),this.concentration=e,this.sampleSource=n,this.controlSource=r}}class hc extends Yt{ff;exerciseNum;result;constructor(e,n,r){super(),this.ff=e,this.exerciseNum=n,this.result=r}}class em extends Yt{constructor(){super()}}class tm extends Yt{constructor(){super()}}class rs extends Yt{connectionStatus;constructor(e){super(),this.connectionStatus=e}}class nm extends Yt{activity;constructor(e){super(),this.activity=e}}class un extends Yt{settings;constructor(e){super(),this.settings=e}}class mc extends Yt{state;constructor(e){super(),this.state=e}}class KE{numExercises=4;ambientPurge=0;maskPurge=0;ambientSample=0;maskSample=new Map;fitFactorPassLevel=new Map;serialNumber="?";runTimeSinceFactoryServiceSeconds=0;lastServiceDate=new Date(0)}class dy{_connectionStatus=dt.DISCONNECTED;_controlSource=ue.Internal;_sampleSource=ve.MASK;_dataTransmissionState="Transmitting";_batteryStatus="?";_pulseStatus="?";_componentVoltages=new Map;_lastLine="";_activity=nt.Disconnected;get componentVoltages(){return this._componentVoltages}get batteryStatus(){return this._batteryStatus}set batteryStatus(e){this._batteryStatus=e}get pulseStatus(){return this._pulseStatus}set pulseStatus(e){this._pulseStatus=e}get connectionStatus(){return this._connectionStatus}set connectionStatus(e){this._connectionStatus=e}get controlSource(){return this._controlSource}set controlSource(e){this._controlSource=e}get sampleSource(){return this._sampleSource}set sampleSource(e){this._sampleSource=e}get dataTransmissionState(){return this._dataTransmissionState}set dataTransmissionState(e){this._dataTransmissionState=e}get activity(){return this._activity}set activity(e){this._activity=e}get lastLine(){return this._lastLine}set lastLine(e){this._lastLine=e}}class GE{_externalController;listeners=[];_state=new dy;_settings=new KE;_baudRate=1200;_syncOnConnect=!1;constructor(){console.log("PortaCountClient8020 constructor called"),this._externalController=new le(this),this.addListener(this.stateUpdatingListener)}get baudRate(){return this._baudRate}set baudRate(e){this._baudRate=e}get syncOnConnect(){return this._syncOnConnect}set syncOnConnect(e){this._syncOnConnect=e}get externalController(){return this._externalController}get settings(){return this._settings}get state(){return this._state}setActivity(e){this.state.activity=e,this.dispatch(new nm(e))}stateUpdatingListener={connectionStatusChanged:e=>{this.state.connectionStatus=e},controlSourceChanged:e=>{this.state.controlSource=e},sampleSourceChanged:e=>{this.state.sampleSource=e},dataTransmissionStateChanged:e=>{this.state.dataTransmissionState=e},lineReceived:e=>{this.state.lastLine=e}};async monitor(e){this.dispatch(new rs(dt.WAITING));for await(const n of uy(e))this.state.connectionStatus===dt.WAITING&&this.dispatch(new rs(dt.RECEIVING)),n.trim().length>0&&(this.dispatch(new Zh(n)),this.processLine(n));this.setActivity(nt.Disconnected),this.dispatch(new rs(dt.DISCONNECTED)),console.log("monitor reached end of reader")}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners.filter((n,r,o)=>n===e?(o.splice(r,1),!0):!1)}dispatch(e){this.listeners.forEach(n=>{switch(e.constructor.name){case nm.name:{n.activityChanged&&n.activityChanged(e.activity);break}case Ro.name:{n.particleConcentrationReceived&&n.particleConcentrationReceived(e);break}case em.name:{this.setActivity(nt.Idle),n.testTerminated&&n.testTerminated();break}case tm.name:{this.setActivity(nt.Idle),n.testCompleted&&n.testCompleted();break}case hc.name:{n.fitFactorResultsReceived&&n.fitFactorResultsReceived(e);break}case Jh.name:{n.testStarted&&n.testStarted(e.timestamp);break}case pc.name:{n.controlSourceChanged&&n.controlSourceChanged(e.source);break}case fc.name:{n.dataTransmissionStateChanged&&n.dataTransmissionStateChanged(e.dataTransmissionState);break}case Zh.name:{n.lineReceived&&n.lineReceived(e.line);break}case dc.name:{n.sampleSourceChanged&&n.sampleSourceChanged(e.sampleSource);break}case rs.name:{if(n.connectionStatusChanged){const r=e;n.connectionStatusChanged(r.connectionStatus)}break}case mc.name:{n.stateChanged&&n.stateChanged(e.state);break}case un.name:{n.settingsChanged&&n.settingsChanged(e.settings);break}default:console.error(`unsupported event: ${JSON.stringify(e)}`)}})}processConcentration(e,n){this.state.activity!==nt.Testing&&this.setActivity(nt.Counting);const r=Number(e.concentration),o=this.state.sampleSource,i=new Ro(r,o,n),a=e.timestamp;a&&i.asOf(Date.parse(a)),this.dispatch(i)}orderedLineProcessors=[[Vn.PARTICLE_COUNT,e=>{this.processConcentration(e,ue.External)}],[et.COUNT_READING,e=>{this.processConcentration(e,ue.Internal)}],[et.AMBIENT_READING,e=>{const n=e.concentration;n&&this.dispatch(new Ro(Number(n),ve.AMBIENT,ue.Internal))}],[et.MASK_READING,e=>{const n=e.concentration;n&&this.dispatch(new Ro(Number(n),ve.MASK,ue.Internal))}],[et.FIT_FACTOR,e=>{this.setActivity(nt.Testing);const n=Number(e.fitFactor),r=Number(e.exerciseNumber),o=e.result;this.dispatch(new hc(n,r,o)),this._settings.numExercises<r&&(this._settings.numExercises=r,this.dispatch(new un(this._settings)))}],[et.NEW_TEST,()=>{this.setActivity(nt.Testing),this.dispatch(new Jh)}],[et.TEST_TERMINATED,()=>{this.setActivity(nt.Idle),this.dispatch(new em)}],[et.OVERALL_FIT_FACTOR,e=>{this.setActivity(nt.Idle);const n=Number(e.fitFactor),r=e.result;this.dispatch(new hc(n,"Final",r)),this.dispatch(new tm)}],[Vn.SAMPLING_FROM_MASK,()=>{this.dispatch(new dc(ve.MASK))}],[Vn.SAMPLING_FROM_AMBIENT,()=>{this.dispatch(new dc(ve.AMBIENT))}],[Vn.EXTERNAL_CONTROL,()=>{this.dispatch(new pc(ue.External))}],[Vn.INTERNAL_CONTROL,()=>{this.dispatch(new pc(ue.Internal))}],[Vn.DATA_TRANSMISSION_DISABLED,()=>{this.dispatch(new fc("Paused"))}],[Vn.DATA_TRANSMISSION_ENABLED,()=>{this.dispatch(new fc("Transmitting"))}],[et.Setting.FF_PASS_LEVEL,e=>{this._settings.fitFactorPassLevel.set(Number(e.index),Number(e.score)),this.dispatch(new un(this._settings))}],[et.Setting.Timing.MASK_SAMPLE,e=>{this._settings.maskSample.set(Number(e.exercise_num),Number(e.duration)),this.dispatch(new un(this._settings))}],[et.VOLTAGE_INFO,e=>{this._state.componentVoltages.set(e.component,Number(e.value)),this.dispatch(new mc(this._state))}],[et.Setting.Timing.MASK_PURGE,e=>{this._settings.maskPurge=Number(e.duration),this.dispatch(new un(this._settings))}],[et.Setting.Timing.AMBIENT_SAMPLE,e=>{this._settings.ambientSample=Number(e.duration),this.dispatch(new un(this._settings))}],[et.Setting.Timing.AMBIENT_PURGE,e=>{this._settings.ambientPurge=Number(e.duration),this.dispatch(new un(this._settings))}],[et.BATTERY_AND_PULSE_STATUS,e=>{this._state.batteryStatus=e.battery==="G"?"Good":"Bad",this._state.pulseStatus=e.pulse==="G"?"Good":"Bad",this.dispatch(new mc(this._state))}],[et.Setting.SERIAL_NUMBER,e=>{this._settings.serialNumber=e.serial_number,this.dispatch(new un(this._settings))}],[et.Setting.LAST_SERVICE_DATE,e=>{const n=Number(e.month)-1,r=Number(e.year),o=r+(r<61?2e3:1900);this._settings.lastServiceDate=new Date(o,n),this.dispatch(new un(this._settings))}],[et.Setting.RUN_TIME_SINCE_FACTORY_SERVICE,e=>{this._settings.runTimeSinceFactoryServiceSeconds=10*60*Number(e.runtime),this.dispatch(new un(this._settings))}],[et.NUM_EXERCISES,e=>{this._settings.numExercises=Number(e.num_exercises),this.dispatch(new un(this._settings))}]];processLine(e){if(e.length===0)return;const n=e;this.orderedLineProcessors.reduce((o,[i,a])=>{if(!o){const l=i.exec(n);if(l)return l.groups?a(l.groups):a({}),!0}return o},!1)||(n.match(/^E/)?console.warn(`error: ${n}`):n.match(/^W/)?console.warn(`write protected: ${n}`):console.warn(`portacount client: no parser for line: ${n}`))}connect(e){console.debug(`portacount client connect(${JSON.stringify(e)})`),e.connected&&e.readable?(console.debug("portacount client connect, connected; setting up reader and writer"),e.readable&&this.monitor(e.readable.getReader()),e.writable&&(this.externalController.setWriter(e.writable.getWriter()),this.syncOnConnect&&(console.debug("sync on connect"),this.waitUntilPortaCountIsReady().then(()=>{this.syncState()}).catch(n=>{console.warn(n)})))):(console.debug("portacount client connect not connected, attempting to connect..."),e.open({baudRate:Number(this.baudRate)}).then(()=>{console.log(`port opened: ${JSON.stringify(e.getInfo())}`),this.connect(e)}))}async waitUntilPortaCountIsReady(){return new Promise((e,n)=>{const r=Date.now(),o=setInterval(()=>{const l=Date.now()-r;console.debug(`elapsed ${l}`),l>65e3?(clearInterval(o),n(`waited too long for PortaCount to become ready. Elapsed ${Ve(l)}.`)):this.externalController.sendCommand(le.INVOKE_EXTERNAL_CONTROL,0)},1e3),i=()=>{this.removeListener(a),clearInterval(o),console.debug("PortaCount is ready."),e()},a={controlSourceChanged:l=>{l===ue.External&&i()},lineReceived:l=>{Vn.N95_COMPANION_PATTERN.exec(l)&&i()}};this.addListener(a)})}syncState(){this.externalController.enableDataTransmission(),this.externalController.requestRuntimeStatus(),this.externalController.requestSettings(),this.externalController.sendCommand(le.REQUEST_VOLTAGE_INFO),this.externalController.beep(1),this.externalController.beep(1),this.externalController.beep(1)}}var zr=(t=>(t.SAMPLE="sample",t.PURGE="purge",t.IDLE="idle",t))(zr||{});class Ma{}class rm extends Ma{newSegment;constructor(e){super(),this.newSegment=e}}class om extends Ma{segment;constructor(e){super(),this.segment=e}}class im extends Ma{}class am extends Ma{}class sm extends Ma{}class qE{MILLIS_PER_SECOND=1e3;_portaCountClient;controller;listeners=[];_timerId;_segments=[];_currentSegment;_lastAmbientSegment;dataCollector;_protocolStartTime=null;constructor(e,n){this._portaCountClient=e,this.dataCollector=n,this.controller=e.externalController,this._portaCountClient.addListener(this.getPortaCountListener())}getPortaCountListener(){return{controlSourceChanged:n=>{n===ue.Internal&&this.cancel()},particleConcentrationReceived:n=>{if(n.controlSource!==ue.Internal&&this.protocolStartTime){if(!this.currentSegment){console.warn("protocol executor test is in progress but no current segment (shouldn't happen).");return}if(this.currentSegment.source!==n.sampleSource){console.debug(`segment expecting data to be from source ${this.currentSegment.source} but received data from ${n.sampleSource}. ignoring.`);return}this.currentSegment.data.length===0&&this.startSegment(this.currentSegment),this.currentSegment.data.push(n),this.dispatch(new om(this.currentSegment))}}}}startSegment(e){console.log(`starting segment ${JSON.stringify(e)}`),this.startTimer(()=>{this.closeSegment(e),this.executeSegment(e.index+1)},e.duration)}get segments(){return this._segments}set segments(e){this._segments=Jo(e)}get protocolStartTime(){return this._protocolStartTime}set protocolStartTime(e){this._protocolStartTime=e}get lastAmbientSegment(){return this._lastAmbientSegment}set lastAmbientSegment(e){this._lastAmbientSegment=e}get currentSegment(){return this._currentSegment}set currentSegment(e){e&&(e.segmentStartTimeMs=Date.now()),this._currentSegment=e,this.dispatch(new rm(e))}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners.filter((n,r,o)=>n===e?(o.splice(r,1),!0):!1)}startTimer(e,n){this._timerId=setTimeout(e,n*this.MILLIS_PER_SECOND)}stopTimer(){clearTimeout(this._timerId),this._timerId=void 0}protocolIsExecuting(){return this.protocolStartTime!==null&&this._timerId!==void 0}async executeProtocol(e){if(this.protocolIsExecuting()){console.log("protocol execution in progress (can't start another protocol)");return}this.controller.assumeManualControl(),this.lastAmbientSegment=void 0,this.segments=e;const n=new Date;this.protocolStartTime=n.getTime(),await this.dataCollector.recordTestStart(ue.External,n.toLocaleString()),this.executeSegment(0),this.controller.beep(),this.dispatch(new im)}dispatch(e){this.listeners.forEach(n=>{switch(e.constructor.name){case om.name:{n.segmentDataUpdated&&n.segmentDataUpdated(e.segment);break}case rm.name:{n.segmentChanged&&n.segmentChanged(e.newSegment);break}case im.name:{n.started&&n.started();break}case am.name:{n.cancelled&&n.cancelled();break}case sm.name:{n.completed&&n.completed();break}default:console.warn(`Unhandled event in dispatcher: ${e.constructor.name}`)}})}executeSegment(e){if(e>=this._segments.length){console.log("no more segments (test completed)"),this.stopTimer();const r=this.calculateFinalFitFactor();this.dataCollector.recordExerciseResult("Final",r),this.dataCollector.recordTestComplete(),this.dataCollector.setInstructions(`Test completed; final score: ${iu(r)}`),this.dispatch(new sm),this.controller.beep(),this.controller.beep();return}const n=this._segments[e];this.currentSegment=n,console.log(`staging segment ${JSON.stringify(n)}`),n.source===ve.AMBIENT?this.controller.sampleAmbient():n.source===ve.MASK?this.controller.sampleMask():console.warn(`executeSegment(): unexpected source: ${n.source}`),n.duration>0&&(n.exerciseNumber?this.dataCollector.setInstructions(`Perform exercise ${n.exerciseNumber}: ${n.stage.instructions}`):this.dataCollector.setInstructions("Breathe normally"))}cancel(){this.stopTimer(),this.protocolStartTime=null,console.log("cancelling protocol"),this.dataCollector.recordTestAborted(),this.dispatch(new am),this.controller.beep()}calculateFinalFitFactor(){const e=this.segments.filter(n=>n.calculatedScore!==void 0);return e.length/e.reduce((n,r)=>n+1/r.calculatedScore,0)}closeSegment(e){if(e.source===ve.AMBIENT){if(e.state==="sample"){const n=gr(e);if(this.dataCollector.recordParticleCount(new Ro(n,e.source,ue.External)),this.lastAmbientSegment){const r=QE(gr(this.lastAmbientSegment),n);for(let o=e.index-1;o>this.lastAmbientSegment.index;o--){const i=this.segments[o];if(i.state==="sample"){const a=r/gr(i);console.debug(`updating ex ${i.exerciseNumber} score from ${i.calculatedScore} to ${a}`),i.calculatedScore=a,this.dataCollector.recordExerciseResult(i.exerciseNumber??0,i.calculatedScore)}}}this.lastAmbientSegment=e}}else if(e.source===ve.MASK&&e.state==="sample"){const n=gr(e);this.dataCollector.recordParticleCount(new Ro(n,e.source,ue.External)),this.lastAmbientSegment?(e.calculatedScore=gr(this.lastAmbientSegment)/n,this.dataCollector.recordExerciseResult(e.exerciseNumber??0,e.calculatedScore),this.controller.beep()):console.error("mask segment completed, but there was no last ambient segment.")}}}function gr(t){return Math.max(.01,t.data.reduce((e,n)=>e+n.concentration,0)/t.data.length)}class rp{db;dbName;version;defaultDataStores;openPromise;constructor(e,n=[],r=1){this.dbName=e,this.version=r,this.defaultDataStores=n}async getDataFromDataSource(e,n=()=>!0){return new Promise((r,o)=>{const i=this.openTransactionClassic("readonly"),a=[];if(!i){console.debug(`${this.dbName} database not ready`),o(`${this.dbName} database not ready`);return}const l=i.objectStore(e).openCursor(null,"next");l.onerror=s=>{console.error(`getAllDataFromDataSource openCursor request error ${s}`),o(`error ${s}`)},l.onsuccess=s=>{const u=l.result;u?(n(u.value)&&a.push(u.value),u.continue()):(console.debug(`${this.dbName} cursor done ${s}. got ${a.length} records`),r(a))}})}onOpenSuccess(e){this.db=e.result,console.debug(`${this.dbName} Database Opened`,this.db)}onOpenError(e){console.error(`${this.dbName} Database error: ${e.error?.message}`)}openTransactionClassic(e,n=this.defaultDataStores){if(!this.db){console.log(`${this.dbName} database not ready`);return}try{const r=this.db.transaction(n,e);return r.oncomplete=()=>{},r.onerror=o=>{console.warn(`${this.dbName} transaction error ${o}`)},r}catch(r){console.error(`${this.dbName} error opening transaction: ${r}`);return}}async openTransaction(e,n=this.defaultDataStores){return new Promise((r,o)=>{if(!this.db){console.debug(`${this.dbName} database not ready`),o(`${this.dbName} database not ready`);return}const i=this.db.transaction(n,e);i.oncomplete=()=>{},i.onerror=a=>{console.error(`${this.dbName} transaction error ${JSON.stringify(a)}`)},r(i)})}async get(e,n){return new Promise((r,o)=>{this.openTransaction("readonly").then(i=>{const a=i.objectStore(e).get(n);a.onsuccess=()=>{r(a.result)},a.onerror=l=>{const s=`${this.dbName} get(${n}) failed; error: ${l}`;console.error(s),o(s)}})})}async put(e,n){return new Promise((r,o)=>{this.openTransaction("readwrite").then(i=>{try{const a=i.objectStore(e).put(n);a.onsuccess=()=>{r(a.result)},a.onerror=l=>{const s=`${this.dbName} put(${JSON.stringify(n)}) failed; error: ${l}`;console.error(s),o(s)}}catch(a){o(`${a} value: ${JSON.stringify(n)}`)}})})}async delete(e,n){return new Promise((r,o)=>{this.openTransaction("readwrite").then(i=>{try{const a=i.objectStore(e).delete(n);a.onsuccess=()=>{r(a.result)},a.onerror=l=>{const s=`${this.dbName} delete(${n}) failed; error: ${l}`;console.error(s),o(s)}}catch(a){o(`${a}, key: ${n}`)}})})}async open(){return console.debug(`open called on ${this.dbName}`),this.openPromise?this.openPromise:this.db?this.db:(this.openPromise=new Promise((e,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.onsuccess=()=>{this.onOpenSuccess(r),e(r.result)},r.onerror=()=>{this.onOpenError(r),n(r.error?.message)},r.onupgradeneeded=()=>{this.onUpgradeNeeded(r)}}),this.openPromise)}close(){this.db?.close(),console.debug(`${this.dbName} closed`)}}var XE={space:"",cycles:!1,replacer:(t,e)=>e,stringify:JSON.stringify},fo={isArray:Array.isArray,assign:Object.assign,isObject:t=>typeof t=="object",isFunction:t=>typeof t=="function",isBoolean:t=>typeof t=="boolean",isRegex:t=>t instanceof RegExp,keys:Object.keys};const xi=XE,ZE=fo.isFunction,JE=fo.isBoolean,eb=fo.isObject,tb=fo.isArray,nb=fo.isRegex,rb=fo.assign,ob=fo.keys;function ib(t){return t==null?t:nb(t)?t.toString():t.toJSON?t.toJSON():t}function ab(t,e){e=e||rb({},xi),ZE(e)&&(e={compare:e});const n=e.space||xi.space,r=JE(e.cycles)?e.cycles:xi.cycles,o=e.replacer||xi.replacer,i=e.stringify||xi.stringify,a=e.compare&&function(s){return function(u){return function(c,d){const f={key:c,value:u[c]},p={key:d,value:u[d]};return s(f,p)}}}(e.compare);r||i(t);const l=[];return function s(u,c,d,f){const p=n?`
`+new Array(f+1).join(n):"",v=n?": ":":";if(d=ib(d),d=o.call(u,c,d),d!==void 0){if(!eb(d)||d===null)return i(d);if(tb(d)){const g=[];for(let y=0;y<d.length;y++){const h=s(d,y,d[y],f+1)||i(null);g.push(p+n+h)}return"["+g.join(",")+p+"]"}else{if(r){if(l.indexOf(d)!==-1)return i("[Circular]");l.push(d)}const g=ob(d).sort(a&&a(d)),y=[];for(let h=0;h<g.length;h++){const w=g[h],S=s(d,w,d[w],f+1);if(!S)continue;const E=i(w)+v+S;y.push(p+n+E)}return l.splice(l.indexOf(d),1),"{"+y.join(",")+p+"}"}}}({"":t},"",t,0)}var sb=ab;const Fd=_a(sb);var Re=(t=>(t.NotInitialized="NotInitialized",t.Simulator="Simulator",t.SimulatorFile="Simulator-file",t.WebSerial="WebSerial",t.WebUsbSerial="WebUsbSerial",t.Manual="Manual",t))(Re||{}),F=(t=>(t.SPEECH_ENABLED="speech-enabled",t.ADVANCED_MODE="advanced-mode",t.SPEECH_VOICE="speech-voice",t.VERBOSE="verbose",t.SAY_PARTICLE_COUNT="say-particle-count",t.RESULTS_TABLE_SORT="results-table-sort",t.PARTICIPANT_RESULTS_TABLE_SORT="participant-results-table-sort",t.SAY_ESTIMATED_FIT_FACTOR="say-estimated-fit-factor",t.SHOW_EXTERNAL_CONTROL="show-external-control",t.BAUD_RATE="baud-rate",t.PROTOCOL_INSTRUCTION_SETS="protocol-instruction-sets",t.SELECTED_PROTOCOL="selected-protocol",t.KEEP_SCREEN_AWAKE="keep-screen-awake",t.TEST_TEMPLATE="test-template",t.ENABLE_SIMULATOR="enable-simulator",t.ENABLE_AUTO_CONNECT="enable-auto-connect",t.SIMULATOR_FILE_SPEED="simulator-file-speed",t.SELECTED_DATA_SOURCE="selected-data-source",t.SYNC_DEVICE_STATE_ON_CONNECT="sync-device-state-on-connect",t.MINUTES_ALLOTTED_PER_PARTICIPANT="minutes-allotted-per-participant",t.EVENT_END_HHMM="event-end-hhmm",t.SHOW_ELAPSED_PARTICIPANT_TIME="show-elapsed-participant-time",t.SHOW_REMAINING_EVENT_TIME="show-remaining-event-time",t.AUTO_CREATE_FAST_PROTOCOLS="auto-create-fast-protocols",t.LAST_KNOWN_SETTINGS_KEYS_HASH="last-known-settings-keys-hash",t.USE_COMPACT_UI="use-compact-ui",t.ENABLE_WEB_SERIAL_DRIVERS="enable-webserial-drivers",t.ENABLE_PROTOCOL_EDITOR="enable-protocol-editor",t.ENABLE_QR_CODE_SCANNER="enable-qr-code-scanner",t.ENABLE_STATS="enable-stats",t.ENABLE_TEST_INSTRUCTIONS_ZOOM="enable-test-instructions-zoom",t.BOOKMARKS="bookmarks",t.STATS_FIRST_DATE="so-stats-first-date",t.STATS_LAST_DATE="so-stats-last-date",t.RESULTS_TABLE_FILTER="so-results-table-filter",t.PARTICIPANT_RESULTS_TABLE_FILTER="so-participant-results-table-filter",t.MASK_LIST="so-mask-list",t.CONTROL_SOURCE_IN_VIEW="so-control-source-in-view",t.SAMPLE_SOURCE_IN_VIEW="so-sample-source-in-view",t.CONNECTION_STATUS_IN_VIEW="so-connection-status-in-view",t.ACTIVITY="so-activity",t.DEFAULT_TO_PREVIOUS_PARTICIPANT="default-to-previous-participant",t.AUTO_ESTIMATE_FIT_FACTOR="auto-estimate-fit-factor",t.SHOW_PROTOCOL_EDITOR="show-protocol-editor",t.SHOW_SIMPLE_PROTOCOL_EDITOR="show-simple-protocol-editor",t.SHOW_SETTINGS="show-settings",t.SHOW_LOG_PANELS="show-log-panels",t.SHOW_HISTORICAL_TESTS="show-historical-tests",t.SHOW_CURRENT_TEST_PANEL="show-current-test-panel",t))(F||{});const _i={"speech-enabled":!1,"advanced-mode":!1,"speech-voice":"default",verbose:!1,"say-particle-count":!1,"results-table-sort":[{id:"ID",desc:!0}],"participant-results-table-sort":[{id:"ID",desc:!0}],"auto-estimate-fit-factor":!1,"say-estimated-fit-factor":!1,"show-external-control":!1,"baud-rate":1200,"protocol-instruction-sets":{json:{w1:["Normal breathing. Breathe normally","Heavy breathing. Take deep breaths.",["Jaw movement.","Read the rainbow passage:","When the sunlight strikes raindrops in the air, they act as a prism and form a rainbow.","The rainbow is a division of white light into many beautiful colors.","These take the shape of a long round arch, with its path high above,","and its two ends apparently beyond the horizon.","There is, according to legend, a boiling pot of gold at one end.","People look, but no one ever finds it.","When a man looks for something beyond his reach,","his friends say he is looking for the pot of gold at the end of the rainbow."].join(" "),"Head movement. Look up, down, left, and right. Repeat."],"Modified CNC Fit Protocol (B)":[{instructions:"prep",ambient_purge:4,ambient_sample:20,mask_purge:0,mask_sample:0},{instructions:"Bending over. Bend at the waist as if going to touch your toes. Inhale 2 times at the bottom.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:["Talking.","Talk out loud slowly and loud enough to be head by the test administrator.","Count backwards from 100,","or read the Rainbow Passage:","When the sunlight strikes raindrops in the air, they act as a prism and form a rainbow.","The rainbow is a division of white light into many beautiful colors.","These take the shape of a long round arch, with its path high above,","and its two ends apparently beyond the horizon.","There is, according to legend, a boiling pot of gold at one end.","People look, but no one ever finds it.","When a man looks for something beyond his reach,","his friends say he is looking for the pot of gold at the end of the rainbow."].join(" "),ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"Head side-to-side. Slowly turn head from side to side. Inhale 2 times at each extreme.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"Head up-and-down. Slowly move head up and down. Inhale 2 times at each extreme.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"finalize",ambient_purge:4,ambient_sample:9,mask_purge:0,mask_sample:0}],osha:["Normal breathing. In a normal standing position, without talking, the subject shall breathe normally","Deep breathing. In a normal standing position, the subject shall breathe slowly and deeply, taking caution so as not to hyperventilate","Turning head side to side. Standing in place, the subject shall slowly turn his/her head from side to side between the extreme positions on each side. The head shall be held at each extreme momentarily so the subject can inhale at each side.","Moving head up and down. Standing in place, the subject shall slowly move his/her head up and down. The subject shall be instructed to inhale in the up position (i.e., when looking toward the ceiling).","Talking. The subject shall talk out loud slowly and loud enough so as to be heard clearly by the test conductor. The subject can read from a prepared text such as the Rainbow Passage, count backward from 100, or recite a memorized poem or song.","Grimace. The test subject shall grimace by smiling or frowning. (This applies only to QNFT testing; it is not performed for QLFT)","Bending over. The test subject shall bend at the waist as if he/she were to touch his/her toes. Jogging in place shall be substituted for this exercise in those test environments such as shroud type QNFT or QLFT units that do not permit bending over at the waist.","Normal breathing. Same as exercise (1)."]}},"selected-protocol":"w1","keep-screen-awake":!0,"test-template":{},"enable-simulator":!1,"enable-auto-connect":!0,"simulator-file-speed":300,"selected-data-source":Re.WebSerial,"sync-device-state-on-connect":!1,"minutes-allotted-per-participant":20,"event-end-hhmm":"13:30","show-elapsed-participant-time":!1,"show-remaining-event-time":!1,"auto-create-fast-protocols":!1,"last-known-settings-keys-hash":"","use-compact-ui":!0,"enable-webserial-drivers":!1,"enable-protocol-editor":!1,"enable-qr-code-scanner":!1,"enable-stats":!1,"enable-test-instructions-zoom":!1,bookmarks:{},"so-stats-first-date":new Date(0),"so-stats-last-date":new Date,"so-results-table-filter":[],"so-participant-results-table-filter":[],"so-mask-list":[],"so-control-source-in-view":!0,"so-sample-source-in-view":!0,"so-connection-status-in-view":!0,"so-activity":nt.Disconnected,"default-to-previous-participant":!1,"show-protocol-editor":!1,"show-simple-protocol-editor":!1,"show-settings":!1,"show-log-panels":!1,"show-historical-tests":!1,"show-current-test-panel":!1};function lm(t){return t.toLowerCase().startsWith("so-")}class Br extends rp{static DB_NAME="settings-db";static OBJECT_STORE_NAME="settings-data";constructor(e=Br.DB_NAME){super(e,[Br.OBJECT_STORE_NAME],1)}onUpgradeNeeded(e){const n=e.result;console.warn(`Database upgrade needed: ${n.name}`),n.createObjectStore(Br.OBJECT_STORE_NAME,{keyPath:"ID"})}async getSetting(e){const n=await this.get(Br.OBJECT_STORE_NAME,e);if(n)return n.value}async saveSetting(e,n){console.debug(`saveSettings saving to DB ${e} : ${JSON.stringify(n)}`);const r={ID:e,value:n};return this.put(Br.OBJECT_STORE_NAME,r)}}const os=new Br;function fy(t){return t.source===ve.MASK&&t.state===zr.SAMPLE}function py(t){return gl(t).reduce((e,n)=>e+(fy(n)?1:0),0)}class lb{cache=new Map;listeners=[];_protocolStages=[];_protocolSegments=[];numExercisesForProtocol={};constructor(){this.addListener({subscriptions:()=>["selected-protocol"],settingsChanged:(e,n)=>{e==="selected-protocol"&&this.updateProtocolStages(n)}}),this.addListener({subscriptions:()=>["enable-simulator"],settingsChanged:(e,n)=>{e==="enable-simulator"&&!n&&[Re.Simulator,Re.SimulatorFile].includes(this.getSetting("selected-data-source"))&&this.saveSetting("selected-data-source",_i["selected-data-source"])}}),this.addListener({subscriptions:()=>["show-external-control"],settingsChanged:(e,n)=>{e==="show-external-control"&&(n||this.saveSetting("sync-device-state-on-connect",!1))}}),this.addListener({subscriptions:()=>["sync-device-state-on-connect"],settingsChanged:(e,n)=>{e==="sync-device-state-on-connect"&&n&&!this.getSetting("show-external-control")&&setTimeout(()=>{this.saveSetting("sync-device-state-on-connect",!1)},200)}})}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners.filter((n,r,o)=>n===e?(o.splice(r,1),!0):!1)}dispatch(e,n){this.listeners.forEach(r=>{r.subscriptions&&r.settingsChanged&&r.subscriptions().some(o=>o===e)&&r.settingsChanged(e,n)})}getDefault(e){return _i[e]}get selectedProtocol(){return this.getSetting("selected-protocol")}set selectedProtocol(e){console.log(`set selected protocol ${e}`),e in this.protocolDefinitions?this.saveSetting("selected-protocol",e):console.log(`trying to set an invalid protocol name: ${e}, ignoring`)}get protocolStages(){return this._protocolStages}set protocolStages(e){this._protocolStages=e}get protocolSegments(){return this._protocolSegments}get eventEndTime(){const e=new Date,[n,r]=this.getSetting("event-end-hhmm").split(":");return e.setHours(Number(n),Number(r),0,0),e}set eventEndTime(e){const n=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;this.saveSetting("event-end-hhmm",n)}get numExercises(){return Math.max(...this.protocolSegments.map(e=>e.exerciseNumber??0))}set protocolSegments(e){this._protocolSegments=e}get sayEstimatedFitFactor(){return this.getSetting("say-estimated-fit-factor")}set sayEstimatedFitFactor(e){this.saveSetting("say-estimated-fit-factor",e)}get verboseSpeech(){return this.getSetting("verbose")}set verboseSpeech(e){this.saveSetting("verbose",e)}get sayParticleCount(){return this.getSetting("say-particle-count")}set sayParticleCount(e){this.saveSetting("say-particle-count",e)}get speechEnabled(){return this.getSetting("speech-enabled")}set speechEnabled(e){this.saveSetting("speech-enabled",e)}getProtocolDefinition(e){return this.protocolDefinitions[e]||[]}getProtocolNames(){return Object.keys(this.protocolDefinitions)}get protocolDefinitions(){const e=bE(this.getSetting("protocol-instruction-sets").json);if(this.getSetting("auto-create-fast-protocols")){const n=this.createFastProtocols(e);Object.assign(e,n)}return e}createFastProtocols(e){const n={},r=Object.keys(e).map(o=>o.toLowerCase());return Object.entries(e).forEach(([o,i])=>{const a=`fast-${o} (*)`;if(!o.toLowerCase().startsWith("fast-")){if(!r.includes(a.toLowerCase())){const l=[],s=i[0];l.push({instructions:"Prep",ambient_purge:s.ambient_purge||ot.defaultAmbientPurgeDuration,ambient_sample:s.ambient_sample||ot.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0}),i.forEach(c=>{c.mask_sample>0&&l.push({instructions:c.instructions,ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:Math.min(c.mask_sample,Math.max(20,c.mask_sample*.75))})});const u=i[i.length-1];l.push({instructions:"Finalize",ambient_purge:u.ambient_purge===0?0:ot.defaultAmbientPurgeDuration,ambient_sample:u.ambient_sample||ot.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0}),n[a]=l}}}),n}set protocolDefinitions(e){this.saveSetting("protocol-instruction-sets",{json:e})}getTestTemplate(){return this.getSetting("test-template")}setTestTemplate(e){this.saveSetting("test-template",e)}async getActualSetting(e){const n=this.cache.get(e);return n!==void 0?n:this.loadSetting(e)}getSetting(e){const n=this.cache.get(e);if(n!==void 0)return n;const r=_i[e];return this.loadSetting(e),r}async loadSetting(e){const n=_i[e];if(lm(e))return this.updateCache(e,n),n;{await os.open();const r=await os.getSetting(e),o=r===void 0?n:r;return this.updateCache(e,o),o}}async loadAllSettings(){const e=Object.keys(_i);for(const r of e)await this.loadSetting(r);const n=this.protocolDefinitions;for(const r of Object.keys(n)){const o=n[r];this.numExercisesForProtocol[r]=py(o)}}saveSetting(e,n){this.cache.has(e)&&this.updateCache(e,n)}updateCache(e,n){if(this.cache.has(e)){const r=this.cache.get(e);if(Fd(r)===Fd(n))return!1;lm(e)||os.open().then(()=>{os.saveSetting(e,n)})}return this.cache.set(e,n),this.dispatch(e,n),!0}updateProtocolStages(e){console.debug(`updateProtocolStages ${e}`);const n=this.protocolDefinitions[e];n&&(this.protocolSegments=gl(n),this.protocolStages=n)}getProtocolDuration(e){const n=this.protocolDefinitions[e]??[],r=gl(n);return my(r)}}const hy=new lb;function my(t){return t.reduce((e,n)=>e+n.duration,0)}function gl(t){const e=[];let n=null,r=0;return t.forEach((o,i)=>{o.mask_sample>0&&(n=(n??0)+1);const a=o.mask_sample>0?n:null;if(o.ambient_purge>0){const l={index:e.length,stage:o,stageIndex:i,exerciseNumber:a,source:ve.AMBIENT,state:zr.PURGE,protocolStartTimeOffsetSeconds:r,duration:o.ambient_purge,data:[]};e.push(l),r+=l.duration}if(o.ambient_sample>0){const l={index:e.length,stage:o,stageIndex:i,exerciseNumber:a,source:ve.AMBIENT,state:zr.SAMPLE,protocolStartTimeOffsetSeconds:r,duration:o.ambient_sample,data:[]};e.push(l),r+=l.duration}if(o.mask_purge>0){const l={index:e.length,stage:o,stageIndex:i,exerciseNumber:a,source:ve.MASK,state:zr.PURGE,protocolStartTimeOffsetSeconds:r,duration:o.mask_purge,data:[]};e.push(l),r+=l.duration}if(o.mask_sample>0){const l={index:e.length,stage:o,stageIndex:i,exerciseNumber:a,source:ve.MASK,state:zr.SAMPLE,protocolStartTimeOffsetSeconds:r,duration:o.mask_sample,data:[]};e.push(l),r+=l.duration}}),e}class wn extends rp{static DEFAULT_DB_NAME="fit-test-data-db";static TEST_RESULTS_OBJECT_STORE="test-results-table-data";constructor(e=wn.DEFAULT_DB_NAME){super(e,[wn.TEST_RESULTS_OBJECT_STORE],2)}onUpgradeNeeded(e){const n=e.result;console.warn(`${this.dbName} Database upgrade needed: ${n.name}`),n.createObjectStore(wn.TEST_RESULTS_OBJECT_STORE,{autoIncrement:!0,keyPath:"ID"})}keepRecords=[];async getData(e){return this.getDataFromDataSource(wn.TEST_RESULTS_OBJECT_STORE,e)}async createNewTest(e,n,r,o){const i=this.openTransactionClassic("readwrite");if(!i)return console.log("database not ready"),new Promise((s,u)=>u(`${this.dbName} database not ready`));const a={Time:e,ProtocolName:n,TestController:r,DataSource:o},l=i?.objectStore(wn.TEST_RESULTS_OBJECT_STORE).add(a);return new Promise((s,u)=>{l.onerror=c=>{const d=`createNewTest request error ${c}`;console.log(d),u(d)},l.onsuccess=c=>{console.log(`createNewTest request complete: ${c}, new key is ${l.result}`),s({...a,ID:Number(l.result)})}})}async updateTest(e){return new Promise((n,r)=>{const o=this.openTransactionClassic("readwrite");if(!o){console.log("database not ready"),r(`${this.dbName} database not ready`);return}e.ID=Number(e.ID);const i=o.objectStore(wn.TEST_RESULTS_OBJECT_STORE).put(e);i.onerror=a=>{const l=`updateTest request error ${a}`;console.log(l),r(l)},i.onsuccess=()=>{n({ID:i.result})}})}async addRecord(e){const n=e;return delete n.ID,this.put(wn.TEST_RESULTS_OBJECT_STORE,n)}async addRecords(e){for(const n of e)await this.addRecord(n)}async deleteRecord(e){return this.deleteRecordById(e.ID)}async deleteRecordById(e){return this.delete(wn.TEST_RESULTS_OBJECT_STORE,e)}}const on=new wn;var gy={exports:{}};(function(t,e){const n=Math.exp;t.exports=function(o){if(typeof o!="number")throw new Error("must provide a timespan to the moving average constructor");if(o<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let i,a=0,l=0,s=0,u,c={};function d(f,p){return 1-n(-(f-p)/o)}return c.push=function(p,v){if(u){const g=d(p,u),y=v-i,h=g*y;i=g*v+(1-g)*i,a=(1-g)*(a+y*h),l=Math.sqrt(a),s=i+g*y}else i=v;u=p},c.movingAverage=function(){return i},c.variance=function(){return a},c.deviation=function(){return l},c.forecast=function(){return s},c}})(gy);var ub=gy.exports;const qt=_a(ub);class po{}class um extends po{instructions;constructor(e){super(),this.instructions=e}}class op extends po{estimate;constructor(e){super(),this.estimate=e}}class vy extends op{constructor(e){super(e)}}class yy extends op{constructor(e){super(e)}}class $d extends op{constructor(e){super(e)}}class cm extends po{line;constructor(e){super(),this.line=e}}class dm extends po{message;constructor(e){super(),this.message=e}}class fm extends po{data;constructor(e){super(),this.data=e}}class gc extends po{record;constructor(e){super(),this.record=e}}class wy extends po{}const pm=5*1e3,vc=20*1e3,cb={emaConcentration:void 0,emaConcentrationStdDev:void 0,guestimatedAmbient:void 0,sampleZone:"unknown",emaConcentrationInZone:void 0,estimatedFitFactor:void 0,estimatedFitFactorBand:void 0,estimatedFitFactorBandLower:void 0,zoneFF:void 0};class db{guestimatedAmbientConcentration=0;maCount5s=qt(pm);maZoneConcentration20s=qt(vc);nextChartUpdateTime=0;_chartOptions;_fullConcentrationHistory=[];dataCollector;constructor(e){this.dataCollector=e}get chartOptions(){return this._chartOptions}set chartOptions(e){this._chartOptions=e}get fullConcentrationHistory(){return this._fullConcentrationHistory}set fullConcentrationHistory(e){this._fullConcentrationHistory=e}resetChart(){this.fullConcentrationHistory=[],this.guestimatedAmbientConcentration=0,this.maCount5s=qt(pm),this.maZoneConcentration20s=qt(vc),this.nextChartUpdateTime=0;const e={axisPointer:{link:[{xAxisIndex:"all"}]},tooltip:{trigger:"axis",axisPointer:{type:"cross"},valueFormatter:iu,position:function(n,r,o,i,a){return n[0]<a.viewSize[0]/2?{bottom:10,right:30}:{bottom:10,left:30}}},grid:[{top:"10%",left:"4%",right:"3%",bottom:"55%",containLabel:!0},{top:"60%",left:"4%",right:"3%",containLabel:!0}],xAxis:[{type:"time",gridIndex:0},{type:"time",gridIndex:1}],yAxis:[{name:"concentration",position:"left",type:"value",gridIndex:0,splitLine:{show:!0},minorSplitLine:{show:!0}},{name:"estimated fit factor",position:"left",type:"value",gridIndex:1}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0,1],filterMode:"filter"},{id:"dataZoomY0",type:"slider",yAxisIndex:[0],filterMode:"empty"},{id:"dataZoomY1",type:"slider",yAxisIndex:[1],filterMode:"empty"}],series:[{name:"concentration",type:"line",encode:{x:["timestamp"],y:["concentration"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{type:"dotted",width:3,opacity:0},markArea:{data:[]}},{name:"guestimated ambient level",type:"line",encode:{x:["timestamp"],y:["guestimatedAmbient"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"gray",width:3},itemStyle:{color:"gray"},showSymbol:!1},{name:"EMA concentration",type:"line",encode:{x:["timestamp"],y:["emaConcentration"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"blue",width:3},itemStyle:{color:"blue"},showSymbol:!1},{name:"EMA concentration in zone",type:"line",encode:{x:["timestamp"],y:["emaConcentrationInZone"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"blue",width:1},itemStyle:{color:"blue"},showSymbol:!1},{name:"Zone FF",type:"line",encode:{x:["timestamp"],y:["zoneFF"]},yAxisIndex:1,xAxisIndex:1,lineStyle:{width:1},itemStyle:{opacity:0},showSymbol:!1}]};this.chartOptions=e}processConcentration(e,n=new Date){if(isNaN(e))return;const r=n.getTime(),o=this.fullConcentrationHistory.length>0?this.fullConcentrationHistory[this.fullConcentrationHistory.length-1]:void 0;let i;this.guestimatedAmbientConcentration?e>this.guestimatedAmbientConcentration?i="ambient":this.maCount5s.movingAverage()<.5*this.guestimatedAmbientConcentration?o?.sampleZone!=="mask"&&this.maCount5s.deviation()>1.5*this.maCount5s.movingAverage()?i="purge":i="mask":this.maCount5s.deviation()<.3*this.guestimatedAmbientConcentration?i="ambient":i="unknown":i="ambient",i==="ambient"&&(this.guestimatedAmbientConcentration=this.maCount5s.movingAverage());let a=NaN;if(o&&o.sampleZone==="mask"){let s=0,u=this.fullConcentrationHistory.length-1,c=0;for(;u>=0&&this.fullConcentrationHistory[u].sampleZone==="mask";u--)this.fullConcentrationHistory.length-u>5&&(s+=this.fullConcentrationHistory[u].concentration,c++);s&&(a=c*this.guestimatedAmbientConcentration/s,o&&(o.zoneFF=a))}this.dataCollector.dispatch(new vy(a)),this.dataCollector.dispatch(new yy(this.guestimatedAmbientConcentration)),i==="mask"?this.dataCollector.dispatch(new $d(e)):this.dataCollector.dispatch(new $d(-1));const l={...cb,timestamp:n,concentration:e,guestimatedAmbient:this.guestimatedAmbientConcentration,emaConcentration:this.maCount5s.movingAverage(),emaConcentrationStdDev:this.maCount5s.deviation(),sampleZone:i,zoneFF:a};if(i==="mask")if(o&&o.sampleZone===i){l.emaConcentrationInZone=this.maZoneConcentration20s.movingAverage();const s=Math.min(.3*l.emaConcentrationInZone,this.maZoneConcentration20s.deviation()),u=l.guestimatedAmbient||0;l.estimatedFitFactor=u/l.emaConcentrationInZone,l.estimatedFitFactorBand=u/(l.emaConcentrationInZone-s)-u/(l.emaConcentrationInZone+s),l.estimatedFitFactorBandLower=u/(l.emaConcentrationInZone+s)}else this.maZoneConcentration20s=qt(vc);if(this.fullConcentrationHistory.push(l),this.maCount5s.push(r,e),this.maZoneConcentration20s.push(r,e),this.chartOptions.dataset={dimensions:["timestamp","concentration","guestimatedAmbient","emaConcentration","emaConcentrationStdDev","sampleZone","emaConcentrationInZone","estimatedFitFactor","estimatedFitFactorBand","estimatedFitFactorBandLower","zoneFF"],source:this.fullConcentrationHistory},this.chartOptions.yAxis[0].type="log",this.chartOptions.yAxis[0].min=Math.min(...this.chartOptions.dataset.source.map(s=>s.concentration)),this.chartOptions.yAxis[0].max=Math.max(...this.chartOptions.dataset.source.map(s=>s.concentration)),this.chartOptions.yAxis[1].type="value",this.chartOptions.dataZoom[0].endValue=l.timestamp,this.chartOptions.dataZoom[0].startValue=l.timestamp.getTime()-15*60*1e3,this.guestimatedAmbientConcentration>0){const s={type:"piecewise",show:!1,seriesIndex:[0],dimension:"",pieces:[{gte:100,lt:1e5,color:"green"},{gte:20,lt:100,color:"darkorange"},{gte:0,lt:20,color:"darkred"}],outOfRange:{color:"#999"}},u=Jo(s);u.dimension="estimatedFitFactor",u.seriesIndex=this.chartOptions.series.findIndex(d=>d.name==="estimated fit factor");const c=Jo(s);c.dimension="zoneFF",c.seriesIndex=this.chartOptions.series.findIndex(d=>d.name==="Zone FF"),this.chartOptions.visualMap=[u,c]}this.updateMarkArea(this.chartOptions,l),Date.now()>this.nextChartUpdateTime&&(this.nextChartUpdateTime=Date.now()+1e3,this.dataCollector.dispatch(new wy))}updateMarkArea(e,n){const r=n.sampleZone,o=e.series[0].markArea.data,[i,a]=o.length>0?o[o.length-1]:[{},{}];if(i.name===r)a.xAxis=n.timestamp;else{const l=[{xAxis:n.timestamp,name:r,itemStyle:{color:n.sampleZone==="mask"?"wheat":n.sampleZone==="ambient"?"powderblue":"black",opacity:.2}},{xAxis:n.timestamp}];o.push(l)}}}class fr extends rp{static DEFAULT_DB_NAME="raw-serial-line-data-db";static SERIAL_LINE_OBJECT_STORE="serial-line-data";constructor(e=fr.DEFAULT_DB_NAME){super(e,[fr.SERIAL_LINE_OBJECT_STORE],1)}onUpgradeNeeded(e){const n=e.result;console.warn(`Database upgrade needed: ${this.dbName}`),n.createObjectStore(fr.SERIAL_LINE_OBJECT_STORE,{autoIncrement:!0,keyPath:"index"})}keepRecords=[];now=new Date;async getData(e){return this.getDataFromDataSource(fr.SERIAL_LINE_OBJECT_STORE,e)}getSomeRecentLines(e){const n=this.openTransactionClassic("readonly");if(!n){console.debug(`${this.dbName} database not ready`);return}const r=n.objectStore(fr.SERIAL_LINE_OBJECT_STORE).openCursor(null,"prev");let o=!1;r.onerror=i=>{console.log(`getSomeRecentLines openCursor request error ${i}`)},r.onsuccess=i=>{console.log(`getSomeRecentLines openCursor request complete: ${i}`);const a=r.result;if(a?(this.keepRecords.push(a.value),a.continue()):(console.log(`${this.dbName} cursor done`),o=!0),o)for(console.log(`collected ${this.keepRecords.length} records`);this.keepRecords.length>0;){const l=this.keepRecords.pop();l&&e(l)}}}addLine(e){const n=this.openTransactionClassic("readwrite");if(!n)return console.log(`${this.dbName} database not ready`),{};const r={timestamp:new Date().toISOString(),data:e},o=n.objectStore(fr.SERIAL_LINE_OBJECT_STORE).add(r);o.onerror=i=>{console.error(`addRecord request error ${i}`)},o.onsuccess=()=>{}}}const au=new fr;class fb{listeners=[];resultsDatabase;previousTestData=null;currentTestData=null;lastExerciseNum=0;sampleSource=ve.MASK;setResults;inProgressTestPromiseChain;controlSource=ue.Internal;settings;_rawLines="";_processedData="";_logLines="";_fitFactorEstimator;_dataSource=Re.NotInitialized;constructor(){this.settings=hy,this.resultsDatabase=on,this._fitFactorEstimator=new db(this),this.fitFactorEstimator.resetChart()}get saveLinesToDb(){return this._dataSource!==Re.Simulator}set dataSource(e){this._dataSource=e}get dataSource(){return this._dataSource}get fitFactorEstimator(){return this._fitFactorEstimator}set fitFactorEstimator(e){this._fitFactorEstimator=e}get rawLines(){return this._rawLines}get logLines(){return this._logLines}get processedData(){return this._processedData}appendToRaw(e){this._rawLines+=e+`
`,this.dispatch(new cm(e))}appendToLog(e){this._logLines+=e,this.dispatch(new dm(e))}appendToProcessedData(e){this._processedData+=e,this.dispatch(new fm(e))}setInstructions(e){this.dispatch(new um(e))}setInstructionsForExercise(e){if(!this.settings.selectedProtocol)return;const n=this.settings.selectedProtocol,o=this.settings.getProtocolDefinition(n)[e-1],i=typeof o=="object"?"instructions"in o?o.instructions:o.i:o;i&&this.setInstructions(`Perform exercise ${e}: ${i}`)}recordTestComplete(){const e=()=>{console.log(`test complete, id ${this.currentTestData?.ID}`),this.previousTestData=this.currentTestData,this.currentTestData=null};this.chain(e)}recordTestAborted(){const e=()=>{if(!this.currentTestData){console.log("no current row, ignoring");return}this.currentTestData[`Ex ${this.lastExerciseNum+1}`]="aborted",this.setInstructions("Test cancelled."),this.updateCurrentRowInDatabase(),console.log("test aborted")};this.chain(e)}chain(e){this.inProgressTestPromiseChain?this.inProgressTestPromiseChain=this.inProgressTestPromiseChain.then(e):e()}async recordTestStart(e,n=new Date().toLocaleString()){if(!this.resultsDatabase){console.log("database not ready");return}if(!this.settings.selectedProtocol){console.log("protocols not loaded (not ready)");return}this.lastExerciseNum=0;const r=await this.resultsDatabase.createNewTest(n,this.settings.selectedProtocol,e,this.dataSource);this.currentTestData=r;const o=this.settings.getTestTemplate();for(const i in o)i in r||i.startsWith("Ex ")||i.startsWith("Final")||typeof o[i]=="string"&&(this.currentTestData[i]=o[i]);console.log(`new test added: ${JSON.stringify(this.currentTestData)}`),this.dispatch(new gc(r))}recordExerciseResult(e,n){const r=()=>{if(!this.currentTestData){console.log("no current row! ignoring");return}typeof e=="number"?(this.currentTestData[`Ex ${e}`]=`${Math.floor(n)}`,this.lastExerciseNum=e):this.currentTestData[`${e}`]=`${Math.floor(n)}`,this.updateCurrentRowInDatabase()};this.chain(r)}updateTest(e){if(e.ID){if(e.ID===this.currentTestData?.ID){const n=this.currentTestData;this.currentTestData=e,Object.entries(n).forEach(([r,o])=>{typeof o=="number"&&this.currentTestData&&this.currentTestData[r]!==o&&(this.currentTestData[r]=o,this.setResults&&this.setResults(i=>[...i]))})}else e.ID===this.previousTestData?.ID&&(this.previousTestData=e);this.resultsDatabase.updateTest(e)}else console.log(`updateTest() unexpected record with no ID: ${e}`)}updateCurrentRowInDatabase(){this.currentTestData&&(this.resultsDatabase.updateTest(this.currentTestData),this.dispatch(new gc(this.currentTestData)))}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners.filter((n,r,o)=>n===e?(o.splice(r,1),!0):!1)}dispatch(e){this.listeners.forEach(n=>{switch(e.constructor.name){case gc.name:{n.currentTestUpdated&&n.currentTestUpdated(e.record);break}case wy.name:{n.tick&&n.tick();break}case cm.name:{n.logRawLine&&n.logRawLine(e.line);break}case dm.name:{if(n.logMessage){const r=e;n.logMessage(r.message)}break}case fm.name:{if(n.logProcessedData){const r=e;n.logProcessedData(r.data)}break}case vy.name:{if(n.estimatedFitFactorChanged){const r=e;n.estimatedFitFactorChanged(r.estimate)}break}case $d.name:{n.estimatedMaskConcentrationChanged&&n.estimatedMaskConcentrationChanged(e.estimate);break}case yy.name:{n.estimatedAmbientConcentrationChanged&&n.estimatedAmbientConcentrationChanged(e.estimate);break}case um.name:{if(n.instructionsChanged){const r=e;n.instructionsChanged(r.instructions)}break}}})}portaCountListener={lineReceived:e=>{e.trim().length>0&&(this.appendToRaw(e),this.saveLinesToDb&&au.addLine(e))},sampleSourceChanged:e=>{console.log(`sampling from ${e}`),this.appendToLog(`sampling from ${e}
`),this.sampleSource=e},dataTransmissionStateChanged:e=>{this.appendToLog(`data transmission state: ${e}`)},testStarted:e=>{this.appendToProcessedData(`
Starting a new test. ${new Date(e).toLocaleString()}
`),this.setInstructionsForExercise(1),this.inProgressTestPromiseChain=this.recordTestStart(ue.Internal,new Date(e).toLocaleString())},controlSourceChanged:e=>{this.controlSource=e},fitFactorResultsReceived:e=>{const n=e.ff,r=e.exerciseNum,o=e.result;this.recordExerciseResult(r,n),typeof r=="number"?(this.appendToProcessedData(`Exercise ${r}: Fit factor is ${n}. Result: ${o}
`),this.setInstructionsForExercise(r+1),At.sayItLater(`Score was ${n}`)):(this.appendToProcessedData(`
Test complete. ${o} with FF of ${n}
`),this.setInstructions(`Test complete. Score: ${n}`),this.appendToLog(JSON.stringify(this.currentTestData)+`
`),this.recordTestComplete(),At.sayItLater(`Final score was ${n}`))},testTerminated:()=>{this.appendToProcessedData(`
Test aborted
`),this.recordTestAborted(),this.recordTestComplete()},particleConcentrationReceived:e=>{const n=()=>{if(this.currentTestData){e.controlSource===ue.Internal&&this.recordParticleCount(e);return}const r=e.concentration,o=e.timestamp;this.controlSource===ue.External&&this.appendToProcessedData(`${this.sampleSource}: ${r}
`),this.fitFactorEstimator.processConcentration(r,o?new Date(o):new Date)};this.chain(n)}};recordParticleCount(e){this.currentTestData&&(this.currentTestData.ParticleCounts||(this.currentTestData.ParticleCounts=[]),this.currentTestData.ParticleCounts.push({type:e.sampleSource,count:e.concentration}),this.updateCurrentRowInDatabase())}setPortaCountClient(e){e.addListener(this.portaCountListener)}}class pb{readable;writable;connected=!1;constructor(e,n){this.readable=e,this.writable=n}getInfo(){return{usbVendorId:-1337}}open(e){return console.debug(`todo: set simulator baud rate to ${e.baudRate}`),this.connected=!0,Promise.resolve()}}class hb{reader;_readerController;writer;_port;_portaCountState=new dy;encoder=new TextEncoder;_started=!1;bias=0;baseConcentration=0;lastCommandTimeMs=0;targetMaskFF=100;constructor(){this.reader=this.createReader(),this.writer=this.createWriter(),this._port=new pb(this.reader,this.writer)}get port(){return this._started=!0,this._port}stop(){this.reader.cancel("stop")}sendResponse(e){const n=this.encoder.encode(e);this._readerController?.enqueue(n)}createReader(){let e,n=!1;return new ReadableStream({pull:r=>{n=!0},start:r=>{console.debug("PortaCountSimulator started"),this._readerController=r,e=setInterval(()=>{if(this._started){const i=this.generateConcentration();console.debug(`simulator loop: ${i}, isPulling? ${n}`),n&&(n=!1,r.enqueue(this.encoder.encode(`${i}
`)))}},1e3)},cancel(){va("cancel() called on underlying source"),e&&clearInterval(e)}})}createWriter(){const e=new CountQueuingStrategy({highWaterMark:1}),n=new TextDecoder,r=this,o=/\r\n|\n|\r/gm;let i="";return new WritableStream({write:a=>{const l=n.decode(a);console.debug(`writer got ${l}`),i+=l;const s=o.exec(i);if(s){const u=i.substring(0,s.index);i=i.substring(o.lastIndex),o.lastIndex=0,r.executeCommand(u)}},close(){},abort(a){console.debug(`abort: ${a}`)}},e)}random(){return Date.now()-this.lastCommandTimeMs>3*60*1e3&&(this.baseConcentration=(1+5*Math.random())*1e3,this.targetMaskFF=10+300*Math.random(),console.debug(`simulator resetting baseConcentration to ${this.baseConcentration}, targetMaskFF to ${this.targetMaskFF}`)),this.baseConcentration+=Math.round(Math.random()*200),this.baseConcentration}randomize(){this.bias=(Math.random()*30-30/2)/100,this.lastCommandTimeMs=Date.now()}executeCommand(e){switch(this.randomize(),e){case le.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE:{this.sendResponse(`RGG
`);break}case le.REQUEST_VOLTAGE_INFO:{["CS191","CB483","CT236","CC065","CL614","CP255","CD068"].forEach(n=>{this.sendResponse(`${n}
`)});break}case le.REQUEST_SETTINGS:{["STPA 00004","STA  00005","STPM 00011","STM0100040","STM0200040","STM0300040","STM0400040","STM0500040","STM0600040","STM0700040","STM0800040","STM0900040","STM1000040","STM1100040","STM1200040","STM1300040","SP 0100100","SP 0200250","SP 0300500","SP 0401000","SP 0501250","SP 0601667","SP 0702000","SP 0804000","SP 0905000","SP 1006667","SP 1110000","SP 1200000","SS   17754","SR   00722","SD   00519"].forEach(n=>{this.sendResponse(`${n}
`)});break}case le.SWITCH_VALVE_OFF:{this._portaCountState.sampleSource=ve.MASK,this.sendResponse(le.SWITCH_VALVE_OFF),this.sendResponse(`
`);break}case le.SWITCH_VALVE_ON:{this._portaCountState.sampleSource=ve.AMBIENT,this.sendResponse(le.SWITCH_VALVE_ON),this.sendResponse(`
`);break}case le.INVOKE_EXTERNAL_CONTROL:{this._portaCountState.controlSource===ue.External?this.sendResponse(`EJ
`):(this._portaCountState.controlSource=ue.External,this.sendResponse(`OK
`));break}case le.RELEASE_FROM_EXTERNAL_CONTROL:{this._portaCountState.controlSource=ue.Internal,this.sendResponse(`G
`);break}default:console.debug(`echoing back: ${e}`),this.sendResponse(`${e}
`)}}generateConcentration(){let e;this._portaCountState.sampleSource===ve.MASK?e=this.random()/this.targetMaskFF:e=this.random(),e=(1-this.bias)*e;let n;return this._portaCountState.controlSource===ue.External?n=`${e.toFixed(2).padStart(9,"0")}`:n=`Conc.${e.toFixed(e<10?2:0).padStart(10," ")} #/cc`,n}}const mb=48e6,gb=t=>new Promise(e=>setTimeout(e,t)),vb=257,yb=256,wb=514,Sb=512,Cb=0,Eb=1,bb=0;function xb(t,e,n){const r=[0,3,2,4,1,5,6,7];let o=0,i,a,l;return t>=e/n?(l=0,o=e/dlkDiv):t>=e/(n+n/2)?(l=1,o=e/(n+n/2)):t>=e/(2*n)?(l=2,o=e/(2*n)):(i=e*16/n/t,i&1?a=i/2+1:a=i/2,a>131072&&(a=131071),o=e*16/n/a,o&1?o=o/2+1:o=o/2,l=a>>3|r[a&7]<<14),[o,l]}function _b(t){let e,n,r,o;if(t<=0)throw new Error("Baud rate must be > 0");return[e,n]=xb(t,mb,16),r=n&65535,o=n>>16,[e,r,o]}class Tb extends EventTarget{dtr=!0;rts=!0;constructor(e,n){super();const r=this;(async()=>{if(e==null)throw new Error("Could not find device");await e.open(),console.log("Opened:",e.opened),e.configuration===null&&(console.log("selectConfiguration"),await e.selectConfiguration(1)),await e.claimInterface(0),await e.selectConfiguration(1),await e.selectAlternateInterface(0,0);const[o,i,a]=_b(n.baudRate);console.log("Setting baud rate to",o),await e.controlTransferOut({requestType:"vendor",recipient:"device",request:3,value:i,index:a}),r.device=e,r.isClosing=!1;const l=await e.controlTransferOut({requestType:"vendor",recipient:"device",request:Cb,value:bb,index:1});console.debug("reset result: ",l);const s=await e.controlTransferOut({requestType:"vendor",recipient:"device",request:Eb,value:(this.dtr?vb:yb)|(this.rts?wb:Sb),index:1});console.debug("set control lines result: ",s),this.device.transferIn(1,64),r.readLoop(),r.dispatchEvent(new Event("ready"))})().catch(o=>{console.log("Error during FTDI setup:",o),r.dispatchEvent(new CustomEvent("error",{detail:o}))})}async readLoop(){let e;try{e=await this.device.transferIn(1,64)}catch(n){n.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.log("Device disconnected"),this.isClosing=!0,this.dispatchEvent(new Event("disconnected"))):console.log("Error reading data:",n)}if(e&&e.data&&e.data.byteLength&&e.data.byteLength>2){console.log(`Received ${e.data.byteLength-2} byte(s).`);const n=new Uint8Array(e.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(2)}))}!this.isClosing&&this.device.opened&&this.readLoop()}async read(){const{data:{buffer:e,byteLength:n}}=await this.device.transferIn(1,64),r=new Uint8Array(e);return n===2?this.read():{bytesRead:n-2,data:r.slice(2)}}async writeAsync(e){return await this.device.transferOut(2,e)}write(e,n){this.writeAsync(e).then(()=>{n()},r=>n(r))}async closeAsync(){this.isClosing=!0,this.dispatchEvent(new Event("disconnected"));try{console.log("Sending EOT"),await this.writeAsync([4]),await gb(2e3),await this.device.releaseInterface(0),await this.device.close(),console.log("Closed device")}catch(e){console.log("Error:",e)}}close(e){(async()=>(await this.closeAsync(),e()))()}}const Db=[75,150,300,600,1200,1800,2400,3600,4800,7200,9600,14400,19200,28800,38400,57600,115200,230400,460800,614400,921600,1228800,2457600,3e6,6e6],kb=1e3,Pb=5e3,Ob=34,yc=1,wc=2,Mb=1,Rb=1,hm=129,Nb=128,Ib=7,Lb=8,Ab=9,Fb=1,$b=2;class jb extends EventTarget{constructor(e,n){super(),this.isClosing=!1,this.bitrate=9600,this.deviceType=2,this.currentFlowControl=0,this.currentControlLinesValue=wc|yc,this.bitrate=n.baudRate,this.device=e}async controlTransferInWithTimeout({requestType:e,recipient:n,request:r,value:o,index:i},a,l=kb){return new Promise((s,u)=>{const c=new AbortController,d=f=>{c.signal.removeEventListener("abort",d),u(f.target)};c.signal.addEventListener("abort",d),setTimeout(()=>{c.abort("controlTransferIn timed out")},l),this.device.controlTransferIn({requestType:e,recipient:n,request:r,value:o,index:i},a).then(f=>{c.signal.aborted?u(`aborted, but we finally got our result: ${JSON.stringify(f)}`):f.data?.byteLength===a?s(f.data.buffer):u("controlTransferIn succeeded, but did not receive expected number of bytes")}).catch(u)})}async controlTransferOutWithTimeout({requestType:e,recipient:n,request:r,value:o,index:i,data:a},l=Pb){return new Promise((s,u)=>{const c=new AbortController,d=f=>{c.signal.removeEventListener("abort",d),u(f.target)};c.signal.addEventListener("abort",d),setTimeout(()=>{c.abort("controlTransferOut timed out")},l),this.device.controlTransferOut({requestType:e,recipient:n,request:r,value:o,index:i},a).then(f=>{c.signal.aborted?u(`aborted, but we finally got our result: ${JSON.stringify(f)}`):f.bytesWritten===(a?a.byteLength:0)?s(f.status):u("controlTransferOut succeeded, but did not write expected number of bytes")}).catch(u)})}async testHxStatus(){return this.controlTransferInWithTimeout({requestType:"vendor",recipient:"device",request:Mb,value:32896,index:0},1).then(()=>!0).catch(()=>!1)}async vendorRead(e,n){const r=(this.deviceType===3,hm);return(await this.device.controlTransferIn({requestType:"vendor",recipient:"device",request:r,value:e,index:n},1)).data?.buffer}async vendorWrite(e,n){const r=this.deviceType===3?Nb:Rb;await this.device.controlTransferOut({requestType:"class",recipient:"device",request:r,value:e,index:n}).then(o=>{console.log(`vendorWrite success ${JSON.stringify(o)}`)}).catch(o=>{console.warn(`vendorWrite failed ${o}`)})}async setBaudRate(e){const r=Db.slice().sort((a,l)=>Math.abs(a-e)-Math.abs(l-e))[0];await this.device.controlTransferIn({requestType:"class",recipient:"interface",request:33,value:0,index:0},7),console.log("Setting baud rate to",r);const o=new ArrayBuffer(7),i=new DataView(o);i.setInt32(0,r,!0),i.setUint8(4,0),i.setUint8(5,0),i.setUint8(6,8),await this.device.controlTransferOut({requestType:"class",recipient:"interface",request:32,value:0,index:0},i)}async purgeHwBuffers(e,n){if(this.deviceType===3){let r=0;e&&(r|=Fb),n&&(r|=$b),r!==0&&await this.vendorWrite(Ib,r)}else e&&await this.vendorWrite(Lb,0),n&&await this.vendorWrite(Ab,0)}async resetDevice(){return this.purgeHwBuffers(!0,!0)}async open(){(async()=>{await this.device.open(),[this.iface]=this.device.configuration?this.device.configuration.interfaces:[],console.log("Claiming interface",this.iface.interfaceNumber),await this.device.claimInterface(this.iface.interfaceNumber),this.iface.alternate.endpoints.forEach(a=>{switch(a.direction){case"in":this.readEndpoint=a;break;case"out":this.writeEndpoint=a;break;default:console.error(`endpoint ${a.endpointNumber} has unexpected direction: ${a.direction}`);break}});const n=(await this.device.controlTransferIn({requestType:"standard",recipient:"device",request:6,value:256,index:0},255)).data;if(!n||n.byteLength<14)throw"Could not get device descriptors.";const r=this.device.usbVersionMajor,o=this.device.deviceVersionMajor,i=n.getInt8(7);if(this.device.deviceClass===2||i!=64)this.deviceType=0;else if(r===512){const a=await this.testHxStatus();a&&o===768?this.deviceType=1:a&&o===1280?this.deviceType=1:this.deviceType=3}else this.deviceType=2;await this.resetDevice(),await this.doBlackMagic(),await this.setControlLines(this.currentControlLinesValue),await this.setFlowControl(this.currentFlowControl),await this.setBaudRate(this.bitrate),this.isClosing=!1,await this.readLoop(),await this.setFlowControl(1),await this.setControlLines(255),this.dispatchEvent(new Event("ready"))})().catch(e=>{console.log("Error during PL2303 setup:",e),this.dispatchEvent(new CustomEvent("error",{detail:e}))})}async readLoop(){if(!this.readEndpoint){console.error("no read endpoint, aborting readLoop()"),await this.close();return}this.device.transferIn(this.readEndpoint.endpointNumber,64).then(e=>{if(e&&e.data&&e.data.byteLength){console.log(`Received ${e.data.byteLength} byte(s).`);const n=new Uint8Array(e.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(0)}))}else console.log("transferIn got no result, no result data, or data was empty")}).catch(e=>{e.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.warn("Device disconnected"),this.dispatchEvent(new Event("disconnected")),this.isClosing=!0):console.error("Error reading data:",e)}).finally(async()=>{!this.isClosing&&this.device.opened&&await this.readLoop()})}async close(){return this.isClosing=!0,this.dispatchEvent(new Event("disconnected")),new Promise((e,n)=>{setTimeout(async()=>{try{await this.device.releaseInterface(0),await this.device.close(),e()}catch(r){console.error("Error while closing:",r),n(r)}},2e3)})}async write(e){return new Promise((n,r)=>{if(!this.writeEndpoint){r("no writeEndpoint");return}this.device.transferOut(this.writeEndpoint?.endpointNumber,e).then(()=>{n({status:"ok",bytesWritten:e.byteLength})}).catch(o=>{console.error(`error writing to ${this.device.constructor.name}: ${o}`),r(o)})})}async doBlackMagic(){this.deviceType!==3&&(await this.vendorRead(33924,0),await this.vendorWrite(1028,0),await this.vendorRead(33924,0),await this.vendorRead(33667,0),await this.vendorRead(33924,0),await this.vendorWrite(1028,1),await this.vendorRead(33924,0),await this.vendorRead(33667,0),await this.vendorWrite(0,1),await this.vendorWrite(1,0),this.deviceType===0?await this.vendorWrite(2,36):await this.vendorWrite(2,68))}async setFlowControl(e){switch(console.log(`setFlowControl ${e}`),e){case 0:this.deviceType===3?await this.vendorWrite(10,255):await this.vendorWrite(0,0);break;case 1:this.deviceType==3?await this.vendorWrite(10,250):await this.vendorWrite(0,97);break;case 4:this.deviceType==3?await this.vendorWrite(10,238):await this.vendorWrite(0,193);break;default:throw`Unsupported flow control: ${e}`}this.currentFlowControl=e}async setDTR(e){let n;e?n=this.currentControlLinesValue|yc:n=this.currentControlLinesValue&~yc,await this.setControlLines(n)}async setRTS(e){let n;e?n=this.currentControlLinesValue|wc:n=this.currentControlLinesValue&~wc,await this.setControlLines(n)}async setControlLines(e){await this.controlTransferOutWithTimeout({requestType:"class",recipient:"interface",request:Ob,value:e,index:0,data:void 0}),this.currentControlLinesValue=e}}const Vb=95,Sc=149,Cc=154,mm=161,Ub=164,Bb=4882,Hb=3884,gm=9496,Wb=128,Yb=64,zb=3,Qb=32,Kb=64,vm=6790,Gb=29987,qb=21795;class Xb extends EventTarget{constructor(e,n){super(),this.isClosing=!1,this.bitrate=9600,this.dtr=!0,this.rts=!0,this.bitrate=n.baudRate,this.device=e}async vendorOut(e,n,r=0){await this.device.controlTransferOut({requestType:"vendor",recipient:"device",request:e,value:n,index:r}).then(o=>{console.log("vendorOut success ",o)}).catch(o=>{console.warn(`vendorOut failed ${o}`)})}async vendorIn(e,n,r,o){return this.device.controlTransferIn({requestType:"vendor",recipient:"device",request:e,value:n,index:r},o)}async checkState(e,n,r,o){const i=await this.vendorIn(n,r,0,o.byteLength);return i.status!=="ok"||!i.data?(console.error(`failed to send ${e}, status ${i.status}, data:`,i.data),!1):i.data.byteLength!==o.byteLength?(console.error(`error sending command ${e}, expected ${o.byteLength}, got ${i.data.byteLength} instead`),!1):i.data.buffer!==o?(console.error(`error sending command ${e}, expected `,o," got ",i.data.buffer),!1):!0}async setBaudRate(e){let n,r;if(e===921600)r=7,n=62208;else{for(n=1532620800/e,r=3;n>65520&&r>0;)n>>=3,r--;if(n>65520)throw console.error(`unsupported baud rate ${e}`),new Error(`unsupported baud rate ${e}`);n=65536-n}r|=128;const o=n&65280|r,i=n&255;console.debug(`set baud rate ${e}, v1=${o}, v2=${i}`),await this.vendorOut(Cc,Bb,o),await this.vendorOut(Cc,Hb,i)}async open(){(async()=>{await this.device.open();const e=this.device.configuration?this.device.configuration.interfaces:[];await Promise.all(e.map(async r=>{console.log("Claiming interface",r.interfaceNumber);try{return await this.device.claimInterface(r.interfaceNumber)}catch(o){return console.error("error claiming interface ",r,`;, reason: ${o}`)}})),e[e.length-1].alternate.endpoints.forEach(r=>{if(r.type==="bulk")switch(r.direction){case"in":this.readEndpoint=r;break;case"out":this.writeEndpoint=r;break;default:console.error(`endpoint ${r.endpointNumber} has unexpected direction: ${r.direction}`);break}else console.debug("ignoring non-bulk endpoint: ",r)}),await this.init(),await this.setBaudRate(this.bitrate),this.isClosing=!1,await this.readLoop(),this.dispatchEvent(new Event("ready"))})().catch(e=>{console.log("Error during CH34x setup:",e),this.dispatchEvent(new CustomEvent("error",{detail:e}))})}async readLoop(){if(!this.readEndpoint){console.error("no read endpoint, aborting readLoop()"),await this.close();return}this.device.transferIn(this.readEndpoint.endpointNumber,this.readEndpoint.packetSize).then(e=>{if(e&&e.data&&e.data.byteLength){console.log(`Received ${e.data.byteLength} byte(s).`);const n=new Uint8Array(e.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(0)}))}else console.log("transferIn got no result, no result data, or data was empty")}).catch(e=>{e.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.warn("Device disconnected"),this.dispatchEvent(new Event("disconnected")),this.isClosing=!0):console.error("Error reading data:",e)}).finally(async()=>{!this.isClosing&&this.device.opened&&await this.readLoop()})}async close(){return this.isClosing=!0,this.dispatchEvent(new Event("disconnected")),new Promise((e,n)=>{setTimeout(async()=>{try{await this.device.releaseInterface(0),await this.device.close(),e()}catch(r){console.error("Error while closing:",r),n(r)}},2e3)})}async write(e){return new Promise((n,r)=>{if(!this.writeEndpoint){r("no writeEndpoint");return}this.device.transferOut(this.writeEndpoint?.endpointNumber,e).then(()=>{n({status:"ok",bytesWritten:e.byteLength})}).catch(o=>{console.error(`error writing to ${this.device.constructor.name}: ${o}`),r(o)})})}async setControlLines(){return this.vendorOut(Ub,~((this.dtr?Qb:0)|(this.rts?Kb:0)),0)}async init(){await this.checkState("init 1",Vb,0,new Uint8Array([-1,0])),await this.vendorOut(mm,0,0),await this.setBaudRate(9600),await this.checkState("init 4",Sc,gm,new Uint8Array([-1,0])),await this.vendorOut(Cc,gm,Yb|Wb|zb),await this.checkState("init 6",Sc,1798,new Uint8Array([-1,-1])),await this.vendorOut(mm,20511,55562),await this.setBaudRate(9600),await this.setControlLines(),await this.checkState("init 10",Sc,1798,new Uint8Array([-1,-1]))}}class ym{device;driver;connected=!1;readable;writable;constructor(e,n){this.device=e,this.driver=n,this.readable=n.getReadableStreamFromDataSource(),this.writable=n.getWritableStreamFromDataSink()}getInfo(){return{usbVendorId:this.device.vendorId,usbProductId:this.device.productId}}async open(e){return new Promise((n,r)=>{this.driver.open(this.device,e).then(()=>{this.connected=!0,n(),console.log(`${this.driver.name} opened`)}).catch(r)})}}class ip extends cy{options;name;noDataWaitTimeMs=300;readable;writable;inboundDataQueue=[];constructor(e){super(),this.name=this.constructor.name,this.options=e}getReadableStreamFromDataSource(){const e=this;return new ReadableStream({start(n){r().catch(o=>n.error(o));async function r(){return e.dataRequest().then(o=>o.length===0?(va("No data from source: closing"),n.close(),new Uint8Array):(n.enqueue(o),r()))}},cancel(){va("cancel() called on underlying source"),e.closeImpl()}})}getWritableStreamFromDataSink(){const e=new CountQueuingStrategy({highWaterMark:1}),n=new TextDecoder,r=this;return new WritableStream({write(o){const i=n.decode(o);return console.log(`sending to ${r.name}: ${i}`),new Promise((a,l)=>{r.write(o).then(s=>{console.log(`successfully sent to ${r.name}: ${s.status}, bytesWritten: ${s.bytesWritten}`),a()}).catch(s=>{console.log(`error sending to ${r.name}: ${s.toString()}`),l(s)})})},close(){console.log(`${r.name} sink closed`)},abort(o){console.log(`${r.name} Sink error:`,o)}},e)}async dataRequest(){if(this.inboundDataQueue.length===0)return console.debug(`dataRequest() called, closed? ${this.closed}`),this.closed?Promise.resolve(new Uint8Array):new Promise(n=>{setTimeout(()=>{this.dataRequest().then(r=>{n(r)})},this.noDataWaitTimeMs)});const e=this.inboundDataQueue.splice(0,this.inboundDataQueue.length);return new Promise(n=>{const r=e.reduce((i,a)=>i+a.length,0),o=new Uint8Array(r);e.reduce((i,a)=>(o.set(a,i),i+a.length),0),n(o)})}}class Zb extends ip{delegate;constructor(){super([{filters:[{vendorId:vm,productId:Gb},{vendorId:vm,productId:qb}]}])}async open(e,n){return new Promise((r,o)=>{this.delegate=new Xb(e,n),this.delegate.addEventListener("data",i=>{const a=i.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",i=>{o(i)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(e)}`),this.closed=!0}),this.delegate.open()})}async closeImpl(){return this.delegate?.close()}async write(e){return this.delegate?this.delegate.write(e):new Promise((n,r)=>{r("not yet initialized")})}}class Jb extends ip{delegate;constructor(){super([{filters:[{vendorId:1659,productId:9123},{vendorId:1659,productId:8963}]}])}async open(e,n){return new Promise((r,o)=>{this.delegate=new jb(e,n),this.delegate.addEventListener("data",i=>{const a=i.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",i=>{o(i)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(e)}`),this.closed=!0}),this.delegate.open()})}async closeImpl(){return this.delegate?.close()}async write(e){return this.delegate?this.delegate.write(e):new Promise((n,r)=>{r("not yet initialized")})}}class ex extends ip{delegate;constructor(){super([{filters:[{vendorId:1027,productId:24577}]}])}async open(e,n){return new Promise((r,o)=>{this.delegate=new Tb(e,n),this.delegate.addEventListener("data",i=>{const a=i.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",i=>{o(i.detail)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(e)}`),this.closed=!0})})}async closeImpl(){return this.delegate.closeAsync()}async write(e){return this.delegate.writeAsync(e)}}class Vo{static supportedDrivers=[new ex,new Jb,new Zb];static async getPorts(){const e=[];return navigator.usb&&(await navigator.usb.getDevices()).forEach(r=>{const o=Vo.findDriverForDevice(r);o&&e.push(new ym(r,o))}),e}async requestPort(){return new Promise((e,n)=>{const r=Vo.supportedDrivers.flatMap(o=>o.options.flatMap(i=>i.filters));navigator.usb.requestDevice({filters:r}).then(o=>{const i=Vo.findDriverForDevice(o);i?e(new ym(o,i)):n(`could not find driver for device ${JSON.stringify(o)}`)})})}static findDriverForDevice(e){return this.supportedDrivers.find(n=>n.options.flatMap(o=>o.filters).find(o=>o.vendorId==e.vendorId&&o.productId===e.productId))}}class tx{listeners=[];intervalMs;intervalId;constructor(e=1e3){this.intervalMs=e}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners.filter((n,r,o)=>n===e?(o.splice(r,1),!0):!1)}tick(){const e=Date.now();this.listeners.forEach(n=>{n.tick(e)})}start(){this.intervalId=setInterval(()=>{this.tick()},this.intervalMs)}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}}const Sy=new tx;function ap(t){const e=m.useContext(Ke),n=()=>{},r=m.useRef(n);m.useEffect(()=>{r.current=t},[t]),m.useEffect(()=>{const o={tick:()=>{r.current()}};return e.timingSignal.addListener(o),()=>e.timingSignal.removeListener(o)},[])}const yt=hy,su=new fb,rr=new GE,Cy=new qE(rr,su),nx=new hb;function rx(){su.setPortaCountClient(rr)}function ox(){rr.addListener({particleConcentrationReceived(n){if(!At.isSayingSomething()&&yt.speechEnabled&&yt.sayParticleCount){const r=n.concentration,o=Math.ceil(r),i=o<20?(Math.ceil(r*10)/10).toFixed(1):o,a=yt.verboseSpeech?`Particle count is ${i}`:i.toString();At.sayIt(a)}}});let t="";const e={instructionsChanged(n){const r=n.split(".",2)[0];t!==n&&(t=n,At.sayItLater(r))},estimatedFitFactorChanged(n){yt.sayEstimatedFitFactor&&At.sayItPolitely(`Estimated Fit Factor is ${n.toFixed(0)}`)}};su.addListener(e)}function ix(t){const e=yt.getProtocolDefinition(t),n=py(e),r=rr.settings,o=r.numExercises||n;o!==n&&console.warn(`numExercises (${o} does not match num exercise for protocol ${t} (${n})`);const i=[];let a=0;return e.forEach(l=>{if(l.mask_sample){a++;const s={instructions:l.instructions,ambient_purge:r.ambientPurge||ot.defaultAmbientPurgeDuration,ambient_sample:r.ambientSample||ot.defaultAmbientSampleDuration,mask_purge:r.maskPurge||ot.defaultMaskPurgeDuration,mask_sample:r.maskSample.get(a)||ot.defaultMaskSampleDuration};a>o?console.log(`Ignoring extra exercises. Device is configured for ${o}. Ignoring exercise ${a}`):i.push(s)}}),i.push({instructions:"finalize",ambient_purge:r.ambientPurge,ambient_sample:r.ambientSample,mask_purge:0,mask_sample:0}),i}async function Ey(){const t=navigator.serial?(await navigator.serial.getPorts()).filter(a=>a.getInfo().usbVendorId):[],e=await Vo.getPorts(),n=e.length>0?e[0]:null,r=t.length>0?t[0]:null,o=yt.getSetting(F.SELECTED_DATA_SOURCE);let i=null;o===Re.WebUsbSerial&&n?i=n:o===Re.WebSerial&&r?i=r:n?(i=n,yt.saveSetting(F.SELECTED_DATA_SOURCE,Re.WebUsbSerial)):r&&(i=r,yt.saveSetting(F.SELECTED_DATA_SOURCE,Re.WebSerial)),i?(console.debug(`auto-connecting to port ${JSON.stringify(i)}`),rr.connect(i)):yt.getSetting(F.ENABLE_AUTO_CONNECT)&&setTimeout(()=>Ey(),1500)}async function ax(){on.getData().then(t=>{const e=t.reduce((n,r)=>(n.add((r.Mask??"").trim()),n),new Set);yt.saveSetting(F.MASK_LIST,[...e].sort(ly.compare))})}function sx(){rr.baudRate=yt.getSetting(F.BAUD_RATE),rr.syncOnConnect=yt.getSetting(F.SYNC_DEVICE_STATE_ON_CONNECT)}function lx(){let t=!1,e=nt.Disconnected;function n({executorRunning:o,activity:i}){o!==void 0&&(t=o),i!==void 0&&(e=i),yt.saveSetting(F.ACTIVITY,t?nt.Testing:e)}const r={started(){n({executorRunning:!0})},cancelled(){n({executorRunning:!1})},completed(){n({executorRunning:!1})},activityChanged(o){n({activity:o})},connectionStatusChanged(o){switch(o){case dt.DISCONNECTED:n({activity:nt.Disconnected});break;default:n({activity:nt.Idle});break}}};rr.addListener(r),Cy.addListener(r)}async function ux(){await yt.loadAllSettings(),await on.open(),await au.open(),sx(),ox(),rx(),await ax(),lx(),Sy.start(),yt.getSetting(F.ENABLE_AUTO_CONNECT)&&await Ey()}await ux();const by={portaCountClient:rr,settings:yt,dataCollector:su,protocolExecutor:Cy,portaCountSimulator:nx,timingSignal:Sy},Ke=m.createContext(by);function cx(t,e){const n=m.useRef(),r=m.useRef(),o=i=>{r.current===void 0&&(r.current=i),t({frameCurrentTime:i}),n.current=requestAnimationFrame(o)};m.useEffect(()=>(n.current=requestAnimationFrame(o),()=>{n.current&&cancelAnimationFrame(n.current)}),e)}function te(t){const e=m.useContext(Ke).settings,[n,r]=m.useState(e.getSetting(t));return m.useEffect(()=>{const o={subscriptions:()=>[t],settingsChanged(i,a){r(a)}};return e.addListener(o),()=>e.removeListener(o)},[]),m.useEffect(()=>{e.saveSetting(t,n)},[n]),[n,r]}function xy(){const t=m.useContext(Ke),e=t.settings.getProtocolNames(),[n,r]=te(F.SELECTED_PROTOCOL),o=i=>{const a=n;r(i),a!==i&&t.protocolExecutor.protocolIsExecuting()&&t.protocolExecutor.cancel()};return C.jsx("select",{onChange:i=>o(i.target.value),value:n,children:e.map(i=>C.jsx("option",{value:i,children:i},i))})}var _y={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wm=D.createContext&&D.createContext(_y),dx=["attr","size","title"];function fx(t,e){if(t==null)return{};var n=px(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function px(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vl.apply(this,arguments)}function Sm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sm(Object(n),!0).forEach(function(r){hx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hx(t,e,n){return e=mx(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mx(t){var e=gx(t,"string");return typeof e=="symbol"?e:e+""}function gx(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ty(t){return t&&t.map((e,n)=>D.createElement(e.tag,yl({key:n},e.attr),Ty(e.child)))}function Ge(t){return e=>D.createElement(vx,vl({attr:yl({},t.attr)},e),Ty(t.child))}function vx(t){var e=n=>{var{attr:r,size:o,title:i}=t,a=fx(t,dx),l=o||n.size||"1em",s;return n.className&&(s=n.className),t.className&&(s=(s?s+" ":"")+t.className),D.createElement("svg",vl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:s,style:yl(yl({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&D.createElement("title",null,i),t.children)};return wm!==void 0?D.createElement(wm.Consumer,null,n=>e(n)):e(_y)}function yx(t){return Ge({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zM6 4.5l6 3.5-6 3.5z"},child:[]}]})(t)}function wx(t){return Ge({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zM5 5h6v6h-6z"},child:[]}]})(t)}function Sx(t){return Ge({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707m0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707m-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707"},child:[]}]})(t)}function Cx(t){return Ge({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"},child:[]}]})(t)}function Ex(t){return Ge({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 9a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3A.5.5 0 0 1 6 9M3.854 4.146a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708z"},child:[]},{tag:"path",attr:{d:"M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"},child:[]}]})(t)}function Dy(t){return Ge({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 2A2.5 2.5 0 0 0 10 4.5a.5.5 0 0 1-1 0A3.5 3.5 0 1 1 12.5 8H.5a.5.5 0 0 1 0-1h12a2.5 2.5 0 0 0 0-5m-7 1a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 1 1 2 2h-5a.5.5 0 0 1 0-1h5a1 1 0 0 0 0-2M0 9.5A.5.5 0 0 1 .5 9h10.042a3 3 0 1 1-3 3 .5.5 0 0 1 1 0 2 2 0 1 0 2-2H.5a.5.5 0 0 1-.5-.5"},child:[]}]})(t)}function bx(t){return Ge({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"},child:[]}]})(t)}function ky(t){return Ge({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,104a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,104Zm-8,24H88a8,8,0,0,0,0,16h80a8,8,0,0,0,0-16Zm88-24v24a32,32,0,0,1-32,32h-5.19c-7.19,15.8-21.79,29.43-43.23,40.16a191.16,191.16,0,0,1-46.15,15.71,7.93,7.93,0,0,1-2.86,0,191.16,191.16,0,0,1-46.15-15.71C59,189.43,44.38,175.8,37.19,160H32A32,32,0,0,1,0,128V104A32,32,0,0,1,32,72h.85a16,16,0,0,1,9.68-10l80-29.09a16.06,16.06,0,0,1,10.94,0l80,29.09a16,16,0,0,1,9.68,10H224A32,32,0,0,1,256,104ZM32.55,144a58.74,58.74,0,0,1-.55-8V88a16,16,0,0,0-16,16v24a16,16,0,0,0,16,16ZM208,136V77.09L128,48,48,77.09V136c0,45,69.09,61.52,80,63.84C138.89,197.52,208,181,208,136Zm32-32a16,16,0,0,0-16-16v48a58.74,58.74,0,0,1-.55,8H224a16,16,0,0,0,16-16Z"},child:[]}]})(t)}function xx(t){return Ge({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,128a79.94,79.94,0,0,0-32.7-64.47l-6.24-34.38A16,16,0,0,0,153.32,16H102.68A16,16,0,0,0,86.94,29.15L80.7,63.53a79.9,79.9,0,0,0,0,128.94l6.24,34.38A16,16,0,0,0,102.68,240h50.64a16,16,0,0,0,15.74-13.15l6.24-34.38A79.94,79.94,0,0,0,208,128ZM102.68,32h50.64l3.91,21.55a79.75,79.75,0,0,0-58.46,0ZM64,128a64,64,0,1,1,64,64A64.07,64.07,0,0,1,64,128Zm89.32,96H102.68l-3.91-21.55a79.75,79.75,0,0,0,58.46,0ZM120,128V88a8,8,0,0,1,16,0v32h32a8,8,0,0,1,0,16H128A8,8,0,0,1,120,128Z"},child:[]}]})(t)}function _x(t){return Ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M224 232a32 32 0 0 1 64 0m160-32h16m-400 0H48m16 0c0 96 16 128 80 128s80-32 80-128c0 0-16-16-80-16s-80 16-80 16zm384 0c0 96-16 128-80 128s-80-32-80-128c0 0 16-16 80-16s80 16 80 16z"},child:[]}]})(t)}function Tx(t){return Ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 256a112 112 0 1 0-112-112 112 112 0 0 0 112 112zm0 32c-69.42 0-208 42.88-208 128v64h416v-64c0-85.12-138.58-128-208-128z"},child:[]}]})(t)}function Dx(t){return Ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 112 48v16H96a64 64 0 0 0-64 64v12a4 4 0 0 0 4 4h440a4 4 0 0 0 4-4v-12a64 64 0 0 0-64-64zm61 112H35a3 3 0 0 0-3 3v237a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V179a3 3 0 0 0-3-3zM224 307.43A28.57 28.57 0 0 1 195.43 336h-70.86A28.57 28.57 0 0 1 96 307.43v-70.86A28.57 28.57 0 0 1 124.57 208h70.86A28.57 28.57 0 0 1 224 236.57z"},child:[]}]})(t)}function is({icon:t,text:e,children:n}){return C.jsxs("div",{className:"icon-text svg-container thin-border blue-bg number-field",style:{display:"inline-flex",gap:"0.2em"},children:[C.jsx("div",{className:"wide-display",children:e}),C.jsx("div",{className:"narrow-display",children:t?t({}):null}),n]})}function kx({...t}){const e=m.useContext(Ke),n=e.protocolExecutor,r=e.portaCountClient,o=e.dataCollector,[i,a]=m.useState(),[l,s]=m.useState(Date.now()),[u,c]=m.useState(!1),[d]=te(F.SELECTED_PROTOCOL),[f,p]=m.useState({}),[v,g]=m.useState(!0),[y,h]=m.useState([]),[w,S]=m.useState([]),[E,_]=m.useState(!1),[b,T]=m.useState(0),[x,k]=m.useState([]),[M,O]=m.useState([]),[A,H]=m.useState(Ve(0)),W=m.useRef(null),$=m.useRef(null),N=n.lastAmbientSegment?gr(n.lastAmbientSegment):void 0,U=i?gr(i):void 0,P=N&&U?iu(N/U):"?";function I(K){const re=fy(K),oe=K.index===i?.index,ye=K.duration*1e3-(Date.now()-l);if(!re)return"";const Xe=f[`Ex ${K.exerciseNumber}`];return Xe?`done - ${Xe}`:oe?ye>0?`${Ve(ye)} (${P})`:`${Ve(ye)} (${P})`:Ve(1e3*K.duration)}function V(){const K={},re={},oe=[],ye=[],Xe=my(y);y.forEach(Q=>{re[Q.index]=Q.duration,K[Q.stageIndex]=(K[Q.stageIndex]??0)+Q.duration;const Qt=Q.index===i?.index;oe.push(C.jsx("div",{className:`segment-${Q.state} sample-source-${Q.source}`,style:{display:"block",flexGrow:`${Q.duration}`,flexBasis:`${Q.duration}px`,minWidth:"2px",overflow:"clip",animation:Qt?"pulse-background infinite 1s ease-in-out alternate":""},children:I(Q)},`segment-${Q.index}`)),ye[Q.stageIndex]=Q.exerciseNumber});const z=[];Object.entries(K).forEach(([Q,Qt])=>{const St=Number(Q);z.push(C.jsxs("div",{style:{border:"1px solid black",display:"inline-block",flexGrow:`${Qt}`,flexBasis:`${Qt}px`,minWidth:"1px",maxHeight:"3rem",overflow:"clip"},children:[ye[St]?`Ex ${ye[St]}: `:"",w[St].instructions.split(".")[0]]},`stage-${Q}`))}),T(Xe),k(oe),O(z)}function J(K){K.index===0&&V(),a(K),s(K.segmentStartTimeMs||Date.now()),c(!0)}function ee(){n.currentSegment&&a(n.currentSegment)}m.useEffect(()=>{const K={testStarted(re){_(!0),a(y[0]),s(re),xe({source:ue.Internal})},testTerminated(){_(!1),a(void 0)},fitFactorResultsReceived(re){if(re.exerciseNum==="Final")_(!1),a(void 0);else{const oe=y.reduce((ye,Xe,z,Q)=>ye||(Xe.exerciseNumber===re.exerciseNum+1?Q[z]:null),null);a(oe||void 0),s(re.timestamp)}}};return r.addListener(K),()=>{r.removeListener(K)}},[y]),m.useEffect(()=>{const K={started(){c(!0)},segmentDataUpdated(){},segmentChanged(oe){J(oe)},cancelled(){W.current&&W.current.classList.replace("in-progress","paused"),c(!1),a(void 0)},completed(){c(!1),a(void 0)}},re={currentTestUpdated(oe){p(oe),g(!0)}};return n.addListener(K),o.addListener(re),xe({}),ee(),()=>{n.removeListener(K),o.removeListener(re)}},[]),m.useEffect(()=>{p({}),xe({}),g(!0)},[d]),m.useEffect(()=>{u?$.current?.classList.replace("idle","in-progress"):$.current?.classList.replace("in-progress","idle")},[u]),ap(De);function xe({protocolName:K=d,source:re=ue.External}){const oe=re===ue.External?e.settings.getProtocolDefinition(K):ix(K);S(oe),h(gl(oe)),g(!0)}function De(){(v||i&&i.state&&i.state!==zr.IDLE)&&(H(Ve(qe(1e3*(i?.duration??0)))),V(),g(!1))}function qe(K,re=!0){const oe=Date.now()-l,ye=Math.min(oe,K);return i?i.protocolStartTimeOffsetSeconds*1e3+(re?ye:oe):0}cx(()=>{if(!(!u&&!E)&&W.current){const K=1e3*(i?.duration??0),re=qe(K,!E);Date.now()-l>=K?W.current.classList.replace("in-progress","paused"):W.current.classList.replace("paused","in-progress"),W.current.style.right=`${100-.1*re/b}%`}},[b,l]);function _e(){n.cancel()}function L(){return i&&i.source===ve.MASK&&U&&!isNaN(U)?U.toFixed(U<100?1:0):"?"}function pe(){if(!i)return"?";if(i.source===ve.AMBIENT){const K=gr(i);if(K)return K.toFixed(0)}return N?N.toFixed(0):"?"}return C.jsx("section",{id:"custom-control-panel",...t,children:C.jsxs("fieldset",{id:"protocol-executor-panel-main",ref:$,className:"idle",style:{minWidth:0,overflow:"auto",paddingBottom:"0.2em"},children:[C.jsxs("legend",{style:{textAlign:"start",display:"inline-flex",flexWrap:"wrap",paddingInline:"0.5rem"},children:["Protocol ",C.jsx(xy,{}),C.jsxs("button",{disabled:u||r.state.connectionStatus!==dt.RECEIVING,className:"start",onClick:()=>n.executeProtocol(y),children:["Start ",C.jsx(yx,{})]}),C.jsxs("button",{disabled:!u,onClick:()=>_e(),className:"stop",children:["Stop ",C.jsx(wx,{})]}),C.jsxs("div",{style:{display:"inline-flex"},children:[C.jsxs(is,{icon:xx,text:"Time:",children:[A," / ",Ve(b*1e3)]}),C.jsx(is,{icon:Dy,text:"Ambient:",children:pe()}),C.jsx(is,{icon:ky,text:"Mask:",children:L()}),C.jsx(is,{icon:_x,text:"Estimate:",children:P})]})]}),C.jsx("div",{id:"protocol-visualizer-container",style:{minWidth:"fit-content"},children:C.jsxs("section",{id:"protocol-visualizer",style:{position:"relative"},children:[C.jsx("div",{id:"protocol-pos-pointer",ref:W,className:"protocol-position-pointer paused",style:{float:"inline-start",zIndex:1}}),C.jsx("div",{style:{display:"flex",flexWrap:"nowrap",width:"100%",minWidth:"100%",backgroundColor:"lightgray",height:"fit-content",minHeight:"1rem"},children:M}),C.jsx("div",{style:{display:"flex",flexWrap:"nowrap",width:"100%",minWidth:"100%",backgroundColor:"lightgray",height:"fit-content",minHeight:"1rem"},children:x})]})})]})})}function wl({onChange:t,textAreaRef:e,value:n,placeholder:r,...o}){const i=m.useRef(null);function a(s){i.current&&(i.current.dataset.value=s)}m.useEffect(()=>{a(n)},[]);function l(s){a(s.target.value),t&&t(s)}return C.jsx("label",{className:"textarea-resizer",ref:i,children:C.jsx("textarea",{...o,placeholder:r,value:n,ref:e,onChange:s=>l(s)})})}function Cm({value:t,onChange:e,debounce:n=500,...r}){const[o,i]=D.useState(t),a=m.useRef(null);return D.useEffect(()=>{i(t)},[t]),D.useEffect(()=>{const l=setTimeout(()=>{console.debug(`debouncedTextArea applying change: ${t} -> ${o}`),e(o)},n);return()=>clearTimeout(l)},[o]),r||(r={}),r.style||(r.style={}),r.style.width="100%",C.jsx(wl,{textAreaRef:a,...r,value:o,onChange:l=>i(l.target.value)})}function Py({...t}){return C.jsx("fieldset",{style:{borderBottom:"none",borderInline:"none",paddingInline:0,minWidth:0},children:t.children})}function Oy({value:t,onChange:e,debounce:n=500,inputRef:r,...o}){const[i,a]=D.useState(t);return D.useEffect(()=>{a(t)},[t]),D.useEffect(()=>{const l=setTimeout(()=>{e(i)},n);return()=>clearTimeout(l)},[i]),C.jsx("input",{ref:r,...o,value:i,onChange:l=>a(l.target.value)})}function Px(t){return Ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 16C123.45 16 16 123.45 16 256s107.45 240 240 240 240-107.45 240-240S388.55 16 256 16zm0 60c99.41 0 180 80.59 180 180s-80.59 180-180 180S76 355.41 76 256 156.59 76 256 76zm-80.625 60c-.97-.005-2.006.112-3.063.313v-.032c-18.297 3.436-45.264 34.743-33.375 46.626l73.157 73.125-73.156 73.126c-14.63 14.625 29.275 58.534 43.906 43.906L256 299.906l73.156 73.156c14.63 14.628 58.537-29.28 43.906-43.906l-73.156-73.125 73.156-73.124c14.63-14.625-29.275-58.5-43.906-43.875L256 212.157l-73.156-73.125c-2.06-2.046-4.56-3.015-7.47-3.03z"},child:[]}]})(t)}function Ox({value:t,onChange:e,allowCreate:n=!1,showClearControl:r=!1}){const[o,i]=te(F.MASK_LIST),a=m.useRef(null),l=m.useRef(null);m.useEffect(()=>{l.current&&(l.current.style.display="none")},[]);function s(p){n&&i(v=>[...new Set([...v,p])].filter(g=>g&&g.trim().length>0).toSorted(ly.compare))}function u(){!a.current||!l.current||(a.current.style.visibility="hidden",l.current.style.display="block",l.current?.showPicker(),l.current?.focus())}function c(p){!a.current||!l.current||(a.current.style.display="block",a.current.style.visibility="visible",l.current.style.display="none",s(p.target.value))}function d(p){e&&e(p)}function f(){d("")}return C.jsxs("div",{style:{width:"100%",height:"inherit",display:"flex",flexDirection:"row",position:"relative"},children:[C.jsx(Oy,{style:{fontFamily:"monospace",width:"calc(100% - 4px)",position:"absolute",top:0,left:0},inputRef:l,className:"simple-mask-selector selector-input",list:"masklist",name:"mask-list",placeholder:"Click to add mask",value:t||"",debounce:500,onBlur:c,onChange:p=>d(p)}),C.jsx("datalist",{id:"masklist",children:o.map(p=>C.jsx("option",{value:p},p))}),C.jsx(wl,{className:"selector-value",textAreaRef:a,onFocus:u,value:t,style:{width:"calc(100% - 4px)",height:"calc(100% - 4px)",borderWidth:0,resize:"none"},placeholder:"Click to add mask"}),r&&C.jsx("div",{className:"cancel-hover-control",style:{position:"absolute",top:0,right:0,height:"100%",width:"fit-content",alignContent:"center"},children:C.jsx("div",{className:"svg-container",onClick:f,children:C.jsx(Px,{})})})]})}function Mx(){const t=m.useContext(Ke),[e,n]=te(F.TEST_TEMPLATE),[,r]=m.useState({}),o=m.useCallback(()=>{r({})},[]);m.useEffect(()=>{o()},[e]);function i(f){f=f.trim(),console.debug(`updating current participant -> '${f}'`),e.Participant!==f&&(e.Time=new Date().toISOString()),e.Participant=f,c()}function a(f){e.Mask=f?f.trim():"",c()}function l(f){e.Notes=f,c()}function s(){e.Participant="",e.Mask="",e.Notes="",e.Time=new Date().toISOString(),c()}function u(){e.Mask="",e.Notes="",c()}function c(){console.debug(`updateTestTemplate -> ${JSON.stringify(e)}`),n(Jo(e))}function d(){t.dataCollector.recordTestStart(ue.Manual)}return C.jsx("div",{id:"current-participant-panel",children:C.jsxs(Py,{children:[C.jsxs("legend",{children:["Current Participant ",C.jsx("button",{onClick:()=>d(),children:"Manual Entry"})]}),C.jsxs("div",{style:{display:"flex",textAlign:"start",flexDirection:"row",flexWrap:"wrap",justifySelf:"center"},children:[C.jsxs("fieldset",{className:"info-box-compact",children:[C.jsxs("legend",{children:["Participant ",C.jsx("input",{id:"next-participant-button",type:"button",value:"Next participant",onClick:s})]}),C.jsx(Cm,{className:"table-cell-input",placeholder:"Click to add Participant",value:e.Participant||"",onChange:f=>i(f)})]}),C.jsxs("fieldset",{className:"info-box-compact",style:{width:"25ch"},children:[C.jsxs("legend",{children:["Mask ",C.jsx("input",{id:"next-mask-button",type:"button",value:"Next mask",onClick:u})]}),C.jsx(Ox,{value:e.Mask,onChange:f=>a(f),allowCreate:!0,showClearControl:!0})]}),C.jsxs("fieldset",{className:"info-box-compact",style:{width:"25ch"},children:[C.jsx("legend",{children:"Notes"}),C.jsx(Cm,{className:"table-cell-input",placeholder:"Click to add Notes",value:e.Notes,onChange:f=>l(f)})]})]})]})})}function Rx(){return C.jsxs("fieldset",{className:"info-box-compact",children:[C.jsx("legend",{children:"Protocol"}),C.jsx(xy,{})]})}function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z.apply(null,arguments)}function oo(t){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(t)}function Nx(t,e){if(oo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function My(t){var e=Nx(t,"string");return oo(e)=="symbol"?e:e+""}function ji(t,e,n){return(e=My(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Em(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Em(Object(n),!0).forEach(function(r){ji(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ix(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,My(r.key),r)}}function Lx(t,e,n){return e&&bm(t.prototype,e),n&&bm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jd(t,e){return jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},jd(t,e)}function Ax(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jd(t,e)}function Sl(t){return Sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sl(t)}function Ry(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ry=function(){return!!t})()}function Fx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $x(t,e){if(e&&(oo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fx(t)}function jx(t){var e=Ry();return function(){var n,r=Sl(t);if(e){var o=Sl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $x(this,n)}}function Vd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Vx(t){if(Array.isArray(t))return Vd(t)}function Ux(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ny(t,e){if(t){if(typeof t=="string")return Vd(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vd(t,e):void 0}}function Bx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uo(t){return Vx(t)||Ux(t)||Ny(t)||Bx()}var Hx=!1;function Wx(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Yx(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var zx=function(){function t(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!Hx:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Yx(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Wx(o);try{i.insertRule(r,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},t}(),gt="-ms-",Cl="-moz-",he="-webkit-",Iy="comm",sp="rule",lp="decl",Qx="@import",Ly="@keyframes",Kx="@layer",Gx=Math.abs,lu=String.fromCharCode,qx=Object.assign;function Xx(t,e){return ct(t,0)^45?(((e<<2^ct(t,0))<<2^ct(t,1))<<2^ct(t,2))<<2^ct(t,3):0}function Ay(t){return t.trim()}function Zx(t,e){return(t=e.exec(t))?t[0]:t}function me(t,e,n){return t.replace(e,n)}function Ud(t,e){return t.indexOf(e)}function ct(t,e){return t.charCodeAt(e)|0}function ya(t,e,n){return t.slice(e,n)}function Cn(t){return t.length}function up(t){return t.length}function as(t,e){return e.push(t),t}function Jx(t,e){return t.map(e).join("")}var uu=1,ei=1,Fy=0,Nt=0,ze=0,fi="";function cu(t,e,n,r,o,i,a){return{value:t,root:e,parent:n,type:r,props:o,children:i,line:uu,column:ei,length:a,return:""}}function Ti(t,e){return qx(cu("",null,null,"",null,null,0),t,{length:-t.length},e)}function e_(){return ze}function t_(){return ze=Nt>0?ct(fi,--Nt):0,ei--,ze===10&&(ei=1,uu--),ze}function jt(){return ze=Nt<Fy?ct(fi,Nt++):0,ei++,ze===10&&(ei=1,uu++),ze}function Mn(){return ct(fi,Nt)}function Os(){return Nt}function Ra(t,e){return ya(fi,t,e)}function wa(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $y(t){return uu=ei=1,Fy=Cn(fi=t),Nt=0,[]}function jy(t){return fi="",t}function Ms(t){return Ay(Ra(Nt-1,Bd(t===91?t+2:t===40?t+1:t)))}function n_(t){for(;(ze=Mn())&&ze<33;)jt();return wa(t)>2||wa(ze)>3?"":" "}function r_(t,e){for(;--e&&jt()&&!(ze<48||ze>102||ze>57&&ze<65||ze>70&&ze<97););return Ra(t,Os()+(e<6&&Mn()==32&&jt()==32))}function Bd(t){for(;jt();)switch(ze){case t:return Nt;case 34:case 39:t!==34&&t!==39&&Bd(ze);break;case 40:t===41&&Bd(t);break;case 92:jt();break}return Nt}function o_(t,e){for(;jt()&&t+ze!==57;)if(t+ze===84&&Mn()===47)break;return"/*"+Ra(e,Nt-1)+"*"+lu(t===47?t:jt())}function i_(t){for(;!wa(Mn());)jt();return Ra(t,Nt)}function a_(t){return jy(Rs("",null,null,null,[""],t=$y(t),0,[0],t))}function Rs(t,e,n,r,o,i,a,l,s){for(var u=0,c=0,d=a,f=0,p=0,v=0,g=1,y=1,h=1,w=0,S="",E=o,_=i,b=r,T=S;y;)switch(v=w,w=jt()){case 40:if(v!=108&&ct(T,d-1)==58){Ud(T+=me(Ms(w),"&","&\f"),"&\f")!=-1&&(h=-1);break}case 34:case 39:case 91:T+=Ms(w);break;case 9:case 10:case 13:case 32:T+=n_(v);break;case 92:T+=r_(Os()-1,7);continue;case 47:switch(Mn()){case 42:case 47:as(s_(o_(jt(),Os()),e,n),s);break;default:T+="/"}break;case 123*g:l[u++]=Cn(T)*h;case 125*g:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+c:h==-1&&(T=me(T,/\f/g,"")),p>0&&Cn(T)-d&&as(p>32?_m(T+";",r,n,d-1):_m(me(T," ","")+";",r,n,d-2),s);break;case 59:T+=";";default:if(as(b=xm(T,e,n,u,c,o,l,S,E=[],_=[],d),i),w===123)if(c===0)Rs(T,e,b,b,E,i,d,l,_);else switch(f===99&&ct(T,3)===110?100:f){case 100:case 108:case 109:case 115:Rs(t,b,b,r&&as(xm(t,b,b,0,0,o,l,S,o,E=[],d),_),o,_,d,l,r?E:_);break;default:Rs(T,b,b,b,[""],_,0,l,_)}}u=c=p=0,g=h=1,S=T="",d=a;break;case 58:d=1+Cn(T),p=v;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&t_()==125)continue}switch(T+=lu(w),w*g){case 38:h=c>0?1:(T+="\f",-1);break;case 44:l[u++]=(Cn(T)-1)*h,h=1;break;case 64:Mn()===45&&(T+=Ms(jt())),f=Mn(),c=d=Cn(S=T+=i_(Os())),w++;break;case 45:v===45&&Cn(T)==2&&(g=0)}}return i}function xm(t,e,n,r,o,i,a,l,s,u,c){for(var d=o-1,f=o===0?i:[""],p=up(f),v=0,g=0,y=0;v<r;++v)for(var h=0,w=ya(t,d+1,d=Gx(g=a[v])),S=t;h<p;++h)(S=Ay(g>0?f[h]+" "+w:me(w,/&\f/g,f[h])))&&(s[y++]=S);return cu(t,e,n,o===0?sp:l,s,u,c)}function s_(t,e,n){return cu(t,e,n,Iy,lu(e_()),ya(t,2,-2),0)}function _m(t,e,n,r){return cu(t,e,n,lp,ya(t,0,r),ya(t,r+1,-1),r)}function Bo(t,e){for(var n="",r=up(t),o=0;o<r;o++)n+=e(t[o],o,t,e)||"";return n}function l_(t,e,n,r){switch(t.type){case Kx:if(t.children.length)break;case Qx:case lp:return t.return=t.return||t.value;case Iy:return"";case Ly:return t.return=t.value+"{"+Bo(t.children,r)+"}";case sp:t.value=t.props.join(",")}return Cn(n=Bo(t.children,r))?t.return=t.value+"{"+n+"}":""}function u_(t){var e=up(t);return function(n,r,o,i){for(var a="",l=0;l<e;l++)a+=t[l](n,r,o,i)||"";return a}}function c_(t){return function(e){e.root||(e=e.return)&&t(e)}}function d_(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var f_=function(e,n,r){for(var o=0,i=0;o=i,i=Mn(),o===38&&i===12&&(n[r]=1),!wa(i);)jt();return Ra(e,Nt)},p_=function(e,n){var r=-1,o=44;do switch(wa(o)){case 0:o===38&&Mn()===12&&(n[r]=1),e[r]+=f_(Nt-1,n,r);break;case 2:e[r]+=Ms(o);break;case 4:if(o===44){e[++r]=Mn()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=lu(o)}while(o=jt());return e},h_=function(e,n){return jy(p_($y(e),n))},Tm=new WeakMap,m_=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,o=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Tm.get(r))&&!o){Tm.set(e,!0);for(var i=[],a=h_(n,i),l=r.props,s=0,u=0;s<a.length;s++)for(var c=0;c<l.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,l[c]):l[c]+" "+a[s]}}},g_=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Vy(t,e){switch(Xx(t,e)){case 5103:return he+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return he+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return he+t+Cl+t+gt+t+t;case 6828:case 4268:return he+t+gt+t+t;case 6165:return he+t+gt+"flex-"+t+t;case 5187:return he+t+me(t,/(\w+).+(:[^]+)/,he+"box-$1$2"+gt+"flex-$1$2")+t;case 5443:return he+t+gt+"flex-item-"+me(t,/flex-|-self/,"")+t;case 4675:return he+t+gt+"flex-line-pack"+me(t,/align-content|flex-|-self/,"")+t;case 5548:return he+t+gt+me(t,"shrink","negative")+t;case 5292:return he+t+gt+me(t,"basis","preferred-size")+t;case 6060:return he+"box-"+me(t,"-grow","")+he+t+gt+me(t,"grow","positive")+t;case 4554:return he+me(t,/([^-])(transform)/g,"$1"+he+"$2")+t;case 6187:return me(me(me(t,/(zoom-|grab)/,he+"$1"),/(image-set)/,he+"$1"),t,"")+t;case 5495:case 3959:return me(t,/(image-set\([^]*)/,he+"$1$`$1");case 4968:return me(me(t,/(.+:)(flex-)?(.*)/,he+"box-pack:$3"+gt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+he+t+t;case 4095:case 3583:case 4068:case 2532:return me(t,/(.+)-inline(.+)/,he+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cn(t)-1-e>6)switch(ct(t,e+1)){case 109:if(ct(t,e+4)!==45)break;case 102:return me(t,/(.+:)(.+)-([^]+)/,"$1"+he+"$2-$3$1"+Cl+(ct(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ud(t,"stretch")?Vy(me(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ct(t,e+1)!==115)break;case 6444:switch(ct(t,Cn(t)-3-(~Ud(t,"!important")&&10))){case 107:return me(t,":",":"+he)+t;case 101:return me(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+he+(ct(t,14)===45?"inline-":"")+"box$3$1"+he+"$2$3$1"+gt+"$2box$3")+t}break;case 5936:switch(ct(t,e+11)){case 114:return he+t+gt+me(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return he+t+gt+me(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return he+t+gt+me(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return he+t+gt+t+t}return t}var v_=function(e,n,r,o){if(e.length>-1&&!e.return)switch(e.type){case lp:e.return=Vy(e.value,e.length);break;case Ly:return Bo([Ti(e,{value:me(e.value,"@","@"+he)})],o);case sp:if(e.length)return Jx(e.props,function(i){switch(Zx(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Bo([Ti(e,{props:[me(i,/:(read-\w+)/,":"+Cl+"$1")]})],o);case"::placeholder":return Bo([Ti(e,{props:[me(i,/:(plac\w+)/,":"+he+"input-$1")]}),Ti(e,{props:[me(i,/:(plac\w+)/,":"+Cl+"$1")]}),Ti(e,{props:[me(i,/:(plac\w+)/,gt+"input-$1")]})],o)}return""})}},y_=[v_],w_=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var o=e.stylisPlugins||y_,i={},a,l=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),h=1;h<y.length;h++)i[y[h]]=!0;l.push(g)});var s,u=[m_,g_];{var c,d=[l_,c_(function(g){c.insert(g)})],f=u_(u.concat(o,d)),p=function(y){return Bo(a_(y),f)};s=function(y,h,w,S){c=w,p(y?y+"{"+h.styles+"}":h.styles),S&&(v.inserted[h.name]=!0)}}var v={key:n,sheet:new zx({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:s};return v.sheet.hydrate(l),v},Uy={exports:{}},be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=typeof Symbol=="function"&&Symbol.for,cp=st?Symbol.for("react.element"):60103,dp=st?Symbol.for("react.portal"):60106,du=st?Symbol.for("react.fragment"):60107,fu=st?Symbol.for("react.strict_mode"):60108,pu=st?Symbol.for("react.profiler"):60114,hu=st?Symbol.for("react.provider"):60109,mu=st?Symbol.for("react.context"):60110,fp=st?Symbol.for("react.async_mode"):60111,gu=st?Symbol.for("react.concurrent_mode"):60111,vu=st?Symbol.for("react.forward_ref"):60112,yu=st?Symbol.for("react.suspense"):60113,S_=st?Symbol.for("react.suspense_list"):60120,wu=st?Symbol.for("react.memo"):60115,Su=st?Symbol.for("react.lazy"):60116,C_=st?Symbol.for("react.block"):60121,E_=st?Symbol.for("react.fundamental"):60117,b_=st?Symbol.for("react.responder"):60118,x_=st?Symbol.for("react.scope"):60119;function zt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cp:switch(t=t.type,t){case fp:case gu:case du:case pu:case fu:case yu:return t;default:switch(t=t&&t.$$typeof,t){case mu:case vu:case Su:case wu:case hu:return t;default:return e}}case dp:return e}}}function By(t){return zt(t)===gu}be.AsyncMode=fp;be.ConcurrentMode=gu;be.ContextConsumer=mu;be.ContextProvider=hu;be.Element=cp;be.ForwardRef=vu;be.Fragment=du;be.Lazy=Su;be.Memo=wu;be.Portal=dp;be.Profiler=pu;be.StrictMode=fu;be.Suspense=yu;be.isAsyncMode=function(t){return By(t)||zt(t)===fp};be.isConcurrentMode=By;be.isContextConsumer=function(t){return zt(t)===mu};be.isContextProvider=function(t){return zt(t)===hu};be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cp};be.isForwardRef=function(t){return zt(t)===vu};be.isFragment=function(t){return zt(t)===du};be.isLazy=function(t){return zt(t)===Su};be.isMemo=function(t){return zt(t)===wu};be.isPortal=function(t){return zt(t)===dp};be.isProfiler=function(t){return zt(t)===pu};be.isStrictMode=function(t){return zt(t)===fu};be.isSuspense=function(t){return zt(t)===yu};be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===du||t===gu||t===pu||t===fu||t===yu||t===S_||typeof t=="object"&&t!==null&&(t.$$typeof===Su||t.$$typeof===wu||t.$$typeof===hu||t.$$typeof===mu||t.$$typeof===vu||t.$$typeof===E_||t.$$typeof===b_||t.$$typeof===x_||t.$$typeof===C_)};be.typeOf=zt;Uy.exports=be;var __=Uy.exports,Hy=__,T_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},D_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Wy={};Wy[Hy.ForwardRef]=T_;Wy[Hy.Memo]=D_;var k_=!0;function P_(t,e,n){var r="";return n.split(" ").forEach(function(o){t[o]!==void 0?e.push(t[o]+";"):o&&(r+=o+" ")}),r}var Yy=function(e,n,r){var o=e.key+"-"+n.name;(r===!1||k_===!1)&&e.registered[o]===void 0&&(e.registered[o]=n.styles)},O_=function(e,n,r){Yy(e,n,r);var o=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+o:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function M_(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var R_={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},N_=!1,I_=/[A-Z]|^ms/g,L_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zy=function(e){return e.charCodeAt(1)===45},Dm=function(e){return e!=null&&typeof e!="boolean"},Ec=d_(function(t){return zy(t)?t:t.replace(I_,"-$&").toLowerCase()}),km=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(L_,function(r,o,i){return En={name:o,styles:i,next:En},o})}return R_[e]!==1&&!zy(e)&&typeof n=="number"&&n!==0?n+"px":n},A_="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Sa(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return En={name:o.name,styles:o.styles,next:En},o.name;var i=n;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)En={name:a.name,styles:a.styles,next:En},a=a.next;var l=i.styles+";";return l}return F_(t,e,n)}case"function":{if(t!==void 0){var s=En,u=n(t);return En=s,Sa(t,e,u)}break}}var c=n;return c}function F_(t,e,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Sa(t,e,n[o])+";";else for(var i in n){var a=n[i];if(typeof a!="object"){var l=a;Dm(l)&&(r+=Ec(i)+":"+km(i,l)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&N_)throw new Error(A_);if(Array.isArray(a)&&typeof a[0]=="string"&&e==null)for(var s=0;s<a.length;s++)Dm(a[s])&&(r+=Ec(i)+":"+km(i,a[s])+";");else{var u=Sa(t,e,a);switch(i){case"animation":case"animationName":{r+=Ec(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}}return r}var Pm=/label:\s*([^\s;{]+)\s*(;|$)/g,En;function Qy(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,o="";En=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,o+=Sa(n,e,i);else{var a=i;o+=a[0]}for(var l=1;l<t.length;l++)if(o+=Sa(n,e,t[l]),r){var s=i;o+=s[l]}Pm.lastIndex=0;for(var u="",c;(c=Pm.exec(o))!==null;)u+="-"+c[1];var d=M_(o)+u;return{name:d,styles:o,next:En}}var $_=function(e){return e()},j_=Bc.useInsertionEffect?Bc.useInsertionEffect:!1,V_=j_||$_,U_=!1,Ky=m.createContext(typeof HTMLElement<"u"?w_({key:"css"}):null);Ky.Provider;var B_=function(e){return m.forwardRef(function(n,r){var o=m.useContext(Ky);return e(n,o,r)})},H_=m.createContext({}),pp={}.hasOwnProperty,Hd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",W_=function(e,n){var r={};for(var o in n)pp.call(n,o)&&(r[o]=n[o]);return r[Hd]=e,r},Y_=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return Yy(n,r,o),V_(function(){return O_(n,r,o)}),null},z_=B_(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var o=t[Hd],i=[r],a="";typeof t.className=="string"?a=P_(e.registered,i,t.className):t.className!=null&&(a=t.className+" ");var l=Qy(i,void 0,m.useContext(H_));a+=e.key+"-"+l.name;var s={};for(var u in t)pp.call(t,u)&&u!=="css"&&u!==Hd&&!U_&&(s[u]=t[u]);return s.className=a,n&&(s.ref=n),m.createElement(m.Fragment,null,m.createElement(Y_,{cache:e,serialized:l,isStringTag:typeof o=="string"}),m.createElement(o,s))}),Q_=z_,X=function(e,n){var r=arguments;if(n==null||!pp.call(n,"css"))return m.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=Q_,i[1]=W_(e,n);for(var a=2;a<o;a++)i[a]=r[a];return m.createElement.apply(null,i)};function hp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Qy(e)}var K_=function(){var e=hp.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function G_(t){if(Array.isArray(t))return t}function q_(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(c){u=!0,o=c}finally{try{if(!s&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}function X_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qn(t,e){return G_(t)||q_(t,e)||Ny(t,e)||X_()}function Z_(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function An(t,e){if(t==null)return{};var n,r,o=Z_(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function J_(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const ti=Math.min,qr=Math.max,El=Math.round,ss=Math.floor,Rn=t=>({x:t,y:t}),eT={left:"right",right:"left",bottom:"top",top:"bottom"},tT={start:"end",end:"start"};function nT(t,e,n){return qr(t,ti(e,n))}function Cu(t,e){return typeof t=="function"?t(e):t}function ni(t){return t.split("-")[0]}function Na(t){return t.split("-")[1]}function rT(t){return t==="x"?"y":"x"}function mp(t){return t==="y"?"height":"width"}function Ca(t){return["top","bottom"].includes(ni(t))?"y":"x"}function gp(t){return rT(Ca(t))}function oT(t,e,n){n===void 0&&(n=!1);const r=Na(t),o=gp(t),i=mp(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=bl(a)),[a,bl(a)]}function iT(t){const e=bl(t);return[Wd(t),e,Wd(e)]}function Wd(t){return t.replace(/start|end/g,e=>tT[e])}function aT(t,e,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?i:a;default:return[]}}function sT(t,e,n,r){const o=Na(t);let i=aT(ni(t),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),e&&(i=i.concat(i.map(Wd)))),i}function bl(t){return t.replace(/left|right|bottom|top/g,e=>eT[e])}function lT(t){return{top:0,right:0,bottom:0,left:0,...t}}function Gy(t){return typeof t!="number"?lT(t):{top:t,right:t,bottom:t,left:t}}function xl(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function Om(t,e,n){let{reference:r,floating:o}=t;const i=Ca(e),a=gp(e),l=mp(a),s=ni(e),u=i==="y",c=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[l]/2-o[l]/2;let p;switch(s){case"top":p={x:c,y:r.y-o.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Na(e)){case"start":p[a]-=f*(n&&u?-1:1);break;case"end":p[a]+=f*(n&&u?-1:1);break}return p}const uT=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),s=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:o}),{x:c,y:d}=Om(u,r,s),f=r,p={},v=0;for(let g=0;g<l.length;g++){const{name:y,fn:h}=l[g],{x:w,y:S,data:E,reset:_}=await h({x:c,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});c=w??c,d=S??d,p={...p,[y]:{...p[y],...E}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:o}):_.rects),{x:c,y:d}=Om(u,f,s)),g=-1)}return{x:c,y:d,placement:f,strategy:o,middlewareData:p}};async function cT(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:i,rects:a,elements:l,strategy:s}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Cu(e,t),v=Gy(p),y=l[f?d==="floating"?"reference":"floating":d],h=xl(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:s})),w=d==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},_=xl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:S,strategy:s}):w);return{top:(h.top-_.top+v.top)/E.y,bottom:(_.bottom-h.bottom+v.bottom)/E.y,left:(h.left-_.left+v.left)/E.x,right:(_.right-h.right+v.right)/E.x}}const dT=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:i,platform:a,elements:l,middlewareData:s}=e,{element:u,padding:c=0}=Cu(t,e)||{};if(u==null)return{};const d=Gy(c),f={x:n,y:r},p=gp(o),v=mp(p),g=await a.getDimensions(u),y=p==="y",h=y?"top":"left",w=y?"bottom":"right",S=y?"clientHeight":"clientWidth",E=i.reference[v]+i.reference[p]-f[p]-i.floating[v],_=f[p]-i.reference[p],b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let T=b?b[S]:0;(!T||!await(a.isElement==null?void 0:a.isElement(b)))&&(T=l.floating[S]||i.floating[v]);const x=E/2-_/2,k=T/2-g[v]/2-1,M=ti(d[h],k),O=ti(d[w],k),A=M,H=T-g[v]-O,W=T/2-g[v]/2+x,$=nT(A,W,H),N=!s.arrow&&Na(o)!=null&&W!==$&&i.reference[v]/2-(W<A?M:O)-g[v]/2<0,U=N?W<A?W-A:W-H:0;return{[p]:f[p]+U,data:{[p]:$,centerOffset:W-$-U,...N&&{alignmentOffset:U}},reset:N}}}),fT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:l,platform:s,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=Cu(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const h=ni(o),w=Ca(l),S=ni(l)===l,E=await(s.isRTL==null?void 0:s.isRTL(u.floating)),_=f||(S||!g?[bl(l)]:iT(l)),b=v!=="none";!f&&b&&_.push(...sT(l,g,v,E));const T=[l,..._],x=await cT(e,y),k=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&k.push(x[h]),d){const W=oT(o,a,E);k.push(x[W[0]],x[W[1]])}if(M=[...M,{placement:o,overflows:k}],!k.every(W=>W<=0)){var O,A;const W=(((O=i.flip)==null?void 0:O.index)||0)+1,$=T[W];if($)return{data:{index:W,overflows:M},reset:{placement:$}};let N=(A=M.filter(U=>U.overflows[0]<=0).sort((U,P)=>U.overflows[1]-P.overflows[1])[0])==null?void 0:A.placement;if(!N)switch(p){case"bestFit":{var H;const U=(H=M.filter(P=>{if(b){const I=Ca(P.placement);return I===w||I==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(I=>I>0).reduce((I,V)=>I+V,0)]).sort((P,I)=>P[1]-I[1])[0])==null?void 0:H[0];U&&(N=U);break}case"initialPlacement":N=l;break}if(o!==N)return{reset:{placement:N}}}return{}}}};async function pT(t,e){const{placement:n,platform:r,elements:o}=t,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=ni(n),l=Na(n),s=Ca(n)==="y",u=["left","top"].includes(a)?-1:1,c=i&&s?-1:1,d=Cu(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),s?{x:p*c,y:f*u}:{x:f*u,y:p*c}}const hT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:i,placement:a,middlewareData:l}=e,s=await pT(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+s.x,y:i+s.y,data:{...s,placement:a}}}}};function Eu(){return typeof window<"u"}function pi(t){return qy(t)?(t.nodeName||"").toLowerCase():"#document"}function Vt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fn(t){var e;return(e=(qy(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qy(t){return Eu()?t instanceof Node||t instanceof Vt(t).Node:!1}function bt(t){return Eu()?t instanceof Element||t instanceof Vt(t).Element:!1}function Ln(t){return Eu()?t instanceof HTMLElement||t instanceof Vt(t).HTMLElement:!1}function Mm(t){return!Eu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vt(t).ShadowRoot}function Ia(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=an(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function mT(t){return["table","td","th"].includes(pi(t))}function bu(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function vp(t){const e=yp(),n=bt(t)?an(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function gT(t){let e=Rr(t);for(;Ln(e)&&!ri(e);){if(vp(e))return e;if(bu(e))return null;e=Rr(e)}return null}function yp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ri(t){return["html","body","#document"].includes(pi(t))}function an(t){return Vt(t).getComputedStyle(t)}function xu(t){return bt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Rr(t){if(pi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Mm(t)&&t.host||Fn(t);return Mm(e)?e.host:e}function Xy(t){const e=Rr(t);return ri(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ln(e)&&Ia(e)?e:Xy(e)}function Ea(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=Xy(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),a=Vt(o);if(i){const l=Yd(a);return e.concat(a,a.visualViewport||[],Ia(o)?o:[],l&&n?Ea(l):[])}return e.concat(o,Ea(o,[],n))}function Yd(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Zy(t){const e=an(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Ln(t),i=o?t.offsetWidth:n,a=o?t.offsetHeight:r,l=El(n)!==i||El(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function wp(t){return bt(t)?t:t.contextElement}function Ho(t){const e=wp(t);if(!Ln(e))return Rn(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:i}=Zy(e);let a=(i?El(n.width):n.width)/r,l=(i?El(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const vT=Rn(0);function Jy(t){const e=Vt(t);return!yp()||!e.visualViewport?vT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yT(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vt(t)?!1:e}function io(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=wp(t);let a=Rn(1);e&&(r?bt(r)&&(a=Ho(r)):a=Ho(t));const l=yT(i,n,r)?Jy(i):Rn(0);let s=(o.left+l.x)/a.x,u=(o.top+l.y)/a.y,c=o.width/a.x,d=o.height/a.y;if(i){const f=Vt(i),p=r&&bt(r)?Vt(r):r;let v=f,g=Yd(v);for(;g&&r&&p!==v;){const y=Ho(g),h=g.getBoundingClientRect(),w=an(g),S=h.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,E=h.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;s*=y.x,u*=y.y,c*=y.x,d*=y.y,s+=S,u+=E,v=Vt(g),g=Yd(v)}}return xl({width:c,height:d,x:s,y:u})}function Sp(t,e){const n=xu(t).scrollLeft;return e?e.left+n:io(Fn(t)).left+n}function ew(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:Sp(t,r)),i=r.top+e.scrollTop;return{x:o,y:i}}function wT(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const i=o==="fixed",a=Fn(r),l=e?bu(e.floating):!1;if(r===a||l&&i)return n;let s={scrollLeft:0,scrollTop:0},u=Rn(1);const c=Rn(0),d=Ln(r);if((d||!d&&!i)&&((pi(r)!=="body"||Ia(a))&&(s=xu(r)),Ln(r))){const p=io(r);u=Ho(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const f=a&&!d&&!i?ew(a,s,!0):Rn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-s.scrollTop*u.y+c.y+f.y}}function ST(t){return Array.from(t.getClientRects())}function CT(t){const e=Fn(t),n=xu(t),r=t.ownerDocument.body,o=qr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=qr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Sp(t);const l=-n.scrollTop;return an(r).direction==="rtl"&&(a+=qr(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:l}}function ET(t,e){const n=Vt(t),r=Fn(t),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,s=0;if(o){i=o.width,a=o.height;const u=yp();(!u||u&&e==="fixed")&&(l=o.offsetLeft,s=o.offsetTop)}return{width:i,height:a,x:l,y:s}}function bT(t,e){const n=io(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=Ln(t)?Ho(t):Rn(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,s=o*i.x,u=r*i.y;return{width:a,height:l,x:s,y:u}}function Rm(t,e,n){let r;if(e==="viewport")r=ET(t,n);else if(e==="document")r=CT(Fn(t));else if(bt(e))r=bT(e,n);else{const o=Jy(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return xl(r)}function tw(t,e){const n=Rr(t);return n===e||!bt(n)||ri(n)?!1:an(n).position==="fixed"||tw(n,e)}function xT(t,e){const n=e.get(t);if(n)return n;let r=Ea(t,[],!1).filter(l=>bt(l)&&pi(l)!=="body"),o=null;const i=an(t).position==="fixed";let a=i?Rr(t):t;for(;bt(a)&&!ri(a);){const l=an(a),s=vp(a);!s&&l.position==="fixed"&&(o=null),(i?!s&&!o:!s&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ia(a)&&!s&&tw(t,a))?r=r.filter(c=>c!==a):o=l,a=Rr(a)}return e.set(t,r),r}function _T(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const a=[...n==="clippingAncestors"?bu(e)?[]:xT(e,this._c):[].concat(n),r],l=a[0],s=a.reduce((u,c)=>{const d=Rm(e,c,o);return u.top=qr(d.top,u.top),u.right=ti(d.right,u.right),u.bottom=ti(d.bottom,u.bottom),u.left=qr(d.left,u.left),u},Rm(e,l,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function TT(t){const{width:e,height:n}=Zy(t);return{width:e,height:n}}function DT(t,e,n){const r=Ln(e),o=Fn(e),i=n==="fixed",a=io(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const s=Rn(0);if(r||!r&&!i)if((pi(e)!=="body"||Ia(o))&&(l=xu(e)),r){const f=io(e,!0,i,e);s.x=f.x+e.clientLeft,s.y=f.y+e.clientTop}else o&&(s.x=Sp(o));const u=o&&!r&&!i?ew(o,l):Rn(0),c=a.left+l.scrollLeft-s.x-u.x,d=a.top+l.scrollTop-s.y-u.y;return{x:c,y:d,width:a.width,height:a.height}}function bc(t){return an(t).position==="static"}function Nm(t,e){if(!Ln(t)||an(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fn(t)===n&&(n=n.ownerDocument.body),n}function nw(t,e){const n=Vt(t);if(bu(t))return n;if(!Ln(t)){let o=Rr(t);for(;o&&!ri(o);){if(bt(o)&&!bc(o))return o;o=Rr(o)}return n}let r=Nm(t,e);for(;r&&mT(r)&&bc(r);)r=Nm(r,e);return r&&ri(r)&&bc(r)&&!vp(r)?n:r||gT(t)||n}const kT=async function(t){const e=this.getOffsetParent||nw,n=this.getDimensions,r=await n(t.floating);return{reference:DT(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function PT(t){return an(t).direction==="rtl"}const OT={convertOffsetParentRelativeRectToViewportRelativeRect:wT,getDocumentElement:Fn,getClippingRect:_T,getOffsetParent:nw,getElementRects:kT,getClientRects:ST,getDimensions:TT,getScale:Ho,isElement:bt,isRTL:PT};function MT(t,e){let n=null,r;const o=Fn(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,s){l===void 0&&(l=!1),s===void 0&&(s=1),i();const{left:u,top:c,width:d,height:f}=t.getBoundingClientRect();if(l||e(),!d||!f)return;const p=ss(c),v=ss(o.clientWidth-(u+d)),g=ss(o.clientHeight-(c+f)),y=ss(u),w={rootMargin:-p+"px "+-v+"px "+-g+"px "+-y+"px",threshold:qr(0,ti(1,s))||1};let S=!0;function E(_){const b=_[0].intersectionRatio;if(b!==s){if(!S)return a();b?a(!1,b):r=setTimeout(()=>{a(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(E,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(t)}return a(!0),i}function rw(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,u=wp(t),c=o||i?[...u?Ea(u):[],...Ea(e)]:[];c.forEach(h=>{o&&h.addEventListener("scroll",n,{passive:!0}),i&&h.addEventListener("resize",n)});const d=u&&l?MT(u,n):null;let f=-1,p=null;a&&(p=new ResizeObserver(h=>{let[w]=h;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),n()}),u&&!s&&p.observe(u),p.observe(e));let v,g=s?io(t):null;s&&y();function y(){const h=io(t);g&&(h.x!==g.x||h.y!==g.y||h.width!==g.width||h.height!==g.height)&&n(),g=h,v=requestAnimationFrame(y)}return n(),()=>{var h;c.forEach(w=>{o&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),d?.(),(h=p)==null||h.disconnect(),p=null,s&&cancelAnimationFrame(v)}}const RT=hT,NT=fT,Im=dT,IT=(t,e,n)=>{const r=new Map,o={platform:OT,...n},i={...o.platform,_c:r};return uT(t,e,{...o,platform:i})};var zd=m.useLayoutEffect,LT=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],_l=function(){};function AT(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function FT(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=[].concat(r);if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&i.push("".concat(AT(t,a)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Tl=function(e){return zT(e)?e.filter(Boolean):oo(e)==="object"&&e!==null?[e]:[]},ow=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=An(e,LT);return q({},n)},Ue=function(e,n,r){var o=e.cx,i=e.getStyles,a=e.getClassNames,l=e.className;return{css:i(n,e),className:o(r??{},a(n,e),l)}};function _u(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function $T(t){return _u(t)?window.innerHeight:t.clientHeight}function iw(t){return _u(t)?window.pageYOffset:t.scrollTop}function Dl(t,e){if(_u(t)){window.scrollTo(0,e);return}t.scrollTop=e}function jT(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var o=t;o=o.parentElement;)if(e=getComputedStyle(o),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return o;return document.documentElement}function VT(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function ls(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_l,o=iw(t),i=e-o,a=10,l=0;function s(){l+=a;var u=VT(l,o,i,n);Dl(t,u),l<n?window.requestAnimationFrame(s):r(t)}s()}function Lm(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=e.offsetHeight/3;r.bottom+o>n.bottom?Dl(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+o,t.scrollHeight)):r.top-o<n.top&&Dl(t,Math.max(e.offsetTop-o,0))}function UT(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Am(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function BT(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var aw=!1,HT={get passive(){return aw=!0}},us=typeof window<"u"?window:{};us.addEventListener&&us.removeEventListener&&(us.addEventListener("p",_l,HT),us.removeEventListener("p",_l,!1));var WT=aw;function YT(t){return t!=null}function zT(t){return Array.isArray(t)}function Vi(t,e,n){return t?e:n}var QT=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=Object.entries(e).filter(function(a){var l=Qn(a,1),s=l[0];return!r.includes(s)});return i.reduce(function(a,l){var s=Qn(l,2),u=s[0],c=s[1];return a[u]=c,a},{})},KT=["children","innerProps"],GT=["children","innerProps"];function qT(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,o=t.placement,i=t.shouldScroll,a=t.isFixedPosition,l=t.controlHeight,s=jT(n),u={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return u;var c=s.getBoundingClientRect(),d=c.height,f=n.getBoundingClientRect(),p=f.bottom,v=f.height,g=f.top,y=n.offsetParent.getBoundingClientRect(),h=y.top,w=a?window.innerHeight:$T(s),S=iw(s),E=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),b=h-_,T=w-g,x=b+S,k=d-S-g,M=p-w+S+E,O=S+g-_,A=160;switch(o){case"auto":case"bottom":if(T>=v)return{placement:"bottom",maxHeight:e};if(k>=v&&!a)return i&&ls(s,M,A),{placement:"bottom",maxHeight:e};if(!a&&k>=r||a&&T>=r){i&&ls(s,M,A);var H=a?T-E:k-E;return{placement:"bottom",maxHeight:H}}if(o==="auto"||a){var W=e,$=a?b:x;return $>=r&&(W=Math.min($-E-l,e)),{placement:"top",maxHeight:W}}if(o==="bottom")return i&&Dl(s,M),{placement:"bottom",maxHeight:e};break;case"top":if(b>=v)return{placement:"top",maxHeight:e};if(x>=v&&!a)return i&&ls(s,O,A),{placement:"top",maxHeight:e};if(!a&&x>=r||a&&b>=r){var N=e;return(!a&&x>=r||a&&b>=r)&&(N=a?b-_:x-_),i&&ls(s,O,A),{placement:"top",maxHeight:N}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return u}function XT(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var sw=function(e){return e==="auto"?"bottom":e},ZT=function(e,n){var r,o=e.placement,i=e.theme,a=i.borderRadius,l=i.spacing,s=i.colors;return q((r={label:"menu"},ji(r,XT(o),"100%"),ji(r,"position","absolute"),ji(r,"width","100%"),ji(r,"zIndex",1),r),n?{}:{backgroundColor:s.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},lw=m.createContext(null),JT=function(e){var n=e.children,r=e.minMenuHeight,o=e.maxMenuHeight,i=e.menuPlacement,a=e.menuPosition,l=e.menuShouldScrollIntoView,s=e.theme,u=m.useContext(lw)||{},c=u.setPortalPlacement,d=m.useRef(null),f=m.useState(o),p=Qn(f,2),v=p[0],g=p[1],y=m.useState(null),h=Qn(y,2),w=h[0],S=h[1],E=s.spacing.controlHeight;return zd(function(){var _=d.current;if(_){var b=a==="fixed",T=l&&!b,x=qT({maxHeight:o,menuEl:_,minHeight:r,placement:i,shouldScroll:T,isFixedPosition:b,controlHeight:E});g(x.maxHeight),S(x.placement),c?.(x.placement)}},[o,i,a,l,r,c,E]),n({ref:d,placerProps:q(q({},e),{},{placement:w||sw(i),maxHeight:v})})},eD=function(e){var n=e.children,r=e.innerRef,o=e.innerProps;return X("div",Z({},Ue(e,"menu",{menu:!0}),{ref:r},o),n)},tD=eD,nD=function(e,n){var r=e.maxHeight,o=e.theme.spacing.baseUnit;return q({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:o,paddingTop:o})},rD=function(e){var n=e.children,r=e.innerProps,o=e.innerRef,i=e.isMulti;return X("div",Z({},Ue(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:o},r),n)},uw=function(e,n){var r=e.theme,o=r.spacing.baseUnit,i=r.colors;return q({textAlign:"center"},n?{}:{color:i.neutral40,padding:"".concat(o*2,"px ").concat(o*3,"px")})},oD=uw,iD=uw,aD=function(e){var n=e.children,r=n===void 0?"No options":n,o=e.innerProps,i=An(e,KT);return X("div",Z({},Ue(q(q({},i),{},{children:r,innerProps:o}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),o),r)},sD=function(e){var n=e.children,r=n===void 0?"Loading...":n,o=e.innerProps,i=An(e,GT);return X("div",Z({},Ue(q(q({},i),{},{children:r,innerProps:o}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),o),r)},lD=function(e){var n=e.rect,r=e.offset,o=e.position;return{left:n.left,position:o,top:r,width:n.width,zIndex:1}},uD=function(e){var n=e.appendTo,r=e.children,o=e.controlElement,i=e.innerProps,a=e.menuPlacement,l=e.menuPosition,s=m.useRef(null),u=m.useRef(null),c=m.useState(sw(a)),d=Qn(c,2),f=d[0],p=d[1],v=m.useMemo(function(){return{setPortalPlacement:p}},[]),g=m.useState(null),y=Qn(g,2),h=y[0],w=y[1],S=m.useCallback(function(){if(o){var T=UT(o),x=l==="fixed"?0:window.pageYOffset,k=T[f]+x;(k!==h?.offset||T.left!==h?.rect.left||T.width!==h?.rect.width)&&w({offset:k,rect:T})}},[o,l,f,h?.offset,h?.rect.left,h?.rect.width]);zd(function(){S()},[S]);var E=m.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),o&&s.current&&(u.current=rw(o,s.current,S,{elementResize:"ResizeObserver"in window}))},[o,S]);zd(function(){E()},[E]);var _=m.useCallback(function(T){s.current=T,E()},[E]);if(!n&&l!=="fixed"||!h)return null;var b=X("div",Z({ref:_},Ue(q(q({},e),{},{offset:h.offset,position:l,rect:h.rect}),"menuPortal",{"menu-portal":!0}),i),r);return X(lw.Provider,{value:v},n?ou.createPortal(b,n):b)},cD=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},dD=function(e){var n=e.children,r=e.innerProps,o=e.isDisabled,i=e.isRtl;return X("div",Z({},Ue(e,"container",{"--is-disabled":o,"--is-rtl":i}),r),n)},fD=function(e,n){var r=e.theme.spacing,o=e.isMulti,i=e.hasValue,a=e.selectProps.controlShouldRenderValue;return q({alignItems:"center",display:o&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},pD=function(e){var n=e.children,r=e.innerProps,o=e.isMulti,i=e.hasValue;return X("div",Z({},Ue(e,"valueContainer",{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":i}),r),n)},hD=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},mD=function(e){var n=e.children,r=e.innerProps;return X("div",Z({},Ue(e,"indicatorsContainer",{indicators:!0}),r),n)},Fm,gD=["size"],vD=["innerProps","isRtl","size"],yD={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},cw=function(e){var n=e.size,r=An(e,gD);return X("svg",Z({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:yD},r))},Cp=function(e){return X(cw,Z({size:20},e),X("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},dw=function(e){return X(cw,Z({size:20},e),X("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},fw=function(e,n){var r=e.isFocused,o=e.theme,i=o.spacing.baseUnit,a=o.colors;return q({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:i*2,":hover":{color:r?a.neutral80:a.neutral40}})},wD=fw,SD=function(e){var n=e.children,r=e.innerProps;return X("div",Z({},Ue(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||X(dw,null))},CD=fw,ED=function(e){var n=e.children,r=e.innerProps;return X("div",Z({},Ue(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||X(Cp,null))},bD=function(e,n){var r=e.isDisabled,o=e.theme,i=o.spacing.baseUnit,a=o.colors;return q({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:i*2,marginTop:i*2})},xD=function(e){var n=e.innerProps;return X("span",Z({},n,Ue(e,"indicatorSeparator",{"indicator-separator":!0})))},_D=K_(Fm||(Fm=J_([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),TD=function(e,n){var r=e.isFocused,o=e.size,i=e.theme,a=i.colors,l=i.spacing.baseUnit;return q({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:l*2})},xc=function(e){var n=e.delay,r=e.offset;return X("span",{css:hp({animation:"".concat(_D," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},DD=function(e){var n=e.innerProps,r=e.isRtl,o=e.size,i=o===void 0?4:o,a=An(e,vD);return X("div",Z({},Ue(q(q({},a),{},{innerProps:n,isRtl:r,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),X(xc,{delay:0,offset:r}),X(xc,{delay:160,offset:!0}),X(xc,{delay:320,offset:!r}))},kD=function(e,n){var r=e.isDisabled,o=e.isFocused,i=e.theme,a=i.colors,l=i.borderRadius,s=i.spacing;return q({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:s.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:o?a.primary:a.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:o?a.primary:a.neutral30}})},PD=function(e){var n=e.children,r=e.isDisabled,o=e.isFocused,i=e.innerRef,a=e.innerProps,l=e.menuIsOpen;return X("div",Z({ref:i},Ue(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":o,"control--menu-is-open":l}),a,{"aria-disabled":r||void 0}),n)},OD=PD,MD=["data"],RD=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},ND=function(e){var n=e.children,r=e.cx,o=e.getStyles,i=e.getClassNames,a=e.Heading,l=e.headingProps,s=e.innerProps,u=e.label,c=e.theme,d=e.selectProps;return X("div",Z({},Ue(e,"group",{group:!0}),s),X(a,Z({},l,{selectProps:d,theme:c,getStyles:o,getClassNames:i,cx:r}),u),X("div",null,n))},ID=function(e,n){var r=e.theme,o=r.colors,i=r.spacing;return q({label:"group",cursor:"default",display:"block"},n?{}:{color:o.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},LD=function(e){var n=ow(e);n.data;var r=An(n,MD);return X("div",Z({},Ue(e,"groupHeading",{"group-heading":!0}),r))},AD=ND,FD=["innerRef","isDisabled","isHidden","inputClassName"],$D=function(e,n){var r=e.isDisabled,o=e.value,i=e.theme,a=i.spacing,l=i.colors;return q(q({visibility:r?"hidden":"visible",transform:o?"translateZ(0)":""},jD),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:l.neutral80})},pw={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},jD={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":q({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},pw)},VD=function(e){return q({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},pw)},UD=function(e){var n=e.cx,r=e.value,o=ow(e),i=o.innerRef,a=o.isDisabled,l=o.isHidden,s=o.inputClassName,u=An(o,FD);return X("div",Z({},Ue(e,"input",{"input-container":!0}),{"data-value":r||""}),X("input",Z({className:n({input:!0},s),ref:i,style:VD(l),disabled:a},u)))},BD=UD,HD=function(e,n){var r=e.theme,o=r.spacing,i=r.borderRadius,a=r.colors;return q({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:o.baseUnit/2})},WD=function(e,n){var r=e.theme,o=r.borderRadius,i=r.colors,a=e.cropWithEllipsis;return q({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:o/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},YD=function(e,n){var r=e.theme,o=r.spacing,i=r.borderRadius,a=r.colors,l=e.isFocused;return q({alignItems:"center",display:"flex"},n?{}:{borderRadius:i/2,backgroundColor:l?a.dangerLight:void 0,paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},hw=function(e){var n=e.children,r=e.innerProps;return X("div",r,n)},zD=hw,QD=hw;function KD(t){var e=t.children,n=t.innerProps;return X("div",Z({role:"button"},n),e||X(Cp,{size:14}))}var GD=function(e){var n=e.children,r=e.components,o=e.data,i=e.innerProps,a=e.isDisabled,l=e.removeProps,s=e.selectProps,u=r.Container,c=r.Label,d=r.Remove;return X(u,{data:o,innerProps:q(q({},Ue(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:s},X(c,{data:o,innerProps:q({},Ue(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},n),X(d,{data:o,innerProps:q(q({},Ue(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:s}))},qD=GD,XD=function(e,n){var r=e.isDisabled,o=e.isFocused,i=e.isSelected,a=e.theme,l=a.spacing,s=a.colors;return q({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:i?s.primary:o?s.primary25:"transparent",color:r?s.neutral20:i?s.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?s.primary:s.primary50}})},ZD=function(e){var n=e.children,r=e.isDisabled,o=e.isFocused,i=e.isSelected,a=e.innerRef,l=e.innerProps;return X("div",Z({},Ue(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":o,"option--is-selected":i}),{ref:a,"aria-disabled":r},l),n)},JD=ZD,ek=function(e,n){var r=e.theme,o=r.spacing,i=r.colors;return q({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:i.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},tk=function(e){var n=e.children,r=e.innerProps;return X("div",Z({},Ue(e,"placeholder",{placeholder:!0}),r),n)},nk=tk,rk=function(e,n){var r=e.isDisabled,o=e.theme,i=o.spacing,a=o.colors;return q({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},ok=function(e){var n=e.children,r=e.isDisabled,o=e.innerProps;return X("div",Z({},Ue(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),o),n)},ik=ok,mw={ClearIndicator:ED,Control:OD,DropdownIndicator:SD,DownChevron:dw,CrossIcon:Cp,Group:AD,GroupHeading:LD,IndicatorsContainer:mD,IndicatorSeparator:xD,Input:BD,LoadingIndicator:DD,Menu:tD,MenuList:rD,MenuPortal:uD,LoadingMessage:sD,NoOptionsMessage:aD,MultiValue:qD,MultiValueContainer:zD,MultiValueLabel:QD,MultiValueRemove:KD,Option:JD,Placeholder:nk,SelectContainer:dD,SingleValue:ik,ValueContainer:pD},ak=function(e){return q(q({},mw),e.components)},$m=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function sk(t,e){return!!(t===e||$m(t)&&$m(e))}function lk(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!sk(t[n],e[n]))return!1;return!0}function uk(t,e){e===void 0&&(e=lk);var n=null;function r(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(n&&n.lastThis===this&&e(o,n.lastArgs))return n.lastResult;var a=t.apply(this,o);return n={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){n=null},r}var ck={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},dk=function(e){return X("span",Z({css:ck},e))},jm=dk,fk={guidance:function(e){var n=e.isSearchable,r=e.isMulti,o=e.tabSelectsValue,i=e.context,a=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,o=r===void 0?"":r,i=e.labels,a=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(o,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return a?"option ".concat(o," is disabled. Select another option."):"option ".concat(o,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,o=e.options,i=e.label,a=i===void 0?"":i,l=e.selectValue,s=e.isDisabled,u=e.isSelected,c=e.isAppleDevice,d=function(g,y){return g&&g.length?"".concat(g.indexOf(y)+1," of ").concat(g.length):""};if(n==="value"&&l)return"value ".concat(a," focused, ").concat(d(l,r),".");if(n==="menu"&&c){var f=s?" disabled":"",p="".concat(u?" selected":"").concat(f);return"".concat(a).concat(p,", ").concat(d(o,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},pk=function(e){var n=e.ariaSelection,r=e.focusedOption,o=e.focusedValue,i=e.focusableOptions,a=e.isFocused,l=e.selectValue,s=e.selectProps,u=e.id,c=e.isAppleDevice,d=s.ariaLiveMessages,f=s.getOptionLabel,p=s.inputValue,v=s.isMulti,g=s.isOptionDisabled,y=s.isSearchable,h=s.menuIsOpen,w=s.options,S=s.screenReaderStatus,E=s.tabSelectsValue,_=s.isLoading,b=s["aria-label"],T=s["aria-live"],x=m.useMemo(function(){return q(q({},fk),d||{})},[d]),k=m.useMemo(function(){var $="";if(n&&x.onChange){var N=n.option,U=n.options,P=n.removedValue,I=n.removedValues,V=n.value,J=function(pe){return Array.isArray(pe)?null:pe},ee=P||N||J(V),xe=ee?f(ee):"",De=U||I||void 0,qe=De?De.map(f):[],_e=q({isDisabled:ee&&g(ee,l),label:xe,labels:qe},n);$=x.onChange(_e)}return $},[n,x,g,l,f]),M=m.useMemo(function(){var $="",N=r||o,U=!!(r&&l&&l.includes(r));if(N&&x.onFocus){var P={focused:N,label:f(N),isDisabled:g(N,l),isSelected:U,options:i,context:N===r?"menu":"value",selectValue:l,isAppleDevice:c};$=x.onFocus(P)}return $},[r,o,f,g,x,i,l,c]),O=m.useMemo(function(){var $="";if(h&&w.length&&!_&&x.onFilter){var N=S({count:i.length});$=x.onFilter({inputValue:p,resultsMessage:N})}return $},[i,p,h,x,w,S,_]),A=n?.action==="initial-input-focus",H=m.useMemo(function(){var $="";if(x.guidance){var N=o?"value":h?"menu":"input";$=x.guidance({"aria-label":b,context:N,isDisabled:r&&g(r,l),isMulti:v,isSearchable:y,tabSelectsValue:E,isInitialFocus:A})}return $},[b,r,o,v,g,y,h,x,l,E,A]),W=X(m.Fragment,null,X("span",{id:"aria-selection"},k),X("span",{id:"aria-focused"},M),X("span",{id:"aria-results"},O),X("span",{id:"aria-guidance"},H));return X(m.Fragment,null,X(jm,{id:u},A&&W),X(jm,{"aria-live":T,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!A&&W))},hk=pk,Qd=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],mk=new RegExp("["+Qd.map(function(t){return t.letters}).join("")+"]","g"),gw={};for(var _c=0;_c<Qd.length;_c++)for(var Tc=Qd[_c],Dc=0;Dc<Tc.letters.length;Dc++)gw[Tc.letters[Dc]]=Tc.base;var vw=function(e){return e.replace(mk,function(n){return gw[n]})},gk=uk(vw),Vm=function(e){return e.replace(/^\s+|\s+$/g,"")},vk=function(e){return"".concat(e.label," ").concat(e.value)},yk=function(e){return function(n,r){if(n.data.__isNew__)return!0;var o=q({ignoreCase:!0,ignoreAccents:!0,stringify:vk,trim:!0,matchFrom:"any"},e),i=o.ignoreCase,a=o.ignoreAccents,l=o.stringify,s=o.trim,u=o.matchFrom,c=s?Vm(r):r,d=s?Vm(l(n)):l(n);return i&&(c=c.toLowerCase(),d=d.toLowerCase()),a&&(c=gk(c),d=vw(d)),u==="start"?d.substr(0,c.length)===c:d.indexOf(c)>-1}},wk=["innerRef"];function Sk(t){var e=t.innerRef,n=An(t,wk),r=QT(n,"onExited","in","enter","exit","appear");return X("input",Z({ref:e},r,{css:hp({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ck=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Ek(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,o=t.onTopArrive,i=t.onTopLeave,a=m.useRef(!1),l=m.useRef(!1),s=m.useRef(0),u=m.useRef(null),c=m.useCallback(function(y,h){if(u.current!==null){var w=u.current,S=w.scrollTop,E=w.scrollHeight,_=w.clientHeight,b=u.current,T=h>0,x=E-_-S,k=!1;x>h&&a.current&&(r&&r(y),a.current=!1),T&&l.current&&(i&&i(y),l.current=!1),T&&h>x?(n&&!a.current&&n(y),b.scrollTop=E,k=!0,a.current=!0):!T&&-h>S&&(o&&!l.current&&o(y),b.scrollTop=0,k=!0,l.current=!0),k&&Ck(y)}},[n,r,o,i]),d=m.useCallback(function(y){c(y,y.deltaY)},[c]),f=m.useCallback(function(y){s.current=y.changedTouches[0].clientY},[]),p=m.useCallback(function(y){var h=s.current-y.changedTouches[0].clientY;c(y,h)},[c]),v=m.useCallback(function(y){if(y){var h=WT?{passive:!1}:!1;y.addEventListener("wheel",d,h),y.addEventListener("touchstart",f,h),y.addEventListener("touchmove",p,h)}},[p,f,d]),g=m.useCallback(function(y){y&&(y.removeEventListener("wheel",d,!1),y.removeEventListener("touchstart",f,!1),y.removeEventListener("touchmove",p,!1))},[p,f,d]);return m.useEffect(function(){if(e){var y=u.current;return v(y),function(){g(y)}}},[e,v,g]),function(y){u.current=y}}var Um=["boxSizing","height","overflow","paddingRight","position"],Bm={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Hm(t){t.cancelable&&t.preventDefault()}function Wm(t){t.stopPropagation()}function Ym(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function zm(){return"ontouchstart"in window||navigator.maxTouchPoints}var Qm=!!(typeof window<"u"&&window.document&&window.document.createElement),Di=0,vo={capture:!1,passive:!1};function bk(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,o=m.useRef({}),i=m.useRef(null),a=m.useCallback(function(s){if(Qm){var u=document.body,c=u&&u.style;if(r&&Um.forEach(function(v){var g=c&&c[v];o.current[v]=g}),r&&Di<1){var d=parseInt(o.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,p=window.innerWidth-f+d||0;Object.keys(Bm).forEach(function(v){var g=Bm[v];c&&(c[v]=g)}),c&&(c.paddingRight="".concat(p,"px"))}u&&zm()&&(u.addEventListener("touchmove",Hm,vo),s&&(s.addEventListener("touchstart",Ym,vo),s.addEventListener("touchmove",Wm,vo))),Di+=1}},[r]),l=m.useCallback(function(s){if(Qm){var u=document.body,c=u&&u.style;Di=Math.max(Di-1,0),r&&Di<1&&Um.forEach(function(d){var f=o.current[d];c&&(c[d]=f)}),u&&zm()&&(u.removeEventListener("touchmove",Hm,vo),s&&(s.removeEventListener("touchstart",Ym,vo),s.removeEventListener("touchmove",Wm,vo)))}},[r]);return m.useEffect(function(){if(e){var s=i.current;return a(s),function(){l(s)}}},[e,a,l]),function(s){i.current=s}}var xk=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},_k={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Tk(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,o=r===void 0?!0:r,i=t.onBottomArrive,a=t.onBottomLeave,l=t.onTopArrive,s=t.onTopLeave,u=Ek({isEnabled:o,onBottomArrive:i,onBottomLeave:a,onTopArrive:l,onTopLeave:s}),c=bk({isEnabled:n}),d=function(p){u(p),c(p)};return X(m.Fragment,null,n&&X("div",{onClick:xk,css:_k}),e(d))}var Dk={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},kk=function(e){var n=e.name,r=e.onFocus;return X("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Dk,value:"",onChange:function(){}})},Pk=kk;function Ep(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Ok(){return Ep(/^iPhone/i)}function yw(){return Ep(/^Mac/i)}function Mk(){return Ep(/^iPad/i)||yw()&&navigator.maxTouchPoints>1}function Rk(){return Ok()||Mk()}function Nk(){return yw()||Rk()}var Ik=function(e){return e.label},ww=function(e){return e.label},Sw=function(e){return e.value},Lk=function(e){return!!e.isDisabled},Ak={clearIndicator:CD,container:cD,control:kD,dropdownIndicator:wD,group:RD,groupHeading:ID,indicatorsContainer:hD,indicatorSeparator:bD,input:$D,loadingIndicator:TD,loadingMessage:iD,menu:ZT,menuList:nD,menuPortal:lD,multiValue:HD,multiValueLabel:WD,multiValueRemove:YD,noOptionsMessage:oD,option:XD,placeholder:ek,singleValue:rk,valueContainer:fD},Fk={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},$k=4,Cw=4,jk=38,Vk=Cw*2,Uk={baseUnit:Cw,controlHeight:jk,menuGutter:Vk},kc={borderRadius:$k,colors:Fk,spacing:Uk},Bk={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Am(),captureMenuScroll:!Am(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:yk(),formatGroupLabel:Ik,getOptionLabel:ww,getOptionValue:Sw,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Lk,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!BT(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Km(t,e,n,r){var o=xw(t,e,n),i=_w(t,e,n),a=bw(t,e),l=kl(t,e);return{type:"option",data:e,isDisabled:o,isSelected:i,label:a,value:l,index:r}}function Ns(t,e){return t.options.map(function(n,r){if("options"in n){var o=n.options.map(function(a,l){return Km(t,a,e,l)}).filter(function(a){return qm(t,a)});return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var i=Km(t,n,e,r);return qm(t,i)?i:void 0}).filter(YT)}function Ew(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Uo(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function Gm(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Uo(r.options.map(function(o){return{data:o.data,id:"".concat(e,"-").concat(r.index,"-").concat(o.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Hk(t,e){return Ew(Ns(t,e))}function qm(t,e){var n=t.inputValue,r=n===void 0?"":n,o=e.data,i=e.isSelected,a=e.label,l=e.value;return(!Dw(t)||!i)&&Tw(t,{label:a,value:l,data:o},r)}function Wk(t,e){var n=t.focusedValue,r=t.selectValue,o=r.indexOf(n);if(o>-1){var i=e.indexOf(n);if(i>-1)return n;if(o<e.length)return e[o]}return null}function Yk(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var Pc=function(e,n){var r,o=(r=e.find(function(i){return i.data===n}))===null||r===void 0?void 0:r.id;return o||null},bw=function(e,n){return e.getOptionLabel(n)},kl=function(e,n){return e.getOptionValue(n)};function xw(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function _w(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=kl(t,e);return n.some(function(o){return kl(t,o)===r})}function Tw(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Dw=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},zk=1,bp=function(t){Ax(n,t);var e=jx(n);function n(r){var o;if(Ix(this,n),o=e.call(this,r),o.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.isAppleDevice=Nk(),o.controlRef=null,o.getControlRef=function(s){o.controlRef=s},o.focusedOptionRef=null,o.getFocusedOptionRef=function(s){o.focusedOptionRef=s},o.menuListRef=null,o.getMenuListRef=function(s){o.menuListRef=s},o.inputRef=null,o.getInputRef=function(s){o.inputRef=s},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(s,u){var c=o.props,d=c.onChange,f=c.name;u.name=f,o.ariaOnChange(s,u),d(s,u)},o.setValue=function(s,u,c){var d=o.props,f=d.closeMenuOnSelect,p=d.isMulti,v=d.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:v}),f&&(o.setState({inputIsHiddenAfterUpdate:!p}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(s,{action:u,option:c})},o.selectOption=function(s){var u=o.props,c=u.blurInputOnSelect,d=u.isMulti,f=u.name,p=o.state.selectValue,v=d&&o.isOptionSelected(s,p),g=o.isOptionDisabled(s,p);if(v){var y=o.getOptionValue(s);o.setValue(p.filter(function(h){return o.getOptionValue(h)!==y}),"deselect-option",s)}else if(!g)d?o.setValue([].concat(Uo(p),[s]),"select-option",s):o.setValue(s,"select-option");else{o.ariaOnChange(s,{action:"select-option",option:s,name:f});return}c&&o.blurInput()},o.removeValue=function(s){var u=o.props.isMulti,c=o.state.selectValue,d=o.getOptionValue(s),f=c.filter(function(v){return o.getOptionValue(v)!==d}),p=Vi(u,f,f[0]||null);o.onChange(p,{action:"remove-value",removedValue:s}),o.focusInput()},o.clearValue=function(){var s=o.state.selectValue;o.onChange(Vi(o.props.isMulti,[],null),{action:"clear",removedValues:s})},o.popValue=function(){var s=o.props.isMulti,u=o.state.selectValue,c=u[u.length-1],d=u.slice(0,u.length-1),f=Vi(s,d,d[0]||null);c&&o.onChange(f,{action:"pop-value",removedValue:c})},o.getFocusedOptionId=function(s){return Pc(o.state.focusableOptionsWithIds,s)},o.getFocusableOptionsWithIds=function(){return Gm(Ns(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];return FT.apply(void 0,[o.props.classNamePrefix].concat(u))},o.getOptionLabel=function(s){return bw(o.props,s)},o.getOptionValue=function(s){return kl(o.props,s)},o.getStyles=function(s,u){var c=o.props.unstyled,d=Ak[s](u,c);d.boxSizing="border-box";var f=o.props.styles[s];return f?f(d,u):d},o.getClassNames=function(s,u){var c,d;return(c=(d=o.props.classNames)[s])===null||c===void 0?void 0:c.call(d,u)},o.getElementId=function(s){return"".concat(o.state.instancePrefix,"-").concat(s)},o.getComponents=function(){return ak(o.props)},o.buildCategorizedOptions=function(){return Ns(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return Ew(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(s,u){o.setState({ariaSelection:q({value:s},u)})},o.onMenuMouseDown=function(s){s.button===0&&(s.stopPropagation(),s.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(s){o.blockOptionHover=!1},o.onControlMouseDown=function(s){if(!s.defaultPrevented){var u=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&o.onMenuClose():u&&o.openMenu("first"):(u&&(o.openAfterFocus=!0),o.focusInput()),s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&s.preventDefault()}},o.onDropdownIndicatorMouseDown=function(s){if(!(s&&s.type==="mousedown"&&s.button!==0)&&!o.props.isDisabled){var u=o.props,c=u.isMulti,d=u.menuIsOpen;o.focusInput(),d?(o.setState({inputIsHiddenAfterUpdate:!c}),o.onMenuClose()):o.openMenu("first"),s.preventDefault()}},o.onClearIndicatorMouseDown=function(s){s&&s.type==="mousedown"&&s.button!==0||(o.clearValue(),s.preventDefault(),o.openAfterFocus=!1,s.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(s){typeof o.props.closeMenuOnScroll=="boolean"?s.target instanceof HTMLElement&&_u(s.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(s)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(s){var u=s.touches,c=u&&u.item(0);c&&(o.initialTouchX=c.clientX,o.initialTouchY=c.clientY,o.userIsDragging=!1)},o.onTouchMove=function(s){var u=s.touches,c=u&&u.item(0);if(c){var d=Math.abs(c.clientX-o.initialTouchX),f=Math.abs(c.clientY-o.initialTouchY),p=5;o.userIsDragging=d>p||f>p}},o.onTouchEnd=function(s){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(s.target)&&o.menuListRef&&!o.menuListRef.contains(s.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(s){o.userIsDragging||o.onControlMouseDown(s)},o.onClearIndicatorTouchEnd=function(s){o.userIsDragging||o.onClearIndicatorMouseDown(s)},o.onDropdownIndicatorTouchEnd=function(s){o.userIsDragging||o.onDropdownIndicatorMouseDown(s)},o.handleInputChange=function(s){var u=o.props.inputValue,c=s.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(c,{action:"input-change",prevInputValue:u}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(s){o.props.onFocus&&o.props.onFocus(s),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(s){var u=o.props.inputValue;if(o.menuListRef&&o.menuListRef.contains(document.activeElement)){o.inputRef.focus();return}o.props.onBlur&&o.props.onBlur(s),o.onInputChange("",{action:"input-blur",prevInputValue:u}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1})},o.onOptionHover=function(s){if(!(o.blockOptionHover||o.state.focusedOption===s)){var u=o.getFocusableOptions(),c=u.indexOf(s);o.setState({focusedOption:s,focusedOptionId:c>-1?o.getFocusedOptionId(s):null})}},o.shouldHideSelectedOptions=function(){return Dw(o.props)},o.onValueInputFocus=function(s){s.preventDefault(),s.stopPropagation(),o.focus()},o.onKeyDown=function(s){var u=o.props,c=u.isMulti,d=u.backspaceRemovesValue,f=u.escapeClearsValue,p=u.inputValue,v=u.isClearable,g=u.isDisabled,y=u.menuIsOpen,h=u.onKeyDown,w=u.tabSelectsValue,S=u.openMenuOnFocus,E=o.state,_=E.focusedOption,b=E.focusedValue,T=E.selectValue;if(!g&&!(typeof h=="function"&&(h(s),s.defaultPrevented))){switch(o.blockOptionHover=!0,s.key){case"ArrowLeft":if(!c||p)return;o.focusValue("previous");break;case"ArrowRight":if(!c||p)return;o.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(b)o.removeValue(b);else{if(!d)return;c?o.popValue():v&&o.clearValue()}break;case"Tab":if(o.isComposing||s.shiftKey||!y||!w||!_||S&&o.isOptionSelected(_,T))return;o.selectOption(_);break;case"Enter":if(s.keyCode===229)break;if(y){if(!_||o.isComposing)return;o.selectOption(_);break}return;case"Escape":y?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:p}),o.onMenuClose()):v&&f&&o.clearValue();break;case" ":if(p)return;if(!y){o.openMenu("first");break}if(!_)return;o.selectOption(_);break;case"ArrowUp":y?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":y?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!y)return;o.focusOption("pageup");break;case"PageDown":if(!y)return;o.focusOption("pagedown");break;case"Home":if(!y)return;o.focusOption("first");break;case"End":if(!y)return;o.focusOption("last");break;default:return}s.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++zk),o.state.selectValue=Tl(r.value),r.menuIsOpen&&o.state.selectValue.length){var i=o.getFocusableOptionsWithIds(),a=o.buildFocusableOptions(),l=a.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=i,o.state.focusedOption=a[l],o.state.focusedOptionId=Pc(i,a[l])}return o}return Lx(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Lm(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(o){var i=this.props,a=i.isDisabled,l=i.menuIsOpen,s=this.state.isFocused;(s&&!a&&o.isDisabled||s&&l&&!o.menuIsOpen)&&this.focusInput(),s&&a&&!o.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!s&&!a&&o.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Lm(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(o,i){this.props.onInputChange(o,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(o){var i=this,a=this.state,l=a.selectValue,s=a.isFocused,u=this.buildFocusableOptions(),c=o==="first"?0:u.length-1;if(!this.props.isMulti){var d=u.indexOf(l[0]);d>-1&&(c=d)}this.scrollToFocusedOptionOnUpdate=!(s&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c],focusedOptionId:this.getFocusedOptionId(u[c])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(o){var i=this.state,a=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var s=a.indexOf(l);l||(s=-1);var u=a.length-1,c=-1;if(a.length){switch(o){case"previous":s===0?c=0:s===-1?c=u:c=s-1;break;case"next":s>-1&&s<u&&(c=s+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:a[c]})}}}},{key:"focusOption",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,a=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var s=0,u=l.indexOf(a);a||(u=-1),o==="up"?s=u>0?u-1:l.length-1:o==="down"?s=(u+1)%l.length:o==="pageup"?(s=u-i,s<0&&(s=0)):o==="pagedown"?(s=u+i,s>l.length-1&&(s=l.length-1)):o==="last"&&(s=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[s],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[s])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(kc):q(q({},kc),this.props.theme):kc}},{key:"getCommonProps",value:function(){var o=this.clearValue,i=this.cx,a=this.getStyles,l=this.getClassNames,s=this.getValue,u=this.selectOption,c=this.setValue,d=this.props,f=d.isMulti,p=d.isRtl,v=d.options,g=this.hasValue();return{clearValue:o,cx:i,getStyles:a,getClassNames:l,getValue:s,hasValue:g,isMulti:f,isRtl:p,options:v,selectOption:u,selectProps:d,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var o=this.state.selectValue;return o.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var o=this.props,i=o.isClearable,a=o.isMulti;return i===void 0?a:i}},{key:"isOptionDisabled",value:function(o,i){return xw(this.props,o,i)}},{key:"isOptionSelected",value:function(o,i){return _w(this.props,o,i)}},{key:"filterOption",value:function(o,i){return Tw(this.props,o,i)}},{key:"formatOptionLabel",value:function(o,i){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(o,{context:i,inputValue:a,selectValue:l})}else return this.getOptionLabel(o)}},{key:"formatGroupLabel",value:function(o){return this.props.formatGroupLabel(o)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var o=this.props,i=o.isDisabled,a=o.isSearchable,l=o.inputId,s=o.inputValue,u=o.tabIndex,c=o.form,d=o.menuIsOpen,f=o.required,p=this.getComponents(),v=p.Input,g=this.state,y=g.inputIsHidden,h=g.ariaSelection,w=this.commonProps,S=l||this.getElementId("input"),E=q(q(q({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?h?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?m.createElement(v,Z({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:i,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:s},E)):m.createElement(Sk,Z({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:_l,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:c,value:""},E))}},{key:"renderPlaceholderOrValue",value:function(){var o=this,i=this.getComponents(),a=i.MultiValue,l=i.MultiValueContainer,s=i.MultiValueLabel,u=i.MultiValueRemove,c=i.SingleValue,d=i.Placeholder,f=this.commonProps,p=this.props,v=p.controlShouldRenderValue,g=p.isDisabled,y=p.isMulti,h=p.inputValue,w=p.placeholder,S=this.state,E=S.selectValue,_=S.focusedValue,b=S.isFocused;if(!this.hasValue()||!v)return h?null:m.createElement(d,Z({},f,{key:"placeholder",isDisabled:g,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),w);if(y)return E.map(function(x,k){var M=x===_,O="".concat(o.getOptionLabel(x),"-").concat(o.getOptionValue(x));return m.createElement(a,Z({},f,{components:{Container:l,Label:s,Remove:u},isFocused:M,isDisabled:g,key:O,index:k,removeProps:{onClick:function(){return o.removeValue(x)},onTouchEnd:function(){return o.removeValue(x)},onMouseDown:function(H){H.preventDefault()}},data:x}),o.formatOptionLabel(x,"value"))});if(h)return null;var T=E[0];return m.createElement(c,Z({},f,{data:T,isDisabled:g}),this.formatOptionLabel(T,"value"))}},{key:"renderClearIndicator",value:function(){var o=this.getComponents(),i=o.ClearIndicator,a=this.commonProps,l=this.props,s=l.isDisabled,u=l.isLoading,c=this.state.isFocused;if(!this.isClearable()||!i||s||!this.hasValue()||u)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return m.createElement(i,Z({},a,{innerProps:d,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var o=this.getComponents(),i=o.LoadingIndicator,a=this.commonProps,l=this.props,s=l.isDisabled,u=l.isLoading,c=this.state.isFocused;if(!i||!u)return null;var d={"aria-hidden":"true"};return m.createElement(i,Z({},a,{innerProps:d,isDisabled:s,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var o=this.getComponents(),i=o.DropdownIndicator,a=o.IndicatorSeparator;if(!i||!a)return null;var l=this.commonProps,s=this.props.isDisabled,u=this.state.isFocused;return m.createElement(a,Z({},l,{isDisabled:s,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var o=this.getComponents(),i=o.DropdownIndicator;if(!i)return null;var a=this.commonProps,l=this.props.isDisabled,s=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return m.createElement(i,Z({},a,{innerProps:u,isDisabled:l,isFocused:s}))}},{key:"renderMenu",value:function(){var o=this,i=this.getComponents(),a=i.Group,l=i.GroupHeading,s=i.Menu,u=i.MenuList,c=i.MenuPortal,d=i.LoadingMessage,f=i.NoOptionsMessage,p=i.Option,v=this.commonProps,g=this.state.focusedOption,y=this.props,h=y.captureMenuScroll,w=y.inputValue,S=y.isLoading,E=y.loadingMessage,_=y.minMenuHeight,b=y.maxMenuHeight,T=y.menuIsOpen,x=y.menuPlacement,k=y.menuPosition,M=y.menuPortalTarget,O=y.menuShouldBlockScroll,A=y.menuShouldScrollIntoView,H=y.noOptionsMessage,W=y.onMenuScrollToTop,$=y.onMenuScrollToBottom;if(!T)return null;var N=function(xe,De){var qe=xe.type,_e=xe.data,L=xe.isDisabled,pe=xe.isSelected,K=xe.label,re=xe.value,oe=g===_e,ye=L?void 0:function(){return o.onOptionHover(_e)},Xe=L?void 0:function(){return o.selectOption(_e)},z="".concat(o.getElementId("option"),"-").concat(De),Q={id:z,onClick:Xe,onMouseMove:ye,onMouseOver:ye,tabIndex:-1,role:"option","aria-selected":o.isAppleDevice?void 0:pe};return m.createElement(p,Z({},v,{innerProps:Q,data:_e,isDisabled:L,isSelected:pe,key:z,label:K,type:qe,value:re,isFocused:oe,innerRef:oe?o.getFocusedOptionRef:void 0}),o.formatOptionLabel(xe.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(ee){if(ee.type==="group"){var xe=ee.data,De=ee.options,qe=ee.index,_e="".concat(o.getElementId("group"),"-").concat(qe),L="".concat(_e,"-heading");return m.createElement(a,Z({},v,{key:_e,data:xe,options:De,Heading:l,headingProps:{id:L,data:ee.data},label:o.formatGroupLabel(ee.data)}),ee.options.map(function(pe){return N(pe,"".concat(qe,"-").concat(pe.index))}))}else if(ee.type==="option")return N(ee,"".concat(ee.index))});else if(S){var P=E({inputValue:w});if(P===null)return null;U=m.createElement(d,v,P)}else{var I=H({inputValue:w});if(I===null)return null;U=m.createElement(f,v,I)}var V={minMenuHeight:_,maxMenuHeight:b,menuPlacement:x,menuPosition:k,menuShouldScrollIntoView:A},J=m.createElement(JT,Z({},v,V),function(ee){var xe=ee.ref,De=ee.placerProps,qe=De.placement,_e=De.maxHeight;return m.createElement(s,Z({},v,V,{innerRef:xe,innerProps:{onMouseDown:o.onMenuMouseDown,onMouseMove:o.onMenuMouseMove},isLoading:S,placement:qe}),m.createElement(Tk,{captureEnabled:h,onTopArrive:W,onBottomArrive:$,lockEnabled:O},function(L){return m.createElement(u,Z({},v,{innerRef:function(K){o.getMenuListRef(K),L(K)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:o.getElementId("listbox")},isLoading:S,maxHeight:_e,focusedOption:g}),U)}))});return M||k==="fixed"?m.createElement(c,Z({},v,{appendTo:M,controlElement:this.controlRef,menuPlacement:x,menuPosition:k}),J):J}},{key:"renderFormField",value:function(){var o=this,i=this.props,a=i.delimiter,l=i.isDisabled,s=i.isMulti,u=i.name,c=i.required,d=this.state.selectValue;if(c&&!this.hasValue()&&!l)return m.createElement(Pk,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(s)if(a){var f=d.map(function(g){return o.getOptionValue(g)}).join(a);return m.createElement("input",{name:u,type:"hidden",value:f})}else{var p=d.length>0?d.map(function(g,y){return m.createElement("input",{key:"i-".concat(y),name:u,type:"hidden",value:o.getOptionValue(g)})}):m.createElement("input",{name:u,type:"hidden",value:""});return m.createElement("div",null,p)}else{var v=d[0]?this.getOptionValue(d[0]):"";return m.createElement("input",{name:u,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var o=this.commonProps,i=this.state,a=i.ariaSelection,l=i.focusedOption,s=i.focusedValue,u=i.isFocused,c=i.selectValue,d=this.getFocusableOptions();return m.createElement(hk,Z({},o,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:l,focusedValue:s,isFocused:u,selectValue:c,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var o=this.getComponents(),i=o.Control,a=o.IndicatorsContainer,l=o.SelectContainer,s=o.ValueContainer,u=this.props,c=u.className,d=u.id,f=u.isDisabled,p=u.menuIsOpen,v=this.state.isFocused,g=this.commonProps=this.getCommonProps();return m.createElement(l,Z({},g,{className:c,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:v}),this.renderLiveRegion(),m.createElement(i,Z({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:v,menuIsOpen:p}),m.createElement(s,Z({},g,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),m.createElement(a,Z({},g,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(o,i){var a=i.prevProps,l=i.clearFocusValueOnUpdate,s=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,c=i.isFocused,d=i.prevWasFocused,f=i.instancePrefix,p=o.options,v=o.value,g=o.menuIsOpen,y=o.inputValue,h=o.isMulti,w=Tl(v),S={};if(a&&(v!==a.value||p!==a.options||g!==a.menuIsOpen||y!==a.inputValue)){var E=g?Hk(o,w):[],_=g?Gm(Ns(o,w),"".concat(f,"-option")):[],b=l?Wk(i,w):null,T=Yk(i,E),x=Pc(_,T);S={selectValue:w,focusedOption:T,focusedOptionId:x,focusableOptionsWithIds:_,focusedValue:b,clearFocusValueOnUpdate:!1}}var k=s!=null&&o!==a?{inputIsHidden:s,inputIsHiddenAfterUpdate:void 0}:{},M=u,O=c&&d;return c&&!O&&(M={value:Vi(h,w,w[0]||null),options:w,action:"initial-input-focus"},O=!d),u?.action==="initial-input-focus"&&(M=null),q(q(q({},S),k),{},{prevProps:o,ariaSelection:M,prevWasFocused:O})}}]),n}(m.Component);bp.defaultProps=Bk;var Qk=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function kw(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,o=r===void 0?!1:r,i=t.defaultValue,a=i===void 0?null:i,l=t.inputValue,s=t.menuIsOpen,u=t.onChange,c=t.onInputChange,d=t.onMenuClose,f=t.onMenuOpen,p=t.value,v=An(t,Qk),g=m.useState(l!==void 0?l:n),y=Qn(g,2),h=y[0],w=y[1],S=m.useState(s!==void 0?s:o),E=Qn(S,2),_=E[0],b=E[1],T=m.useState(p!==void 0?p:a),x=Qn(T,2),k=x[0],M=x[1],O=m.useCallback(function(P,I){typeof u=="function"&&u(P,I),M(P)},[u]),A=m.useCallback(function(P,I){var V;typeof c=="function"&&(V=c(P,I)),w(V!==void 0?V:P)},[c]),H=m.useCallback(function(){typeof f=="function"&&f(),b(!0)},[f]),W=m.useCallback(function(){typeof d=="function"&&d(),b(!1)},[d]),$=l!==void 0?l:h,N=s!==void 0?s:_,U=p!==void 0?p:k;return q(q({},v),{},{inputValue:$,menuIsOpen:N,onChange:O,onInputChange:A,onMenuClose:W,onMenuOpen:H,value:U})}var Kk=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],Xm=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=String(e).toLowerCase(),i=String(r.getOptionValue(n)).toLowerCase(),a=String(r.getOptionLabel(n)).toLowerCase();return i===o||a===o},Oc={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,n,r,o){return!(!e||n.some(function(i){return Xm(e,i,o)})||r.some(function(i){return Xm(e,i,o)}))},getNewOptionData:function(e,n){return{label:n,value:e,__isNew__:!0}}};function Gk(t){var e=t.allowCreateWhileLoading,n=e===void 0?!1:e,r=t.createOptionPosition,o=r===void 0?"last":r,i=t.formatCreateLabel,a=i===void 0?Oc.formatCreateLabel:i,l=t.isValidNewOption,s=l===void 0?Oc.isValidNewOption:l,u=t.getNewOptionData,c=u===void 0?Oc.getNewOptionData:u,d=t.onCreateOption,f=t.options,p=f===void 0?[]:f,v=t.onChange,g=An(t,Kk),y=g.getOptionValue,h=y===void 0?Sw:y,w=g.getOptionLabel,S=w===void 0?ww:w,E=g.inputValue,_=g.isLoading,b=g.isMulti,T=g.value,x=g.name,k=m.useMemo(function(){return s(E,Tl(T),p,{getOptionValue:h,getOptionLabel:S})?c(E,a(E)):void 0},[a,c,S,h,E,s,p,T]),M=m.useMemo(function(){return(n||!_)&&k?o==="first"?[k].concat(Uo(p)):[].concat(Uo(p),[k]):p},[n,o,_,k,p]),O=m.useCallback(function(A,H){if(H.action!=="select-option")return v(A,H);var W=Array.isArray(A)?A:[A];if(W[W.length-1]===k){if(d)d(E);else{var $=c(E,E),N={action:"create-option",name:x,option:$};v(Vi(b,[].concat(Uo(Tl(T)),[$]),$),N)}return}v(A,H)},[c,E,b,x,k,d,v,T]);return q(q({},g),{},{options:M,onChange:O})}var qk=m.forwardRef(function(t,e){var n=kw(t),r=Gk(n);return m.createElement(bp,Z({ref:e},r))}),Xk=qk,Zk=m.forwardRef(function(t,e){var n=kw(t);return m.createElement(bp,Z({ref:e},n))}),Jk=Zk;function xp({options:t,children:e,onChange:n,value:r}){const o=i=>C.jsx(mw.DropdownIndicator,{...i,children:e});return C.jsx("div",{className:"svg-container",children:C.jsx(Jk,{components:{DropdownIndicator:o},options:t,value:r?{value:r,label:r}:null,styles:{control:()=>({height:"inherit"}),container:()=>({aspectRatio:"1/1",height:"inherit"}),valueContainer:()=>({height:0,width:0,overflow:"hidden"}),indicatorsContainer:()=>({height:"inherit"}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:()=>({padding:0,height:"inherit"}),menu:i=>({...i,zIndex:10,width:"max-content",textAlign:"left"})},tabSelectsValue:!1,isSearchable:!1,onChange:i=>{n(i?.value)}})})}function Pw({compact:t=!1}){const n=m.useContext(Ke).portaCountClient.externalController,[r,o]=m.useState(""),[i]=te(F.SHOW_EXTERNAL_CONTROL);function a(){n.sendCommand(r),o("")}const l={"":"","Switch to App Control":le.INVOKE_EXTERNAL_CONTROL,"Switch to PortaCount Control":le.RELEASE_FROM_EXTERNAL_CONTROL,"Request Settings":le.REQUEST_SETTINGS,"Request Runtime Status":le.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE,"Request Voltage Status":le.REQUEST_VOLTAGE_INFO,"Sample from Ambient":le.SWITCH_VALVE_ON,"Sample from Mask":le.SWITCH_VALVE_OFF,"Disable data transmission":le.DISABLE_CONTINUOUS_DATA_TRANSMISSION,"Enable data transmission":le.ENABLE_CONTINUOUS_DATA_TRANSMISSION,"Beep!":le.SOUND_BEEPER_INSIDE_THE_PORTACOUNT_PLUS.replace("xx","02"),"Power Off":le.TURN_POWER_OFF},s=Object.entries(l).map(([c,d])=>({value:d,label:c})),u=i?C.jsx(xp,{options:s,onChange:c=>n.sendCommand(c),children:C.jsx(Ex,{})}):null;return C.jsx(C.Fragment,{children:t?u:C.jsxs("div",{style:{display:"inline-flex",height:"fit-content"},children:[C.jsx(Xk,{name:"Mask",options:s,value:r?{value:r,label:r}:null,styles:{menu:c=>({...c,zIndex:2,width:"max-content",textAlign:"left"}),singleValue:c=>({...c,whiteSpace:"normal",width:"9rem"}),input:c=>({...c,width:"9rem"})},tabSelectsValue:!1,onChange:c=>o(c?.value),allowCreateWhileLoading:!0,isSearchable:!0,placeholder:"Type command..."}),C.jsx("input",{type:"button",value:"Send",id:"send-command-button",onClick:a})]})})}function tt({trueLabel:t,falseLabel:e,setting:n}){const[r,o]=te(n);function i(s){return s.toString().replace(/^(.)/,(u,c)=>`${c[0].toUpperCase()}`).replace(/(-(.))/g,(u,c)=>` ${c[1].toUpperCase()}`)}const a=t??i(n),l=`${a.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`;return C.jsxs("div",{className:"labeled-setting",children:[C.jsx("label",{className:"setting-name",htmlFor:l,children:r?a:e||a}),C.jsxs("label",{className:"switch",children:[C.jsx("input",{type:"checkbox",id:l,onChange:s=>o(s.target.checked),checked:r}),C.jsx("span",{className:"slider round"})]})]})}function Ow({trueLabel:t,falseLabel:e,value:n,setValue:r}){const o=`${t.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`;return C.jsxs("div",{className:"labeled-setting",children:[C.jsx("label",{className:"setting-name",htmlFor:o,children:n?t:e||t}),C.jsxs("label",{className:"switch",children:[C.jsx("input",{type:"checkbox",id:o,onChange:i=>r(i.target.checked),checked:n}),C.jsx("span",{className:"slider round"})]})]})}function Mw({trueLabel:t,falseLabel:e,trueValue:n,value:r,setValue:o,...i}){const a=`${t.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`,l=e??t,s=n??t,u=i.disabled?"disabled":"";return C.jsxs("div",{style:{display:"inline-flex"},children:[C.jsx("label",{className:`setting-name ${u}`,htmlFor:a,children:r}),C.jsxs("label",{className:"switch",children:[C.jsx("input",{...i,type:"checkbox",id:a,onChange:c=>o(c.target.checked?t:l),checked:r===s}),C.jsx("span",{className:`slider round ${u}`})]})]})}function eP(){const e=m.useContext(Ke).portaCountClient,[n]=te(F.SHOW_EXTERNAL_CONTROL),[r,o]=m.useState(e.state.controlSource);function i(s){return s!==dt.RECEIVING}const[a,l]=m.useState(i(e.state.connectionStatus));return m.useEffect(()=>{const s={controlSourceChanged(u){o(u)},connectionStatusChanged(u){l(i(u))}};return e.addListener(s),()=>{e.removeListener(s)}},[]),C.jsxs("fieldset",{className:"info-box-compact",children:[C.jsx("legend",{children:"Control"}),n?C.jsx(Mw,{trueLabel:ue.External,falseLabel:ue.Internal,value:r,setValue:s=>e.externalController.controlSource=s,disabled:a}):r]})}function tP(){const e=m.useContext(Ke).portaCountClient,[n]=te(F.SHOW_EXTERNAL_CONTROL),[r,o]=m.useState(e.state.sampleSource);function i(s){return s===ue.Internal}const[a,l]=m.useState(i(e.state.controlSource));return m.useEffect(()=>{const s={sampleSourceChanged(u){o(u)},controlSourceChanged(u){l(i(u))}};return e.addListener(s),()=>{e.removeListener(s)}},[]),C.jsxs("fieldset",{id:"portacount-sample-source-widget",className:"info-box-compact",children:[C.jsx("legend",{children:"Source"}),n?C.jsx(Mw,{trueLabel:ve.MASK,falseLabel:ve.AMBIENT,value:r,setValue:s=>e.externalController.sampleSource=s,disabled:a}):r]})}function Rw({label:t="Activity",border:e=!0}){const[n]=te(F.ACTIVITY);return t?C.jsxs("fieldset",{className:"info-box-compact",children:[C.jsx("legend",{children:"Activity"}),n]}):C.jsx("div",{className:e?"thin-border":"",children:n})}function Nw({label:t="Last line",border:e=!0}){const r=m.useContext(Ke).portaCountClient,[o,i]=m.useState(r.state.lastLine);m.useEffect(()=>{const l={lineReceived(s){i(s)}};return r.addListener(l),()=>{r.removeListener(l)}},[]),m.useEffect(()=>{const l=setTimeout(()=>{i(""),console.debug("last line timeout expired")},3e3);return()=>clearTimeout(l)},[o]);const a=C.jsx(C.Fragment,{children:o.trim().length==0?"":o});return t?C.jsxs("fieldset",{className:"info-box-compact",style:{width:"8rem"},children:[C.jsxs("legend",{className:"number-field no-wrap",children:[t," ",o.trim().length>0?WE(new Date,!0):""]}),C.jsx("div",{className:"console-8020",children:a})]}):C.jsx("div",{className:`console-8020 ${e&&"thin-border"}`,children:a})}function nP(){const t=m.useContext(Ke),[e]=m.useState(t.dataCollector),[n,r]=m.useState(""),o=m.useRef(null),[i,a]=m.useState([0,0]);function l(d){if(o.current){const f=u(d);o.current.style.fontSize=f+"px"}}function s(d,f,p){const v=f.split(/\s+/);let g=0,y=0;return v.forEach(h=>{const w=h.length*d;y+w<p?y+=w+d:(g++,y=w)}),g}function u(d){let f=1;if(o.current){const v=o.current.clientWidth,g=o.current.clientHeight,y=d.length,h=v/y,w=Math.sqrt(v*g/y);for(let S=h;S<w&&!(s(S,d,v)*S>g);S++)f=S}return Math.max(f,30)}const c={instructionsChanged(d){r(d.replace(/\./,`.
`))}};return m.useEffect(()=>{e.addListener(c);const d=new ResizeObserver(([f])=>{a([f.target.clientWidth,f.target.clientHeight])});return o.current&&d.observe(o.current),()=>{e.removeListener(c),d.disconnect()}},[]),m.useEffect(()=>{l(n)},[n,i]),C.jsxs("fieldset",{style:{display:"inline-block",flexGrow:1,height:"inherit"},className:"info-box-compact",children:[C.jsx("legend",{children:"Test Instructions"}),C.jsx("textarea",{id:"test-instructions",ref:o,style:{width:"100%",minHeight:"1em",height:"inherit",overflow:"auto",resize:"none",border:"none",alignContent:"center",textAlign:"center",textWrap:"wrap",whiteSpaceCollapse:"collapse"},readOnly:!0,value:n,onChange:()=>null})]})}var Kd=new Map,cs=new WeakMap,Zm=0,rP=void 0;function oP(t){return t?(cs.has(t)||(Zm+=1,cs.set(t,Zm.toString())),cs.get(t)):"0"}function iP(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?oP(t.root):t[e]}`).toString()}function aP(t){const e=iP(t);let n=Kd.get(e);if(!n){const r=new Map;let o;const i=new IntersectionObserver(a=>{a.forEach(l=>{var s;const u=l.isIntersecting&&o.some(c=>l.intersectionRatio>=c);t.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=u),(s=r.get(l.target))==null||s.forEach(c=>{c(u,l)})})},t);o=i.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:i,elements:r},Kd.set(e,n)}return n}function sP(t,e,n={},r=rP){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const s=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:s,intersectionRect:s,rootBounds:s}),()=>{}}const{id:o,observer:i,elements:a}=aP(n),l=a.get(t)||[];return a.has(t)||a.set(t,l),l.push(e),i.observe(t),function(){l.splice(l.indexOf(e),1),l.length===0&&(a.delete(t),i.unobserve(t)),a.size===0&&(i.disconnect(),Kd.delete(o))}}function lP({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:o,triggerOnce:i,skip:a,initialInView:l,fallbackInView:s,onChange:u}={}){var c;const[d,f]=m.useState(null),p=m.useRef(),[v,g]=m.useState({inView:!!l,entry:void 0});p.current=u,m.useEffect(()=>{if(a||!d)return;let S;return S=sP(d,(E,_)=>{g({inView:E,entry:_}),p.current&&p.current(E,_),_.isIntersecting&&i&&S&&(S(),S=void 0)},{root:o,rootMargin:r,threshold:t,trackVisibility:n,delay:e},s),()=>{S&&S()}},[Array.isArray(t)?t.toString():t,d,o,r,i,a,n,s,e]);const y=(c=v.entry)==null?void 0:c.target,h=m.useRef();!d&&y&&!i&&!a&&h.current!==y&&(h.current=y,g({inView:!!l,entry:void 0}));const w=[f,v.inView,v.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}function uP(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M19.892 4.09a3.75 3.75 0 0 0-5.303 0l-4.5 4.5c-.074.074-.144.15-.21.229l4.965 4.966a3.75 3.75 0 0 0-1.986-4.428.75.75 0 0 1 .646-1.353 5.253 5.253 0 0 1 2.502 6.944l5.515 5.515a.75.75 0 0 1-1.061 1.06l-18-18.001A.75.75 0 0 1 3.521 2.46l5.294 5.295a5.31 5.31 0 0 1 .213-.227l4.5-4.5a5.25 5.25 0 1 1 7.425 7.425l-1.757 1.757a.75.75 0 1 1-1.06-1.06l1.756-1.757a3.75 3.75 0 0 0 0-5.304ZM5.846 11.773a.75.75 0 0 1 0 1.06l-1.757 1.758a3.75 3.75 0 0 0 5.303 5.304l3.129-3.13a.75.75 0 1 1 1.06 1.061l-3.128 3.13a5.25 5.25 0 1 1-7.425-7.426l1.757-1.757a.75.75 0 0 1 1.061 0Zm2.401.26a.75.75 0 0 1 .957.458c.18.512.474.992.885 1.403.31.311.661.555 1.035.733a.75.75 0 0 1-.647 1.354 5.244 5.244 0 0 1-1.449-1.026 5.232 5.232 0 0 1-1.24-1.965.75.75 0 0 1 .46-.957Z",clipRule:"evenodd"},child:[]}]})(t)}function cP(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2 22 3.41zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59 3.41 22z"},child:[]}]})(t)}function dP(t){return Ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"circle",attr:{cx:"7",cy:"12",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17",cy:"12",r:"1.5"},child:[]}]})(t)}function fP(t){return Ge({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"},child:[]}]})(t)}function Iw({compact:t=!1}){const e=m.useContext(Ke),[n]=m.useState(e.dataCollector),[r]=m.useState(e.portaCountClient),[o]=te(F.ENABLE_SIMULATOR),[i]=te(F.BAUD_RATE),a=[3,30,300,1200,14400,28800,56760],[l,s]=te(F.SIMULATOR_FILE_SPEED),[u,c]=te(F.SELECTED_DATA_SOURCE),[d,f]=m.useState(r.state.connectionStatus),[,p]=te(F.CONNECTION_STATUS_IN_VIEW),[v]=te(F.ENABLE_WEB_SERIAL_DRIVERS),{ref:g,inView:y}=lP();m.useEffect(()=>{const O={connectionStatusChanged(A){f(A)}};return r.addListener(O),()=>{r.removeListener(O)}},[]),m.useEffect(()=>{p(y)},[y]);function h(){n.dataSource=Re.WebUsbSerial,new Vo().requestPort().then(w)}function w(O){console.log(`got serial port ${O.toLocaleString()}, using baud rate ${i}`),r.connect(O)}function S(){n.dataSource=Re.WebSerial,"serial"in navigator?(console.log("webserial supported!"),navigator.serial.requestPort().then(w)):console.log("no serial support. As of this writing, web serial is only supported on desktop chrome.")}function E(){n.dataSource=Re.Simulator,w(e.portaCountSimulator.port)}function _(){n.dataSource=Re.Simulator;function O(A,H=null){return{readable:A,writable:H,connected:!1,getInfo(){return{}},open(){return this.connected=!0,Promise.resolve()}}}if("showOpenFilePicker"in window)window.showOpenFilePicker({id:"simulator-files"}).then(A=>{A[0].getFile().then(H=>{const W=Xh(new mr(H,l)),$=O(W,null);w($)})});else{const A=Xh(new mr("./fit-test-console/simulator-data/test-data.txt",l)),H=O(A,null);w(H)}}function b(){T(u)}function T(O){switch(O){case Re.WebUsbSerial:h();break;case Re.WebSerial:S();break;case Re.Simulator:n.fitFactorEstimator.resetChart(),E();break;case Re.SimulatorFile:n.fitFactorEstimator.resetChart(),_();break;default:console.log(`unexpected dataSource : ${O}`);break}}function x(O){T(O)}const k=[{value:Re.WebUsbSerial,label:"App drivers (webusb serial)"}];v&&k.push({value:Re.WebSerial,label:"Computer drivers (webserial)"}),o&&k.push({value:Re.SimulatorFile,label:"Simulator (file)"},{value:Re.Simulator,label:"Simulator"});const M=C.jsxs(xp,{options:k,onChange:O=>x(O),children:[d===dt.DISCONNECTED&&C.jsx(uP,{color:"red"}),d===dt.WAITING&&C.jsx(dP,{color:"orange"}),d===dt.RECEIVING&&C.jsx(fP,{color:"green"})]});return t?M:C.jsxs("fieldset",{id:"driver-selector-widget",className:"info-box-compact",ref:g,children:[C.jsxs("legend",{children:["Data Source ",C.jsx("span",{className:YE(d),children:d})]}),C.jsxs("div",{style:{display:"inline-block"},children:[C.jsx("select",{id:"data-source-selector",value:u,onChange:O=>c(O.target.value),disabled:r.state.connectionStatus!==dt.DISCONNECTED,children:k.map(O=>C.jsx("option",{value:O.value,children:O.label},O.value))}),u===Re.SimulatorFile&&C.jsxs("div",{style:{display:"inline-block"},children:[C.jsx("label",{htmlFor:"simulation-speed-select"}),C.jsx("select",{id:"simulation-speed-select",value:l,onChange:O=>s(Number(O.target.value)),children:a.map(O=>C.jsxs("option",{value:O,children:[O," bps"]},O))})]})]}),C.jsx("input",{className:"button",type:"button",value:"Connect",id:"connect-button",disabled:r.state.connectionStatus!==dt.DISCONNECTED,onClick:b})]})}const pP="modulepreload",hP=function(t,e){return new URL(t,e).href},Jm={},Tu=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),s=l?.nonce||l?.getAttribute("nonce");o=Promise.allSettled(n.map(u=>{if(u=hP(u,r),u in Jm)return;Jm[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!r)for(let v=a.length-1;v>=0;v--){const g=a[v];if(g.href===u&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":pP,c||(p.as="script"),p.crossOrigin="",p.href=u,s&&p.setAttribute("nonce",s),document.head.appendChild(p),c)return new Promise((v,g)=>{p.addEventListener("load",v),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Lw=m.lazy(()=>Tu(()=>import("./ResultsTable-CgYXzjlV.js"),[],import.meta.url)),mP=m.lazy(()=>Tu(()=>import("./SimpleFitTestProtocolPanel-BtYCWIjr.js"),__vite__mapDeps([0,1]),import.meta.url)),gP=m.lazy(()=>Tu(()=>import("./QRScanner-Dnre5nGd.js"),[],import.meta.url));function vP(){const t=m.useContext(Ke),[,e]=m.useState({}),n=m.useCallback(()=>{e({})},[]),[r]=te(F.TEST_TEMPLATE),[o,i]=m.useState([]),[a]=te(F.SELECTED_PROTOCOL);m.useEffect(()=>{const u={subscriptions:()=>[F.TEST_TEMPLATE],settingsChanged(c,d){console.log(`setting ${c} changed to ${JSON.stringify(d)} with stages ${JSON.stringify(t.settings.protocolStages)}`),l(d.Participant)}};return t.settings.addListener(u),l(r.Participant),()=>{t.settings.removeListener(u)}},[]),m.useEffect(()=>{console.debug(`selectedProtocolChanged, num exercises is ${t.settings.numExercises}`),n()},[a]);function l(u){const c=new Date;u=(u??"").trim();const d=new Date(c.getTime()-c.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);on.getData(f=>{const p=new Date(f.Time),v=new Date(p.getTime()-p.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);return(f.Participant??"").trim()===u&&v.startsWith(d)}).then(i)}async function s(u){await Promise.all(u.map(c=>on.deleteRecordById(c))),l(r.Participant)}return C.jsx("div",{id:"current-participant-info",children:C.jsxs(Py,{children:[C.jsxs("legend",{children:["Results",r.Participant?` for ${r.Participant}`:""]}),C.jsx("div",{style:{justifySelf:"center",maxWidth:"100%"},children:C.jsx(Lw,{tableData:o,setTableData:i,searchableColumns:[],hideColumns:["Participant","Time"],minExercisesToShow:t.settings.numExercises,columnSortingSettingKey:F.PARTICIPANT_RESULTS_TABLE_SORT,columnFilterSettingKey:F.PARTICIPANT_RESULTS_TABLE_FILTER,deleteRowsCallback:s})})]})})}function Aw(){return C.jsxs("div",{style:{display:"block"},children:["This app requires Chrome browser for some features. Get it here: ",C.jsx("a",{href:"https://www.google.com/chrome/",children:"https://www.google.com/chrome/"})]})}function yP(){const t=navigator.userAgent.includes("Chrome");return C.jsx(C.Fragment,{children:!t&&C.jsx(Aw,{})})}function wP(){const[t]=te(F.SHOW_EXTERNAL_CONTROL),[e]=te(F.USE_COMPACT_UI),[n]=te(F.ACTIVITY),[r]=te(F.ENABLE_TEST_INSTRUCTIONS_ZOOM),[o,i]=m.useState(r&&n===nt.Testing);m.useEffect(()=>{i(r&&n===nt.Testing)},[n,r]);function a(){i(l=>!l)}return C.jsxs(C.Fragment,{children:[C.jsx(yP,{}),!o&&C.jsxs("section",{id:"control-widgets",style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifySelf:"center"},children:[!e&&C.jsx(Iw,{}),!t&&C.jsx(Rx,{}),!e&&t&&C.jsx(eP,{}),!e&&t&&C.jsx(tP,{}),!e&&C.jsx(Rw,{}),!e&&C.jsx(Nw,{}),!e&&t&&C.jsx(Pw,{})]}),!o&&C.jsx(Mx,{}),C.jsxs("div",{id:"testing-mode-container",className:`test-instructions-container ${o&&"test-in-progress"}`,children:[C.jsx("div",{style:{padding:"0.2em",position:"absolute",right:0,backgroundColor:"inherit",aspectRatio:1,zIndex:10},onClick:()=>a(),children:o?C.jsx(cP,{}):C.jsx(Sx,{})}),t&&C.jsx(kx,{}),C.jsx(nP,{})]}),!o&&C.jsx(vP,{})]})}function SP(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:i,onRegisterError:a}=t;let l,s,u;const c=async(f=!0)=>{await s,await u?.()};async function d(){if("serviceWorker"in navigator){if(l=await Tu(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[],import.meta.url).then(({Workbox:f})=>new f("./sw.js",{scope:"./",type:"classic"})).catch(f=>{a?.(f)}),!l)return;u=async()=>{await l?.messageSkipWaiting()};{let f=!1;const p=()=>{f=!0,l?.addEventListener("controlling",v=>{v.isUpdate&&window.location.reload()}),n?.()};l.addEventListener("installed",v=>{typeof v.isUpdate>"u"?typeof v.isExternal<"u"?v.isExternal?p():!f&&r?.():v.isExternal?window.location.reload():!f&&r?.():v.isUpdate||r?.()}),l.addEventListener("waiting",p),l.addEventListener("externalwaiting",p)}l.register({immediate:e}).then(f=>{i?i("./sw.js",f):o?.(f)}).catch(f=>{a?.(f)})}}return s=d(),c}var _p={};Object.defineProperty(_p,"__esModule",{value:!0});_p.parse=DP;_p.serialize=kP;const CP=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,EP=/^[\u0021-\u003A\u003C-\u007E]*$/,bP=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,xP=/^[\u0020-\u003A\u003D-\u007E]*$/,_P=Object.prototype.toString,TP=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function DP(t,e){const n=new TP,r=t.length;if(r<2)return n;const o=e?.decode||PP;let i=0;do{const a=t.indexOf("=",i);if(a===-1)break;const l=t.indexOf(";",i),s=l===-1?r:l;if(a>s){i=t.lastIndexOf(";",a-1)+1;continue}const u=eg(t,i,a),c=tg(t,a,u),d=t.slice(u,c);if(n[d]===void 0){let f=eg(t,a+1,s),p=tg(t,s,f);const v=o(t.slice(f,p));n[d]=v}i=s+1}while(i<r);return n}function eg(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function tg(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function kP(t,e,n){const r=n?.encode||encodeURIComponent;if(!CP.test(t))throw new TypeError(`argument name is invalid: ${t}`);const o=r(e);if(!EP.test(o))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+o;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!bP.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!xP.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!OP(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function PP(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function OP(t){return _P.call(t)==="[object Date]"}/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ng="popstate";function MP(t={}){function e(o,i){let{pathname:a="/",search:l="",hash:s=""}=ho(o.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Gd("",{pathname:a,search:l,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let a=o.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let s=o.location.href,u=s.indexOf("#");l=u===-1?s:s.slice(0,u)}return l+"#"+(typeof i=="string"?i:ba(i))}function r(o,i){sn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return NP(e,n,r,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RP(){return Math.random().toString(36).substring(2,10)}function rg(t,e){return{usr:t.state,key:t.key,idx:e}}function Gd(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ho(e):e,state:n,key:e&&e.key||r||RP()}}function ba({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function NP(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,l="POP",s=null,u=c();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function c(){return(a.state||{idx:null}).idx}function d(){l="POP";let y=c(),h=y==null?null:y-u;u=y,s&&s({action:l,location:g.location,delta:h})}function f(y,h){l="PUSH";let w=Gd(g.location,y,h);n&&n(w,y),u=c()+1;let S=rg(w,u),E=g.createHref(w);try{a.pushState(S,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(E)}i&&s&&s({action:l,location:g.location,delta:1})}function p(y,h){l="REPLACE";let w=Gd(g.location,y,h);n&&n(w,y),u=c();let S=rg(w,u),E=g.createHref(w);a.replaceState(S,"",E),i&&s&&s({action:l,location:g.location,delta:0})}function v(y){let h=o.location.origin!=="null"?o.location.origin:o.location.href,w=typeof y=="string"?y:ba(y);return w=w.replace(/ $/,"%20"),Ae(h,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,h)}let g={get action(){return l},get location(){return t(o,a)},listen(y){if(s)throw new Error("A history only accepts one active listener");return o.addEventListener(ng,d),s=y,()=>{o.removeEventListener(ng,d),s=null}},createHref(y){return e(o,y)},createURL:v,encodeLocation(y){let h=v(y);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:f,replace:p,go(y){return a.go(y)}};return g}function Fw(t,e,n="/"){return IP(t,e,n,!1)}function IP(t,e,n,r){let o=typeof e=="string"?ho(e):e,i=Nr(o.pathname||"/",n);if(i==null)return null;let a=$w(t);LP(a);let l=null;for(let s=0;l==null&&s<a.length;++s){let u=zP(i);l=WP(a[s],u,r)}return l}function $w(t,e=[],n=[],r=""){let o=(i,a,l)=>{let s={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};s.relativePath.startsWith("/")&&(Ae(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let u=Kn([r,s.relativePath]),c=n.concat(s);i.children&&i.children.length>0&&(Ae(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),$w(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:BP(u,i.index),routesMeta:c})};return t.forEach((i,a)=>{if(i.path===""||!i.path?.includes("?"))o(i,a);else for(let l of jw(i.path))o(i,a,l)}),e}function jw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=jw(r.join("/")),l=[];return l.push(...a.map(s=>s===""?i:[i,s].join("/"))),o&&l.push(...a),l.map(s=>t.startsWith("/")&&s===""?"/":s)}function LP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var AP=/^:[\w-]+$/,FP=3,$P=2,jP=1,VP=10,UP=-2,og=t=>t==="*";function BP(t,e){let n=t.split("/"),r=n.length;return n.some(og)&&(r+=UP),e&&(r+=$P),n.filter(o=>!og(o)).reduce((o,i)=>o+(AP.test(i)?FP:i===""?jP:VP),r)}function HP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function WP(t,e,n=!1){let{routesMeta:r}=t,o={},i="/",a=[];for(let l=0;l<r.length;++l){let s=r[l],u=l===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=Pl({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c),f=s.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Pl({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),a.push({params:o,pathname:Kn([i,d.pathname]),pathnameBase:qP(Kn([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Kn([i,d.pathnameBase]))}return a}function Pl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YP(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let v=l[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=l[f];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function YP(t,e=!1,n=!0){sn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function zP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Nr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QP(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ho(t):t;return{pathname:n?n.startsWith("/")?n:KP(n,e):e,search:XP(r),hash:ZP(o)}}function KP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Mc(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vw(t){let e=GP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Uw(t,e,n,r=!1){let o;typeof t=="string"?o=ho(t):(o={...t},Ae(!o.pathname||!o.pathname.includes("?"),Mc("?","pathname","search",o)),Ae(!o.pathname||!o.pathname.includes("#"),Mc("#","pathname","hash",o)),Ae(!o.search||!o.search.includes("#"),Mc("#","search","hash",o)));let i=t===""||o.pathname==="",a=i?"/":o.pathname,l;if(a==null)l=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;o.pathname=f.join("/")}l=d>=0?e[d]:"/"}let s=QP(o,l),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(u||c)&&(s.pathname+="/"),s}var Kn=t=>t.join("/").replace(/\/\/+/g,"/"),qP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Bw=["POST","PUT","PATCH","DELETE"];new Set(Bw);var eO=["GET",...Bw];new Set(eO);var hi=m.createContext(null);hi.displayName="DataRouter";var Du=m.createContext(null);Du.displayName="DataRouterState";var Hw=m.createContext({isTransitioning:!1});Hw.displayName="ViewTransition";var tO=m.createContext(new Map);tO.displayName="Fetchers";var nO=m.createContext(null);nO.displayName="Await";var $n=m.createContext(null);$n.displayName="Navigation";var La=m.createContext(null);La.displayName="Location";var jn=m.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var Tp=m.createContext(null);Tp.displayName="RouteError";function rO(t,{relative:e}={}){Ae(Aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=m.useContext($n),{hash:o,pathname:i,search:a}=Fa(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Kn([n,i])),r.createHref({pathname:l,search:a,hash:o})}function Aa(){return m.useContext(La)!=null}function sr(){return Ae(Aa(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(La).location}var Ww="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yw(t){m.useContext($n).static||m.useLayoutEffect(t)}function ku(){let{isDataRoute:t}=m.useContext(jn);return t?yO():oO()}function oO(){Ae(Aa(),"useNavigate() may be used only in the context of a <Router> component.");let t=m.useContext(hi),{basename:e,navigator:n}=m.useContext($n),{matches:r}=m.useContext(jn),{pathname:o}=sr(),i=JSON.stringify(Vw(r)),a=m.useRef(!1);return Yw(()=>{a.current=!0}),m.useCallback((s,u={})=>{if(sn(a.current,Ww),!a.current)return;if(typeof s=="number"){n.go(s);return}let c=Uw(s,JSON.parse(i),o,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Kn([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,i,o,t])}var iO=m.createContext(null);function aO(t){let e=m.useContext(jn).outlet;return e&&m.createElement(iO.Provider,{value:t},e)}function Fa(t,{relative:e}={}){let{matches:n}=m.useContext(jn),{pathname:r}=sr(),o=JSON.stringify(Vw(n));return m.useMemo(()=>Uw(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function sO(t,e){return zw(t,e)}function zw(t,e,n,r){Ae(Aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=m.useContext($n),{matches:i}=m.useContext(jn),a=i[i.length-1],l=a?a.params:{},s=a?a.pathname:"/",u=a?a.pathnameBase:"/",c=a&&a.route;{let h=c&&c.path||"";Qw(s,!c||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${s}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let d=sr(),f;if(e){let h=typeof e=="string"?ho(e):e;Ae(u==="/"||h.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${h.pathname}" was given in the \`location\` prop.`),f=h}else f=d;let p=f.pathname||"/",v=p;if(u!=="/"){let h=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(h.length).join("/")}let g=Fw(t,{pathname:v});sn(c||g!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),sn(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=fO(g&&g.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:Kn([u,o.encodeLocation?o.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?u:Kn([u,o.encodeLocation?o.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),i,n,r);return e&&y?m.createElement(La.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},y):y}function lO(){let t=vO(),e=JP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=m.createElement(m.Fragment,null,m.createElement("p",null,"💿 Hey developer 👋"),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:i},"ErrorBoundary")," or"," ",m.createElement("code",{style:i},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:o},n):null,a)}var uO=m.createElement(lO,null),cO=class extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?m.createElement(jn.Provider,{value:this.props.routeContext},m.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dO({routeContext:t,match:e,children:n}){let r=m.useContext(hi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),m.createElement(jn.Provider,{value:t},n)}function fO(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,i=n?.errors;if(i!=null){let s=o.findIndex(u=>u.route.id&&i?.[u.route.id]!==void 0);Ae(s>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,s+1))}let a=!1,l=-1;if(n)for(let s=0;s<o.length;s++){let u=o[s];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=s),u.route.id){let{loaderData:c,errors:d}=n,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((s,u,c)=>{let d,f=!1,p=null,v=null;n&&(d=i&&u.route.id?i[u.route.id]:void 0,p=u.route.errorElement||uO,a&&(l<0&&c===0?(Qw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):l===c&&(f=!0,v=u.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,c+1)),y=()=>{let h;return d?h=p:f?h=v:u.route.Component?h=m.createElement(u.route.Component,null):u.route.element?h=u.route.element:h=s,m.createElement(dO,{match:u,routeContext:{outlet:s,matches:g,isDataRoute:n!=null},children:h})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?m.createElement(cO,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}function Dp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pO(t){let e=m.useContext(hi);return Ae(e,Dp(t)),e}function hO(t){let e=m.useContext(Du);return Ae(e,Dp(t)),e}function mO(t){let e=m.useContext(jn);return Ae(e,Dp(t)),e}function kp(t){let e=mO(t),n=e.matches[e.matches.length-1];return Ae(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function gO(){return kp("useRouteId")}function vO(){let t=m.useContext(Tp),e=hO("useRouteError"),n=kp("useRouteError");return t!==void 0?t:e.errors?.[n]}function yO(){let{router:t}=pO("useNavigate"),e=kp("useNavigate"),n=m.useRef(!1);return Yw(()=>{n.current=!0}),m.useCallback(async(o,i={})=>{sn(n.current,Ww),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...i}))},[t,e])}var ig={};function Qw(t,e,n){!e&&!ig[t]&&(ig[t]=!0,sn(!1,n))}m.memo(wO);function wO({routes:t,future:e,state:n}){return zw(t,void 0,n,e)}function SO(t){return aO(t.context)}function Kt(t){Ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:i=!1}){Ae(!Aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:a,navigator:o,static:i,future:{}}),[a,o,i]);typeof n=="string"&&(n=ho(n));let{pathname:s="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,p=m.useMemo(()=>{let v=Nr(s,a);return v==null?null:{location:{pathname:v,search:u,hash:c,state:d,key:f},navigationType:r}},[a,s,u,c,d,f,r]);return sn(p!=null,`<Router basename="${a}"> is not able to match the URL "${s}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:m.createElement($n.Provider,{value:l},m.createElement(La.Provider,{children:e,value:p}))}function EO({children:t,location:e}){return sO(qd(t),e)}function qd(t,e=[]){let n=[];return m.Children.forEach(t,(r,o)=>{if(!m.isValidElement(r))return;let i=[...e,o];if(r.type===m.Fragment){n.push.apply(n,qd(r.props.children,i));return}Ae(r.type===Kt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ae(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=qd(r.props.children,i)),n.push(a)}),n}var Is="get",Ls="application/x-www-form-urlencoded";function Pu(t){return t!=null&&typeof t.tagName=="string"}function bO(t){return Pu(t)&&t.tagName.toLowerCase()==="button"}function xO(t){return Pu(t)&&t.tagName.toLowerCase()==="form"}function _O(t){return Pu(t)&&t.tagName.toLowerCase()==="input"}function TO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DO(t,e){return t.button===0&&(!e||e==="_self")&&!TO(t)}function Xd(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function kO(t,e){let n=Xd(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(i=>{n.append(o,i)})}),n}var ds=null;function PO(){if(ds===null)try{new FormData(document.createElement("form"),0),ds=!1}catch{ds=!0}return ds}var OO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rc(t){return t!=null&&!OO.has(t)?(sn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ls}"`),null):t}function MO(t,e){let n,r,o,i,a;if(xO(t)){let l=t.getAttribute("action");r=l?Nr(l,e):null,n=t.getAttribute("method")||Is,o=Rc(t.getAttribute("enctype"))||Ls,i=new FormData(t)}else if(bO(t)||_O(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=t.getAttribute("formaction")||l.getAttribute("action");if(r=s?Nr(s,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Is,o=Rc(t.getAttribute("formenctype"))||Rc(l.getAttribute("enctype"))||Ls,i=new FormData(l,t),!PO()){let{name:u,type:c,value:d}=t;if(c==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,d)}}else{if(Pu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Is,r=null,o=Ls,a=t}return i&&o==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}function Pp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function RO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function IO(t,e,n){let r=await Promise.all(t.map(async o=>{let i=e.routes[o.route.id];if(i){let a=await RO(i,n);return a.links?a.links():[]}return[]}));return $O(r.flat(1).filter(NO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ag(t,e,n,r,o,i){let a=(s,u)=>n[u]?s.route.id!==n[u].route.id:!0,l=(s,u)=>n[u].pathname!==s.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==s.params["*"];return i==="assets"?e.filter((s,u)=>a(s,u)||l(s,u)):i==="data"?e.filter((s,u)=>{let c=r.routes[s.route.id];if(!c||!c.hasLoader)return!1;if(a(s,u)||l(s,u))return!0;if(s.route.shouldRevalidate){let d=s.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:s.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function LO(t,e){return AO(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function AO(t){return[...new Set(t)]}function FO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $O(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let i=JSON.stringify(FO(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function jO(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function VO(){let t=m.useContext(hi);return Pp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UO(){let t=m.useContext(Du);return Pp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Op=m.createContext(void 0);Op.displayName="FrameworkContext";function Kw(){let t=m.useContext(Op);return Pp(t,"You must render this element inside a <HydratedRouter> element"),t}function BO(t,e){let n=m.useContext(Op),[r,o]=m.useState(!1),[i,a]=m.useState(!1),{onFocus:l,onBlur:s,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,f=m.useRef(null);m.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let g=h=>{h.forEach(w=>{a(w.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return f.current&&y.observe(f.current),()=>{y.disconnect()}}},[t]),m.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{o(!0)},v=()=>{o(!1),a(!1)};return n?t!=="intent"?[i,f,{}]:[i,f,{onFocus:ki(l,p),onBlur:ki(s,v),onMouseEnter:ki(u,p),onMouseLeave:ki(c,v),onTouchStart:ki(d,p)}]:[!1,f,{}]}function ki(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function HO({page:t,...e}){let{router:n}=VO(),r=m.useMemo(()=>Fw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?m.createElement(YO,{page:t,matches:r,...e}):null}function WO(t){let{manifest:e,routeModules:n}=Kw(),[r,o]=m.useState([]);return m.useEffect(()=>{let i=!1;return IO(t,e,n).then(a=>{i||o(a)}),()=>{i=!0}},[t,e,n]),r}function YO({page:t,matches:e,...n}){let r=sr(),{manifest:o,routeModules:i}=Kw(),{loaderData:a,matches:l}=UO(),s=m.useMemo(()=>ag(t,e,l,o,r,"data"),[t,e,l,o,r]),u=m.useMemo(()=>ag(t,e,l,o,r,"assets"),[t,e,l,o,r]),c=m.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let p=new Set,v=!1;if(e.forEach(y=>{let h=o.routes[y.route.id];!h||!h.hasLoader||(!s.some(w=>w.route.id===y.route.id)&&y.route.id in a&&i[y.route.id]?.shouldRevalidate||h.hasClientLoader?v=!0:p.add(y.route.id))}),p.size===0)return[];let g=jO(t);return v&&p.size>0&&g.searchParams.set("_routes",e.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[g.pathname+g.search]},[a,r,o,s,e,t,i]),d=m.useMemo(()=>LO(u,o),[u,o]),f=WO(u);return m.createElement(m.Fragment,null,c.map(p=>m.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),d.map(p=>m.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),f.map(({key:p,link:v})=>m.createElement("link",{key:p,...v})))}function zO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gw&&(window.__reactRouterVersion="7.1.3")}catch{}function QO({basename:t,children:e,window:n}){let r=m.useRef();r.current==null&&(r.current=MP({window:n,v5Compat:!0}));let o=r.current,[i,a]=m.useState({action:o.action,location:o.location}),l=m.useCallback(s=>{m.startTransition(()=>a(s))},[a]);return m.useLayoutEffect(()=>o.listen(l),[o,l]),m.createElement(CO,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:o})}var qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xw=m.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:a,state:l,target:s,to:u,preventScrollReset:c,viewTransition:d,...f},p){let{basename:v}=m.useContext($n),g=typeof u=="string"&&qw.test(u),y,h=!1;if(typeof u=="string"&&g&&(y=u,Gw))try{let k=new URL(window.location.href),M=u.startsWith("//")?new URL(k.protocol+u):new URL(u),O=Nr(M.pathname,v);M.origin===k.origin&&O!=null?u=O+M.search+M.hash:h=!0}catch{sn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=rO(u,{relative:o}),[S,E,_]=BO(r,f),b=qO(u,{replace:a,state:l,target:s,preventScrollReset:c,relative:o,viewTransition:d});function T(k){e&&e(k),k.defaultPrevented||b(k)}let x=m.createElement("a",{...f,..._,href:y||w,onClick:h||i?e:T,ref:zO(p,E),target:s,"data-discover":!g&&n==="render"?"true":void 0});return S&&!g?m.createElement(m.Fragment,null,x,m.createElement(HO,{page:w})):x});Xw.displayName="Link";var Zw=m.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:a,viewTransition:l,children:s,...u},c){let d=Fa(a,{relative:u.relative}),f=sr(),p=m.useContext(Du),{navigator:v,basename:g}=m.useContext($n),y=p!=null&&nM(d)&&l===!0,h=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,w=f.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),S=S?S.toLowerCase():null,h=h.toLowerCase()),S&&g&&(S=Nr(S,g)||S);const E=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let _=w===h||!o&&w.startsWith(h)&&w.charAt(E)==="/",b=S!=null&&(S===h||!o&&S.startsWith(h)&&S.charAt(h.length)==="/"),T={isActive:_,isPending:b,isTransitioning:y},x=_?e:void 0,k;typeof r=="function"?k=r(T):k=[r,_?"active":null,b?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let M=typeof i=="function"?i(T):i;return m.createElement(Xw,{...u,"aria-current":x,className:k,ref:c,style:M,to:a,viewTransition:l},typeof s=="function"?s(T):s)});Zw.displayName="NavLink";var KO=m.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:i,method:a=Is,action:l,onSubmit:s,relative:u,preventScrollReset:c,viewTransition:d,...f},p)=>{let v=eM(),g=tM(l,{relative:u}),y=a.toLowerCase()==="get"?"get":"post",h=typeof l=="string"&&qw.test(l),w=S=>{if(s&&s(S),S.defaultPrevented)return;S.preventDefault();let E=S.nativeEvent.submitter,_=E?.getAttribute("formmethod")||a;v(E||S.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:o,state:i,relative:u,preventScrollReset:c,viewTransition:d})};return m.createElement("form",{ref:p,method:y,action:g,onSubmit:r?s:w,...f,"data-discover":!h&&t==="render"?"true":void 0})});KO.displayName="Form";function GO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jw(t){let e=m.useContext(hi);return Ae(e,GO(t)),e}function qO(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:a}={}){let l=ku(),s=sr(),u=Fa(t,{relative:i});return m.useCallback(c=>{if(DO(c,e)){c.preventDefault();let d=n!==void 0?n:ba(s)===ba(u);l(t,{replace:d,state:r,preventScrollReset:o,relative:i,viewTransition:a})}},[s,l,u,n,r,e,t,o,i,a])}function XO(t){sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=m.useRef(Xd(t)),n=m.useRef(!1),r=sr(),o=m.useMemo(()=>kO(r.search,n.current?null:e.current),[r.search]),i=ku(),a=m.useCallback((l,s)=>{const u=Xd(typeof l=="function"?l(o):l);n.current=!0,i("?"+u,s)},[i,o]);return[o,a]}var ZO=0,JO=()=>`__${String(++ZO)}__`;function eM(){let{router:t}=Jw("useSubmit"),{basename:e}=m.useContext($n),n=gO();return m.useCallback(async(r,o={})=>{let{action:i,method:a,encType:l,formData:s,body:u}=MO(r,e);if(o.navigate===!1){let c=o.fetcherKey||JO();await t.fetch(c,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:s,body:u,formMethod:o.method||a,formEncType:o.encType||l,flushSync:o.flushSync})}else await t.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:s,body:u,formMethod:o.method||a,formEncType:o.encType||l,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function tM(t,{relative:e}={}){let{basename:n}=m.useContext($n),r=m.useContext(jn);Ae(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...Fa(t||".",{relative:e})},a=sr();if(t==null){i.search=a.search;let l=new URLSearchParams(i.search),s=l.getAll("index");if(s.some(c=>c==="")){l.delete("index"),s.filter(d=>d).forEach(d=>l.append("index",d));let c=l.toString();i.search=c?`?${c}`:""}}return(!t||t===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Kn([n,i.pathname])),ba(i)}function nM(t,e={}){let n=m.useContext(Hw);Ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Jw("useViewTransitionState"),o=Fa(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Nr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Nr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pl(o.pathname,a)!=null||Pl(o.pathname,i)!=null}new TextEncoder;function rM({label:t,value:e,setValue:n,options:r}){const o=`${t.replace(/[^\p{L}\p{N}]/ui,"")}-settings-select`;return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"labeled-setting",children:[C.jsxs("label",{htmlFor:o,children:[t,": "]}),C.jsx("select",{id:o,value:e,onChange:i=>n(i.target.value),children:r.map(i=>Object.entries(i).map(([a,l])=>C.jsx("option",{value:l,children:a},l)))})]})})}function oM(){const[t,e]=te(F.SPEECH_ENABLED);return m.useEffect(()=>{At.setSpeechEnabled(t)},[t]),C.jsx(Ow,{trueLabel:"Enable speech",value:t,setValue:e})}var Zd;(function(t){t.csv="text/csv",t.tsv="text/tab-separated-values",t.plain="text/plain"})(Zd||(Zd={}));var mi=t=>t,Bt=t=>t,Zi=mi,Ou=mi,oi=mi,sg=mi,lg=mi,iM={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,fileExtension:"csv",mediaType:Zd.csv,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},aM=`\r
`,sM="\uFEFF",Mu=t=>Object.assign({},iM,t);class lM extends Error{constructor(e){super(e),this.name="CsvGenerationError"}}class uM extends Error{constructor(e){super(e),this.name="EmptyHeadersError"}}class cM extends Error{constructor(e){super(e),this.name="CsvDownloadEnvironmentError"}}class dM extends Error{constructor(e){super(e),this.name="UnsupportedDataFormatError"}}var fM=function(t,e){return e=='"'&&t.indexOf('"')>-1?t.replace(/"/g,'""'):t},pM=t=>sg(typeof t=="object"?t.key:t),hM=t=>lg(typeof t=="object"?t.displayLabel:t),mM=(t,...e)=>e.reduce((n,r)=>r(n),t),gM=t=>e=>t.useBom?Ou(Bt(e)+sM):e,vM=t=>e=>t.showTitle?Mp(Ou(Bt(e)+t.title))(oi("")):e,Mp=t=>e=>Ou(Bt(t)+Bt(e)+aM),e1=t=>(e,n)=>yM(t)(oi(Bt(e)+Bt(n))),yM=t=>e=>mi(Bt(e)+t.fieldSeparator),wM=(t,e)=>n=>{if(!t.showColumnHeaders)return n;if(e.length<1)throw new uM("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let r=oi("");for(let o=0;o<e.length;o++){const i=hM(e[o]);r=e1(t)(r,t1(t,Bt(i)))}return r=oi(Bt(r).slice(0,-1)),Mp(n)(r)},SM=(t,e,n)=>r=>{let o=r;for(var i=0;i<n.length;i++){let a=oi("");for(let l=0;l<e.length;l++){const s=pM(e[l]),u=n[i][Bt(s)];a=e1(t)(a,t1(t,u))}a=oi(Bt(a).slice(0,-1)),o=Mp(o)(a)}return o},CM=t=>+t===t&&(!isFinite(t)||!!(t%1)),EM=(t,e)=>{if(CM(e)){if(t.decimalSeparator==="locale")return Zi(e.toLocaleString());if(t.decimalSeparator)return Zi(e.toString().replace(".",t.decimalSeparator))}return Zi(e.toString())},As=(t,e)=>{let n=e;return(t.quoteStrings||t.fieldSeparator&&e.indexOf(t.fieldSeparator)>-1||t.quoteCharacter&&e.indexOf(t.quoteCharacter)>-1||e.indexOf(`
`)>-1||e.indexOf("\r")>-1)&&(n=t.quoteCharacter+fM(e,t.quoteCharacter)+t.quoteCharacter),Zi(n)},bM=(t,e)=>{const n=e?"true":"false";return Zi(t.boolDisplay[n])},xM=(t,e)=>typeof e>"u"&&t.replaceUndefinedWith!==void 0?As(t,t.replaceUndefinedWith+""):e===null?As(t,"null"):As(t,""),t1=(t,e)=>{if(typeof e=="number")return EM(t,e);if(typeof e=="string")return As(t,e);if(typeof e=="boolean"&&t.boolDisplay)return bM(t,e);if(e===null||typeof e>"u")return xM(t,e);throw new dM(`
    typeof ${typeof e} isn't supported. Only number, string, boolean, null and undefined are supported.
    Please convert the data in your object to one of those before generating the CSV.
    `)},_M=t=>e=>{const n=Mu(t),r=n.useKeysAsHeaders?Object.keys(e[0]):n.columnHeaders;let o=mM(Ou(""),gM(n),vM(n),wM(n,r),SM(n,r,e));if(Bt(o).length<1)throw new lM("Output is empty. Is your data formatted correctly?");return o},TM=t=>e=>{const n=Mu(t),r=Bt(e),o=n.useTextFile?"text/plain":n.mediaType;return new Blob([r],{type:`${o};charset=utf8;`})},DM=t=>e=>{if(!window)throw new cM("Downloading only supported in a browser environment.");const n=TM(t)(e),r=Mu(t),o=r.useTextFile?"txt":r.fileExtension,i=`${r.filename}.${o}`,a=document.createElement("a");a.download=i,a.href=URL.createObjectURL(n),a.setAttribute("visibility","hidden"),document.body.appendChild(a),a.click(),document.body.removeChild(a)};function kM(t,e){const n=URL.createObjectURL(new Blob([new TextEncoder().encode(e).buffer],{type:"text/plain"})),r=document.createElement("a");return r.download=t,r.href=n,r}function ug(t,e="data",n="txt"){kM(`${e}_${new Date().toISOString().replace(/[:.]/g,"_")}.${n}`,t).click()}function PM(t){const e=Mu({fieldSeparator:",",filename:`fit-test-results-${new Date().toISOString().replace(/[:.]/g,"_")}`,decimalSeparator:".",columnHeaders:t.getAllColumns().map(i=>i.id)}),r=t.getSortedRowModel().rows.map(i=>i.original),o=_M(e)(r);return{csvConfig:e,csv:o}}function YI(t){const{csvConfig:e,csv:n}=PM(t);DM(e)(n)}function OM(){const[t,e]=te(F.SPEECH_VOICE),n=m.useCallback(i=>{const a=o(i);console.log(`looking for voice '${i}'; found voice ${a?.name}`),a&&(At.setSelectedVoice(a),e(i),At.sayItLater(`This is ${a.name} speaking.`))},[e]);m.useEffect(()=>{const i=r();i&&e(i.name)},[]),m.useEffect(()=>{n(t)},[t,n]);function r(){const a=At.allVoices.find(l=>l.default);return a||null}function o(i){return At.allVoices.find(a=>a.name===i)||null}return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"labeled-setting",children:[C.jsx("label",{htmlFor:"speech-voice-select",children:"Voice: "}),C.jsx("select",{id:"speech-voice-select",value:t,onChange:i=>e(i.target.value),style:{textOverflow:"ellipsis",width:"15em"},children:At.allVoices.map(i=>C.jsx("option",{value:i.name,children:`${i.name} (${i.lang}) ${i.default?" DEFAULT":""}`},i.name))})]})})}function n1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=n1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function it(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=n1(t))&&(r&&(r+=" "),r+=e);return r}function B(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Se(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function or(t,e){const n=B(t);return isNaN(e)?Se(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function gn(t,e){const n=B(t);if(isNaN(e))return Se(t,NaN);if(!e)return n;const r=n.getDate(),o=Se(t,n.getTime());o.setMonth(n.getMonth()+e+1,0);const i=o.getDate();return r>=i?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}function Rp(t,e){const n=+B(t);return Se(t,n+e)}const r1=6048e5,MM=864e5,Ru=6e4,Nu=36e5,RM=1e3;function NM(t,e){return Rp(t,e*Nu)}let IM={};function mo(){return IM}function ir(t,e){const n=mo(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=B(t),i=o.getDay(),a=(i<r?7:0)+i-r;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function ii(t){return ir(t,{weekStartsOn:1})}function o1(t){const e=B(t),n=e.getFullYear(),r=Se(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=ii(r),i=Se(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=ii(i);return e.getTime()>=o.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function ao(t){const e=B(t);return e.setHours(0,0,0,0),e}function Ol(t){const e=B(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ai(t,e){const n=ao(t),r=ao(e),o=+n-Ol(n),i=+r-Ol(r);return Math.round((o-i)/MM)}function LM(t){const e=o1(t),n=Se(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ii(n)}function Jd(t,e){return Rp(t,e*Ru)}function Np(t,e){const n=e*3;return gn(t,n)}function AM(t,e){return Rp(t,e*1e3)}function Ml(t,e){const n=e*7;return or(t,n)}function Gn(t,e){return gn(t,e*12)}function cg(t){let e;return t.forEach(function(n){const r=B(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function dg(t){let e;return t.forEach(n=>{const r=B(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function FM(t,e){const n=ao(t),r=ao(e);return+n==+r}function qn(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Rl(t){if(!qn(t)&&typeof t!="number")return!1;const e=B(t);return!isNaN(Number(e))}function Nl(t,e){const n=B(t),r=B(e),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function Xr(t){const e=B(t);return Math.trunc(e.getMonth()/3)+1}function Il(t,e){const n=B(t),r=B(e),o=n.getFullYear()-r.getFullYear(),i=Xr(n)-Xr(r);return o*4+i}function Ll(t,e){const n=B(t),r=B(e);return n.getFullYear()-r.getFullYear()}function $M(t,e){const n=B(t),r=B(e),o=fg(n,r),i=Math.abs(ai(n,r));n.setDate(n.getDate()-o*i);const a=+(fg(n,r)===-o),l=o*(i-a);return l===0?0:l}function fg(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function i1(t){const e=B(t);return e.setHours(23,59,59,999),e}function a1(t){const e=B(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function ef(t){const e=B(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function s1(t){const e=B(t);return e.setDate(1),e.setHours(0,0,0,0),e}function l1(t){const e=B(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Iu(t){const e=B(t),n=Se(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function jM(t,e){const n=mo(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=B(t),i=o.getDay(),a=(i<r?-7:0)+6-(i-r);return o.setDate(o.getDate()+a),o.setHours(23,59,59,999),o}const VM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UM=(t,e,n)=>{let r;const o=VM[t];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Nc(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const BM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},HM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YM={date:Nc({formats:BM,defaultWidth:"full"}),time:Nc({formats:HM,defaultWidth:"full"}),dateTime:Nc({formats:WM,defaultWidth:"full"})},zM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QM=(t,e,n,r)=>zM[t];function Pi(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let o;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;o=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;o=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return o[i]}}const KM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eR=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tR={ordinalNumber:eR,era:Pi({values:KM,defaultWidth:"wide"}),quarter:Pi({values:GM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Pi({values:qM,defaultWidth:"wide"}),day:Pi({values:XM,defaultWidth:"wide"}),dayPeriod:Pi({values:ZM,defaultWidth:"wide",formattingValues:JM,defaultFormattingWidth:"wide"})};function Oi(t){return(e,n={})=>{const r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],s=Array.isArray(l)?rR(l,d=>d.test(a)):nR(l,d=>d.test(a));let u;u=t.valueCallback?t.valueCallback(s):s,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function nR(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function rR(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function oR(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const o=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(o.length);return{value:a,rest:l}}}const iR=/^(\d+)(th|st|nd|rd)?/i,aR=/\d+/i,sR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lR={any:[/^b/i,/^(a|c)/i]},uR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cR={any:[/1/i,/2/i,/3/i,/4/i]},dR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vR={ordinalNumber:oR({matchPattern:iR,parsePattern:aR,valueCallback:t=>parseInt(t,10)}),era:Oi({matchPatterns:sR,defaultMatchWidth:"wide",parsePatterns:lR,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:uR,defaultMatchWidth:"wide",parsePatterns:cR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Oi({matchPatterns:dR,defaultMatchWidth:"wide",parsePatterns:fR,defaultParseWidth:"any"}),day:Oi({matchPatterns:pR,defaultMatchWidth:"wide",parsePatterns:hR,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:mR,defaultMatchWidth:"any",parsePatterns:gR,defaultParseWidth:"any"})},u1={code:"en-US",formatDistance:UM,formatLong:YM,formatRelative:QM,localize:tR,match:vR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yR(t){const e=B(t);return ai(e,Iu(e))+1}function Ip(t){const e=B(t),n=+ii(e)-+LM(e);return Math.round(n/r1)+1}function Lp(t,e){const n=B(t),r=n.getFullYear(),o=mo(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,a=Se(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=ir(a,e),s=Se(t,0);s.setFullYear(r,0,i),s.setHours(0,0,0,0);const u=ir(s,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function wR(t,e){const n=mo(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Lp(t,e),i=Se(t,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),ir(i,e)}function c1(t,e){const n=B(t),r=+ir(n,e)-+wR(n,e);return Math.round(r/r1)+1}function we(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ur={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return we(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):we(n+1,2)},d(t,e){return we(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return we(t.getHours()%12||12,e.length)},H(t,e){return we(t.getHours(),e.length)},m(t,e){return we(t.getMinutes(),e.length)},s(t,e){return we(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return we(o,e.length)}},yo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pg={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return ur.y(t,e)},Y:function(t,e,n,r){const o=Lp(t,r),i=o>0?o:1-o;if(e==="YY"){const a=i%100;return we(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):we(i,e.length)},R:function(t,e){const n=o1(t);return we(n,e.length)},u:function(t,e){const n=t.getFullYear();return we(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return we(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return we(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ur.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return we(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const o=c1(t,r);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):we(o,e.length)},I:function(t,e,n){const r=Ip(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):we(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ur.d(t,e)},D:function(t,e,n){const r=yR(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):we(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return we(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return we(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return we(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let o;switch(r===12?o=yo.noon:r===0?o=yo.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let o;switch(r>=17?o=yo.evening:r>=12?o=yo.afternoon:r>=4?o=yo.morning:o=yo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ur.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ur.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):we(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):we(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ur.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ur.s(t,e)},S:function(t,e){return ur.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return mg(r);case"XXXX":case"XX":return Ur(r);case"XXXXX":case"XXX":default:return Ur(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return mg(r);case"xxxx":case"xx":return Ur(r);case"xxxxx":case"xxx":default:return Ur(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hg(r,":");case"OOOO":default:return"GMT"+Ur(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hg(r,":");case"zzzz":default:return"GMT"+Ur(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return we(r,e.length)},T:function(t,e,n){const r=t.getTime();return we(r,e.length)}};function hg(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Math.trunc(r/60),i=r%60;return i===0?n+String(o):n+String(o)+e+we(i,2)}function mg(t,e){return t%60===0?(t>0?"-":"+")+we(Math.abs(t)/60,2):Ur(t,e)}function Ur(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=we(Math.trunc(r/60),2),i=we(r%60,2);return n+o+e+i}const gg=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},d1=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},SR=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return gg(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",gg(r,e)).replace("{{time}}",d1(o,e))},Al={p:d1,P:SR},CR=/^D+$/,ER=/^Y+$/,bR=["D","DD","YY","YYYY"];function f1(t){return CR.test(t)}function p1(t){return ER.test(t)}function tf(t,e,n){const r=xR(t,e,n);if(console.warn(r),bR.includes(t))throw new RangeError(r)}function xR(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _R=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DR=/^'([^]*?)'?$/,kR=/''/g,PR=/[a-zA-Z]/;function vg(t,e,n){const r=mo(),o=n?.locale??r.locale??u1,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=B(t);if(!Rl(l))throw new RangeError("Invalid time value");let s=e.match(TR).map(c=>{const d=c[0];if(d==="p"||d==="P"){const f=Al[d];return f(c,o.formatLong)}return c}).join("").match(_R).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const d=c[0];if(d==="'")return{isToken:!1,value:OR(c)};if(pg[d])return{isToken:!0,value:c};if(d.match(PR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:c}});o.localize.preprocessor&&(s=o.localize.preprocessor(l,s));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return s.map(c=>{if(!c.isToken)return c.value;const d=c.value;(!n?.useAdditionalWeekYearTokens&&p1(d)||!n?.useAdditionalDayOfYearTokens&&f1(d))&&tf(d,e,String(t));const f=pg[d[0]];return f(l,d,o.localize,u)}).join("")}function OR(t){const e=t.match(DR);return e?e[1].replace(kR,"'"):t}function yg(t){return B(t).getDate()}function MR(t){return B(t).getDay()}function RR(t){const e=B(t),n=e.getFullYear(),r=e.getMonth(),o=Se(t,0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function NR(){return Object.assign({},mo())}function Nn(t){return B(t).getHours()}function IR(t){let n=B(t).getDay();return n===0&&(n=7),n}function In(t){return B(t).getMinutes()}function xt(t){return B(t).getMonth()}function Xn(t){return B(t).getSeconds()}function nf(t){return B(t).getTime()}function ie(t){return B(t).getFullYear()}function Ir(t,e){const n=B(t),r=B(e);return n.getTime()>r.getTime()}function so(t,e){const n=B(t),r=B(e);return+n<+r}function LR(t,e){const n=B(t),r=B(e);return+n==+r}function AR(t,e){const n=e instanceof Date?Se(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const FR=10;class h1{subPriority=0;validate(e,n){return!0}}class $R extends h1{constructor(e,n,r,o,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=o,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class jR extends h1{priority=FR;subPriority=-1;set(e,n){return n.timestampIsSet?e:Se(e,AR(e,Date))}}class ge{run(e,n,r,o){const i=this.parse(e,n,r,o);return i?{setter:new $R(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class VR extends ge{priority=140;parse(e,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,n,r){return n.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const We={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},_n={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ye(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ie(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Tn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(o*Nu+i*Ru+a*RM),rest:e.slice(n[0].length)}}function m1(t){return Ie(We.anyDigitsSigned,t)}function Be(t,e){switch(t){case 1:return Ie(We.singleDigit,e);case 2:return Ie(We.twoDigits,e);case 3:return Ie(We.threeDigits,e);case 4:return Ie(We.fourDigits,e);default:return Ie(new RegExp("^\\d{1,"+t+"}"),e)}}function Fl(t,e){switch(t){case 1:return Ie(We.singleDigitSigned,e);case 2:return Ie(We.twoDigitsSigned,e);case 3:return Ie(We.threeDigitsSigned,e);case 4:return Ie(We.fourDigitsSigned,e);default:return Ie(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Ap(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function g1(t,e){const n=e>0,r=n?e:1-e;let o;if(r<=50)o=t||100;else{const i=r+50,a=Math.trunc(i/100)*100,l=t>=i%100;o=t+a-(l?100:0)}return n?o:1-o}function v1(t){return t%400===0||t%4===0&&t%100!==0}class UR extends ge{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,n,r){const o=i=>({year:i,isTwoDigitYear:n==="yy"});switch(n){case"y":return Ye(Be(4,e),o);case"yo":return Ye(r.ordinalNumber(e,{unit:"year"}),o);default:return Ye(Be(n.length,e),o)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r){const o=e.getFullYear();if(r.isTwoDigitYear){const a=g1(r.year,o);return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}const i=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class BR extends ge{priority=130;parse(e,n,r){const o=i=>({year:i,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Ye(Be(4,e),o);case"Yo":return Ye(r.ordinalNumber(e,{unit:"year"}),o);default:return Ye(Be(n.length,e),o)}}validate(e,n){return n.isTwoDigitYear||n.year>0}set(e,n,r,o){const i=Lp(e,o);if(r.isTwoDigitYear){const l=g1(r.year,i);return e.setFullYear(l,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),ir(e,o)}const a=!("era"in n)||n.era===1?r.year:1-r.year;return e.setFullYear(a,0,o.firstWeekContainsDate),e.setHours(0,0,0,0),ir(e,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class HR extends ge{priority=130;parse(e,n){return Fl(n==="R"?4:n.length,e)}set(e,n,r){const o=Se(e,0);return o.setFullYear(r,0,4),o.setHours(0,0,0,0),ii(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class WR extends ge{priority=130;parse(e,n){return Fl(n==="u"?4:n.length,e)}set(e,n,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class YR extends ge{priority=120;parse(e,n,r){switch(n){case"Q":case"QQ":return Be(n.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class zR extends ge{priority=120;parse(e,n,r){switch(n){case"q":case"qq":return Be(n.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=1&&n<=4}set(e,n,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class QR extends ge{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,n,r){const o=i=>i-1;switch(n){case"M":return Ye(Ie(We.month,e),o);case"MM":return Ye(Be(2,e),o);case"Mo":return Ye(r.ordinalNumber(e,{unit:"month"}),o);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class KR extends ge{priority=110;parse(e,n,r){const o=i=>i-1;switch(n){case"L":return Ye(Ie(We.month,e),o);case"LL":return Ye(Be(2,e),o);case"Lo":return Ye(r.ordinalNumber(e,{unit:"month"}),o);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function GR(t,e,n){const r=B(t),o=c1(r,n)-e;return r.setDate(r.getDate()-o*7),r}class qR extends ge{priority=100;parse(e,n,r){switch(n){case"w":return Ie(We.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return Be(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r,o){return ir(GR(e,r,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function XR(t,e){const n=B(t),r=Ip(n)-e;return n.setDate(n.getDate()-r*7),n}class ZR extends ge{priority=100;parse(e,n,r){switch(n){case"I":return Ie(We.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return Be(n.length,e)}}validate(e,n){return n>=1&&n<=53}set(e,n,r){return ii(XR(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const JR=[31,28,31,30,31,30,31,31,30,31,30,31],e2=[31,29,31,30,31,30,31,31,30,31,30,31];class t2 extends ge{priority=90;subPriority=1;parse(e,n,r){switch(n){case"d":return Ie(We.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return Be(n.length,e)}}validate(e,n){const r=e.getFullYear(),o=v1(r),i=e.getMonth();return o?n>=1&&n<=e2[i]:n>=1&&n<=JR[i]}set(e,n,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class n2 extends ge{priority=90;subpriority=1;parse(e,n,r){switch(n){case"D":case"DD":return Ie(We.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return Be(n.length,e)}}validate(e,n){const r=e.getFullYear();return v1(r)?n>=1&&n<=366:n>=1&&n<=365}set(e,n,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Fp(t,e,n){const r=mo(),o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=B(t),a=i.getDay(),s=(e%7+7)%7,u=7-o,c=e<0||e>6?e-(a+u)%7:(s+u)%7-(a+u)%7;return or(i,c)}class r2 extends ge{priority=90;parse(e,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,o){return e=Fp(e,r,o),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class o2 extends ge{priority=90;parse(e,n,r,o){const i=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Ye(Be(n.length,e),i);case"eo":return Ye(r.ordinalNumber(e,{unit:"day"}),i);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,o){return e=Fp(e,r,o),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class i2 extends ge{priority=90;parse(e,n,r,o){const i=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Ye(Be(n.length,e),i);case"co":return Ye(r.ordinalNumber(e,{unit:"day"}),i);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,n){return n>=0&&n<=6}set(e,n,r,o){return e=Fp(e,r,o),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function a2(t,e){const n=B(t),r=IR(n),o=e-r;return or(n,o)}class s2 extends ge{priority=90;parse(e,n,r){const o=i=>i===0?7:i;switch(n){case"i":case"ii":return Be(n.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return Ye(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),o);case"iiiii":return Ye(r.day(e,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Ye(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Ye(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),o)}}validate(e,n){return n>=1&&n<=7}set(e,n,r){return e=a2(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class l2 extends ge{priority=80;parse(e,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(Ap(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class u2 extends ge{priority=80;parse(e,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(Ap(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class c2 extends ge{priority=80;parse(e,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,n,r){return e.setHours(Ap(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class d2 extends ge{priority=70;parse(e,n,r){switch(n){case"h":return Ie(We.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return Be(n.length,e)}}validate(e,n){return n>=1&&n<=12}set(e,n,r){const o=e.getHours()>=12;return o&&r<12?e.setHours(r+12,0,0,0):!o&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class f2 extends ge{priority=70;parse(e,n,r){switch(n){case"H":return Ie(We.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return Be(n.length,e)}}validate(e,n){return n>=0&&n<=23}set(e,n,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class p2 extends ge{priority=70;parse(e,n,r){switch(n){case"K":return Ie(We.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return Be(n.length,e)}}validate(e,n){return n>=0&&n<=11}set(e,n,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class h2 extends ge{priority=70;parse(e,n,r){switch(n){case"k":return Ie(We.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return Be(n.length,e)}}validate(e,n){return n>=1&&n<=24}set(e,n,r){const o=r<=24?r%24:r;return e.setHours(o,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class m2 extends ge{priority=60;parse(e,n,r){switch(n){case"m":return Ie(We.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return Be(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class g2 extends ge{priority=50;parse(e,n,r){switch(n){case"s":return Ie(We.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return Be(n.length,e)}}validate(e,n){return n>=0&&n<=59}set(e,n,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class v2 extends ge{priority=30;parse(e,n){const r=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Ye(Be(n.length,e),r)}set(e,n,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class y2 extends ge{priority=10;parse(e,n){switch(n){case"X":return Tn(_n.basicOptionalMinutes,e);case"XX":return Tn(_n.basic,e);case"XXXX":return Tn(_n.basicOptionalSeconds,e);case"XXXXX":return Tn(_n.extendedOptionalSeconds,e);case"XXX":default:return Tn(_n.extended,e)}}set(e,n,r){return n.timestampIsSet?e:Se(e,e.getTime()-Ol(e)-r)}incompatibleTokens=["t","T","x"]}class w2 extends ge{priority=10;parse(e,n){switch(n){case"x":return Tn(_n.basicOptionalMinutes,e);case"xx":return Tn(_n.basic,e);case"xxxx":return Tn(_n.basicOptionalSeconds,e);case"xxxxx":return Tn(_n.extendedOptionalSeconds,e);case"xxx":default:return Tn(_n.extended,e)}}set(e,n,r){return n.timestampIsSet?e:Se(e,e.getTime()-Ol(e)-r)}incompatibleTokens=["t","T","X"]}class S2 extends ge{priority=40;parse(e){return m1(e)}set(e,n,r){return[Se(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class C2 extends ge{priority=20;parse(e){return m1(e)}set(e,n,r){return[Se(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const E2={G:new VR,y:new UR,Y:new BR,R:new HR,u:new WR,Q:new YR,q:new zR,M:new QR,L:new KR,w:new qR,I:new ZR,d:new t2,D:new n2,E:new r2,e:new o2,c:new i2,i:new s2,a:new l2,b:new u2,B:new c2,h:new d2,H:new f2,K:new p2,k:new h2,m:new m2,s:new g2,S:new v2,X:new y2,x:new w2,t:new S2,T:new C2},b2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_2=/^'([^]*?)'?$/,T2=/''/g,D2=/\S/,k2=/[a-zA-Z]/;function Ic(t,e,n,r){const o=NR(),i=r?.locale??o.locale??u1,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(e==="")return t===""?B(n):Se(n,NaN);const s={firstWeekContainsDate:a,weekStartsOn:l,locale:i},u=[new jR],c=e.match(x2).map(g=>{const y=g[0];if(y in Al){const h=Al[y];return h(g,i.formatLong)}return g}).join("").match(b2),d=[];for(let g of c){!r?.useAdditionalWeekYearTokens&&p1(g)&&tf(g,e,t),!r?.useAdditionalDayOfYearTokens&&f1(g)&&tf(g,e,t);const y=g[0],h=E2[y];if(h){const{incompatibleTokens:w}=h;if(Array.isArray(w)){const E=d.find(_=>w.includes(_.token)||_.token===y);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${g}\` at the same time`)}else if(h.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);d.push({token:y,fullToken:g});const S=h.run(t,g,i.match,s);if(!S)return Se(n,NaN);u.push(S.setter),t=S.rest}else{if(y.match(k2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");if(g==="''"?g="'":y==="'"&&(g=P2(g)),t.indexOf(g)===0)t=t.slice(g.length);else return Se(n,NaN)}}if(t.length>0&&D2.test(t))return Se(n,NaN);const f=u.map(g=>g.priority).sort((g,y)=>y-g).filter((g,y,h)=>h.indexOf(g)===y).map(g=>u.filter(y=>y.priority===g).sort((y,h)=>h.subPriority-y.subPriority)).map(g=>g[0]);let p=B(n);if(isNaN(p.getTime()))return Se(n,NaN);const v={};for(const g of f){if(!g.validate(p,s))return Se(n,NaN);const y=g.set(p,v,s);Array.isArray(y)?(p=y[0],Object.assign(v,y[1])):p=y}return Se(n,p)}function P2(t){return t.match(_2)[1].replace(T2,"'")}function O2(t,e){const n=B(t),r=B(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function M2(t,e){const n=ef(t),r=ef(e);return+n==+r}function R2(t,e){const n=B(t),r=B(e);return n.getFullYear()===r.getFullYear()}function xa(t,e){const n=+B(t),[r,o]=[+B(e.start),+B(e.end)].sort((i,a)=>i-a);return n>=r&&n<=o}function N2(t,e){return or(t,-e)}function I2(t,e){const r=$2(t);let o;if(r.date){const s=j2(r.date,2);o=V2(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const i=o.getTime();let a=0,l;if(r.time&&(a=U2(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(l=B2(r.timezone),isNaN(l))return new Date(NaN)}else{const s=new Date(i+a),u=new Date(0);return u.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),u.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),u}return new Date(i+a+l)}const fs={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},L2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,A2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,F2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $2(t){const e={},n=t.split(fs.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],fs.timeZoneDelimiter.test(e.date)&&(e.date=t.split(fs.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const o=fs.timezone.exec(r);o?(e.time=r.replace(o[1],""),e.timezone=o[1]):e.time=r}return e}function j2(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function V2(t,e){if(e===null)return new Date(NaN);const n=t.match(L2);if(!n)return new Date(NaN);const r=!!n[4],o=Mi(n[1]),i=Mi(n[2])-1,a=Mi(n[3]),l=Mi(n[4]),s=Mi(n[5])-1;if(r)return Q2(e,l,s)?H2(e,l,s):new Date(NaN);{const u=new Date(0);return!Y2(e,i,a)||!z2(e,o)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(o,a)),u)}}function Mi(t){return t?parseInt(t):1}function U2(t){const e=t.match(A2);if(!e)return NaN;const n=Lc(e[1]),r=Lc(e[2]),o=Lc(e[3]);return K2(n,r,o)?n*Nu+r*Ru+o*1e3:NaN}function Lc(t){return t&&parseFloat(t.replace(",","."))||0}function B2(t){if(t==="Z")return 0;const e=t.match(F2);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return G2(r,o)?n*(r*Nu+o*Ru):NaN}function H2(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const o=r.getUTCDay()||7,i=(e-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}const W2=[31,null,31,30,31,30,31,31,30,31,30,31];function y1(t){return t%400===0||t%4===0&&t%100!==0}function Y2(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(W2[e]||(y1(t)?29:28))}function z2(t,e){return e>=1&&e<=(y1(t)?366:365)}function Q2(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function K2(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function G2(t,e){return e>=0&&e<=59}function Lt(t,e){const n=B(t),r=n.getFullYear(),o=n.getDate(),i=Se(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const a=RR(i);return n.setMonth(e,Math.min(o,a)),n}function q2(t,e){let n=B(t);return isNaN(+n)?Se(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Lt(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Fs(t,e){const n=B(t);return n.setHours(e),n}function $s(t,e){const n=B(t);return n.setMinutes(e),n}function wo(t,e){const n=B(t),r=Math.trunc(n.getMonth()/3)+1,o=e-r;return Lt(n,n.getMonth()+o*3)}function js(t,e){const n=B(t);return n.setSeconds(e),n}function Sn(t,e){const n=B(t);return isNaN(+n)?Se(t,NaN):(n.setFullYear(e),n)}function si(t,e){return gn(t,-e)}function w1(t,e){return Np(t,-e)}function wg(t,e){return Ml(t,-e)}function li(t,e){return Gn(t,-e)}var Vs=typeof document<"u"?m.useLayoutEffect:m.useEffect;function $l(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!$l(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&t.$$typeof)&&!$l(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function S1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Sg(t,e){const n=S1(t);return Math.round(e*n)/n}function Ac(t){const e=m.useRef(t);return Vs(()=>{e.current=t}),e}function X2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:s,open:u}=t,[c,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(r);$l(f,r)||p(r);const[v,g]=m.useState(null),[y,h]=m.useState(null),w=m.useCallback(P=>{P!==b.current&&(b.current=P,g(P))},[]),S=m.useCallback(P=>{P!==T.current&&(T.current=P,h(P))},[]),E=i||v,_=a||y,b=m.useRef(null),T=m.useRef(null),x=m.useRef(c),k=s!=null,M=Ac(s),O=Ac(o),A=Ac(u),H=m.useCallback(()=>{if(!b.current||!T.current)return;const P={placement:e,strategy:n,middleware:f};O.current&&(P.platform=O.current),IT(b.current,T.current,P).then(I=>{const V={...I,isPositioned:A.current!==!1};W.current&&!$l(x.current,V)&&(x.current=V,ou.flushSync(()=>{d(V)}))})},[f,e,n,O,A]);Vs(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[u]);const W=m.useRef(!1);Vs(()=>(W.current=!0,()=>{W.current=!1}),[]),Vs(()=>{if(E&&(b.current=E),_&&(T.current=_),E&&_){if(M.current)return M.current(E,_,H);H()}},[E,_,H,M,k]);const $=m.useMemo(()=>({reference:b,floating:T,setReference:w,setFloating:S}),[w,S]),N=m.useMemo(()=>({reference:E,floating:_}),[E,_]),U=m.useMemo(()=>{const P={position:n,left:0,top:0};if(!N.floating)return P;const I=Sg(N.floating,c.x),V=Sg(N.floating,c.y);return l?{...P,transform:"translate("+I+"px, "+V+"px)",...S1(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:V}},[n,l,N.floating,c.x,c.y]);return m.useMemo(()=>({...c,update:H,refs:$,elements:N,floatingStyles:U}),[c,H,$,N,U])}const Z2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Im({element:r.current,padding:o}).fn(n):{}:r?Im({element:r,padding:o}).fn(n):{}}}},J2=(t,e)=>({...RT(t),options:[t,e]}),eN=(t,e)=>({...NT(t),options:[t,e]}),tN=(t,e)=>({...Z2(t),options:[t,e]}),C1={...Bc},nN=C1.useInsertionEffect,rN=nN||(t=>t());function oN(t){const e=m.useRef(()=>{});return rN(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}var jl=typeof document<"u"?m.useLayoutEffect:m.useEffect;function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(this,arguments)}let Cg=!1,iN=0;const Eg=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+iN++;function aN(){const[t,e]=m.useState(()=>Cg?Eg():void 0);return jl(()=>{t==null&&e(Eg())},[]),m.useEffect(()=>{Cg=!0},[]),t}const sN=C1.useId,E1=sN||aN,lN=m.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:i,shift:a}},width:l=14,height:s=7,tipRadius:u=0,strokeWidth:c=0,staticOffset:d,stroke:f,d:p,style:{transform:v,...g}={},...y}=e,h=E1(),[w,S]=m.useState(!1);if(jl(()=>{if(!o)return;an(o).direction==="rtl"&&S(!0)},[o]),!o)return null;const[E,_]=r.split("-"),b=E==="top"||E==="bottom";let T=d;(b&&a!=null&&a.x||!b&&a!=null&&a.y)&&(T=null);const x=c*2,k=x/2,M=l/2*(u/-8+1),O=s/2*u/4,A=!!p,H=T&&_==="end"?"bottom":"top";let W=T&&_==="end"?"right":"left";T&&w&&(W=_==="end"?"left":"right");const $=i?.x!=null?T||i.x:"",N=i?.y!=null?T||i.y:"",U=p||"M0,0"+(" H"+l)+(" L"+(l-M)+","+(s-O))+(" Q"+l/2+","+s+" "+M+","+(s-O))+" Z",P={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[E];return m.createElement("svg",rf({},y,{"aria-hidden":!0,ref:n,width:A?l:l+x,height:l,viewBox:"0 0 "+l+" "+(s>l?s:l),style:{position:"absolute",pointerEvents:"none",[W]:$,[H]:N,[E]:b||A?"100%":"calc(100% - "+x/2+"px)",transform:[P,v].filter(I=>!!I).join(" "),...g}}),x>0&&m.createElement("path",{clipPath:"url(#"+h+")",fill:"none",stroke:f,strokeWidth:x+(p?0:1),d:U}),m.createElement("path",{stroke:x&&!p?y.fill:"none",d:U}),m.createElement("clipPath",{id:h},m.createElement("rect",{x:-k,y:k*(A?-1:1),width:l+x,height:l})))});function uN(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(o=>o(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(o=>o!==n))||[])}}}const cN=m.createContext(null),dN=m.createContext(null),fN=()=>{var t;return((t=m.useContext(cN))==null?void 0:t.id)||null},pN=()=>m.useContext(dN);function hN(t){const{open:e=!1,onOpenChange:n,elements:r}=t,o=E1(),i=m.useRef({}),[a]=m.useState(()=>uN()),l=fN()!=null,[s,u]=m.useState(r.reference),c=oN((p,v,g)=>{i.current.openEvent=p?v:void 0,a.emit("openchange",{open:p,event:v,reason:g,nested:l}),n?.(p,v,g)}),d=m.useMemo(()=>({setPositionReference:u}),[]),f=m.useMemo(()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference}),[s,r.reference,r.floating]);return m.useMemo(()=>({dataRef:i,open:e,onOpenChange:c,elements:f,events:a,floatingId:o,refs:d}),[e,c,f,a,o,d])}function mN(t){t===void 0&&(t={});const{nodeId:e}=t,n=hN({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,o=r.elements,[i,a]=m.useState(null),[l,s]=m.useState(null),c=o?.domReference||i,d=m.useRef(null),f=pN();jl(()=>{c&&(d.current=c)},[c]);const p=X2({...t,elements:{...o,...l&&{reference:l}}}),v=m.useCallback(S=>{const E=bt(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;s(E),p.refs.setReference(E)},[p.refs]),g=m.useCallback(S=>{(bt(S)||S===null)&&(d.current=S,a(S)),(bt(p.refs.reference.current)||p.refs.reference.current===null||S!==null&&!bt(S))&&p.refs.setReference(S)},[p.refs]),y=m.useMemo(()=>({...p.refs,setReference:g,setPositionReference:v,domReference:d}),[p.refs,g,v]),h=m.useMemo(()=>({...p.elements,domReference:c}),[p.elements,c]),w=m.useMemo(()=>({...p,...r,refs:y,elements:h,nodeId:e}),[p,y,h,e,r]);return jl(()=>{r.dataRef.current.floatingContext=w;const S=f?.nodesRef.current.find(E=>E.id===e);S&&(S.context=w)}),m.useMemo(()=>({...p,context:w,refs:y,elements:h}),[p,y,h,w])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var of=function(e,n){return of=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},of(e,n)};function lt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");of(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var de=function(){return de=Object.assign||function(n){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},de.apply(this,arguments)};function kn(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var gN=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,o=r===void 0?!1:r,i=t.className,a=t.children,l=n?"Choose Time":"Choose Date".concat(o?" and Time":"");return D.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},a)},vN=function(t,e){var n=m.useRef(null),r=m.useRef(t);r.current=t;var o=m.useCallback(function(i){var a;n.current&&!n.current.contains(i.target)&&(e&&i.target instanceof HTMLElement&&i.target.classList.contains(e)||(a=r.current)===null||a===void 0||a.call(r,i))},[e]);return m.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),n},Lu=function(t){var e=t.children,n=t.onClickOutside,r=t.className,o=t.containerRef,i=t.style,a=t.ignoreClass,l=vN(n,a);return D.createElement("div",{className:r,style:i,ref:function(s){l.current=s,o&&(o.current=s)}},e)},j;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(j||(j={}));function b1(){var t=typeof window<"u"?window:globalThis;return t}var $a=12,yN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ce(t){if(t==null)return new Date;var e=typeof t=="string"?I2(t):B(t);return Hn(e)?e:new Date}function Fc(t,e,n,r,o){var i,a=null,l=Zr(n)||Zr(Ji()),s=!0;if(Array.isArray(e))return e.forEach(function(c){var d=Ic(t,c,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(s=Hn(d,o)&&t===Oe(d,c,n)),Hn(d,o)&&s&&(a=d)}),a;if(a=Ic(t,e,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)s=Hn(a)&&t===Oe(a,e,n);else if(!Hn(a)){var u=((i=e.match(yN))!==null&&i!==void 0?i:[]).map(function(c){var d=c[0];if(d==="p"||d==="P"){var f=Al[d];return l?f(c,l.formatLong):d}return c}).join("");t.length>0&&(a=Ic(t,u.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Hn(a)||(a=new Date(t))}return Hn(a)&&s?a:null}function Hn(t,e){return Rl(t)&&!so(t,e??new Date("1/1/1800"))}function Oe(t,e,n){if(n==="en")return vg(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Zr(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Ji()&&Zr(Ji())&&(r=Zr(Ji())),vg(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Gt(t,e){var n=e.dateFormat,r=e.locale,o=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Oe(t,o,r)||""}function wN(t,e,n){if(!t)return"";var r=Gt(t,n),o=e?Gt(e,n):"";return"".concat(r," - ").concat(o)}function SN(t,e){if(!t?.length)return"";var n=t[0]?Gt(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=Gt(t[1],e);return"".concat(n,", ").concat(r)}var o=t.length-1;return"".concat(n," (+").concat(o,")")}function $c(t,e){var n=e.hour,r=n===void 0?0:n,o=e.minute,i=o===void 0?0:o,a=e.second,l=a===void 0?0:a;return Fs($s(js(t,l),i),r)}function CN(t){return Ip(t)}function EN(t,e){return Oe(t,"ddd",e)}function Us(t){return ao(t)}function Pr(t,e,n){var r=Zr(e||Ji());return ir(t,{locale:r,weekStartsOn:n})}function Zn(t){return s1(t)}function Ui(t){return Iu(t)}function bg(t){return ef(t)}function xg(){return ao(Ce())}function _g(t){return i1(t)}function bN(t){return jM(t)}function xN(t){return a1(t)}function bn(t,e){return t&&e?R2(t,e):!t&&!e}function Et(t,e){return t&&e?O2(t,e):!t&&!e}function Vl(t,e){return t&&e?M2(t,e):!t&&!e}function ce(t,e){return t&&e?FM(t,e):!t&&!e}function Qr(t,e){return t&&e?LR(t,e):!t&&!e}function Bi(t,e,n){var r,o=ao(e),i=i1(n);try{r=xa(t,{start:o,end:i})}catch{r=!1}return r}function Ji(){var t=b1();return t.__localeId__}function Zr(t){if(typeof t=="string"){var e=b1();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function _N(t,e,n){return e(Oe(t,"EEEE",n))}function TN(t,e){return Oe(t,"EEEEEE",e)}function DN(t,e){return Oe(t,"EEE",e)}function $p(t,e){return Oe(Lt(Ce(),t),"LLLL",e)}function x1(t,e){return Oe(Lt(Ce(),t),"LLL",e)}function kN(t,e){return Oe(wo(Ce(),t),"QQQ",e)}function Jt(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.maxDate,i=n.excludeDates,a=n.excludeDateIntervals,l=n.includeDates,s=n.includeDateIntervals,u=n.filterDate;return ja(t,{minDate:r,maxDate:o})||i&&i.some(function(c){return c instanceof Date?ce(t,c):ce(t,c.date)})||a&&a.some(function(c){var d=c.start,f=c.end;return xa(t,{start:d,end:f})})||l&&!l.some(function(c){return ce(t,c)})||s&&!s.some(function(c){var d=c.start,f=c.end;return xa(t,{start:d,end:f})})||u&&!u(Ce(t))||!1}function jp(t,e){var n=e===void 0?{}:e,r=n.excludeDates,o=n.excludeDateIntervals;return o&&o.length>0?o.some(function(i){var a=i.start,l=i.end;return xa(t,{start:a,end:l})}):r&&r.some(function(i){var a;return i instanceof Date?ce(t,i):ce(t,(a=i.date)!==null&&a!==void 0?a:new Date)})||!1}function _1(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.maxDate,i=n.excludeDates,a=n.includeDates,l=n.filterDate;return ja(t,{minDate:r?s1(r):void 0,maxDate:o?a1(o):void 0})||i?.some(function(s){return Et(t,s instanceof Date?s:s.date)})||a&&!a.some(function(s){return Et(t,s)})||l&&!l(Ce(t))||!1}function ps(t,e,n,r){var o=ie(t),i=xt(t),a=ie(e),l=xt(e),s=ie(r);return o===a&&o===s?i<=n&&n<=l:o<a?s===o&&i<=n||s===a&&l>=n||s<a&&s>o:!1}function PN(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.maxDate,i=n.excludeDates,a=n.includeDates;return ja(t,{minDate:r,maxDate:o})||i&&i.some(function(l){return Et(l instanceof Date?l:l.date,t)})||a&&!a.some(function(l){return Et(l,t)})||!1}function hs(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.maxDate,i=n.excludeDates,a=n.includeDates,l=n.filterDate;return ja(t,{minDate:r,maxDate:o})||i?.some(function(s){return Vl(t,s instanceof Date?s:s.date)})||a&&!a.some(function(s){return Vl(t,s)})||l&&!l(Ce(t))||!1}function ms(t,e,n){if(!e||!n||!Rl(e)||!Rl(n))return!1;var r=ie(e),o=ie(n);return r<=t&&o>=t}function Bs(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.maxDate,i=n.excludeDates,a=n.includeDates,l=n.filterDate,s=new Date(t,0,1);return ja(s,{minDate:r?Iu(r):void 0,maxDate:o?l1(o):void 0})||i?.some(function(u){return bn(s,u instanceof Date?u:u.date)})||a&&!a.some(function(u){return bn(s,u)})||l&&!l(Ce(s))||!1}function gs(t,e,n,r){var o=ie(t),i=Xr(t),a=ie(e),l=Xr(e),s=ie(r);return o===a&&o===s?i<=n&&n<=l:o<a?s===o&&i<=n||s===a&&l>=n||s<a&&s>o:!1}function ja(t,e){var n,r=e===void 0?{}:e,o=r.minDate,i=r.maxDate;return(n=o&&ai(t,o)<0||i&&ai(t,i)>0)!==null&&n!==void 0?n:!1}function Tg(t,e){return e.some(function(n){return Nn(n)===Nn(t)&&In(n)===In(t)&&Xn(n)===Xn(t)})}function Dg(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,o=n.includeTimes,i=n.filterTime;return r&&Tg(t,r)||o&&!Tg(t,o)||i&&!i(t)||!1}function kg(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var o=Ce();o=Fs(o,Nn(t)),o=$s(o,In(t)),o=js(o,Xn(t));var i=Ce();i=Fs(i,Nn(n)),i=$s(i,In(n)),i=js(i,Xn(n));var a=Ce();a=Fs(a,Nn(r)),a=$s(a,In(r)),a=js(a,Xn(r));var l;try{l=!xa(o,{start:i,end:a})}catch{l=!1}return l}function Pg(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.includeDates,i=si(t,1);return r&&Nl(r,i)>0||o&&o.every(function(a){return Nl(a,i)>0})||!1}function Og(t,e){var n=e===void 0?{}:e,r=n.maxDate,o=n.includeDates,i=gn(t,1);return r&&Nl(i,r)>0||o&&o.every(function(a){return Nl(i,a)>0})||!1}function ON(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.includeDates,i=Iu(t),a=w1(i,1);return r&&Il(r,a)>0||o&&o.every(function(l){return Il(l,a)>0})||!1}function MN(t,e){var n=e===void 0?{}:e,r=n.maxDate,o=n.includeDates,i=l1(t),a=Np(i,1);return r&&Il(a,r)>0||o&&o.every(function(l){return Il(a,l)>0})||!1}function Mg(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.includeDates,i=li(t,1);return r&&Ll(r,i)>0||o&&o.every(function(a){return Ll(a,i)>0})||!1}function RN(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.yearItemNumber,i=o===void 0?$a:o,a=Ui(li(t,i)),l=Sr(a,i).endPeriod,s=r&&ie(r);return s&&s>l||!1}function Rg(t,e){var n=e===void 0?{}:e,r=n.maxDate,o=n.includeDates,i=Gn(t,1);return r&&Ll(i,r)>0||o&&o.every(function(a){return Ll(i,a)>0})||!1}function NN(t,e){var n=e===void 0?{}:e,r=n.maxDate,o=n.yearItemNumber,i=o===void 0?$a:o,a=Gn(t,i),l=Sr(a,i).startPeriod,s=r&&ie(r);return s&&s<l||!1}function T1(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(o){return ai(o,e)>=0});return dg(r)}else return n?dg(n):e}function D1(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(o){return ai(o,e)<=0});return cg(r)}else return n?cg(n):e}function Ng(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,o=0,i=t.length;o<i;o++){var a=t[o];if(qn(a)){var l=Oe(a,"MM.dd.yyyy"),s=r.get(l)||[];s.includes(e)||(s.push(e),r.set(l,s))}else if(typeof a=="object"){var u=Object.keys(a),c=(n=u[0])!==null&&n!==void 0?n:"",d=a[c];if(typeof c=="string"&&Array.isArray(d))for(var f=0,p=d.length;f<p;f++){var v=d[f];if(v){var l=Oe(v,"MM.dd.yyyy"),s=r.get(l)||[];s.includes(c)||(s.push(c),r.set(l,s))}}}}return r}function IN(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function LN(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var o=r.date,i=r.holidayName;if(qn(o)){var a=Oe(o,"MM.dd.yyyy"),l=n.get(a)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===e&&IN(l.holidayNames,[i]))){l.className=e;var s=l.holidayNames;l.holidayNames=s?kn(kn([],s,!0),[i],!1):[i],n.set(a,l)}}}),n}function AN(t,e,n,r,o){for(var i=o.length,a=[],l=0;l<i;l++){var s=t,u=o[l];u&&(s=NM(s,Nn(u)),s=Jd(s,In(u)),s=AM(s,Xn(u)));var c=Jd(t,(n+1)*r);Ir(s,e)&&so(s,c)&&u!=null&&a.push(u)}return a}function Ig(t){return t<10?"0".concat(t):"".concat(t)}function Sr(t,e){e===void 0&&(e=$a);var n=Math.ceil(ie(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function FN(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function Lg(t){var e=t.getSeconds(),n=t.getMilliseconds();return B(t.getTime()-e*1e3-n)}function $N(t,e){return Lg(t).getTime()===Lg(e).getTime()}function Ag(t){if(!qn(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function Fg(t,e){if(!qn(t)||!qn(e))throw new Error("Invalid date received");var n=Ag(t),r=Ag(e);return so(n,r)}function k1(t){return t.key===j.Space}var jN=function(t){lt(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=D.createRef(),r.onTimeChange=function(o){var i,a;r.setState({time:o});var l=r.props.date,s=l instanceof Date&&!isNaN(+l),u=s?l:new Date;if(o?.includes(":")){var c=o.split(":"),d=c[0],f=c[1];u.setHours(Number(d)),u.setMinutes(Number(f))}(a=(i=r.props).onChange)===null||a===void 0||a.call(i,u)},r.renderTimeInput=function(){var o=r.state.time,i=r.props,a=i.date,l=i.timeString,s=i.customTimeInput;return s?m.cloneElement(s,{date:a,value:o,onChange:r.onTimeChange}):D.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var u;(u=r.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:o,onChange:function(u){r.onTimeChange(u.target.value||l)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return D.createElement("div",{className:"react-datepicker__input-time-container"},D.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),D.createElement("div",{className:"react-datepicker-time__input-container"},D.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(m.Component),VN=function(t){lt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=m.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var o,i,a=r.key;a===j.Space&&(r.preventDefault(),r.key=j.Enter),(i=(o=n.props).handleOnKeyDown)===null||i===void 0||i.call(o,r)},n.isSameDay=function(r){return ce(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var o=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected),i=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!o&&n.isSameDayOrWeek(n.props.preSelection)&&!i},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Jt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return jp(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return ce(n.props.day,Pr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&ce(r,Pr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,o=r.day,i=r.highlightDates;if(!i)return!1;var a=Oe(o,"MM.dd.yyyy");return i.get(a)},n.getHolidaysClass=function(){var r,o=n.props,i=o.day,a=o.holidays;if(!a)return[void 0];var l=Oe(i,"MM.dd.yyyy");return a.has(l)?[(r=a.get(l))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,o=r.day,i=r.startDate,a=r.endDate;return!i||!a?!1:Bi(o,i,a)},n.isInSelectingRange=function(){var r,o=n.props,i=o.day,a=o.selectsStart,l=o.selectsEnd,s=o.selectsRange,u=o.selectsDisabledDaysInRange,c=o.startDate,d=o.endDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(a||l||s)||!f||!u&&n.isDisabled()?!1:a&&d&&(so(f,d)||Qr(f,d))?Bi(i,f,d):l&&c&&(Ir(f,c)||Qr(f,c))||s&&c&&!d&&(Ir(f,c)||Qr(f,c))?Bi(i,c,f):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var o=n.props,i=o.day,a=o.startDate,l=o.selectsStart,s=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?ce(i,s):ce(i,a)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var o=n.props,i=o.day,a=o.endDate,l=o.selectsEnd,s=o.selectsRange,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l||s?ce(i,u):ce(i,a)},n.isRangeStart=function(){var r=n.props,o=r.day,i=r.startDate,a=r.endDate;return!i||!a?!1:ce(i,o)},n.isRangeEnd=function(){var r=n.props,o=r.day,i=r.startDate,a=r.endDate;return!i||!a?!1:ce(a,o)},n.isWeekend=function(){var r=MR(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===xt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(xt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Ce())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var o=n.props.dayClassName?n.props.dayClassName(r):void 0;return it("react-datepicker__day",o,"react-datepicker__day--"+EN(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,o=r.day,i=r.ariaLabelPrefixWhenEnabled,a=i===void 0?"Choose":i,l=r.ariaLabelPrefixWhenDisabled,s=l===void 0?"Not available":l,u=n.isDisabled()||n.isExcluded()?s:a;return"".concat(u," ").concat(Oe(o,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,o=r.day,i=r.holidays,a=i===void 0?new Map:i,l=r.excludeDates,s=Oe(o,"MM.dd.yyyy"),u=[];return a.has(s)&&u.push.apply(u,a.get(s).holidayNames),n.isExcluded()&&u.push(l?.filter(function(c){return c instanceof Date?ce(c,o):ce(c?.date,o)}).map(function(c){if(!(c instanceof Date))return c?.message})),u.join(", ")},n.getTabIndex=function(){var r=n.props.selected,o=n.props.preSelection,i=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&ce(o,r))?0:-1;return i},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(yg(n.props.day),n.props.day):yg(n.props.day)},n.render=function(){return D.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&D.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,o;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(m.Component),UN=function(t){lt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=m.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var o,i,a=r.key;a===j.Space&&(r.preventDefault(),r.key=j.Enter),(i=(o=n.props).handleOnKeyDown)===null||i===void 0||i.call(o,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ce(n.props.date,n.props.selected)&&ce(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||ce(n.props.date,n.props.selected)&&ce(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var o=!1;n.getTabIndex()===0&&!r?.isInputFocused&&ce(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(o=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,o=n.ariaLabelPrefix,i=o===void 0?e.defaultProps.ariaLabelPrefix:o,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&ce(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return D.createElement("div",{ref:this.weekNumberEl,className:it(l),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(m.Component),BN=function(t){lt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Jt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,o){n.props.onDayClick&&n.props.onDayClick(r,o)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,o,i){for(var a,l,s,u=new Date(r),c=0;c<7;c++){var d=new Date(r);d.setDate(d.getDate()+c);var f=!n.isDisabled(d);if(f){u=d;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(u,o,i),n.props.showWeekPicker&&n.handleDayClick(u,i),((a=n.props.shouldCloseOnSelect)!==null&&a!==void 0?a:e.defaultProps.shouldCloseOnSelect)&&((s=(l=n.props).setOpen)===null||s===void 0||s.call(l,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):CN(r)},n.renderDays=function(){var r=n.startOfWeek(),o=[],i=n.formatWeekNumber(r);if(n.props.showWeekNumber){var a=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,i):void 0;o.push(D.createElement(UN,de({key:"W"},e.defaultProps,n.props,{weekNumber:i,date:r,onClick:a})))}return o.concat([0,1,2,3,4,5,6].map(function(l){var s=or(r,l);return D.createElement(VN,de({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:s.valueOf(),day:s,onClick:n.handleDayClick.bind(n,s),onMouseEnter:n.handleDayMouseEnter.bind(n,s)}))}))},n.startOfWeek=function(){return Pr(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!ce(n.startOfWeek(),n.props.selected)&&ce(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":ce(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return D.createElement("div",{className:it(n)},this.renderDays())},e}(m.Component),Ri,HN=6,Wo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},jc=(Ri={},Ri[Wo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ri[Wo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ri[Wo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ri),vs=1;function $g(t,e){return t?Wo.FOUR_COLUMNS:e?Wo.TWO_COLUMNS:Wo.THREE_COLUMNS}var WN=function(t){lt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=kn([],Array(12),!0).map(function(){return m.createRef()}),n.QUARTER_REFS=kn([],Array(4),!0).map(function(){return m.createRef()}),n.isDisabled=function(r){return Jt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return jp(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,o){var i,a;(a=(i=n.props).onDayClick)===null||a===void 0||a.call(i,r,o,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var o,i;(i=(o=n.props).onDayMouseEnter)===null||i===void 0||i.call(o,r)},n.handleMouseLeave=function(){var r,o;(o=(r=n.props).onMouseLeave)===null||o===void 0||o.call(r)},n.isRangeStartMonth=function(r){var o=n.props,i=o.day,a=o.startDate,l=o.endDate;return!a||!l?!1:Et(Lt(i,r),a)},n.isRangeStartQuarter=function(r){var o=n.props,i=o.day,a=o.startDate,l=o.endDate;return!a||!l?!1:Vl(wo(i,r),a)},n.isRangeEndMonth=function(r){var o=n.props,i=o.day,a=o.startDate,l=o.endDate;return!a||!l?!1:Et(Lt(i,r),l)},n.isRangeEndQuarter=function(r){var o=n.props,i=o.day,a=o.startDate,l=o.endDate;return!a||!l?!1:Vl(wo(i,r),l)},n.isInSelectingRangeMonth=function(r){var o,i=n.props,a=i.day,l=i.selectsStart,s=i.selectsEnd,u=i.selectsRange,c=i.startDate,d=i.endDate,f=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(l||s||u)||!f?!1:l&&d?ps(f,d,r,a):s&&c||u&&c&&!d?ps(c,f,r,a):!1},n.isSelectingMonthRangeStart=function(r){var o;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,a=i.day,l=i.startDate,s=i.selectsStart,u=Lt(a,r),c=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return s?Et(u,c):Et(u,l)},n.isSelectingMonthRangeEnd=function(r){var o;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,a=i.day,l=i.endDate,s=i.selectsEnd,u=i.selectsRange,c=Lt(a,r),d=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return s||u?Et(c,d):Et(c,l)},n.isInSelectingRangeQuarter=function(r){var o,i=n.props,a=i.day,l=i.selectsStart,s=i.selectsEnd,u=i.selectsRange,c=i.startDate,d=i.endDate,f=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(l||s||u)||!f?!1:l&&d?gs(f,d,r,a):s&&c||u&&c&&!d?gs(c,f,r,a):!1},n.isWeekInMonth=function(r){var o=n.props.day,i=or(r,6);return Et(r,o)||Et(i,o)},n.isCurrentMonth=function(r,o){return ie(r)===ie(Ce())&&o===xt(Ce())},n.isCurrentQuarter=function(r,o){return ie(r)===ie(Ce())&&o===Xr(Ce())},n.isSelectedMonth=function(r,o,i){return xt(i)===o&&ie(r)===ie(i)},n.isSelectMonthInList=function(r,o,i){return i.some(function(a){return n.isSelectedMonth(r,o,a)})},n.isSelectedQuarter=function(r,o,i){return Xr(r)===o&&ie(r)===ie(i)},n.renderWeeks=function(){for(var r=[],o=n.props.fixedHeight,i=0,a=!1,l=Pr(Zn(n.props.day),n.props.locale,n.props.calendarStartDay),s=function(v){return n.props.showWeekPicker?Pr(v,n.props.locale,n.props.calendarStartDay):n.props.preSelection},u=function(v){return n.props.showWeekPicker?Pr(v,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?u(n.props.selected):void 0,d=n.props.preSelection?s(n.props.preSelection):void 0;r.push(D.createElement(BN,de({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:i,day:l,month:xt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:d,showWeekNumber:n.props.showWeekNumbers}))),!a;){i++,l=Ml(l,1);var f=o&&i>=HN,p=!o&&!n.isWeekInMonth(l);if(f||p)if(n.props.peekNextMonth)a=!0;else break}return r},n.onMonthClick=function(r,o){var i=n.isMonthDisabledForLabelDate(o),a=i.isDisabled,l=i.labelDate;a||n.handleDayClick(Zn(l),r)},n.onMonthMouseEnter=function(r){var o=n.isMonthDisabledForLabelDate(r),i=o.isDisabled,a=o.labelDate;i||n.handleDayMouseEnter(Zn(a))},n.handleMonthNavigation=function(r,o){var i,a,l,s;(a=(i=n.props).setPreSelection)===null||a===void 0||a.call(i,o),(s=(l=n.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||s===void 0||s.focus()},n.handleKeyboardNavigation=function(r,o,i){var a,l=n.props,s=l.selected,u=l.preSelection,c=l.setPreSelection,d=l.minDate,f=l.maxDate,p=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(u){var g=$g(p,v),y=n.getVerticalOffset(g),h=(a=jc[g])===null||a===void 0?void 0:a.grid,w=function(T,x,k){var M,O,A=x,H=k;switch(T){case j.ArrowRight:A=gn(x,vs),H=k===11?0:k+vs;break;case j.ArrowLeft:A=si(x,vs),H=k===0?11:k-vs;break;case j.ArrowUp:A=si(x,y),H=!((M=h?.[0])===null||M===void 0)&&M.includes(k)?k+12-y:k-y;break;case j.ArrowDown:A=gn(x,y),H=!((O=h?.[h.length-1])===null||O===void 0)&&O.includes(k)?k-12+y:k+y;break}return{newCalculatedDate:A,newCalculatedMonth:H}},S=function(T,x,k){for(var M=40,O=T,A=!1,H=0,W=w(O,x,k),$=W.newCalculatedDate,N=W.newCalculatedMonth;!A;){if(H>=M){$=x,N=k;break}if(d&&$<d){O=j.ArrowRight;var U=w(O,$,N);$=U.newCalculatedDate,N=U.newCalculatedMonth}if(f&&$>f){O=j.ArrowLeft;var U=w(O,$,N);$=U.newCalculatedDate,N=U.newCalculatedMonth}if(PN($,n.props)){var U=w(O,$,N);$=U.newCalculatedDate,N=U.newCalculatedMonth}else A=!0;H++}return{newCalculatedDate:$,newCalculatedMonth:N}};if(o===j.Enter){n.isMonthDisabled(i)||(n.onMonthClick(r,i),c?.(s));return}var E=S(o,u,i),_=E.newCalculatedDate,b=E.newCalculatedMonth;switch(o){case j.ArrowRight:case j.ArrowLeft:case j.ArrowUp:case j.ArrowDown:n.handleMonthNavigation(b,_);break}}},n.getVerticalOffset=function(r){var o,i;return(i=(o=jc[r])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&i!==void 0?i:0},n.onMonthKeyDown=function(r,o){var i=n.props,a=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,s=r.key;s!==j.Tab&&r.preventDefault(),a||n.handleKeyboardNavigation(r,s,o),l&&l(r)},n.onQuarterClick=function(r,o){var i=wo(n.props.day,o);hs(i,n.props)||n.handleDayClick(bg(i),r)},n.onQuarterMouseEnter=function(r){var o=wo(n.props.day,r);hs(o,n.props)||n.handleDayMouseEnter(bg(o))},n.handleQuarterNavigation=function(r,o){var i,a,l,s;n.isDisabled(o)||n.isExcluded(o)||((a=(i=n.props).setPreSelection)===null||a===void 0||a.call(i,o),(s=(l=n.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||s===void 0||s.focus())},n.onQuarterKeyDown=function(r,o){var i,a,l=r.key;if(!n.props.disabledKeyboardNavigation)switch(l){case j.Enter:n.onQuarterClick(r,o),(a=(i=n.props).setPreSelection)===null||a===void 0||a.call(i,n.props.selected);break;case j.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(o===4?1:o+1,Np(n.props.preSelection,1));break;case j.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(o===1?4:o-1,w1(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var o,i=n.props,a=i.day,l=i.minDate,s=i.maxDate,u=i.excludeDates,c=i.includeDates,d=Lt(a,r);return{isDisabled:(o=(l||s||u||c)&&_1(d,n.props))!==null&&o!==void 0?o:!1,labelDate:d}},n.isMonthDisabled=function(r){var o=n.isMonthDisabledForLabelDate(r).isDisabled;return o},n.getMonthClassNames=function(r){var o=n.props,i=o.day,a=o.startDate,l=o.endDate,s=o.preSelection,u=o.monthClassName,c=u?u(Lt(i,r)):void 0,d=n.getSelection();return it("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":d?n.isSelectMonthInList(i,r,d):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&s&&n.isSelectedMonth(i,r,s)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":a&&l?ps(a,l,r,i):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(i,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var o=xt(n.props.preSelection),i=n.isMonthDisabledForLabelDate(o).isDisabled,a=r===o&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return a},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var o=Xr(n.props.preSelection),i=hs(n.props.day,n.props),a=r===o&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return a},n.getAriaLabel=function(r){var o=n.props,i=o.chooseDayAriaLabelPrefix,a=i===void 0?"Choose":i,l=o.disabledDayAriaLabelPrefix,s=l===void 0?"Not available":l,u=o.day,c=o.locale,d=Lt(u,r),f=n.isDisabled(d)||n.isExcluded(d)?s:a;return"".concat(f," ").concat(Oe(d,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var o=n.props,i=o.day,a=o.startDate,l=o.endDate,s=o.selected,u=o.minDate,c=o.maxDate,d=o.excludeDates,f=o.includeDates,p=o.filterDate,v=o.preSelection,g=o.disabledKeyboardNavigation,y=(u||c||d||f||p)&&hs(wo(i,r),n.props);return it("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":s?n.isSelectedQuarter(i,r,s):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&v&&n.isSelectedQuarter(i,r,v)&&!y,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":a&&l?gs(a,l,r,i):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var o=n.props,i=o.showFullMonthYearPicker,a=o.renderMonthContent,l=o.locale,s=o.day,u=x1(r,l),c=$p(r,l);return a?a(r,u,c,s):i?c:u},n.getQuarterContent=function(r){var o,i=n.props,a=i.renderQuarterContent,l=i.locale,s=kN(r,l);return(o=a?.(r,s))!==null&&o!==void 0?o:s},n.renderMonths=function(){var r,o=n.props,i=o.showTwoColumnMonthYearPicker,a=o.showFourColumnMonthYearPicker,l=o.day,s=o.selected,u=(r=jc[$g(a,i)])===null||r===void 0?void 0:r.grid;return u?.map(function(c,d){return D.createElement("div",{className:"react-datepicker__month-wrapper",key:d},c.map(function(f,p){return D.createElement("div",{ref:n.MONTH_REFS[f],key:p,onClick:function(v){n.onMonthClick(v,f)},onKeyDown:function(v){k1(v)&&(v.preventDefault(),v.key=j.Enter),n.onMonthKeyDown(v,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(f)}:void 0,tabIndex:Number(n.getTabIndex(f)),className:n.getMonthClassNames(f),"aria-disabled":n.isMonthDisabled(f),role:"option","aria-label":n.getAriaLabel(f),"aria-current":n.isCurrentMonth(l,f)?"date":void 0,"aria-selected":s?n.isSelectedMonth(l,f,s):void 0},n.getMonthContent(f))}))})},n.renderQuarters=function(){var r=n.props,o=r.day,i=r.selected,a=[1,2,3,4];return D.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(l,s){return D.createElement("div",{key:s,ref:n.QUARTER_REFS[s],role:"option",onClick:function(u){n.onQuarterClick(u,l)},onKeyDown:function(u){n.onQuarterKeyDown(u,l)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(l)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(l)}:void 0,className:n.getQuarterClassNames(l),"aria-selected":i?n.isSelectedQuarter(o,l,i):void 0,tabIndex:Number(n.getQuarterTabIndex(l)),"aria-current":n.isCurrentQuarter(o,l)?"date":void 0},n.getQuarterContent(l))}))},n.getClassNames=function(){var r=n.props,o=r.selectingDate,i=r.selectsStart,a=r.selectsEnd,l=r.showMonthYearPicker,s=r.showQuarterYearPicker,u=r.showWeekPicker;return it("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(i||a)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":s},{"react-datepicker__weekPicker":u})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,o=n.selectedDates,i=n.selectsMultiple;if(i)return o;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,o=n.showQuarterYearPicker,i=n.day,a=n.ariaLabelPrefix,l=a===void 0?"Month ":a,s=l?l.trim()+" ":"";return D.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(Oe(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():o?this.renderQuarters():this.renderWeeks())},e}(m.Component),YN=function(t){lt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,o){return D.createElement("div",{className:n.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,o),"aria-selected":n.isSelectedMonth(o)?"true":void 0},n.isSelectedMonth(o)?D.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return D.createElement(Lu,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(m.Component),zN=function(t){lt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(o,i){return D.createElement("option",{key:o,value:i},o)})},n.renderSelectMode=function(r){return D.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(o){return n.onChange(parseInt(o.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,o){return D.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},D.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),D.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[n.props.month]))},n.renderDropdown=function(r){return D.createElement(YN,de({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var o=n.state.dropdownVisible,i=[n.renderReadView(!o,r)];return o&&i.unshift(n.renderDropdown(r)),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return x1(i,n.props.locale)}:function(i){return $p(i,n.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(r);break;case"select":o=this.renderSelectMode(r);break}return D.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},e}(m.Component);function QN(t,e){for(var n=[],r=Zn(t),o=Zn(e);!Ir(r,o);)n.push(Ce(r)),r=gn(r,1);return n}var KN=function(t){lt(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(o){var i=nf(o),a=bn(r.props.date,o)&&Et(r.props.date,o);return D.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":a?"true":void 0},a?D.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Oe(o,r.props.dateFormat,r.props.locale))})},r.onChange=function(o){return r.props.onChange(o)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:QN(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=it({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return D.createElement(Lu,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(m.Component),GN=function(t){lt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Zn(n.props.minDate),o=Zn(n.props.maxDate),i=[];!Ir(r,o);){var a=nf(r);i.push(D.createElement("option",{key:a,value:a},Oe(r,n.props.dateFormat,n.props.locale))),r=gn(r,1)}return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return D.createElement("select",{value:nf(Zn(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var o=Oe(n.props.date,n.props.dateFormat,n.props.locale);return D.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},D.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),D.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},n.renderDropdown=function(){return D.createElement(KN,de({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,o=[n.renderReadView(!r)];return r&&o.unshift(n.renderDropdown()),o},n.onChange=function(r){n.toggleDropdown();var o=Ce(r);bn(n.props.date,o)&&Et(n.props.date,o)||n.props.onChange(o)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return D.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(m.Component),qN=function(t){lt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,o,i;n.list&&(n.list.scrollTop=(i=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((o=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&o!==void 0?o:0):n.list.clientHeight,n.centerLi))!==null&&i!==void 0?i:0)})},n.handleClick=function(r){var o,i;(n.props.minTime||n.props.maxTime)&&kg(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Dg(r,n.props)||(i=(o=n.props).onChange)===null||i===void 0||i.call(o,r)},n.isSelectedTime=function(r){return n.props.selected&&$N(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&kg(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Dg(r,n.props)},n.liClasses=function(r){var o,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Nn(r)*3600+In(r)*60+Xn(r))%(((o=n.props.intervals)!==null&&o!==void 0?o:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(r,o){var i,a;r.key===j.Space&&(r.preventDefault(),r.key=j.Enter),(r.key===j.ArrowUp||r.key===j.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===j.ArrowDown||r.key===j.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===j.Enter&&n.handleClick(o),(a=(i=n.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},n.renderTimes=function(){for(var r,o=[],i=typeof n.props.format=="string"?n.props.format:"p",a=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,l=n.props.selected||n.props.openToDate||Ce(),s=Us(l),u=n.props.injectTimes&&n.props.injectTimes.sort(function(y,h){return y.getTime()-h.getTime()}),c=60*FN(l),d=c/a,f=0;f<d;f++){var p=Jd(s,f*a);if(o.push(p),u){var v=AN(s,p,f,a,u);o=o.concat(v)}}var g=o.reduce(function(y,h){return h.getTime()<=l.getTime()?h:y},o[0]);return o.map(function(y){return D.createElement("li",{key:y.valueOf(),onClick:n.handleClick.bind(n,y),className:n.liClasses(y),ref:function(h){y===g&&(n.centerLi=h)},onKeyDown:function(h){n.handleOnKeyDown(h,y)},tabIndex:y===g?0:-1,role:"option","aria-selected":n.isSelectedTime(y)?"true":void 0,"aria-disabled":n.isDisabledTime(y)?"true":void 0},Oe(y,i,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?D.createElement(D.Fragment,null):D.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},D.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,o=this.state.height;return D.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),D.createElement("div",{className:"react-datepicker__time"},D.createElement("div",{className:"react-datepicker__time-box"},D.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){n.list=i},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(m.Component),jg=3,XN=function(t){lt(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=kn([],Array(r.props.yearItemNumber),!0).map(function(){return m.createRef()}),r.isDisabled=function(o){return Jt(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(o){return jp(o,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var o;return(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection},r.updateFocusOnPaginate=function(o){var i=function(){var a,l;(l=(a=r.YEAR_REFS[o])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},r.handleYearClick=function(o,i){r.props.onDayClick&&r.props.onDayClick(o,i)},r.handleYearNavigation=function(o,i){var a,l,s,u,c=r.props,d=c.date,f=c.yearItemNumber;if(!(d===void 0||f===void 0)){var p=Sr(d,f).startPeriod;r.isDisabled(i)||r.isExcluded(i)||((l=(a=r.props).setPreSelection)===null||l===void 0||l.call(a,i),o-p<0?r.updateFocusOnPaginate(f-(p-o)):o-p>=f?r.updateFocusOnPaginate(Math.abs(f-(o-p))):(u=(s=r.YEAR_REFS[o-p])===null||s===void 0?void 0:s.current)===null||u===void 0||u.focus())}},r.isSameDay=function(o,i){return ce(o,i)},r.isCurrentYear=function(o){return o===ie(Ce())},r.isRangeStart=function(o){return r.props.startDate&&r.props.endDate&&bn(Sn(Ce(),o),r.props.startDate)},r.isRangeEnd=function(o){return r.props.startDate&&r.props.endDate&&bn(Sn(Ce(),o),r.props.endDate)},r.isInRange=function(o){return ms(o,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(o){var i=r.props,a=i.selectsStart,l=i.selectsEnd,s=i.selectsRange,u=i.startDate,c=i.endDate;return!(a||l||s)||!r.selectingDate()?!1:a&&c?ms(o,r.selectingDate(),c):l&&u||s&&u&&!c?ms(o,u,r.selectingDate()):!1},r.isSelectingRangeStart=function(o){var i;if(!r.isInSelectingRange(o))return!1;var a=r.props,l=a.startDate,s=a.selectsStart,u=Sn(Ce(),o);return s?bn(u,(i=r.selectingDate())!==null&&i!==void 0?i:null):bn(u,l??null)},r.isSelectingRangeEnd=function(o){var i;if(!r.isInSelectingRange(o))return!1;var a=r.props,l=a.endDate,s=a.selectsEnd,u=a.selectsRange,c=Sn(Ce(),o);return s||u?bn(c,(i=r.selectingDate())!==null&&i!==void 0?i:null):bn(c,l??null)},r.isKeyboardSelected=function(o){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var i=r.props,a=i.minDate,l=i.maxDate,s=i.excludeDates,u=i.includeDates,c=i.filterDate,d=Ui(Sn(r.props.date,o)),f=(a||l||s||u||c)&&Bs(o,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!ce(d,Ui(r.props.selected))&&ce(d,Ui(r.props.preSelection))&&!f}},r.onYearClick=function(o,i){var a=r.props.date;a!==void 0&&r.handleYearClick(Ui(Sn(a,i)),o)},r.onYearKeyDown=function(o,i){var a,l,s=o.key,u=r.props,c=u.date,d=u.yearItemNumber,f=u.handleOnKeyDown;if(s!==j.Tab&&o.preventDefault(),!r.props.disabledKeyboardNavigation)switch(s){case j.Enter:if(r.props.selected==null)break;r.onYearClick(o,i),(l=(a=r.props).setPreSelection)===null||l===void 0||l.call(a,r.props.selected);break;case j.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(i+1,Gn(r.props.preSelection,1));break;case j.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(i-1,li(r.props.preSelection,1));break;case j.ArrowUp:{if(c===void 0||d===void 0||r.props.preSelection==null)break;var p=Sr(c,d).startPeriod,v=jg,g=i-v;if(g<p){var y=d%v;i>=p&&i<p+y?v=y:v+=y,g=i-v}r.handleYearNavigation(g,li(r.props.preSelection,v));break}case j.ArrowDown:{if(c===void 0||d===void 0||r.props.preSelection==null)break;var h=Sr(c,d).endPeriod,v=jg,g=i+v;if(g>h){var y=d%v;i<=h&&i>h-y?v=y:v+=y,g=i+v}r.handleYearNavigation(g,Gn(r.props.preSelection,v));break}}f&&f(o)},r.getYearClassNames=function(o){var i=r.props,a=i.date,l=i.minDate,s=i.maxDate,u=i.selected,c=i.excludeDates,d=i.includeDates,f=i.filterDate,p=i.yearClassName;return it("react-datepicker__year-text","react-datepicker__year-".concat(o),a?p?.(Sn(a,o)):void 0,{"react-datepicker__year-text--selected":u?o===ie(u):void 0,"react-datepicker__year-text--disabled":(l||s||c||d||f)&&Bs(o,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(o),"react-datepicker__year-text--range-start":r.isRangeStart(o),"react-datepicker__year-text--range-end":r.isRangeEnd(o),"react-datepicker__year-text--in-range":r.isInRange(o),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(o),"react-datepicker__year-text--today":r.isCurrentYear(o)})},r.getYearTabIndex=function(o){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var i=ie(r.props.preSelection),a=Bs(o,r.props);return o===i&&!a?"0":"-1"},r.getYearContainerClassNames=function(){var o=r.props,i=o.selectingDate,a=o.selectsStart,l=o.selectsEnd,s=o.selectsRange;return it("react-datepicker__year",{"react-datepicker__year--selecting-range":i&&(a||l||s)})},r.getYearContent=function(o){return r.props.renderYearContent?r.props.renderYearContent(o):o},r}return e.prototype.render=function(){var n=this,r=[],o=this.props,i=o.date,a=o.yearItemNumber,l=o.onYearMouseEnter,s=o.onYearMouseLeave;if(i===void 0)return null;for(var u=Sr(i,a),c=u.startPeriod,d=u.endPeriod,f=function(g){r.push(D.createElement("div",{ref:p.YEAR_REFS[g-c],onClick:function(y){n.onYearClick(y,g)},onKeyDown:function(y){k1(y)&&(y.preventDefault(),y.key=j.Enter),n.onYearKeyDown(y,g)},tabIndex:Number(p.getYearTabIndex(g)),className:p.getYearClassNames(g),onMouseEnter:p.props.usePointerEvent?void 0:function(y){return l(y,g)},onPointerEnter:p.props.usePointerEvent?function(y){return l(y,g)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(y){return s(y,g)},onPointerLeave:p.props.usePointerEvent?function(y){return s(y,g)}:void 0,key:g,"aria-current":p.isCurrentYear(g)?"date":void 0},p.getYearContent(g)))},p=this,v=c;v<=d;v++)f(v);return D.createElement("div",{className:this.getYearContainerClassNames()},D.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(m.Component);function ZN(t,e,n,r){for(var o=[],i=0;i<2*e+1;i++){var a=t+e-i,l=!0;n&&(l=ie(n)<=a),r&&l&&(l=ie(r)>=a),l&&o.push(a)}return o}var JN=function(t){lt(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var l=r.props.year,s=r.state.yearsList.map(function(d){return D.createElement("div",{className:l===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":l===d?"true":void 0},l===d?D.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",d)}),u=r.props.minDate?ie(r.props.minDate):null,c=r.props.maxDate?ie(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(d){return d===c}))&&s.unshift(D.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},D.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(d){return d===u}))&&s.push(D.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},D.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),s},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var s=r.state.yearsList.map(function(u){return u+l});r.setState({yearsList:s})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var o=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,a=o||(i?10:5);return r.state={yearsList:ZN(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=m.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,o=r?r.find(function(i){return i.ariaSelected}):null;n.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=it({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return D.createElement(Lu,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(m.Component),eI=function(t){lt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?ie(n.props.minDate):1900,o=n.props.maxDate?ie(n.props.maxDate):2100,i=[],a=r;a<=o;a++)i.push(D.createElement("option",{key:a,value:a},a));return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return D.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return D.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(o){return n.toggleDropdown(o)}},D.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),D.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return D.createElement(JN,de({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,o=[n.renderReadView(!r)];return r&&o.unshift(n.renderDropdown()),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,o){var i;(i=n.onSelect)===null||i===void 0||i.call(n,r,o),n.setOpen()},n.onSelect=function(r,o){var i,a;(a=(i=n.props).onSelect)===null||a===void 0||a.call(i,r,o)},n.setOpen=function(){var r,o;(o=(r=n.props).setOpen)===null||o===void 0||o.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return D.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(m.Component),tI=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],nI=function(t){var e=(t.className||"").split(/\s+/);return tI.some(function(n){return e.indexOf(n)>=0})},rI=function(t){lt(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(o){r.props.onClickOutside(o)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(o){var i,a;nI(o.target)&&((a=(i=r.props).onDropdownFocus)===null||a===void 0||a.call(i,o))},r.getDateInView=function(){var o=r.props,i=o.preSelection,a=o.selected,l=o.openToDate,s=T1(r.props),u=D1(r.props),c=Ce(),d=l||a||i;return d||(s&&so(c,s)?s:u&&Ir(c,u)?u:c)},r.increaseMonth=function(){r.setState(function(o){var i=o.date;return{date:gn(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(o){var i=o.date;return{date:si(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(o,i,a){r.props.onSelect(o,i,a),r.props.setPreSelection&&r.props.setPreSelection(o)},r.handleDayMouseEnter=function(o){r.setState({selectingDate:o}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(o)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(o,i){r.setState({selectingDate:Sn(Ce(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(o,i)},r.handleYearMouseLeave=function(o,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(o,i)},r.handleYearChange=function(o){var i,a,l,s;(a=(i=r.props).onYearChange)===null||a===void 0||a.call(i,o),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(o),(s=(l=r.props).setOpen)===null||s===void 0||s.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(o)},r.getEnabledPreSelectionDateForMonth=function(o){if(!Jt(o,r.props))return o;for(var i=Zn(o),a=xN(o),l=$M(a,i),s=null,u=0;u<=l;u++){var c=or(i,u);if(!Jt(c,r.props)){s=c;break}}return s},r.handleMonthChange=function(o){var i,a,l,s=(i=r.getEnabledPreSelectionDateForMonth(o))!==null&&i!==void 0?i:o;r.handleCustomMonthChange(s),r.props.adjustDateOnChange&&(r.props.onSelect(s),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleCustomMonthChange=function(o){var i,a;(a=(i=r.props).onMonthChange)===null||a===void 0||a.call(i,o),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(o){r.handleYearChange(o),r.handleMonthChange(o)},r.changeYear=function(o){r.setState(function(i){var a=i.date;return{date:Sn(a,Number(o))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(o){r.setState(function(i){var a=i.date;return{date:Lt(a,Number(o))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(o){r.setState(function(i){var a=i.date;return{date:Sn(Lt(a,xt(o)),ie(o))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(o){o===void 0&&(o=r.state.date);var i=Pr(o,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(D.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),a.concat([0,1,2,3,4,5,6].map(function(l){var s=or(i,l),u=r.formatWeekday(s,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(s):void 0;return D.createElement("div",{key:l,"aria-label":Oe(s,"EEEE",r.props.locale),className:it("react-datepicker__day-name",c)},u)}))},r.formatWeekday=function(o,i){return r.props.formatWeekDay?_N(o,r.props.formatWeekDay,i):r.props.useWeekdaysShort?DN(o,i):TN(o,i)},r.decreaseYear=function(){r.setState(function(o){var i,a=o.date;return{date:li(a,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var o;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=Mg(r.state.date,r.props);break;case r.props.showYearPicker:i=RN(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=ON(r.state.date,r.props);break;default:i=Pg(r.state.date,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],l=["react-datepicker__navigation","react-datepicker__navigation--previous"],s=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(s=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--previous--disabled"),s=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,d=c.previousMonthButtonLabel,f=d===void 0?e.defaultProps.previousMonthButtonLabel:d,p=c.previousYearButtonLabel,v=p===void 0?e.defaultProps.previousYearButtonLabel:p,g=r.props,y=g.previousMonthAriaLabel,h=y===void 0?typeof f=="string"?f:"Previous Month":y,w=g.previousYearAriaLabel,S=w===void 0?typeof v=="string"?v:"Previous Year":w;return D.createElement("button",{type:"button",className:l.join(" "),onClick:s,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?S:h},D.createElement("span",{className:a.join(" ")},u?v:f))}}},r.increaseYear=function(){r.setState(function(o){var i,a=o.date;return{date:Gn(a,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var o;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=Rg(r.state.date,r.props);break;case r.props.showYearPicker:i=NN(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=MN(r.state.date,r.props);break;default:i=Og(r.state.date,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var s=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(s=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),s=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,d=c.nextMonthButtonLabel,f=d===void 0?e.defaultProps.nextMonthButtonLabel:d,p=c.nextYearButtonLabel,v=p===void 0?e.defaultProps.nextYearButtonLabel:p,g=r.props,y=g.nextMonthAriaLabel,h=y===void 0?typeof f=="string"?f:"Next Month":y,w=g.nextYearAriaLabel,S=w===void 0?typeof v=="string"?v:"Next Year":w;return D.createElement("button",{type:"button",className:a.join(" "),onClick:s,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?S:h},D.createElement("span",{className:l.join(" ")},u?v:f))}}},r.renderCurrentMonth=function(o){o===void 0&&(o=r.state.date);var i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),D.createElement("h2",{className:i.join(" ")},Oe(o,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showYearDropdown||o))return D.createElement(eI,de({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ie(r.state.date)}))},r.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showMonthDropdown||o))return D.createElement(zN,de({},e.defaultProps,r.props,{month:xt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showMonthYearDropdown||o))return D.createElement(GN,de({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(o){r.props.onSelect(xg(),o),r.props.setPreSelection&&r.props.setPreSelection(xg())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return D.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(o){var i=o.monthDate,a=o.i;return D.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),D.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(a!==0),r.renderMonthYearDropdown(a!==0),r.renderYearDropdown(a!==0)),D.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))},r.renderCustomHeader=function(o){var i,a,l=o.monthDate,s=o.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var u=Pg(r.state.date,r.props),c=Og(r.state.date,r.props),d=Mg(r.state.date,r.props),f=Rg(r.state.date,r.props),p=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return D.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(a=(i=r.props).renderCustomHeader)===null||a===void 0?void 0:a.call(i,de(de({},r.state),{customHeaderCount:s,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:c,prevYearButtonDisabled:d,nextYearButtonDisabled:f})),p&&D.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(o){var i=o.monthDate,a=r.props,l=a.showYearPicker,s=a.yearItemNumber,u=s===void 0?e.defaultProps.yearItemNumber:s,c=Sr(i,u),d=c.startPeriod,f=c.endPeriod;return D.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(d," - ").concat(f):ie(i))},r.renderHeader=function(o){var i=o.monthDate,a=o.i,l=a===void 0?0:a,s={monthDate:i,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(s);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(s);default:return r.renderDefaultHeader(s)}},r.renderMonths=function(){var o,i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var a=[],l=(o=r.props.monthsShown)!==null&&o!==void 0?o:e.defaultProps.monthsShown,s=r.props.showPreviousMonths?l-1:0,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Gn(r.state.date,s):si(r.state.date,s),c=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:s,d=0;d<l;++d){var f=d-c+s,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Gn(u,f):gn(u,f),v="month-".concat(d),g=d<l-1,y=d>0;a.push(D.createElement("div",{key:v,ref:function(h){r.monthContainer=h??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:d}),D.createElement(WN,de({},e.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:y}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return D.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),D.createElement(XN,de({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return D.createElement(qN,de({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var o=r.props.selected?new Date(r.props.selected):void 0,i=o&&Hn(o)&&!!r.props.selected,a=i?"".concat(Ig(o.getHours()),":").concat(Ig(o.getMinutes())):"";if(r.props.showTimeInput)return D.createElement(jN,de({},e.defaultProps,r.props,{date:o,timeString:a,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var o,i=Sr(r.state.date,(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber),a=i.startPeriod,l=i.endPeriod,s;return r.props.showYearPicker?s="".concat(a," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?s=ie(r.state.date):s="".concat($p(xt(r.state.date),r.props.locale)," ").concat(ie(r.state.date)),D.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&s)},r.renderChildren=function(){if(r.props.children)return D.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=m.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:$a}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!ce(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var o=!Et(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!ce(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||gN;return D.createElement(Lu,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},D.createElement(n,{className:it("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},e}(m.Component),oI=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,o=t.onClick,i="react-datepicker__calendar-icon";return typeof e=="string"?D.createElement("i",{className:"".concat(i," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:o}):D.isValidElement(e)?D.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(i," ").concat(r),onClick:function(a){typeof e.props.onClick=="function"&&e.props.onClick(a),typeof o=="function"&&o(a)}}):D.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},D.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},P1=function(t){lt(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return gE.createPortal(this.props.children,this.el)},e}(m.Component),iI="[tabindex], a, button, input, select, textarea",aI=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},O1=function(t){lt(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var o;return Array.prototype.slice.call((o=r.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(iI),1,-1).filter(aI)},r.handleFocusStart=function(){var o=r.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},r.handleFocusEnd=function(){var o=r.getTabChildren();o&&o.length>1&&o[0].focus()},r.tabLoopRef=m.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?D.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},D.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,D.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(m.Component);function sI(t){var e=function(n){var r,o=typeof n.hidePopper=="boolean"?n.hidePopper:!0,i=m.useRef(null),a=mN(de({open:!o,whileElementsMounted:rw,placement:n.popperPlacement,middleware:kn([eN({padding:15}),J2(10),tN({element:i})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),l=de(de({},n),{hidePopper:o,popperProps:de(de({},a),{arrowRef:i})});return D.createElement(t,de({},l))};return e}var lI=function(t){lt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,o=n.wrapperClassName,i=n.hidePopper,a=i===void 0?e.defaultProps.hidePopper:i,l=n.popperComponent,s=n.targetComponent,u=n.enableTabLoop,c=n.popperOnKeyDown,d=n.portalId,f=n.portalHost,p=n.popperProps,v=n.showArrow,g=void 0;if(!a){var y=it("react-datepicker-popper",r);g=D.createElement(O1,{enableTabLoop:u},D.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:y,"data-placement":p.placement,onKeyDown:c},l,v&&D.createElement(lN,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=m.createElement(this.props.popperContainer,{},g)),d&&!a&&(g=D.createElement(P1,{portalId:d,portalHost:f},g));var h=it("react-datepicker-wrapper",o);return D.createElement(D.Fragment,null,D.createElement("div",{ref:p.refs.setReference,className:h},s),g)},e}(m.Component),uI=sI(lI),Vg="react-datepicker-ignore-onclickoutside";function cI(t,e){return t&&e?xt(t)!==xt(e)||ie(t)!==ie(e):t!==e}var Vc="Date input not valid.",af=function(t){lt(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Ce()},r.modifyHolidays=function(){var o;return(o=r.props.holidays)===null||o===void 0?void 0:o.reduce(function(i,a){var l=new Date(a.date);return Hn(l)?kn(kn([],i,!0),[de(de({},a),{date:l})],!1):i},[])},r.calcInitialState=function(){var o,i=r.getPreSelection(),a=T1(r.props),l=D1(r.props),s=a&&so(i,Us(a))?a:l&&Ir(i,_g(l))?l:i;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(o=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&o!==void 0?o:s,highlightDates:Ng(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(de(de({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(de(de({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(o,i){i===void 0&&(i=!1),r.setState({open:o,preSelection:o&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Uc},function(){o||r.setState(function(a){return{focused:i?a.focused:!1}},function(){!i&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return qn(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(o){var i,a,l=r.state.wasHidden,s=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&s&&((a=(i=r.props).onFocus)===null||a===void 0||a.call(i,o),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(o){var i,a;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((a=(i=r.props).onBlur)===null||a===void 0||a.call(i,o)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(o){var i,a;r.props.inline||r.setOpen(!1),(a=(i=r.props).onClickOutside)===null||a===void 0||a.call(i,o),r.props.withPortal&&o.preventDefault()},r.handleChange=function(){for(var o,i,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var s=a[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,a),!s||typeof s.isDefaultPrevented!="function"||s.isDefaultPrevented()))){r.setState({inputValue:s?.target instanceof HTMLInputElement?s.target.value:null,lastPreSelectChange:dI});var u=r.props,c=u.dateFormat,d=c===void 0?e.defaultProps.dateFormat:c,f=u.strictParsing,p=f===void 0?e.defaultProps.strictParsing:f,v=u.selectsRange,g=u.startDate,y=u.endDate,h=s?.target instanceof HTMLInputElement?s.target.value:"";if(v){var w=h.split("-",2).map(function(M){return M.trim()}),S=w[0],E=w[1],_=Fc(S??"",d,r.props.locale,p),b=Fc(E??"",d,r.props.locale,p),T=g?.getTime()!==_?.getTime(),x=y?.getTime()!==b?.getTime();if(!T&&!x||_&&Jt(_,r.props)||b&&Jt(b,r.props))return;(i=(o=r.props).onChange)===null||i===void 0||i.call(o,[_,b],s)}else{var k=Fc(h,d,r.props.locale,p,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&k&&!ce(k,r.props.selected)&&(k=q2(r.props.selected,{hours:Nn(k),minutes:In(k),seconds:Xn(k)})),(k||!h)&&r.setSelected(k,s,!0)}}},r.handleSelect=function(o,i,a){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(i),r.setSelected(o,i,!1,a),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(o);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,s=l.startDate,u=l.endDate;s&&!u&&(r.props.swapRange||!Fg(o,s))&&r.setOpen(!1)}},r.setSelected=function(o,i,a,l){var s,u,c=o;if(r.props.showYearPicker){if(c!==null&&Bs(ie(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&_1(c,r.props))return}else if(c!==null&&Jt(c,r.props))return;var d=r.props,f=d.onChange,p=d.selectsRange,v=d.startDate,g=d.endDate,y=d.selectsMultiple,h=d.selectedDates,w=d.minTime,S=d.swapRange;if(!Qr(r.props.selected,c)||r.props.allowSameDay||p||y)if(c!==null&&(r.props.selected&&(!a||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=$c(c,{hour:Nn(r.props.selected),minute:In(r.props.selected),second:Xn(r.props.selected)})),!a&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&w&&(c=$c(c,{hour:w.getHours(),minute:w.getMinutes(),second:w.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),p){var E=!v&&!g,_=v&&!g,b=v&&g;E?f?.([c,null],i):_&&(c===null?f?.([null,null],i):Fg(c,v)?f?.(S?[c,v]:[c,null],i):f?.([v,c],i)),b&&f?.([c,null],i)}else if(y){if(c!==null)if(!h?.length)f?.([c],i);else{var T=h.some(function(k){return ce(k,c)});if(T){var x=h.filter(function(k){return!ce(k,c)});f?.(x,i)}else f?.(kn(kn([],h,!0),[c],!1),i)}}else f?.(c,i);a||((u=(s=r.props).onSelect)===null||u===void 0||u.call(s,c,i),r.setState({inputValue:null}))},r.setPreSelection=function(o){var i=qn(r.props.minDate),a=qn(r.props.maxDate),l=!0;if(o){var s=Us(o);if(i&&a)l=Bi(o,r.props.minDate,r.props.maxDate);else if(i){var u=Us(r.props.minDate);l=Ir(o,u)||Qr(s,u)}else if(a){var c=_g(r.props.maxDate);l=so(o,c)||Qr(s,c)}}l&&r.setState({preSelection:o})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(o){var i,a;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),s=r.props.selected?o:$c(l,{hour:Nn(o),minute:In(o)});r.setState({preSelection:s}),(a=(i=r.props).onChange)===null||a===void 0||a.call(i,s),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var o,i;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(i=(o=r.props).onInputClick)===null||i===void 0||i.call(o)},r.onInputKeyDown=function(o){var i,a,l,s,u,c;(a=(i=r.props).onKeyDown)===null||a===void 0||a.call(i,o);var d=o.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(d===j.ArrowDown||d===j.ArrowUp||d===j.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(d===j.ArrowDown||d===j.ArrowUp){o.preventDefault();var f=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((s=r.calendar)===null||s===void 0?void 0:s.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(f);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var v=Ce(r.state.preSelection);d===j.Enter?(o.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Uc?(r.handleSelect(v,o),!r.props.shouldCloseOnSelect&&r.setPreSelection(v)):r.setOpen(!1)):d===j.Escape?(o.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):d===j.Tab&&r.setOpen(!1),r.inputOk()||(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:Vc})}},r.onPortalKeyDown=function(o){var i=o.key;i===j.Escape&&(o.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(o){var i,a,l,s,u,c,d=r.props,f=d.minDate,p=d.maxDate,v=d.disabledKeyboardNavigation,g=d.showWeekPicker,y=d.shouldCloseOnSelect,h=d.locale,w=d.calendarStartDay,S=d.adjustDateOnChange,E=d.inline;if((a=(i=r.props).onKeyDown)===null||a===void 0||a.call(i,o),!v){var _=o.key,b=o.shiftKey,T=Ce(r.state.preSelection),x=function($,N){var U=N;switch($){case j.ArrowRight:U=g?Ml(N,1):or(N,1);break;case j.ArrowLeft:U=g?wg(N,1):N2(N,1);break;case j.ArrowUp:U=wg(N,1);break;case j.ArrowDown:U=Ml(N,1);break;case j.PageUp:U=b?li(N,1):si(N,1);break;case j.PageDown:U=b?Gn(N,1):gn(N,1);break;case j.Home:U=Pr(N,h,w);break;case j.End:U=bN(N);break}return U},k=function($,N){for(var U=40,P=$,I=!1,V=0,J=x($,N);!I;){if(V>=U){J=N;break}f&&J<f&&(P=j.ArrowRight,J=Jt(f,r.props)?x(P,J):f),p&&J>p&&(P=j.ArrowLeft,J=Jt(p,r.props)?x(P,J):p),Jt(J,r.props)?((P===j.PageUp||P===j.Home)&&(P=j.ArrowRight),(P===j.PageDown||P===j.End)&&(P=j.ArrowLeft),J=x(P,J)):I=!0,V++}return J};if(_===j.Enter){o.preventDefault(),r.handleSelect(T,o),!y&&r.setPreSelection(T);return}else if(_===j.Escape){o.preventDefault(),r.setOpen(!1),r.inputOk()||(s=(l=r.props).onInputError)===null||s===void 0||s.call(l,{code:1,msg:Vc});return}var M=null;switch(_){case j.ArrowLeft:case j.ArrowRight:case j.ArrowUp:case j.ArrowDown:case j.PageUp:case j.PageDown:case j.Home:case j.End:M=k(_,T);break}if(!M){(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:Vc});return}if(o.preventDefault(),r.setState({lastPreSelectChange:Uc}),S&&r.setSelected(M),r.setPreSelection(M),E){var O=xt(T),A=xt(M),H=ie(T),W=ie(M);O!==A||H!==W?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(o){var i=o.key;i===j.Escape&&(o.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),r.sendFocusBackToInput();var i=r.props,a=i.selectsRange,l=i.onChange;l?.(a?[null,null]:null,o),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(o){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(o)&&r.setOpen(!1)},r.renderCalendar=function(){var o,i;return!r.props.inline&&!r.isCalendarOpen()?null:D.createElement(rI,de({showMonthYearDropdown:void 0,ref:function(a){r.calendar=a}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(o=r.props.dateFormatCalendar)!==null&&o!==void 0?o:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:LN(r.modifyHolidays()),outsideClickIgnoreClass:Vg,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(i=r.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var o=r.props,i=o.dateFormat,a=i===void 0?e.defaultProps.dateFormat:i,l=o.locale,s=r.props.showTimeInput||r.props.showTimeSelect,u=s?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(Gt(r.props.startDate,{dateFormat:u,locale:l}),". ").concat(r.props.endDate?"End date: "+Gt(r.props.endDate,{dateFormat:u,locale:l}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(Gt(r.props.selected,{dateFormat:a,locale:l})):r.props.showYearPicker?c="Selected year: ".concat(Gt(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?c="Selected month: ".concat(Gt(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(Gt(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):c="Selected date: ".concat(Gt(r.props.selected,{dateFormat:u,locale:l})),D.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var o,i,a,l=it(r.props.className,(o={},o[Vg]=r.state.open,o)),s=r.props.customInput||D.createElement("input",{type:"text"}),u=r.props.customInputRef||"ref",c=r.props,d=c.dateFormat,f=d===void 0?e.defaultProps.dateFormat:d,p=c.locale,v=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?wN(r.props.startDate,r.props.endDate,{dateFormat:f,locale:p}):r.props.selectsMultiple?SN((a=r.props.selectedDates)!==null&&a!==void 0?a:[],{dateFormat:f,locale:p}):Gt(r.props.selected,{dateFormat:f,locale:p});return m.cloneElement(s,(i={},i[u]=function(g){r.input=g},i.value=v,i.onBlur=r.handleBlur,i.onChange=r.handleChange,i.onClick=r.onInputClick,i.onFocus=r.handleFocus,i.onKeyDown=r.onInputKeyDown,i.id=r.props.id,i.name=r.props.name,i.form=r.props.form,i.autoFocus=r.props.autoFocus,i.placeholder=r.props.placeholderText,i.disabled=r.props.disabled,i.autoComplete=r.props.autoComplete,i.className=it(s.props.className,l),i.title=r.props.title,i.readOnly=r.props.readOnly,i.required=r.props.required,i.tabIndex=r.props.tabIndex,i["aria-describedby"]=r.props.ariaDescribedBy,i["aria-invalid"]=r.props.ariaInvalid,i["aria-labelledby"]=r.props.ariaLabelledBy,i["aria-required"]=r.props.ariaRequired,i))},r.renderClearButton=function(){var o=r.props,i=o.isClearable,a=o.disabled,l=o.selected,s=o.startDate,u=o.endDate,c=o.clearButtonTitle,d=o.clearButtonClassName,f=d===void 0?"":d,p=o.ariaLabelClose,v=p===void 0?"Close":p,g=o.selectedDates;return i&&(l!=null||s!=null||u!=null||g?.length)?D.createElement("button",{type:"button",className:it("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":v,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:$a,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var o,i,a,l;n.inline&&cI(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Ng(this.props.highlightDates)}),!r.focused&&!Qr(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((i=(o=this.props).onCalendarOpen)===null||i===void 0||i.call(o)),r.open===!0&&this.state.open===!1&&((l=(a=this.props).onCalendarClose)===null||l===void 0||l.call(a)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,o=n.icon,i=n.calendarIconClassname,a=n.calendarIconClassName,l=n.toggleCalendarOnIconClick,s=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),D.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&D.createElement(oI,de({icon:o,className:it(a,!a&&i,s&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?D.createElement(O1,{enableTabLoop:this.props.enableTabLoop},D.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=D.createElement(P1,de({portalId:this.props.portalId},this.props),r)),D.createElement("div",null,this.renderInputContainer(),r)}return D.createElement(uI,de({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(m.Component),dI="input",Uc="navigate";function G({label:t,...e}){return C.jsxs("div",{className:"thin-border blue-bg",style:{display:"flex",justifyContent:"space-between",gap:"1em"},children:[t,C.jsx("div",{className:"number-field",children:e.children})]})}function fI(){const t=m.useContext(Ke),e=t.portaCountClient.state,n=t.portaCountClient.settings,[r,o]=te(F.BAUD_RATE),[i]=te(F.ADVANCED_MODE),[a]=te(F.SHOW_REMAINING_EVENT_TIME),[l]=te(F.SHOW_ELAPSED_PARTICIPANT_TIME),[s,u]=m.useState(!1),[c,d]=m.useState("all-raw-data"),[f,p]=te(F.MINUTES_ALLOTTED_PER_PARTICIPANT),[v,g]=m.useState(t.settings.eventEndTime),[,y]=m.useState({}),h=m.useCallback(()=>{y({})},[]);function w(x){d(x.target.value)}function S(){switch(c){case"all-raw-data":E();break;case"all-results-as-json":_();break;default:console.log(`unsupported data to download: ${c}`)}}async function E(){await au.getData().then(x=>{ug(JSON.stringify(x),"fit-test-all-raw-data","json")})}function _(){on.getData().then(x=>{ug(JSON.stringify(x),"fit-test-all-results","json")})}function b(x){const k=Number(x);isNaN(k)?p(M=>M):k>0?p(k):console.warn(`ignoring out-of-range minutes per participant value: ${x}`)}m.useEffect(()=>{t.settings.eventEndTime=v},[v]),m.useEffect(()=>{t.settings.getActualSetting(F.EVENT_END_HHMM).then(()=>{g(t.settings.eventEndTime)});const x={stateChanged(){h()},settingsChanged(){h()}};return t.portaCountClient.addListener(x),()=>{t.portaCountClient.removeListener(x)}},[]);function T(){const x=t.portaCountClient.externalController;x.assumeManualControl(),x.requestRuntimeStatus(),x.sendCommand(le.REQUEST_VOLTAGE_INFO),x.requestSettings()}return C.jsxs("div",{id:"settings-panel",children:[C.jsx("fieldset",{children:"mftc v1.6.4 production"}),C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Settings"}),C.jsxs("section",{id:"settings",style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"stretch"},children:[C.jsx("section",{id:"basic-controls",children:C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Basic"}),C.jsx(tt,{setting:F.KEEP_SCREEN_AWAKE}),C.jsx(oM,{}),C.jsx(tt,{setting:F.SAY_PARTICLE_COUNT}),C.jsx(tt,{setting:F.SAY_ESTIMATED_FIT_FACTOR}),C.jsxs("div",{className:"labeled-setting",children:[C.jsxs("select",{id:"download-file-format-selector",defaultValue:c,onChange:w,children:[C.jsx("option",{value:"all-raw-data",children:"All Raw data as JSON"}),C.jsx("option",{value:"all-results-as-json",children:"All results as JSON"})]}),C.jsx("input",{className:"button",type:"button",value:"Download!",id:"download-button",onClick:S})]})]})}),C.jsx("section",{id:"event settings",children:C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Event settings"}),C.jsx(tt,{setting:F.SHOW_ELAPSED_PARTICIPANT_TIME}),l&&C.jsxs("div",{className:"labeled-setting",children:[C.jsx("label",{htmlFor:"minutes-per-participant-input",children:"Minutes per participant:"}),C.jsx(Oy,{style:{width:"8ch"},id:"minutes-per-participant-input",value:f,onChange:b,type:"number",min:1,max:60})]}),C.jsx(tt,{setting:F.SHOW_REMAINING_EVENT_TIME}),a&&C.jsxs("div",{className:"labeled-setting",children:[C.jsx("label",{children:"Event end time"}),C.jsx(af,{className:"date-time-input",selected:v,showTimeSelect:!0,showTimeCaption:!0,includeDates:[new Date],showIcon:!0,dateFormat:"YYYY-MMM-dd HH:mm",timeFormat:"HH:mm",placeholderText:"Pick end time",onChange:x=>x&&g(x)})]})]})}),C.jsxs("section",{id:"advanced-controls",children:[C.jsxs("fieldset",{children:[C.jsx("legend",{children:C.jsx(tt,{trueLabel:"Advanced settings",setting:F.ADVANCED_MODE})}),C.jsxs("div",{style:{display:i?"inline-block":"none"},children:[C.jsx(rM,{label:"Baud Rate",value:r.toString(),setValue:x=>o(Number(x)),options:[{300:"300"},{600:"600"},{1200:"1200"},{2400:"2400"},{9600:"9600"}]}),C.jsx(OM,{}),C.jsx(tt,{trueLabel:"Verbose speech",setting:F.VERBOSE}),C.jsx(tt,{setting:F.SHOW_EXTERNAL_CONTROL}),C.jsx(tt,{setting:F.ENABLE_TEST_INSTRUCTIONS_ZOOM}),C.jsx(tt,{setting:F.USE_COMPACT_UI}),C.jsx(tt,{setting:F.ENABLE_WEB_SERIAL_DRIVERS}),C.jsx(tt,{setting:F.ENABLE_PROTOCOL_EDITOR}),C.jsx(tt,{setting:F.ENABLE_QR_CODE_SCANNER}),C.jsx(tt,{setting:F.ENABLE_STATS}),C.jsx(tt,{setting:F.ENABLE_AUTO_CONNECT}),C.jsx(tt,{setting:F.SYNC_DEVICE_STATE_ON_CONNECT}),C.jsx(tt,{setting:F.AUTO_CREATE_FAST_PROTOCOLS}),C.jsx(tt,{setting:F.ENABLE_SIMULATOR}),C.jsx(Ow,{trueLabel:"Show Danger Zone",value:s,setValue:u})]})]}),s&&C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Danger Zone"}),C.jsx("input",{type:"button",value:"Clear Local Storage",onClick:()=>localStorage.clear()})]})]}),C.jsxs("fieldset",{id:"settings-state",children:[C.jsx("legend",{children:"Settings & State"}),C.jsx("button",{onClick:T,children:"Fetch settings & state info"}),C.jsx(G,{label:"Serial Number",children:n.serialNumber}),C.jsx(G,{label:"Last Service Date",children:n.lastServiceDate.toISOString()}),C.jsx(G,{label:"Run Time Since Service",children:Ve(1e3*n.runTimeSinceFactoryServiceSeconds)}),C.jsx(G,{label:"Num Exercises",children:n.numExercises}),C.jsx(G,{label:"Ambient Purge",children:Ve(1e3*n.ambientPurge)}),C.jsx(G,{label:"Ambient Sample",children:Ve(1e3*n.ambientSample)}),C.jsx(G,{label:"Mask Purge",children:Ve(1e3*n.maskPurge)}),[...n.maskSample.entries()].map(([x,k])=>C.jsx(G,{label:`Ex ${String(x)} sample`,children:Ve(1e3*k)},x)),[...n.fitFactorPassLevel.entries()].map(([x,k])=>C.jsx(G,{label:`FF pass level ${String(x)}`,children:k},x)),C.jsx(G,{label:"Battery",children:e.batteryStatus}),C.jsx(G,{label:"Pulse",children:e.pulseStatus}),[...e.componentVoltages.entries()].map(([x,k])=>C.jsx(G,{label:`${x} voltage`,children:k},x))]})]})]})]})}function pI(){const[t,e]=m.useState(""),n=D.useRef(null),[r,o]=m.useState(""),i=D.useRef(null),[a,l]=m.useState(""),s=D.useRef(null),u=m.useContext(Ke);return m.useEffect(()=>{e(()=>u.dataCollector.rawLines),o(u.dataCollector.logLines),l(u.dataCollector.processedData);const c={logRawLine(){e(()=>u.dataCollector.rawLines)},logMessage(d){o(f=>f+d)},logProcessedData(d){const f=new Date().toISOString();l(p=>p+`${f} ${d}`)}};return u.dataCollector.addListener(c),()=>{u.dataCollector.removeListener(c)}},[]),C.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[C.jsxs("section",{style:{width:"100%",display:"flex",flexGrow:1},children:[C.jsxs("fieldset",{style:{flexGrow:1},children:[C.jsx("legend",{children:"Raw Data"}),C.jsx("textarea",{id:"raw-data",ref:n,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1e3,value:t})]}),C.jsxs("fieldset",{style:{flexGrow:1},children:[C.jsx("legend",{children:"Processed Data"}),C.jsx("textarea",{id:"interpreted-data",ref:s,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1001,value:a})]})]}),C.jsx("section",{style:{width:"100%",flexGrow:1,display:"flex"},children:C.jsxs("fieldset",{style:{flexGrow:1},children:[C.jsx("legend",{children:"Log"}),C.jsx("textarea",{id:"log-text-area",ref:i,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1002,value:r})]})})]})}const hI=60*60*1e3;function mI(){const t=m.useContext(Ke),[e,n]=te(F.STATS_FIRST_DATE),[r,o]=te(F.STATS_LAST_DATE),[i,a]=m.useState([]),[l,s]=m.useState(0),[u,c]=m.useState(0),[d,f]=m.useState(0),[p,v]=m.useState(0),[g,y]=m.useState(0),[h,w]=m.useState(0),[S,E]=m.useState([]),[_,b]=m.useState([]),[T,x]=m.useState(0),[k,M]=m.useState(0),[O,A]=m.useState(0),[H,W]=m.useState(0),[$,N]=m.useState(0);function U(L){return new Date(L.getTime()-L.getTimezoneOffset()*60*1e3)}function P(L){return U(L).toISOString().substring(0,10).replace(/-/g,"")}function I(L,pe){return new Date(pe.Time??0).getTime()-new Date(L.Time??0).getTime()}function V(L,pe){return I(L,pe)>1*60*60*1e3}function J(L){return L.Time?P(new Date(L.Time)):""}function ee(L){L=L.toSorted((z,Q)=>(z.Time?U(new Date(z.Time)).getTime():0)-(Q.Time?U(new Date(Q.Time)).getTime():0)),L=L.filter(z=>!z.Participant?.match(/zero\s+filter/i)),w(new Set(L.map(z=>z.Mask)).size),c(L.length),f(L.reduce((z,Q)=>z+(Q.Final?1:0),0)),s(L.reduce((z,Q,Qt,St)=>{const $r=St[Qt-1]??{};return z+(V($r,Q)?1:0)},0)),v(new Set(L.map(z=>`${J(z)}-${z.Participant}`)).size),y(L.reduce((z,Q,Qt,St)=>{const $r=St[Qt-1]??{};return V($r,Q)?z:z+I($r,Q)},0));const pe=new Map;L.forEach((z,Q,Qt)=>{const St=Qt[Q-1]??{};if(V(St,z))return null;const $r=`${J(St)}-${St.Participant}`,H1=I(St,z);pe.set($r,H1+(pe.get($r)||0))}),A(cc(new Array(...pe.values())));const K=new Map;L.forEach(z=>{const Q=`${J(z)}-${z.Participant}`;K.set(Q,(K.get(Q)??new Set).add(z.Mask??"unknown mask"))});const re=[...K.values()].map(z=>z.size);W(cc(re)),N(sy(re)),M(cc(L.map((z,Q,Qt)=>{const St=Qt[Q-1]??{};return V(St,z)||!z.Final?null:I(St,z)}).filter(z=>z!==null)));const oe=t.settings.getProtocolDuration(t.settings.getDefault(F.SELECTED_PROTOCOL));x(L.filter(z=>z.Final).reduce((z,Q)=>z+(Q.ProtocolName?t.settings.getProtocolDuration(Q.ProtocolName):oe),0)),E(L.toSorted((z,Q)=>(Q.Final??0)-(z.Final??0)).filter(z=>!(!z.Final||isNaN(z.Final)||isNaN(Number(z.Final))||!isFinite(Number(z.Final)))).toSpliced(5));const ye={};L.forEach(z=>{const Q=`${J(z)}-${z.Participant}-${z.Mask}`;ye[Q]=z});const Xe={};Object.values(ye).forEach(z=>{const Q=z.Mask??"";Xe[Q]=1+(Xe[Q]??0)}),console.debug(`mask tally: ${JSON.stringify(Xe)}`),b(Object.entries(Xe).toSorted((z,Q)=>Q[1]-z[1]).toSpliced(5))}async function xe(){return new Promise(L=>{const pe=new Set;on.getData(K=>(pe.add(new Date(K.Time)),!1)).then(()=>L([...pe].toSorted((K,re)=>K.getTime()-re.getTime())))})}async function De(){const L=Number(P(e??new Date(0))),pe=Number(P(r??new Date)),re=(await au.getData(oe=>{const ye=Number(P(new Date(oe.timestamp)));return L<=ye&&ye<=pe})).toSorted((oe,ye)=>new Date(oe.timestamp).getTime()-new Date(ye.timestamp).getTime()).reduce((oe,ye)=>{const Xe=new Date(ye.timestamp).getTime();if(Xe>oe.end+hI){const z=P(new Date(ye.timestamp)),Q=oe.longest.get(z)||{start:Xe,end:Xe,longest:{}};Q.end-Q.start<oe.end-oe.start&&(Q.start=oe.start,Q.end=oe.end,oe.longest.set(z,Q)),oe.start=Xe}return oe.end=Xe,oe},{start:0,end:0,longest:new Map});console.debug(`event date ranges: ${JSON.stringify(re.longest)}`,re),ee(await on.getData(oe=>{const ye=Number(P(new Date(oe.Time)));return L<=ye&&ye<=pe}))}m.useEffect(()=>{De()},[e,r]),m.useEffect(()=>{xe().then(L=>{a(L),L.length!==0&&e.getTime()===0&&n(L[L.length-1])})},[]);function qe(L){L?(r&&L>r&&o(L),n(L)):i.length>0?n(i[0]):n(new Date(0))}function _e(L){L?(e&&L<e&&n(L),o(L)):i.length>0?o(i[i.length-1]):o(new Date)}return C.jsxs("div",{id:"stats-panel",children:[C.jsxs("section",{id:"stats-date-range-selection",style:{display:"flex",justifySelf:"center"},children:["from",C.jsx(af,{id:"stats-first-date-picker",className:"date-picker-input",selected:e,showIcon:!0,dateFormat:"YYYY-MMM-dd",placeholderText:"Start date",highlightDates:i,onChange:L=>qe(L)}),"to",C.jsx(af,{id:"stats-last-date-from",className:"date-picker-input",selected:r,showIcon:!0,dateFormat:"YYYY-MMM-dd",placeholderText:"End date",highlightDates:i,onChange:L=>_e(L)})]}),C.jsxs("section",{id:"stats-display",style:{display:"flex",flexDirection:"column",justifyContent:"stretch",width:"fit-content",justifySelf:"center"},children:[C.jsxs(G,{label:"For selected date range",children:[C.jsx(G,{label:"Num Events",children:l}),C.jsx(G,{label:"Num Participants",children:p}),C.jsx(G,{label:"Num Masks Tested",children:h}),C.jsx(G,{label:"Num Tests Started",children:u}),C.jsx(G,{label:"Num Tests Completed",children:`${d} (${(100*d/u).toFixed(1)}%)`})]}),C.jsx("hr",{}),C.jsx(G,{label:"Total time from completed tests",children:Ve(T*1e3)}),C.jsx(G,{label:"Total event time (estimate)",children:Ve(g)}),C.jsxs(G,{label:"Device utilization",children:[(100*T*1e3/g).toFixed(1),"%"]}),C.jsx("hr",{}),C.jsx(G,{label:"Time spent per participant",children:C.jsxs("div",{className:"inline-flex",children:[C.jsx(G,{label:"Average",children:Ve(g/p)}),C.jsx(G,{label:"Median",children:Ve(O)})]})}),C.jsx(G,{label:"Time spent per completed test",children:C.jsxs("div",{className:"inline-flex",children:[C.jsx(G,{label:"Average",children:Ve(g/d)}),C.jsx(G,{label:"Median",children:Ve(k)})]})}),C.jsx("hr",{}),C.jsx(G,{label:"Num masks tested per participant",children:C.jsxs("div",{className:"inline-flex",children:[C.jsx(G,{label:"Average",children:$.toFixed(1)}),C.jsx(G,{label:"Median",children:H.toFixed(1)})]})}),C.jsx("hr",{}),C.jsxs(G,{label:"Per Participant averages",children:[C.jsx(G,{label:"Num Tests Started",children:(u/p).toFixed(1)}),C.jsx(G,{label:"Num Tests Completed",children:(d/p).toFixed(1)})]}),C.jsx("hr",{}),C.jsx(G,{label:"popular masks",children:_.map(([L,pe])=>C.jsx(G,{label:L.trim().length===0?"Unnamed mask":L,children:pe},L))}),C.jsx("hr",{}),C.jsx(G,{label:"top overall scores",children:S.map(L=>C.jsx(G,{label:L.Mask??"Unnamed mask",children:L.Final},L.ID))}),C.jsx("hr",{}),C.jsx(G,{label:"top individual scores",children:"todo: look at this across all exercises"}),C.jsx("hr",{}),C.jsxs(G,{label:"Per Event averages",children:[C.jsx(G,{label:"Time Spent",children:Ve(g/l)}),C.jsx(G,{label:"Num Participants",children:(p/l).toFixed(1)}),C.jsx(G,{label:"Num Masks Tested",children:"todo"}),C.jsx(G,{label:"Num Tests Started",children:(u/l).toFixed(1)}),C.jsx(G,{label:"Num Tests Completed",children:(d/l).toFixed(1)})]})]})]})}const gI=()=>{const[t]=te(F.KEEP_SCREEN_AWAKE),e=m.useRef(null);async function n(){console.debug("requestWakeLock()"),e.current=await navigator.wakeLock.request("screen")}const r=m.useCallback(()=>{e.current!==null&&document.visibilityState==="visible"&&t&&n()},[]);m.useEffect(()=>{t?(n(),document.addEventListener("visibilitychange",r)):e.current!==null&&(console.debug("removing wake lock"),document.removeEventListener("visibilitychange",r),e.current.release().then(()=>{e.current=null}))},[t])};function vI({useIcons:t=!1,...e}){const n=m.useContext(Ke),[r]=te(F.MINUTES_ALLOTTED_PER_PARTICIPANT),[o,i]=m.useState("");function a(){return Date.now()-n.settings.eventEndTime.getTime()}function l(){const c=a()/60/1e3;return r-c<0?"over-time":"on-time"}function s(){i(Ve(n.settings.eventEndTime.getTime()-Date.now(),!1,!1))}return ap(s),e.style={...e.style,display:"flex",gap:"0.3em"},C.jsxs("div",{...e,className:`number-field thin-border smooth-background-change svg-container no-wrap ${l()}`,children:[t?C.jsx(Dx,{}):C.jsx("span",{children:"Event Time:"}),C.jsx("span",{children:o})]})}function yI({useIcons:t=!1,...e}){const[n]=te(F.TEST_TEMPLATE),[r]=te(F.MINUTES_ALLOTTED_PER_PARTICIPANT),[o,i]=m.useState("");function a(){return!!n.Participant}function l(){return a()&&n.Time?Date.now()-new Date(n.Time).getTime():0}function s(){if(a()){if(n.Time){const d=l()/60/1e3;if(r-d<0)return"over-time"}return"on-time"}return"idle"}function u(){i(Ve(l()))}return ap(u),e.style={...e.style,display:"flex",gap:"0.3em"},C.jsxs("div",{...e,className:`thin-border number-field smooth-background-change svg-container no-wrap ${s()}`,children:[t?C.jsx(Tx,{}):C.jsx("span",{children:"Participant Time:"}),C.jsx("span",{children:o})]})}function wI(){const e=m.useContext(Ke).portaCountClient,[n,r]=m.useState(e.state.sampleSource),[o]=te(F.USE_COMPACT_UI),[i]=te(F.SHOW_EXTERNAL_CONTROL);m.useEffect(()=>{const l={sampleSourceChanged(s){r(s)}};return e.addListener(l),()=>{e.removeListener(l)}},[]);function a(){e.externalController.sampleSource=n==ve.MASK?ve.AMBIENT:ve.MASK}return i&&o?C.jsxs("div",{id:"sample-source-widget",onClick:a,className:"svg-container",children:[n===ve.AMBIENT&&C.jsx(Dy,{}),n===ve.MASK&&C.jsx(ky,{})]}):null}function SI(t){return Ge({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(t)}function CI(t){return Ge({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M9.25 14.5c0 0.415-0.335 0.75-0.75 0.75s-0.75-0.335-0.75-0.75 0.335-0.75 0.75-0.75 0.75 0.335 0.75 0.75zM16 1.5v14c0 0.827-0.625 1.5-1.392 1.5h-12.216c-0.767 0-1.392-0.673-1.392-1.5v-14c0-0.827 0.625-1.5 1.392-1.5h12.217c0.766 0 1.391 0.673 1.391 1.5zM15 1.5c0-0.271-0.179-0.5-0.392-0.5h-12.216c-0.213 0-0.392 0.229-0.392 0.5v14c0 0.271 0.179 0.5 0.392 0.5h12.217c0.212 0 0.391-0.229 0.391-0.5v-14zM3 2h11v11h-11v-11zM4 12h9v-9h-9v9z"},child:[]}]})(t)}function EI(){const e=m.useContext(Ke).portaCountClient,[n,r]=m.useState(e.state.controlSource),[o]=te(F.USE_COMPACT_UI),[i]=te(F.SHOW_EXTERNAL_CONTROL);m.useEffect(()=>{const l={controlSourceChanged(s){r(s)}};return e.addListener(l),()=>{e.removeListener(l)}},[]);function a(){e.externalController.controlSource=n==ue.Internal?ue.External:ue.Internal}return i&&o?C.jsxs("div",{id:"control-source-widget",onClick:a,className:"svg-container",children:[n===ue.External&&C.jsx(SI,{}),n===ue.Internal&&C.jsx(CI,{})]}):null}function bI(t){return Ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(t)}function xI(){const[t]=te(F.SHOW_ELAPSED_PARTICIPANT_TIME),[e]=te(F.SHOW_REMAINING_EVENT_TIME),[n]=te(F.USE_COMPACT_UI),[r]=te(F.ENABLE_PROTOCOL_EDITOR),[o]=te(F.ENABLE_STATS),[i]=te(F.ENABLE_QR_CODE_SCANNER),a=ku(),l=sr(),s=m.useRef(null),[u,c]=m.useState("full-width"),[d,f]=m.useState(0),[p,v]=m.useState(!1),[g,y]=m.useState(!1);m.useEffect(()=>{const S=new ResizeObserver(([E])=>{w(E)});return s.current&&S.observe(s.current),()=>{S.disconnect()}},[u]),m.useEffect(()=>{const S=()=>c("full-width");return screen.orientation.addEventListener("change",S),()=>{screen.orientation.removeEventListener("change",S)}},[]),gI();const h=[{label:"Home",value:"/"},{label:"Results",value:"/view-results"},{label:"Raw Data",value:"/raw-data"},{label:"Settings",value:"/settings"}];r&&h.push({label:"Protocols",value:"/protocols"}),o&&h.push({label:"Stats",value:"/stats"}),i&&h.push({label:"QR Code",value:"/qrscanner"}),h.push({label:"Daily Checks",value:"/daily-checks"}),h.push({label:"Bookmarks",value:"/bookmarks"});function w(S){const E=window.getComputedStyle(S.target),_=Math.floor(parseFloat(E.height)/parseFloat(E.lineHeight)),b=parseFloat(E.width)-d>0;switch(u){case"full-width":_>1&&c("2-lines"),v(!1),y(!1);break;case"2-lines":_<2&&b&&c("full-width"),_>2&&c("time-icons"),v(!1),y(!1);break;case"time-icons":_<2&&b&&c("2-lines"),_>2&&c("dropdown-tabs"),v(!0),y(!1);break;case"dropdown-tabs":_<2&&b&&c("time-icons"),v(!0),y(!0);break}f(parseFloat(E.width))}return C.jsxs("div",{id:"nav-bar",ref:s,style:{display:"flex",justifyContent:"space-between",height:"100%"},children:[C.jsx(yI,{style:{visibility:t?"visible":"hidden"},useIcons:p}),C.jsxs("div",{id:"nav-links-container",className:"inline-flex",style:{gap:"0.3em",flexWrap:"wrap",justifyContent:"center"},children:[C.jsxs("div",{children:["v","1.6.4","p"]}),g?C.jsx("div",{children:C.jsx(xp,{options:h,value:l.pathname,onChange:S=>a(S),children:C.jsxs("div",{className:"blue-bg thin-border svg-container inline-flex no-wrap",children:[h.find(S=>S.value===l.pathname)?.label,C.jsx(bI,{})]})})}):C.jsx("div",{style:{gap:"0.1em",display:"flex",flexWrap:"wrap"},children:h.reduce((S,E)=>(S.length>0&&S.push("|"),S.push(C.jsx(Zw,{to:E.value,className:({isActive:_,isPending:b})=>b?"nav-link-pending":_?"nav-link-active":"",children:C.jsx("div",{className:"no-wrap",children:E.label})},E.label)),S),[])}),C.jsxs("div",{id:"compact-ui",className:"inline-flex",style:{width:"fit-content",gap:"0.3em",alignItems:"center",height:"inherit",flexWrap:"wrap",justifyContent:"center"},children:[n&&C.jsx(Iw,{compact:!0}),C.jsx(EI,{}),C.jsx(wI,{}),n&&C.jsx(Pw,{compact:!0}),n&&C.jsx(Rw,{label:""}),n&&C.jsx(Nw,{label:""})]})]}),C.jsx(vI,{style:{visibility:e?"visible":"hidden"},useIcons:p})]})}function _I({children:t}){return C.jsx(Ke.Provider,{value:by,children:t})}function TI(){const t=window.location.pathname,e=t.endsWith("old/")||t.endsWith("-old");return C.jsx(C.Fragment,{children:C.jsx(_I,{children:C.jsx("div",{className:`app-border-container ${e?"red-border":""}`,children:C.jsxs("div",{className:"app-container",style:{display:"flex",flexDirection:"column"},children:[C.jsx("div",{id:"navbar-container",style:{position:"relative",top:0,left:0},children:C.jsx(xI,{})}),C.jsx("div",{id:"main-container",style:{position:"relative",top:"0.1rem",height:"100%",overflow:"auto",backgroundColor:"white"},children:C.jsx(SO,{})})]})})})})}var Vp={exports:{}};Vp.exports;(function(t){var e=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function a(s,u){if(!i[s]){i[s]={};for(var c=0;c<s.length;c++)i[s][s.charAt(c)]=c}return i[s][u]}var l={compressToBase64:function(s){if(s==null)return"";var u=l._compress(s,6,function(c){return r.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(s){return s==null?"":s==""?null:l._decompress(s.length,32,function(u){return a(r,s.charAt(u))})},compressToUTF16:function(s){return s==null?"":l._compress(s,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(s){return s==null?"":s==""?null:l._decompress(s.length,16384,function(u){return s.charCodeAt(u)-32})},compressToUint8Array:function(s){for(var u=l.compress(s),c=new Uint8Array(u.length*2),d=0,f=u.length;d<f;d++){var p=u.charCodeAt(d);c[d*2]=p>>>8,c[d*2+1]=p%256}return c},decompressFromUint8Array:function(s){if(s==null)return l.decompress(s);for(var u=new Array(s.length/2),c=0,d=u.length;c<d;c++)u[c]=s[c*2]*256+s[c*2+1];var f=[];return u.forEach(function(p){f.push(n(p))}),l.decompress(f.join(""))},compressToEncodedURIComponent:function(s){return s==null?"":l._compress(s,6,function(u){return o.charAt(u)})},decompressFromEncodedURIComponent:function(s){return s==null?"":s==""?null:(s=s.replace(/ /g,"+"),l._decompress(s.length,32,function(u){return a(o,s.charAt(u))}))},compress:function(s){return l._compress(s,16,function(u){return n(u)})},_compress:function(s,u,c){if(s==null)return"";var d,f,p={},v={},g="",y="",h="",w=2,S=3,E=2,_=[],b=0,T=0,x;for(x=0;x<s.length;x+=1)if(g=s.charAt(x),Object.prototype.hasOwnProperty.call(p,g)||(p[g]=S++,v[g]=!0),y=h+g,Object.prototype.hasOwnProperty.call(p,y))h=y;else{if(Object.prototype.hasOwnProperty.call(v,h)){if(h.charCodeAt(0)<256){for(d=0;d<E;d++)b=b<<1,T==u-1?(T=0,_.push(c(b)),b=0):T++;for(f=h.charCodeAt(0),d=0;d<8;d++)b=b<<1|f&1,T==u-1?(T=0,_.push(c(b)),b=0):T++,f=f>>1}else{for(f=1,d=0;d<E;d++)b=b<<1|f,T==u-1?(T=0,_.push(c(b)),b=0):T++,f=0;for(f=h.charCodeAt(0),d=0;d<16;d++)b=b<<1|f&1,T==u-1?(T=0,_.push(c(b)),b=0):T++,f=f>>1}w--,w==0&&(w=Math.pow(2,E),E++),delete v[h]}else for(f=p[h],d=0;d<E;d++)b=b<<1|f&1,T==u-1?(T=0,_.push(c(b)),b=0):T++,f=f>>1;w--,w==0&&(w=Math.pow(2,E),E++),p[y]=S++,h=String(g)}if(h!==""){if(Object.prototype.hasOwnProperty.call(v,h)){if(h.charCodeAt(0)<256){for(d=0;d<E;d++)b=b<<1,T==u-1?(T=0,_.push(c(b)),b=0):T++;for(f=h.charCodeAt(0),d=0;d<8;d++)b=b<<1|f&1,T==u-1?(T=0,_.push(c(b)),b=0):T++,f=f>>1}else{for(f=1,d=0;d<E;d++)b=b<<1|f,T==u-1?(T=0,_.push(c(b)),b=0):T++,f=0;for(f=h.charCodeAt(0),d=0;d<16;d++)b=b<<1|f&1,T==u-1?(T=0,_.push(c(b)),b=0):T++,f=f>>1}w--,w==0&&(w=Math.pow(2,E),E++),delete v[h]}else for(f=p[h],d=0;d<E;d++)b=b<<1|f&1,T==u-1?(T=0,_.push(c(b)),b=0):T++,f=f>>1;w--,w==0&&(w=Math.pow(2,E),E++)}for(f=2,d=0;d<E;d++)b=b<<1|f&1,T==u-1?(T=0,_.push(c(b)),b=0):T++,f=f>>1;for(;;)if(b=b<<1,T==u-1){_.push(c(b));break}else T++;return _.join("")},decompress:function(s){return s==null?"":s==""?null:l._decompress(s.length,32768,function(u){return s.charCodeAt(u)})},_decompress:function(s,u,c){var d=[],f=4,p=4,v=3,g="",y=[],h,w,S,E,_,b,T,x={val:c(0),position:u,index:1};for(h=0;h<3;h+=1)d[h]=h;for(S=0,_=Math.pow(2,2),b=1;b!=_;)E=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=c(x.index++)),S|=(E>0?1:0)*b,b<<=1;switch(S){case 0:for(S=0,_=Math.pow(2,8),b=1;b!=_;)E=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=c(x.index++)),S|=(E>0?1:0)*b,b<<=1;T=n(S);break;case 1:for(S=0,_=Math.pow(2,16),b=1;b!=_;)E=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=c(x.index++)),S|=(E>0?1:0)*b,b<<=1;T=n(S);break;case 2:return""}for(d[3]=T,w=T,y.push(T);;){if(x.index>s)return"";for(S=0,_=Math.pow(2,v),b=1;b!=_;)E=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=c(x.index++)),S|=(E>0?1:0)*b,b<<=1;switch(T=S){case 0:for(S=0,_=Math.pow(2,8),b=1;b!=_;)E=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=c(x.index++)),S|=(E>0?1:0)*b,b<<=1;d[p++]=n(S),T=p-1,f--;break;case 1:for(S=0,_=Math.pow(2,16),b=1;b!=_;)E=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=c(x.index++)),S|=(E>0?1:0)*b,b<<=1;d[p++]=n(S),T=p-1,f--;break;case 2:return y.join("")}if(f==0&&(f=Math.pow(2,v),v++),d[T])g=d[T];else if(T===p)g=w+w.charAt(0);else return null;y.push(g),d[p++]=w+g.charAt(0),f--,w=g,f==0&&(f=Math.pow(2,v),v++)}}};return l}();t!=null?t.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(Vp);var DI=Vp.exports;const kI=_a(DI);function Ug(t){return Fd(M1(t))}function M1(t){const e=Jo(t);return delete e.ID,delete e.source,e}async function Hs(){return await on.getData()}async function PI(t){const e=await Hs(),n=e.length,r=[];for(const o of t){const i=M1(o);e.some(a=>Ug(a)===Ug(i))||(i.source="ext",r.push(i))}for(const o of r){const i=await on.addRecord(o);o.ID=i}return e.push(...r),console.log(`total records ${e.length}, new records ${r.length}, old records ${n}`),e}function OI(){const[t,e]=m.useState([]),[n]=XO(),r=ku();async function o(){const a=n.get("data");if(a){const l=kI.decompressFromEncodedURIComponent(a);if(r("",{replace:!0}),l){console.log(`got url data: ${l}`);const s=JSON.parse(l);console.log(`data records: ${JSON.stringify(s,null,2)}`);const u=await PI(s);e(u)}else console.log("no data from url"),e(await Hs())}else console.log("no data parameter"),e(await Hs())}m.useEffect(()=>{on.open().then(()=>o()).catch(a=>console.log(`error while opening db: ${a}`))},[]);async function i(a){await Promise.all(a.map(l=>on.deleteRecordById(l))),e(await Hs())}return C.jsx(C.Fragment,{children:C.jsx(Lw,{tableData:t,setTableData:e,deleteRowsCallback:i})})}function MI(){const a=m.useContext(Ke).portaCountClient,l=a.externalController,[s,u]=m.useState(!1),[c,d]=m.useState(!1),[f,p]=m.useState(!1),[v,g]=m.useState(0),[y,h]=m.useState(0),[w,S]=m.useState(1e3),[E,_]=m.useState(qt(11e3)),[b,T]=m.useState(qt(5e3)),[x,k]=m.useState("idle"),[M,O]=m.useState("Press start to begin"),[A,H]=m.useState(0),[W,$]=m.useState(0),[N,U]=m.useState(0),[P,I]=m.useState(0),[V,J]=m.useState(0),[ee,xe]=m.useState({}),De=m.useCallback(()=>{xe({})},[]);m.useEffect(()=>{const L={particleConcentrationReceived:pe=>{const K=pe.concentration;switch(pe.sampleSource===ve.AMBIENT?(g(re=>re>K?re:K),b.push(pe.timestamp,K)):(h(re=>re>K?re:K),S(re=>re<K?re:K),E.push(pe.timestamp,K)),De(),console.debug(`state is ${x}`),x){case"idle":break;case"start":_(qt(11e3)),T(qt(5e3)),S(1e3),h(0),g(0),u(!1),d(!1),p(!1),J(0),O("Remove zero filter if attached"),l.assumeManualControl(),l.beep(),l.sampleMask(),k("initial-mask-purge"),H(Date.now());break;case"initial-mask-purge":Date.now()-A>5e3&&(k("waiting-for-particle-check"),H(Date.now()));break;case"waiting-for-particle-check":console.debug(`max mask count: ${y}`),y>1e3&&(k("waiting-for-zero-check"),O("Attach zero filter"),l.beep(),u(!0),S(1e3));break;case"waiting-for-zero-check":w===0&&(k("purge-ambient-1"),l.sampleAmbient(),O("reading from ambient"),H(Date.now()),d(!0));break;case"purge-ambient-1":Date.now()-A>5e3&&(k("waiting-for-ambient-average"),H(Date.now()),T(qt(5e3)));break;case"waiting-for-ambient-average":Date.now()-A>1e4&&($(b.movingAverage()),k("purge-mask"),l.sampleMask(),O("reading from mask"),H(Date.now()));break;case"purge-mask":Date.now()-A>5e3&&(k("waiting-for-mask-average"),H(Date.now()),_(qt(11e3)));break;case"waiting-for-mask-average":Date.now()-A>16e3&&(I(E.movingAverage()),k("purge-ambient-2"),l.sampleAmbient(),O("reading from ambient"),H(Date.now()));break;case"purge-ambient-2":Date.now()-A>5e3&&(k("waiting-for-second-ambient-average"),H(Date.now()),T(qt(5e3)));break;case"waiting-for-second-ambient-average":if(Date.now()-A>1e4){U(b.movingAverage()),k("done"),O("done");const re=.5*(W+N)/Math.max(.01,P);J(re),p(re>5e4),l.sampleMask(),l.beep(),l.beep()}break;case"done":break;default:console.error(`unhandled state ${x}`)}}};return a.addListener(L),()=>{a.removeListener(L)}},[ee]);function qe(){k("start")}function _e(L){return C.jsx("div",{className:"svg-container",style:{padding:"4px"},children:L?C.jsx(Cx,{color:"green"}):C.jsx(bx,{color:"red"})})}return C.jsxs("div",{id:"daily-check-panel",style:{width:"fit-content",justifySelf:"center"},children:[C.jsx("div",{children:M}),C.jsx("button",{onClick:()=>qe(),children:"Press to start"}),C.jsx(G,{label:"State",children:x}),C.jsx(G,{label:"Particle count check",children:_e(s)}),C.jsx(G,{label:"Zero check",children:_e(c)}),C.jsx(G,{label:"Max fit factor check",children:_e(f)}),C.jsx(G,{label:"Max ambient count",children:v}),C.jsx(G,{label:"Ambient average",children:(b.movingAverage()??0).toFixed(2)}),C.jsx(G,{label:"Max mask count",children:y}),C.jsx(G,{label:"Min mask count",children:w}),C.jsx(G,{label:"Mask average",children:(E.movingAverage()??0).toFixed(2)}),C.jsx(G,{label:"Fit factor",children:iu(V)})]})}var RI=Object.defineProperty,Ul=Object.getOwnPropertySymbols,R1=Object.prototype.hasOwnProperty,N1=Object.prototype.propertyIsEnumerable,Bg=(t,e,n)=>e in t?RI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sf=(t,e)=>{for(var n in e||(e={}))R1.call(e,n)&&Bg(t,n,e[n]);if(Ul)for(var n of Ul(e))N1.call(e,n)&&Bg(t,n,e[n]);return t},lf=(t,e)=>{var n={};for(var r in t)R1.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ul)for(var r of Ul(t))e.indexOf(r)<0&&N1.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var lo;(t=>{const e=class ae{constructor(s,u,c,d){if(this.version=s,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],s<ae.MIN_VERSION||s>ae.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=s*4+17;let f=[];for(let v=0;v<this.size;v++)f.push(!1);for(let v=0;v<this.size;v++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(c);if(this.drawCodewords(p),d==-1){let v=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const y=this.getPenaltyScore();y<v&&(d=g,v=y),this.applyMask(g)}}o(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(s,u){const c=t.QrSegment.makeSegments(s);return ae.encodeSegments(c,u)}static encodeBinary(s,u){const c=t.QrSegment.makeBytes(s);return ae.encodeSegments([c],u)}static encodeSegments(s,u,c=1,d=40,f=-1,p=!0){if(!(ae.MIN_VERSION<=c&&c<=d&&d<=ae.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let v,g;for(v=c;;v++){const S=ae.getNumDataCodewords(v,u)*8,E=a.getTotalBits(s,v);if(E<=S){g=E;break}if(v>=d)throw new RangeError("Data too long")}for(const S of[ae.Ecc.MEDIUM,ae.Ecc.QUARTILE,ae.Ecc.HIGH])p&&g<=ae.getNumDataCodewords(v,S)*8&&(u=S);let y=[];for(const S of s){n(S.mode.modeBits,4,y),n(S.numChars,S.mode.numCharCountBits(v),y);for(const E of S.getData())y.push(E)}o(y.length==g);const h=ae.getNumDataCodewords(v,u)*8;o(y.length<=h),n(0,Math.min(4,h-y.length),y),n(0,(8-y.length%8)%8,y),o(y.length%8==0);for(let S=236;y.length<h;S^=253)n(S,8,y);let w=[];for(;w.length*8<y.length;)w.push(0);return y.forEach((S,E)=>w[E>>>3]|=S<<7-(E&7)),new ae(v,u,w,f)}getModule(s,u){return 0<=s&&s<this.size&&0<=u&&u<this.size&&this.modules[u][s]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const s=this.getAlignmentPatternPositions(),u=s.length;for(let c=0;c<u;c++)for(let d=0;d<u;d++)c==0&&d==0||c==0&&d==u-1||c==u-1&&d==0||this.drawAlignmentPattern(s[c],s[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(s){const u=this.errorCorrectionLevel.formatBits<<3|s;let c=u;for(let f=0;f<10;f++)c=c<<1^(c>>>9)*1335;const d=(u<<10|c)^21522;o(d>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,r(d,f));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,r(d,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(d,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(d,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let s=this.version;for(let c=0;c<12;c++)s=s<<1^(s>>>11)*7973;const u=this.version<<12|s;o(u>>>18==0);for(let c=0;c<18;c++){const d=r(u,c),f=this.size-11+c%3,p=Math.floor(c/3);this.setFunctionModule(f,p,d),this.setFunctionModule(p,f,d)}}drawFinderPattern(s,u){for(let c=-4;c<=4;c++)for(let d=-4;d<=4;d++){const f=Math.max(Math.abs(d),Math.abs(c)),p=s+d,v=u+c;0<=p&&p<this.size&&0<=v&&v<this.size&&this.setFunctionModule(p,v,f!=2&&f!=4)}}drawAlignmentPattern(s,u){for(let c=-2;c<=2;c++)for(let d=-2;d<=2;d++)this.setFunctionModule(s+d,u+c,Math.max(Math.abs(d),Math.abs(c))!=1)}setFunctionModule(s,u,c){this.modules[u][s]=c,this.isFunction[u][s]=!0}addEccAndInterleave(s){const u=this.version,c=this.errorCorrectionLevel;if(s.length!=ae.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const d=ae.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],f=ae.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],p=Math.floor(ae.getNumRawDataModules(u)/8),v=d-p%d,g=Math.floor(p/d);let y=[];const h=ae.reedSolomonComputeDivisor(f);for(let S=0,E=0;S<d;S++){let _=s.slice(E,E+g-f+(S<v?0:1));E+=_.length;const b=ae.reedSolomonComputeRemainder(_,h);S<v&&_.push(0),y.push(_.concat(b))}let w=[];for(let S=0;S<y[0].length;S++)y.forEach((E,_)=>{(S!=g-f||_>=v)&&w.push(E[S])});return o(w.length==p),w}drawCodewords(s){if(s.length!=Math.floor(ae.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let d=0;d<this.size;d++)for(let f=0;f<2;f++){const p=c-f,g=(c+1&2)==0?this.size-1-d:d;!this.isFunction[g][p]&&u<s.length*8&&(this.modules[g][p]=r(s[u>>>3],7-(u&7)),u++)}}o(u==s.length*8)}applyMask(s){if(s<0||s>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let d;switch(s){case 0:d=(c+u)%2==0;break;case 1:d=u%2==0;break;case 2:d=c%3==0;break;case 3:d=(c+u)%3==0;break;case 4:d=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:d=c*u%2+c*u%3==0;break;case 6:d=(c*u%2+c*u%3)%2==0;break;case 7:d=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&d&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let s=0;for(let f=0;f<this.size;f++){let p=!1,v=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[f][y]==p?(v++,v==5?s+=ae.PENALTY_N1:v>5&&s++):(this.finderPenaltyAddHistory(v,g),p||(s+=this.finderPenaltyCountPatterns(g)*ae.PENALTY_N3),p=this.modules[f][y],v=1);s+=this.finderPenaltyTerminateAndCount(p,v,g)*ae.PENALTY_N3}for(let f=0;f<this.size;f++){let p=!1,v=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][f]==p?(v++,v==5?s+=ae.PENALTY_N1:v>5&&s++):(this.finderPenaltyAddHistory(v,g),p||(s+=this.finderPenaltyCountPatterns(g)*ae.PENALTY_N3),p=this.modules[y][f],v=1);s+=this.finderPenaltyTerminateAndCount(p,v,g)*ae.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let p=0;p<this.size-1;p++){const v=this.modules[f][p];v==this.modules[f][p+1]&&v==this.modules[f+1][p]&&v==this.modules[f+1][p+1]&&(s+=ae.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((p,v)=>p+(v?1:0),u);const c=this.size*this.size,d=Math.ceil(Math.abs(u*20-c*10)/c)-1;return o(0<=d&&d<=9),s+=d*ae.PENALTY_N4,o(0<=s&&s<=2568888),s}getAlignmentPatternPositions(){if(this.version==1)return[];{const s=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(s*2-2))*2;let c=[6];for(let d=this.size-7;c.length<s;d-=u)c.splice(1,0,d);return c}}static getNumRawDataModules(s){if(s<ae.MIN_VERSION||s>ae.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*s+128)*s+64;if(s>=2){const c=Math.floor(s/7)+2;u-=(25*c-10)*c-55,s>=7&&(u-=36)}return o(208<=u&&u<=29648),u}static getNumDataCodewords(s,u){return Math.floor(ae.getNumRawDataModules(s)/8)-ae.ECC_CODEWORDS_PER_BLOCK[u.ordinal][s]*ae.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][s]}static reedSolomonComputeDivisor(s){if(s<1||s>255)throw new RangeError("Degree out of range");let u=[];for(let d=0;d<s-1;d++)u.push(0);u.push(1);let c=1;for(let d=0;d<s;d++){for(let f=0;f<u.length;f++)u[f]=ae.reedSolomonMultiply(u[f],c),f+1<u.length&&(u[f]^=u[f+1]);c=ae.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(s,u){let c=u.map(d=>0);for(const d of s){const f=d^c.shift();c.push(0),u.forEach((p,v)=>c[v]^=ae.reedSolomonMultiply(p,f))}return c}static reedSolomonMultiply(s,u){if(s>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(u>>>d&1)*s;return o(c>>>8==0),c}finderPenaltyCountPatterns(s){const u=s[1];o(u<=this.size*3);const c=u>0&&s[2]==u&&s[3]==u*3&&s[4]==u&&s[5]==u;return(c&&s[0]>=u*4&&s[6]>=u?1:0)+(c&&s[6]>=u*4&&s[0]>=u?1:0)}finderPenaltyTerminateAndCount(s,u,c){return s&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(s,u){u[0]==0&&(s+=this.size),u.pop(),u.unshift(s)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,s,u){if(s<0||s>31||l>>>s)throw new RangeError("Value out of range");for(let c=s-1;c>=0;c--)u.push(l>>>c&1)}function r(l,s){return(l>>>s&1)!=0}function o(l){if(!l)throw new Error("Assertion error")}const i=class $e{constructor(s,u,c){if(this.mode=s,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(s){let u=[];for(const c of s)n(c,8,u);return new $e($e.Mode.BYTE,s.length,u)}static makeNumeric(s){if(!$e.isNumeric(s))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<s.length;){const d=Math.min(s.length-c,3);n(parseInt(s.substring(c,c+d),10),d*3+1,u),c+=d}return new $e($e.Mode.NUMERIC,s.length,u)}static makeAlphanumeric(s){if(!$e.isAlphanumeric(s))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=s.length;c+=2){let d=$e.ALPHANUMERIC_CHARSET.indexOf(s.charAt(c))*45;d+=$e.ALPHANUMERIC_CHARSET.indexOf(s.charAt(c+1)),n(d,11,u)}return c<s.length&&n($e.ALPHANUMERIC_CHARSET.indexOf(s.charAt(c)),6,u),new $e($e.Mode.ALPHANUMERIC,s.length,u)}static makeSegments(s){return s==""?[]:$e.isNumeric(s)?[$e.makeNumeric(s)]:$e.isAlphanumeric(s)?[$e.makeAlphanumeric(s)]:[$e.makeBytes($e.toUtf8ByteArray(s))]}static makeEci(s){let u=[];if(s<0)throw new RangeError("ECI assignment value out of range");if(s<128)n(s,8,u);else if(s<16384)n(2,2,u),n(s,14,u);else if(s<1e6)n(6,3,u),n(s,21,u);else throw new RangeError("ECI assignment value out of range");return new $e($e.Mode.ECI,0,u)}static isNumeric(s){return $e.NUMERIC_REGEX.test(s)}static isAlphanumeric(s){return $e.ALPHANUMERIC_REGEX.test(s)}getData(){return this.bitData.slice()}static getTotalBits(s,u){let c=0;for(const d of s){const f=d.mode.numCharCountBits(u);if(d.numChars>=1<<f)return 1/0;c+=4+f+d.bitData.length}return c}static toUtf8ByteArray(s){s=encodeURI(s);let u=[];for(let c=0;c<s.length;c++)s.charAt(c)!="%"?u.push(s.charCodeAt(c)):(u.push(parseInt(s.substring(c+1,c+3),16)),c+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;t.QrSegment=i})(lo||(lo={}));(t=>{(e=>{const n=class{constructor(o,i){this.ordinal=o,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(lo||(lo={}));(t=>{(e=>{const n=class{constructor(o,i){this.modeBits=o,this.numBitsCharCount=i}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(lo||(lo={}));var No=lo;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var NI={L:No.QrCode.Ecc.LOW,M:No.QrCode.Ecc.MEDIUM,Q:No.QrCode.Ecc.QUARTILE,H:No.QrCode.Ecc.HIGH},I1=128,L1="L",A1="#FFFFFF",F1="#000000",$1=!1,j1=1,II=4,LI=0,AI=.1;function V1(t,e=0){const n=[];return t.forEach(function(r,o){let i=null;r.forEach(function(a,l){if(!a&&i!==null){n.push(`M${i+e} ${o+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===r.length-1){if(!a)return;i===null?n.push(`M${l+e},${o+e} h1v1H${l+e}z`):n.push(`M${i+e},${o+e} h${l+1-i}v1H${i+e}z`);return}a&&i===null&&(i=l)})}),n.join("")}function U1(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((o,i)=>i<e.x||i>=e.x+e.w?o:!1))}function FI(t,e,n,r){if(r==null)return null;const o=t.length+n*2,i=Math.floor(e*AI),a=o/e,l=(r.width||i)*a,s=(r.height||i)*a,u=r.x==null?t.length/2-l/2:r.x*a,c=r.y==null?t.length/2-s/2:r.y*a,d=r.opacity==null?1:r.opacity;let f=null;if(r.excavate){let v=Math.floor(u),g=Math.floor(c),y=Math.ceil(l+u-v),h=Math.ceil(s+c-g);f={x:v,y:g,w:y,h}}const p=r.crossOrigin;return{x:u,y:c,h:s,w:l,excavation:f,opacity:d,crossOrigin:p}}function $I(t,e){return e!=null?Math.max(Math.floor(e),0):t?II:LI}function B1({value:t,level:e,minVersion:n,includeMargin:r,marginSize:o,imageSettings:i,size:a,boostLevel:l}){let s=D.useMemo(()=>{const v=(Array.isArray(t)?t:[t]).reduce((g,y)=>(g.push(...No.QrSegment.makeSegments(y)),g),[]);return No.QrCode.encodeSegments(v,NI[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:u,margin:c,numCells:d,calculatedImageSettings:f}=D.useMemo(()=>{let p=s.getModules();const v=$I(r,o),g=p.length+v*2,y=FI(p,a,v,i);return{cells:p,margin:v,numCells:g,calculatedImageSettings:y}},[s,a,i,r,o]);return{qrcode:s,margin:c,cells:u,numCells:d,calculatedImageSettings:f}}var jI=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),VI=D.forwardRef(function(e,n){const r=e,{value:o,size:i=I1,level:a=L1,bgColor:l=A1,fgColor:s=F1,includeMargin:u=$1,minVersion:c=j1,boostLevel:d,marginSize:f,imageSettings:p}=r,g=lf(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=g,h=lf(g,["style"]),w=p?.src,S=D.useRef(null),E=D.useRef(null),_=D.useCallback(W=>{S.current=W,typeof n=="function"?n(W):n&&(n.current=W)},[n]),[b,T]=D.useState(!1),{margin:x,cells:k,numCells:M,calculatedImageSettings:O}=B1({value:o,level:a,minVersion:c,boostLevel:d,includeMargin:u,marginSize:f,imageSettings:p,size:i});D.useEffect(()=>{if(S.current!=null){const W=S.current,$=W.getContext("2d");if(!$)return;let N=k;const U=E.current,P=O!=null&&U!==null&&U.complete&&U.naturalHeight!==0&&U.naturalWidth!==0;P&&O.excavation!=null&&(N=U1(k,O.excavation));const I=window.devicePixelRatio||1;W.height=W.width=i*I;const V=i/M*I;$.scale(V,V),$.fillStyle=l,$.fillRect(0,0,M,M),$.fillStyle=s,jI?$.fill(new Path2D(V1(N,x))):k.forEach(function(J,ee){J.forEach(function(xe,De){xe&&$.fillRect(De+x,ee+x,1,1)})}),O&&($.globalAlpha=O.opacity),P&&$.drawImage(U,O.x+x,O.y+x,O.w,O.h)}}),D.useEffect(()=>{T(!1)},[w]);const A=sf({height:i,width:i},y);let H=null;return w!=null&&(H=D.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{T(!0)},ref:E,crossOrigin:O?.crossOrigin})),D.createElement(D.Fragment,null,D.createElement("canvas",sf({style:A,height:i,width:i,ref:_,role:"img"},h)),H)});VI.displayName="QRCodeCanvas";var Ws=D.forwardRef(function(e,n){const r=e,{value:o,size:i=I1,level:a=L1,bgColor:l=A1,fgColor:s=F1,includeMargin:u=$1,minVersion:c=j1,boostLevel:d,title:f,marginSize:p,imageSettings:v}=r,g=lf(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:h,numCells:w,calculatedImageSettings:S}=B1({value:o,level:a,minVersion:c,boostLevel:d,includeMargin:u,marginSize:p,imageSettings:v,size:i});let E=h,_=null;v!=null&&S!=null&&(S.excavation!=null&&(E=U1(h,S.excavation)),_=D.createElement("image",{href:v.src,height:S.h,width:S.w,x:S.x+y,y:S.y+y,preserveAspectRatio:"none",opacity:S.opacity,crossOrigin:S.crossOrigin}));const b=V1(E,y);return D.createElement("svg",sf({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},g),!!f&&D.createElement("title",null,f),D.createElement("path",{fill:l,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),D.createElement("path",{fill:s,d:b,shapeRendering:"crispEdges"}),_)});Ws.displayName="QRCodeSVG";function UI(){const[t,e]=m.useState(""),[n,r]=m.useState(""),[o,i]=m.useState(""),[a,l]=m.useState(""),[s,u]=te(F.BOOKMARKS),c=[["These bookmarks",window.location.href],["Fit Test for Everyone Discord","https://discord.gg/GeNhXx8Hxw"],["Fit testing resources wiki","https://github.com/emcee5601/fit-testing-resources/wiki"],["MFTC app","https://emcee5601.github.io/fit-test-console/"],["MFTC old versions","https://emcee5601.github.io/mftc-old/"],["MFTC app source","https://github.com/emcee5601/fit-test-console"],["Breathesafe","https://www.breathesafe.xyz/"]];Object.entries(s).forEach(([g,y])=>c.push([g,y]));function d(g,y){e(g),r(y)}function f(){return o&&!Object.values(s).includes(o)}function p(){if(!f())return;const g={};g[a||o]=o,Object.assign(g,s),u(g)}function v(g){const y={};Object.entries(s).filter(([h])=>h!==g).forEach(([h,w])=>y[h]=w),u(y)}return C.jsxs("div",{id:"bookmarks",style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"1em"},children:["Bookmarks",C.jsxs("div",{children:[t&&C.jsx("div",{className:"full-screen-overlay",children:C.jsxs("div",{onClick:()=>e(""),className:"qrcode-container",children:[C.jsx("span",{style:{display:"block"},children:n}),C.jsx("span",{style:{display:"block"},children:C.jsx("a",{href:t,children:t})}),C.jsx(Ws,{value:t,size:512,marginSize:4,title:n})]})}),C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Add new bookmark"}),C.jsxs("div",{id:"bookmark-adder",style:{display:"flex"},children:[C.jsxs("div",{style:{textAlign:"start"},children:[C.jsx(wl,{value:a,placeholder:"Title",onChange:g=>l(g.target.value)}),C.jsx(wl,{value:o,placeholder:"URL",onChange:g=>i(g.target.value)})]}),C.jsx("div",{style:{height:"100%"},children:C.jsx(Ws,{value:o,size:128,marginSize:4,title:o,onClick:()=>d(o,a),visibility:o?"visible":"hidden"})}),C.jsx("button",{onClick:()=>p(),disabled:!f(),children:"Save bookmark"})]})]}),c.map(([g,y])=>C.jsx("div",{children:C.jsxs("fieldset",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[C.jsx("legend",{children:g}),C.jsx("a",{href:y,children:y}),C.jsx(Ws,{value:y,size:128,marginSize:4,title:g,onClick:()=>d(y,g)}),g in s&&C.jsx("button",{onClick:()=>v(g),children:"delete"})]})},g))]})]})}const BI=SP({onNeedRefresh(){confirm("A new version is available. Update to the latest version?")&&BI(!0)}});ty(document.getElementById("root")).render(C.jsx(m.StrictMode,{children:C.jsx(QO,{children:C.jsx(m.Suspense,{fallback:"...",children:C.jsx(EO,{children:C.jsxs(Kt,{path:"",element:C.jsx(TI,{}),children:[C.jsx(Kt,{index:!0,element:C.jsx(wP,{})}),C.jsx(Kt,{path:"view-results",element:C.jsx(OI,{})}),C.jsx(Kt,{path:"settings",element:C.jsx(fI,{})}),C.jsx(Kt,{path:"protocols",element:C.jsx(mP,{})}),C.jsx(Kt,{path:"raw-data",element:C.jsx(pI,{})}),C.jsx(Kt,{path:"stats",element:C.jsx(mI,{})}),C.jsx(Kt,{path:"qrscanner",element:C.jsx(gP,{})}),C.jsx(Kt,{path:"unsupported-browser",element:C.jsx(Aw,{})}),C.jsx(Kt,{path:"daily-checks",element:C.jsx(MI,{})}),C.jsx(Kt,{path:"bookmarks",element:C.jsx(UI,{})})]})})})})}));export{D as A,Ow as B,ue as C,Oy as D,kI as L,Ws as Q,wl as R,Ox as S,Tu as _,ou as a,Ke as b,HI as c,ve as d,af as e,YI as f,WI as g,rO as h,te as i,C as j,Jo as k,F as l,_a as m,uk as n,Fd as o,m as r,M1 as s,lP as u};
