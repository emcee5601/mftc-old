const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ResultsTable-CRvwfhZ1.js","./ResultsTable-nVhmLYY9.css","./SimpleFitTestProtocolPanel-CYVLYxvI.js","./SimpleFitTestProtocolPanel-D541uJuR.css"])))=>i.map(i=>d[i]);
function QS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yg={exports:{}},Yl={},zg={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ki=Symbol.for("react.element"),KS=Symbol.for("react.portal"),GS=Symbol.for("react.fragment"),qS=Symbol.for("react.strict_mode"),XS=Symbol.for("react.profiler"),ZS=Symbol.for("react.provider"),JS=Symbol.for("react.context"),e1=Symbol.for("react.forward_ref"),t1=Symbol.for("react.suspense"),n1=Symbol.for("react.memo"),r1=Symbol.for("react.lazy"),Bp=Symbol.iterator;function o1(e){return e===null||typeof e!="object"?null:(e=Bp&&e[Bp]||e["@@iterator"],typeof e=="function"?e:null)}var Qg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kg=Object.assign,Gg={};function da(e,t,n){this.props=e,this.context=t,this.refs=Gg,this.updater=n||Qg}da.prototype.isReactComponent={};da.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};da.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qg(){}qg.prototype=da.prototype;function cf(e,t,n){this.props=e,this.context=t,this.refs=Gg,this.updater=n||Qg}var df=cf.prototype=new qg;df.constructor=cf;Kg(df,da.prototype);df.isPureReactComponent=!0;var Hp=Array.isArray,Xg=Object.prototype.hasOwnProperty,ff={current:null},Zg={key:!0,ref:!0,__self:!0,__source:!0};function Jg(e,t,n){var r,o={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Xg.call(t,r)&&!Zg.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];o.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:ki,type:e,key:a,ref:i,props:o,_owner:ff.current}}function a1(e,t){return{$$typeof:ki,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ki}function i1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wp=/\/+/g;function Fu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i1(""+e.key):t.toString(36)}function Es(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ki:case KS:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Fu(i,0):r,Hp(o)?(n="",e!=null&&(n=e.replace(Wp,"$&/")+"/"),Es(o,t,n,"",function(u){return u})):o!=null&&(pf(o)&&(o=a1(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Wp,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Hp(e))for(var l=0;l<e.length;l++){a=e[l];var s=r+Fu(a,l);i+=Es(a,t,n,s,o)}else if(s=o1(e),typeof s=="function")for(e=s.call(e),l=0;!(a=e.next()).done;)a=a.value,s=r+Fu(a,l++),i+=Es(a,t,n,s,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Wi(e,t,n){if(e==null)return e;var r=[],o=0;return Es(e,r,"","",function(a){return t.call(n,a,o++)}),r}function s1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},bs={transition:null},l1={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:bs,ReactCurrentOwner:ff};function ev(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Wi,forEach:function(e,t,n){Wi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wi(e,function(){t++}),t},toArray:function(e){return Wi(e,function(t){return t})||[]},only:function(e){if(!pf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=da;ce.Fragment=GS;ce.Profiler=XS;ce.PureComponent=cf;ce.StrictMode=qS;ce.Suspense=t1;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l1;ce.act=ev;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Kg({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=ff.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)Xg.call(t,s)&&!Zg.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ki,type:e.type,key:o,ref:a,props:r,_owner:i}};ce.createContext=function(e){return e={$$typeof:JS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZS,_context:e},e.Consumer=e};ce.createElement=Jg;ce.createFactory=function(e){var t=Jg.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:e1,render:e}};ce.isValidElement=pf;ce.lazy=function(e){return{$$typeof:r1,_payload:{_status:-1,_result:e},_init:s1}};ce.memo=function(e,t){return{$$typeof:n1,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=bs.transition;bs.transition={};try{e()}finally{bs.transition=t}};ce.unstable_act=ev;ce.useCallback=function(e,t){return Tt.current.useCallback(e,t)};ce.useContext=function(e){return Tt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return Tt.current.useEffect(e,t)};ce.useId=function(){return Tt.current.useId()};ce.useImperativeHandle=function(e,t,n){return Tt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return Tt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return Tt.current.useReducer(e,t,n)};ce.useRef=function(e){return Tt.current.useRef(e)};ce.useState=function(e){return Tt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return Tt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return Tt.current.useTransition()};ce.version="18.3.1";zg.exports=ce;var m=zg.exports;const D=Di(m),Hc=QS({__proto__:null,default:D},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=m,c1=Symbol.for("react.element"),d1=Symbol.for("react.fragment"),f1=Object.prototype.hasOwnProperty,p1=u1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h1={key:!0,ref:!0,__self:!0,__source:!0};function tv(e,t,n){var r,o={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)f1.call(t,r)&&!h1.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:c1,type:e,key:a,ref:i,props:o,_owner:p1.current}}Yl.Fragment=d1;Yl.jsx=tv;Yl.jsxs=tv;Yg.exports=Yl;var C=Yg.exports,nv={exports:{}},Ht={},rv={exports:{}},ov={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,F){var V=P.length;P.push(F);e:for(;0<V;){var J=V-1>>>1,ne=P[J];if(0<o(ne,F))P[J]=F,P[V]=ne,V=J;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var F=P[0],V=P.pop();if(V!==F){P[0]=V;e:for(var J=0,ne=P.length,ge=ne>>>1;J<ge;){var De=2*(J+1)-1,K=P[De],oe=De+1,A=P[oe];if(0>o(K,V))oe<ne&&0>o(A,K)?(P[J]=A,P[oe]=V,J=oe):(P[J]=K,P[De]=V,J=De);else if(oe<ne&&0>o(A,V))P[J]=A,P[oe]=V,J=oe;else break e}}return F}function o(P,F){var V=P.sortIndex-F.sortIndex;return V!==0?V:P.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var s=[],u=[],c=1,d=null,f=3,p=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(P){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=P)r(u),F.sortIndex=F.expirationTime,t(s,F);else break;F=n(u)}}function E(P){if(g=!1,S(P),!v)if(n(s)!==null)v=!0,L(x);else{var F=n(u);F!==null&&U(E,F.startTime-P)}}function x(P,F){v=!1,g&&(g=!1,h(T),T=-1),p=!0;var V=f;try{for(S(F),d=n(s);d!==null&&(!(d.expirationTime>F)||P&&!O());){var J=d.callback;if(typeof J=="function"){d.callback=null,f=d.priorityLevel;var ne=J(d.expirationTime<=F);F=e.unstable_now(),typeof ne=="function"?d.callback=ne:d===n(s)&&r(s),S(F)}else r(s);d=n(s)}if(d!==null)var ge=!0;else{var De=n(u);De!==null&&U(E,De.startTime-F),ge=!1}return ge}finally{d=null,f=V,p=!1}}var b=!1,_=null,T=-1,k=5,R=-1;function O(){return!(e.unstable_now()-R<k)}function M(){if(_!==null){var P=e.unstable_now();R=P;var F=!0;try{F=_(!0,P)}finally{F?$():(b=!1,_=null)}}else b=!1}var $;if(typeof w=="function")$=function(){w(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,j=H.port2;H.port1.onmessage=M,$=function(){j.postMessage(null)}}else $=function(){y(M,0)};function L(P){_=P,b||(b=!0,$())}function U(P,F){T=y(function(){P(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,L(x))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var V=f;f=F;try{return P()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=f;f=P;try{return F()}finally{f=V}},e.unstable_scheduleCallback=function(P,F,V){var J=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?J+V:J):V=J,P){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=V+ne,P={id:c++,callback:F,priorityLevel:P,startTime:V,expirationTime:ne,sortIndex:-1},V>J?(P.sortIndex=V,t(u,P),n(s)===null&&P===n(u)&&(g?(h(T),T=-1):g=!0,U(E,V-J))):(P.sortIndex=ne,t(s,P),v||p||(v=!0,L(x))),P},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(P){var F=f;return function(){var V=f;f=F;try{return P.apply(this,arguments)}finally{f=V}}}})(ov);rv.exports=ov;var m1=rv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1=m,Ut=m1;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var av=new Set,ni={};function po(e,t){Qo(e,t),Qo(e+"Capture",t)}function Qo(e,t){for(ni[e]=t,e=0;e<t.length;e++)av.add(t[e])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=Object.prototype.hasOwnProperty,v1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yp={},zp={};function y1(e){return Wc.call(zp,e)?!0:Wc.call(Yp,e)?!1:v1.test(e)?zp[e]=!0:(Yp[e]=!0,!1)}function w1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S1(e,t,n,r){if(t===null||typeof t>"u"||w1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,n,r,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var hf=/[\-:]([a-z])/g;function mf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hf,mf);ht[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hf,mf);ht[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hf,mf);ht[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function gf(e,t,n,r){var o=ht.hasOwnProperty(t)?ht[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(S1(t,n,o,r)&&(n=null),r||o===null?y1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ir=g1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yi=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),vf=Symbol.for("react.strict_mode"),Yc=Symbol.for("react.profiler"),iv=Symbol.for("react.provider"),sv=Symbol.for("react.context"),yf=Symbol.for("react.forward_ref"),zc=Symbol.for("react.suspense"),Qc=Symbol.for("react.suspense_list"),wf=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),lv=Symbol.for("react.offscreen"),Qp=Symbol.iterator;function ya(e){return e===null||typeof e!="object"?null:(e=Qp&&e[Qp]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,$u;function La(e){if($u===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$u=t&&t[1]||""}return`
`+$u+e}var ju=!1;function Vu(e,t){if(!e||ju)return"";ju=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),a=r.stack.split(`
`),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==a[l]){var s=`
`+o[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=i&&0<=l);break}}}finally{ju=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?La(e):""}function C1(e){switch(e.tag){case 5:return La(e.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return e=Vu(e.type,!1),e;case 11:return e=Vu(e.type.render,!1),e;case 1:return e=Vu(e.type,!0),e;default:return""}}function Kc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bo:return"Fragment";case Eo:return"Portal";case Yc:return"Profiler";case vf:return"StrictMode";case zc:return"Suspense";case Qc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sv:return(e.displayName||"Context")+".Consumer";case iv:return(e._context.displayName||"Context")+".Provider";case yf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wf:return t=e.displayName||null,t!==null?t:Kc(e.type)||"Memo";case cr:t=e._payload,e=e._init;try{return Kc(e(t))}catch{}}return null}function E1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kc(t);case 8:return t===vf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function b1(e){var t=uv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zi(e){e._valueTracker||(e._valueTracker=b1(e))}function cv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gc(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Or(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dv(e,t){t=t.checked,t!=null&&gf(e,"checked",t,!1)}function qc(e,t){dv(e,t);var n=Or(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xc(e,t.type,Or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xc(e,t,n){(t!=="number"||Gs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Aa=Array.isArray;function Ao(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Or(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Zc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Aa(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Or(n)}}function fv(e,t){var n=Or(t.value),r=Or(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qi,hv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ri(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x1=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(e){x1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ya[t]=Ya[e]})});function mv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ya.hasOwnProperty(e)&&Ya[e]?(""+t).trim():t+"px"}function gv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=mv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var _1=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ed(e,t){if(t){if(_1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function td(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nd=null;function Sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rd=null,Fo=null,$o=null;function Zp(e){if(e=Mi(e)){if(typeof rd!="function")throw Error(N(280));var t=e.stateNode;t&&(t=ql(t),rd(e.stateNode,e.type,t))}}function vv(e){Fo?$o?$o.push(e):$o=[e]:Fo=e}function yv(){if(Fo){var e=Fo,t=$o;if($o=Fo=null,Zp(e),t)for(e=0;e<t.length;e++)Zp(t[e])}}function wv(e,t){return e(t)}function Sv(){}var Uu=!1;function Cv(e,t,n){if(Uu)return e(t,n);Uu=!0;try{return wv(e,t,n)}finally{Uu=!1,(Fo!==null||$o!==null)&&(Sv(),yv())}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var r=ql(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var od=!1;if(Jn)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){od=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{od=!1}function T1(e,t,n,r,o,a,i,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var za=!1,qs=null,Xs=!1,ad=null,D1={onError:function(e){za=!0,qs=e}};function k1(e,t,n,r,o,a,i,l,s){za=!1,qs=null,T1.apply(D1,arguments)}function P1(e,t,n,r,o,a,i,l,s){if(k1.apply(this,arguments),za){if(za){var u=qs;za=!1,qs=null}else throw Error(N(198));Xs||(Xs=!0,ad=u)}}function ho(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ev(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jp(e){if(ho(e)!==e)throw Error(N(188))}function O1(e){var t=e.alternate;if(!t){if(t=ho(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Jp(o),e;if(a===r)return Jp(o),t;a=a.sibling}throw Error(N(188))}if(n.return!==r.return)n=o,r=a;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function bv(e){return e=O1(e),e!==null?xv(e):null}function xv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xv(e);if(t!==null)return t;e=e.sibling}return null}var _v=Ut.unstable_scheduleCallback,eh=Ut.unstable_cancelCallback,M1=Ut.unstable_shouldYield,R1=Ut.unstable_requestPaint,Ye=Ut.unstable_now,N1=Ut.unstable_getCurrentPriorityLevel,Cf=Ut.unstable_ImmediatePriority,Tv=Ut.unstable_UserBlockingPriority,Zs=Ut.unstable_NormalPriority,I1=Ut.unstable_LowPriority,Dv=Ut.unstable_IdlePriority,zl=null,Pn=null;function L1(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(zl,e,void 0,(e.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:$1,A1=Math.log,F1=Math.LN2;function $1(e){return e>>>=0,e===0?32:31-(A1(e)/F1|0)|0}var Ki=64,Gi=4194304;function Fa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Js(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=Fa(l):(a&=i,a!==0&&(r=Fa(a)))}else i=n&~o,i!==0?r=Fa(i):a!==0&&(r=Fa(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pn(t),o=1<<n,r|=e[n],t&=~o;return r}function j1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-pn(a),l=1<<i,s=o[i];s===-1?(!(l&n)||l&r)&&(o[i]=j1(l,t)):s<=t&&(e.expiredLanes|=l),a&=~l}}function id(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kv(){var e=Ki;return Ki<<=1,!(Ki&4194240)&&(Ki=64),e}function Bu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pn(t),e[t]=n}function U1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-pn(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function Ef(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var _e=0;function Pv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ov,bf,Mv,Rv,Nv,sd=!1,qi=[],Cr=null,Er=null,br=null,ai=new Map,ii=new Map,pr=[],B1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function th(e,t){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":ai.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(t.pointerId)}}function Sa(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Mi(t),t!==null&&bf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function H1(e,t,n,r,o){switch(t){case"focusin":return Cr=Sa(Cr,e,t,n,r,o),!0;case"dragenter":return Er=Sa(Er,e,t,n,r,o),!0;case"mouseover":return br=Sa(br,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return ai.set(a,Sa(ai.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,ii.set(a,Sa(ii.get(a)||null,e,t,n,r,o)),!0}return!1}function Iv(e){var t=Yr(e.target);if(t!==null){var n=ho(t);if(n!==null){if(t=n.tag,t===13){if(t=Ev(n),t!==null){e.blockedOn=t,Nv(e.priority,function(){Mv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ld(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nd=r,n.target.dispatchEvent(r),nd=null}else return t=Mi(n),t!==null&&bf(t),e.blockedOn=n,!1;t.shift()}return!0}function nh(e,t,n){xs(e)&&n.delete(t)}function W1(){sd=!1,Cr!==null&&xs(Cr)&&(Cr=null),Er!==null&&xs(Er)&&(Er=null),br!==null&&xs(br)&&(br=null),ai.forEach(nh),ii.forEach(nh)}function Ca(e,t){e.blockedOn===t&&(e.blockedOn=null,sd||(sd=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,W1)))}function si(e){function t(o){return Ca(o,e)}if(0<qi.length){Ca(qi[0],e);for(var n=1;n<qi.length;n++){var r=qi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Cr!==null&&Ca(Cr,e),Er!==null&&Ca(Er,e),br!==null&&Ca(br,e),ai.forEach(t),ii.forEach(t),n=0;n<pr.length;n++)r=pr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)Iv(n),n.blockedOn===null&&pr.shift()}var jo=ir.ReactCurrentBatchConfig,el=!0;function Y1(e,t,n,r){var o=_e,a=jo.transition;jo.transition=null;try{_e=1,xf(e,t,n,r)}finally{_e=o,jo.transition=a}}function z1(e,t,n,r){var o=_e,a=jo.transition;jo.transition=null;try{_e=4,xf(e,t,n,r)}finally{_e=o,jo.transition=a}}function xf(e,t,n,r){if(el){var o=ld(e,t,n,r);if(o===null)Zu(e,t,r,tl,n),th(e,r);else if(H1(o,e,t,n,r))r.stopPropagation();else if(th(e,r),t&4&&-1<B1.indexOf(e)){for(;o!==null;){var a=Mi(o);if(a!==null&&Ov(a),a=ld(e,t,n,r),a===null&&Zu(e,t,r,tl,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Zu(e,t,r,null,n)}}var tl=null;function ld(e,t,n,r){if(tl=null,e=Sf(r),e=Yr(e),e!==null)if(t=ho(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ev(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tl=e,null}function Lv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N1()){case Cf:return 1;case Tv:return 4;case Zs:case I1:return 16;case Dv:return 536870912;default:return 16}default:return 16}}var vr=null,_f=null,_s=null;function Av(){if(_s)return _s;var e,t=_f,n=t.length,r,o="value"in vr?vr.value:vr.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[a-r];r++);return _s=o.slice(e,1<r?1-r:void 0)}function Ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function rh(){return!1}function Wt(e){function t(n,r,o,a,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Xi:rh,this.isPropagationStopped=rh,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),t}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tf=Wt(fa),Oi=je({},fa,{view:0,detail:0}),Q1=Wt(Oi),Hu,Wu,Ea,Ql=je({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Df,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ea&&(Ea&&e.type==="mousemove"?(Hu=e.screenX-Ea.screenX,Wu=e.screenY-Ea.screenY):Wu=Hu=0,Ea=e),Hu)},movementY:function(e){return"movementY"in e?e.movementY:Wu}}),oh=Wt(Ql),K1=je({},Ql,{dataTransfer:0}),G1=Wt(K1),q1=je({},Oi,{relatedTarget:0}),Yu=Wt(q1),X1=je({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),Z1=Wt(X1),J1=je({},fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eC=Wt(J1),tC=je({},fa,{data:0}),ah=Wt(tC),nC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oC[e])?!!t[e]:!1}function Df(){return aC}var iC=je({},Oi,{key:function(e){if(e.key){var t=nC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Df,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sC=Wt(iC),lC=je({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ih=Wt(lC),uC=je({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Df}),cC=Wt(uC),dC=je({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),fC=Wt(dC),pC=je({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hC=Wt(pC),mC=[9,13,27,32],kf=Jn&&"CompositionEvent"in window,Qa=null;Jn&&"documentMode"in document&&(Qa=document.documentMode);var gC=Jn&&"TextEvent"in window&&!Qa,Fv=Jn&&(!kf||Qa&&8<Qa&&11>=Qa),sh=" ",lh=!1;function $v(e,t){switch(e){case"keyup":return mC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xo=!1;function vC(e,t){switch(e){case"compositionend":return jv(t);case"keypress":return t.which!==32?null:(lh=!0,sh);case"textInput":return e=t.data,e===sh&&lh?null:e;default:return null}}function yC(e,t){if(xo)return e==="compositionend"||!kf&&$v(e,t)?(e=Av(),_s=_f=vr=null,xo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fv&&t.locale!=="ko"?null:t.data;default:return null}}var wC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wC[e.type]:t==="textarea"}function Vv(e,t,n,r){vv(r),t=nl(t,"onChange"),0<t.length&&(n=new Tf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ka=null,li=null;function SC(e){Xv(e,0)}function Kl(e){var t=Do(e);if(cv(t))return e}function CC(e,t){if(e==="change")return t}var Uv=!1;if(Jn){var zu;if(Jn){var Qu="oninput"in document;if(!Qu){var ch=document.createElement("div");ch.setAttribute("oninput","return;"),Qu=typeof ch.oninput=="function"}zu=Qu}else zu=!1;Uv=zu&&(!document.documentMode||9<document.documentMode)}function dh(){Ka&&(Ka.detachEvent("onpropertychange",Bv),li=Ka=null)}function Bv(e){if(e.propertyName==="value"&&Kl(li)){var t=[];Vv(t,li,e,Sf(e)),Cv(SC,t)}}function EC(e,t,n){e==="focusin"?(dh(),Ka=t,li=n,Ka.attachEvent("onpropertychange",Bv)):e==="focusout"&&dh()}function bC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kl(li)}function xC(e,t){if(e==="click")return Kl(t)}function _C(e,t){if(e==="input"||e==="change")return Kl(t)}function TC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:TC;function ui(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Wc.call(t,o)||!mn(e[o],t[o]))return!1}return!0}function fh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ph(e,t){var n=fh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fh(n)}}function Hv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wv(){for(var e=window,t=Gs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gs(e.document)}return t}function Pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function DC(e){var t=Wv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hv(n.ownerDocument.documentElement,n)){if(r!==null&&Pf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=ph(n,a);var i=ph(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kC=Jn&&"documentMode"in document&&11>=document.documentMode,_o=null,ud=null,Ga=null,cd=!1;function hh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cd||_o==null||_o!==Gs(r)||(r=_o,"selectionStart"in r&&Pf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&ui(Ga,r)||(Ga=r,r=nl(ud,"onSelect"),0<r.length&&(t=new Tf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_o)))}function Zi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var To={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},Ku={},Yv={};Jn&&(Yv=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Gl(e){if(Ku[e])return Ku[e];if(!To[e])return e;var t=To[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yv)return Ku[e]=t[n];return e}var zv=Gl("animationend"),Qv=Gl("animationiteration"),Kv=Gl("animationstart"),Gv=Gl("transitionend"),qv=new Map,mh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){qv.set(e,t),po(t,[e])}for(var Gu=0;Gu<mh.length;Gu++){var qu=mh[Gu],PC=qu.toLowerCase(),OC=qu[0].toUpperCase()+qu.slice(1);Ar(PC,"on"+OC)}Ar(zv,"onAnimationEnd");Ar(Qv,"onAnimationIteration");Ar(Kv,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(Gv,"onTransitionEnd");Qo("onMouseEnter",["mouseout","mouseover"]);Qo("onMouseLeave",["mouseout","mouseover"]);Qo("onPointerEnter",["pointerout","pointerover"]);Qo("onPointerLeave",["pointerout","pointerover"]);po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));po("onBeforeInput",["compositionend","keypress","textInput","paste"]);po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MC=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function gh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,P1(r,t,void 0,e),e.currentTarget=null}function Xv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==a&&o.isPropagationStopped())break e;gh(o,l,u),a=s}else for(i=0;i<r.length;i++){if(l=r[i],s=l.instance,u=l.currentTarget,l=l.listener,s!==a&&o.isPropagationStopped())break e;gh(o,l,u),a=s}}}if(Xs)throw e=ad,Xs=!1,ad=null,e}function Pe(e,t){var n=t[md];n===void 0&&(n=t[md]=new Set);var r=e+"__bubble";n.has(r)||(Zv(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),Zv(n,e,r,t)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function ci(e){if(!e[Ji]){e[Ji]=!0,av.forEach(function(n){n!=="selectionchange"&&(MC.has(n)||Xu(n,!1,e),Xu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ji]||(t[Ji]=!0,Xu("selectionchange",!1,t))}}function Zv(e,t,n,r){switch(Lv(t)){case 1:var o=Y1;break;case 4:o=z1;break;default:o=xf}n=o.bind(null,t,n,e),o=void 0,!od||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Zu(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var s=i.tag;if((s===3||s===4)&&(s=i.stateNode.containerInfo,s===o||s.nodeType===8&&s.parentNode===o))return;i=i.return}for(;l!==null;){if(i=Yr(l),i===null)return;if(s=i.tag,s===5||s===6){r=a=i;continue e}l=l.parentNode}}r=r.return}Cv(function(){var u=a,c=Sf(n),d=[];e:{var f=qv.get(e);if(f!==void 0){var p=Tf,v=e;switch(e){case"keypress":if(Ts(n)===0)break e;case"keydown":case"keyup":p=sC;break;case"focusin":v="focus",p=Yu;break;case"focusout":v="blur",p=Yu;break;case"beforeblur":case"afterblur":p=Yu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=G1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cC;break;case zv:case Qv:case Kv:p=Z1;break;case Gv:p=fC;break;case"scroll":p=Q1;break;case"wheel":p=hC;break;case"copy":case"cut":case"paste":p=eC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ih}var g=(t&4)!==0,y=!g&&e==="scroll",h=g?f!==null?f+"Capture":null:f;g=[];for(var w=u,S;w!==null;){S=w;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,h!==null&&(E=oi(w,h),E!=null&&g.push(di(w,E,S)))),y)break;w=w.return}0<g.length&&(f=new p(f,v,null,n,c),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==nd&&(v=n.relatedTarget||n.fromElement)&&(Yr(v)||v[er]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Yr(v):null,v!==null&&(y=ho(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=oh,E="onMouseLeave",h="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=ih,E="onPointerLeave",h="onPointerEnter",w="pointer"),y=p==null?f:Do(p),S=v==null?f:Do(v),f=new g(E,w+"leave",p,n,c),f.target=y,f.relatedTarget=S,E=null,Yr(c)===u&&(g=new g(h,w+"enter",v,n,c),g.target=S,g.relatedTarget=y,E=g),y=E,p&&v)t:{for(g=p,h=v,w=0,S=g;S;S=yo(S))w++;for(S=0,E=h;E;E=yo(E))S++;for(;0<w-S;)g=yo(g),w--;for(;0<S-w;)h=yo(h),S--;for(;w--;){if(g===h||h!==null&&g===h.alternate)break t;g=yo(g),h=yo(h)}g=null}else g=null;p!==null&&vh(d,f,p,g,!1),v!==null&&y!==null&&vh(d,y,v,g,!0)}}e:{if(f=u?Do(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var x=CC;else if(uh(f))if(Uv)x=_C;else{x=bC;var b=EC}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=xC);if(x&&(x=x(e,u))){Vv(d,x,n,c);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Xc(f,"number",f.value)}switch(b=u?Do(u):window,e){case"focusin":(uh(b)||b.contentEditable==="true")&&(_o=b,ud=u,Ga=null);break;case"focusout":Ga=ud=_o=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,hh(d,n,c);break;case"selectionchange":if(kC)break;case"keydown":case"keyup":hh(d,n,c)}var _;if(kf)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else xo?$v(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Fv&&n.locale!=="ko"&&(xo||T!=="onCompositionStart"?T==="onCompositionEnd"&&xo&&(_=Av()):(vr=c,_f="value"in vr?vr.value:vr.textContent,xo=!0)),b=nl(u,T),0<b.length&&(T=new ah(T,e,null,n,c),d.push({event:T,listeners:b}),_?T.data=_:(_=jv(n),_!==null&&(T.data=_)))),(_=gC?vC(e,n):yC(e,n))&&(u=nl(u,"onBeforeInput"),0<u.length&&(c=new ah("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=_))}Xv(d,t)})}function di(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nl(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=oi(e,n),a!=null&&r.unshift(di(e,a,o)),a=oi(e,t),a!=null&&r.push(di(e,a,o))),e=e.return}return r}function yo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vh(e,t,n,r,o){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&u!==null&&(l=u,o?(s=oi(n,a),s!=null&&i.unshift(di(n,s,l))):o||(s=oi(n,a),s!=null&&i.push(di(n,s,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var RC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function yh(e){return(typeof e=="string"?e:""+e).replace(RC,`
`).replace(NC,"")}function es(e,t,n){if(t=yh(t),yh(e)!==t&&n)throw Error(N(425))}function rl(){}var dd=null,fd=null;function pd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hd=typeof setTimeout=="function"?setTimeout:void 0,IC=typeof clearTimeout=="function"?clearTimeout:void 0,wh=typeof Promise=="function"?Promise:void 0,LC=typeof queueMicrotask=="function"?queueMicrotask:typeof wh<"u"?function(e){return wh.resolve(null).then(e).catch(AC)}:hd;function AC(e){setTimeout(function(){throw e})}function Ju(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),si(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);si(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pa=Math.random().toString(36).slice(2),xn="__reactFiber$"+pa,fi="__reactProps$"+pa,er="__reactContainer$"+pa,md="__reactEvents$"+pa,FC="__reactListeners$"+pa,$C="__reactHandles$"+pa;function Yr(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[er]||n[xn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sh(e);e!==null;){if(n=e[xn])return n;e=Sh(e)}return t}e=n,n=e.parentNode}return null}function Mi(e){return e=e[xn]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Do(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function ql(e){return e[fi]||null}var gd=[],ko=-1;function Fr(e){return{current:e}}function Me(e){0>ko||(e.current=gd[ko],gd[ko]=null,ko--)}function ke(e,t){ko++,gd[ko]=e.current,e.current=t}var Mr={},wt=Fr(Mr),Ot=Fr(!1),to=Mr;function Ko(e,t){var n=e.type.contextTypes;if(!n)return Mr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mt(e){return e=e.childContextTypes,e!=null}function ol(){Me(Ot),Me(wt)}function Ch(e,t,n){if(wt.current!==Mr)throw Error(N(168));ke(wt,t),ke(Ot,n)}function Jv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(N(108,E1(e)||"Unknown",o));return je({},n,r)}function al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mr,to=wt.current,ke(wt,e),ke(Ot,Ot.current),!0}function Eh(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=Jv(e,t,to),r.__reactInternalMemoizedMergedChildContext=e,Me(Ot),Me(wt),ke(wt,e)):Me(Ot),ke(Ot,n)}var Bn=null,Xl=!1,ec=!1;function e0(e){Bn===null?Bn=[e]:Bn.push(e)}function jC(e){Xl=!0,e0(e)}function $r(){if(!ec&&Bn!==null){ec=!0;var e=0,t=_e;try{var n=Bn;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bn=null,Xl=!1}catch(o){throw Bn!==null&&(Bn=Bn.slice(e+1)),_v(Cf,$r),o}finally{_e=t,ec=!1}}return null}var Po=[],Oo=0,il=null,sl=0,Xt=[],Zt=0,no=null,Wn=1,Yn="";function Ur(e,t){Po[Oo++]=sl,Po[Oo++]=il,il=e,sl=t}function t0(e,t,n){Xt[Zt++]=Wn,Xt[Zt++]=Yn,Xt[Zt++]=no,no=e;var r=Wn;e=Yn;var o=32-pn(r)-1;r&=~(1<<o),n+=1;var a=32-pn(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Wn=1<<32-pn(t)+o|n<<o|r,Yn=a+e}else Wn=1<<a|n<<o|r,Yn=e}function Of(e){e.return!==null&&(Ur(e,1),t0(e,1,0))}function Mf(e){for(;e===il;)il=Po[--Oo],Po[Oo]=null,sl=Po[--Oo],Po[Oo]=null;for(;e===no;)no=Xt[--Zt],Xt[Zt]=null,Yn=Xt[--Zt],Xt[Zt]=null,Wn=Xt[--Zt],Xt[Zt]=null}var $t=null,Ft=null,Ne=!1,fn=null;function n0(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Ft=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Ft=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=no!==null?{id:Wn,overflow:Yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$t=e,Ft=null,!0):!1;default:return!1}}function vd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yd(e){if(Ne){var t=Ft;if(t){var n=t;if(!bh(e,t)){if(vd(e))throw Error(N(418));t=xr(n.nextSibling);var r=$t;t&&bh(e,t)?n0(r,n):(e.flags=e.flags&-4097|2,Ne=!1,$t=e)}}else{if(vd(e))throw Error(N(418));e.flags=e.flags&-4097|2,Ne=!1,$t=e}}}function xh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function ts(e){if(e!==$t)return!1;if(!Ne)return xh(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pd(e.type,e.memoizedProps)),t&&(t=Ft)){if(vd(e))throw r0(),Error(N(418));for(;t;)n0(e,t),t=xr(t.nextSibling)}if(xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ft=xr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ft=null}}else Ft=$t?xr(e.stateNode.nextSibling):null;return!0}function r0(){for(var e=Ft;e;)e=xr(e.nextSibling)}function Go(){Ft=$t=null,Ne=!1}function Rf(e){fn===null?fn=[e]:fn.push(e)}var VC=ir.ReactCurrentBatchConfig;function ba(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=o.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function ns(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _h(e){var t=e._init;return t(e._payload)}function o0(e){function t(h,w){if(e){var S=h.deletions;S===null?(h.deletions=[w],h.flags|=16):S.push(w)}}function n(h,w){if(!e)return null;for(;w!==null;)t(h,w),w=w.sibling;return null}function r(h,w){for(h=new Map;w!==null;)w.key!==null?h.set(w.key,w):h.set(w.index,w),w=w.sibling;return h}function o(h,w){return h=kr(h,w),h.index=0,h.sibling=null,h}function a(h,w,S){return h.index=S,e?(S=h.alternate,S!==null?(S=S.index,S<w?(h.flags|=2,w):S):(h.flags|=2,w)):(h.flags|=1048576,w)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,w,S,E){return w===null||w.tag!==6?(w=sc(S,h.mode,E),w.return=h,w):(w=o(w,S),w.return=h,w)}function s(h,w,S,E){var x=S.type;return x===bo?c(h,w,S.props.children,E,S.key):w!==null&&(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===cr&&_h(x)===w.type)?(E=o(w,S.props),E.ref=ba(h,w,S),E.return=h,E):(E=Ns(S.type,S.key,S.props,null,h.mode,E),E.ref=ba(h,w,S),E.return=h,E)}function u(h,w,S,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=lc(S,h.mode,E),w.return=h,w):(w=o(w,S.children||[]),w.return=h,w)}function c(h,w,S,E,x){return w===null||w.tag!==7?(w=Xr(S,h.mode,E,x),w.return=h,w):(w=o(w,S),w.return=h,w)}function d(h,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=sc(""+w,h.mode,S),w.return=h,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yi:return S=Ns(w.type,w.key,w.props,null,h.mode,S),S.ref=ba(h,null,w),S.return=h,S;case Eo:return w=lc(w,h.mode,S),w.return=h,w;case cr:var E=w._init;return d(h,E(w._payload),S)}if(Aa(w)||ya(w))return w=Xr(w,h.mode,S,null),w.return=h,w;ns(h,w)}return null}function f(h,w,S,E){var x=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return x!==null?null:l(h,w,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yi:return S.key===x?s(h,w,S,E):null;case Eo:return S.key===x?u(h,w,S,E):null;case cr:return x=S._init,f(h,w,x(S._payload),E)}if(Aa(S)||ya(S))return x!==null?null:c(h,w,S,E,null);ns(h,S)}return null}function p(h,w,S,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return h=h.get(S)||null,l(w,h,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Yi:return h=h.get(E.key===null?S:E.key)||null,s(w,h,E,x);case Eo:return h=h.get(E.key===null?S:E.key)||null,u(w,h,E,x);case cr:var b=E._init;return p(h,w,S,b(E._payload),x)}if(Aa(E)||ya(E))return h=h.get(S)||null,c(w,h,E,x,null);ns(w,E)}return null}function v(h,w,S,E){for(var x=null,b=null,_=w,T=w=0,k=null;_!==null&&T<S.length;T++){_.index>T?(k=_,_=null):k=_.sibling;var R=f(h,_,S[T],E);if(R===null){_===null&&(_=k);break}e&&_&&R.alternate===null&&t(h,_),w=a(R,w,T),b===null?x=R:b.sibling=R,b=R,_=k}if(T===S.length)return n(h,_),Ne&&Ur(h,T),x;if(_===null){for(;T<S.length;T++)_=d(h,S[T],E),_!==null&&(w=a(_,w,T),b===null?x=_:b.sibling=_,b=_);return Ne&&Ur(h,T),x}for(_=r(h,_);T<S.length;T++)k=p(_,h,T,S[T],E),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?T:k.key),w=a(k,w,T),b===null?x=k:b.sibling=k,b=k);return e&&_.forEach(function(O){return t(h,O)}),Ne&&Ur(h,T),x}function g(h,w,S,E){var x=ya(S);if(typeof x!="function")throw Error(N(150));if(S=x.call(S),S==null)throw Error(N(151));for(var b=x=null,_=w,T=w=0,k=null,R=S.next();_!==null&&!R.done;T++,R=S.next()){_.index>T?(k=_,_=null):k=_.sibling;var O=f(h,_,R.value,E);if(O===null){_===null&&(_=k);break}e&&_&&O.alternate===null&&t(h,_),w=a(O,w,T),b===null?x=O:b.sibling=O,b=O,_=k}if(R.done)return n(h,_),Ne&&Ur(h,T),x;if(_===null){for(;!R.done;T++,R=S.next())R=d(h,R.value,E),R!==null&&(w=a(R,w,T),b===null?x=R:b.sibling=R,b=R);return Ne&&Ur(h,T),x}for(_=r(h,_);!R.done;T++,R=S.next())R=p(_,h,T,R.value,E),R!==null&&(e&&R.alternate!==null&&_.delete(R.key===null?T:R.key),w=a(R,w,T),b===null?x=R:b.sibling=R,b=R);return e&&_.forEach(function(M){return t(h,M)}),Ne&&Ur(h,T),x}function y(h,w,S,E){if(typeof S=="object"&&S!==null&&S.type===bo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Yi:e:{for(var x=S.key,b=w;b!==null;){if(b.key===x){if(x=S.type,x===bo){if(b.tag===7){n(h,b.sibling),w=o(b,S.props.children),w.return=h,h=w;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===cr&&_h(x)===b.type){n(h,b.sibling),w=o(b,S.props),w.ref=ba(h,b,S),w.return=h,h=w;break e}n(h,b);break}else t(h,b);b=b.sibling}S.type===bo?(w=Xr(S.props.children,h.mode,E,S.key),w.return=h,h=w):(E=Ns(S.type,S.key,S.props,null,h.mode,E),E.ref=ba(h,w,S),E.return=h,h=E)}return i(h);case Eo:e:{for(b=S.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(h,w.sibling),w=o(w,S.children||[]),w.return=h,h=w;break e}else{n(h,w);break}else t(h,w);w=w.sibling}w=lc(S,h.mode,E),w.return=h,h=w}return i(h);case cr:return b=S._init,y(h,w,b(S._payload),E)}if(Aa(S))return v(h,w,S,E);if(ya(S))return g(h,w,S,E);ns(h,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(h,w.sibling),w=o(w,S),w.return=h,h=w):(n(h,w),w=sc(S,h.mode,E),w.return=h,h=w),i(h)):n(h,w)}return y}var qo=o0(!0),a0=o0(!1),ll=Fr(null),ul=null,Mo=null,Nf=null;function If(){Nf=Mo=ul=null}function Lf(e){var t=ll.current;Me(ll),e._currentValue=t}function wd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t){ul=e,Nf=Mo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pt=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(Nf!==e)if(e={context:e,memoizedValue:t,next:null},Mo===null){if(ul===null)throw Error(N(308));Mo=e,ul.dependencies={lanes:0,firstContext:e}}else Mo=Mo.next=e;return t}var zr=null;function Af(e){zr===null?zr=[e]:zr.push(e)}function i0(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Af(t)):(n.next=o.next,o.next=n),t.interleaved=n,tr(e,r)}function tr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dr=!1;function Ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,tr(e,n)}return o=r.interleaved,o===null?(t.next=t,Af(r)):(t.next=o.next,o.next=t),r.interleaved=t,tr(e,n)}function Ds(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ef(e,n)}}function Th(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function cl(e,t,n,r){var o=e.updateQueue;dr=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var s=l,u=s.next;s.next=null,i===null?a=u:i.next=u,i=s;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==i&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(a!==null){var d=o.baseState;i=0,c=u=s=null,l=a;do{var f=l.lane,p=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(f=t,p=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=je({},d,f);break e;case 2:dr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,s=d):c=c.next=p,i|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(s=d),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);oo|=i,e.lanes=i,e.memoizedState=d}}function Dh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(N(191,o));o.call(r)}}}var Ri={},On=Fr(Ri),pi=Fr(Ri),hi=Fr(Ri);function Qr(e){if(e===Ri)throw Error(N(174));return e}function $f(e,t){switch(ke(hi,t),ke(pi,e),ke(On,Ri),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jc(t,e)}Me(On),ke(On,t)}function Xo(){Me(On),Me(pi),Me(hi)}function l0(e){Qr(hi.current);var t=Qr(On.current),n=Jc(t,e.type);t!==n&&(ke(pi,e),ke(On,n))}function jf(e){pi.current===e&&(Me(On),Me(pi))}var Le=Fr(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tc=[];function Vf(){for(var e=0;e<tc.length;e++)tc[e]._workInProgressVersionPrimary=null;tc.length=0}var ks=ir.ReactCurrentDispatcher,nc=ir.ReactCurrentBatchConfig,ro=0,Fe=null,Je=null,ot=null,fl=!1,qa=!1,mi=0,UC=0;function mt(){throw Error(N(321))}function Uf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function Bf(e,t,n,r,o,a){if(ro=a,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ks.current=e===null||e.memoizedState===null?YC:zC,e=n(r,o),qa){a=0;do{if(qa=!1,mi=0,25<=a)throw Error(N(301));a+=1,ot=Je=null,t.updateQueue=null,ks.current=QC,e=n(r,o)}while(qa)}if(ks.current=pl,t=Je!==null&&Je.next!==null,ro=0,ot=Je=Fe=null,fl=!1,t)throw Error(N(300));return e}function Hf(){var e=mi!==0;return mi=0,e}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Fe.memoizedState=ot=e:ot=ot.next=e,ot}function rn(){if(Je===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=ot===null?Fe.memoizedState:ot.next;if(t!==null)ot=t,Je=e;else{if(e===null)throw Error(N(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},ot===null?Fe.memoizedState=ot=e:ot=ot.next=e}return ot}function gi(e,t){return typeof t=="function"?t(e):t}function rc(e){var t=rn(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=Je,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var l=i=null,s=null,u=a;do{var c=u.lane;if((ro&c)===c)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=d,i=r):s=s.next=d,Fe.lanes|=c,oo|=c}u=u.next}while(u!==null&&u!==a);s===null?i=r:s.next=l,mn(r,t.memoizedState)||(Pt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,Fe.lanes|=a,oo|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oc(e){var t=rn(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);mn(a,t.memoizedState)||(Pt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function u0(){}function c0(e,t){var n=Fe,r=rn(),o=t(),a=!mn(r.memoizedState,o);if(a&&(r.memoizedState=o,Pt=!0),r=r.queue,Wf(p0.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,vi(9,f0.bind(null,n,r,o,t),void 0,null),st===null)throw Error(N(349));ro&30||d0(n,t,o)}return o}function d0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function f0(e,t,n,r){t.value=n,t.getSnapshot=r,h0(t)&&m0(e)}function p0(e,t,n){return n(function(){h0(t)&&m0(e)})}function h0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function m0(e){var t=tr(e,1);t!==null&&hn(t,e,1,-1)}function kh(e){var t=yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},t.queue=e,e=e.dispatch=WC.bind(null,Fe,e),[t.memoizedState,e]}function vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function g0(){return rn().memoizedState}function Ps(e,t,n,r){var o=yn();Fe.flags|=e,o.memoizedState=vi(1|t,n,void 0,r===void 0?null:r)}function Zl(e,t,n,r){var o=rn();r=r===void 0?null:r;var a=void 0;if(Je!==null){var i=Je.memoizedState;if(a=i.destroy,r!==null&&Uf(r,i.deps)){o.memoizedState=vi(t,n,a,r);return}}Fe.flags|=e,o.memoizedState=vi(1|t,n,a,r)}function Ph(e,t){return Ps(8390656,8,e,t)}function Wf(e,t){return Zl(2048,8,e,t)}function v0(e,t){return Zl(4,2,e,t)}function y0(e,t){return Zl(4,4,e,t)}function w0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function S0(e,t,n){return n=n!=null?n.concat([e]):null,Zl(4,4,w0.bind(null,t,e),n)}function Yf(){}function C0(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Uf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function E0(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Uf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function b0(e,t,n){return ro&21?(mn(n,t)||(n=kv(),Fe.lanes|=n,oo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=n)}function BC(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=nc.transition;nc.transition={};try{e(!1),t()}finally{_e=n,nc.transition=r}}function x0(){return rn().memoizedState}function HC(e,t,n){var r=Dr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_0(e))T0(t,n);else if(n=i0(e,t,n,r),n!==null){var o=_t();hn(n,e,r,o),D0(n,t,r)}}function WC(e,t,n){var r=Dr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_0(e))T0(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(o.hasEagerState=!0,o.eagerState=l,mn(l,i)){var s=t.interleaved;s===null?(o.next=o,Af(t)):(o.next=s.next,s.next=o),t.interleaved=o;return}}catch{}finally{}n=i0(e,t,o,r),n!==null&&(o=_t(),hn(n,e,r,o),D0(n,t,r))}}function _0(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function T0(e,t){qa=fl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function D0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ef(e,n)}}var pl={readContext:nn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},YC={readContext:nn,useCallback:function(e,t){return yn().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:Ph,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ps(4194308,4,w0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=yn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=HC.bind(null,Fe,e),[r.memoizedState,e]},useRef:function(e){var t=yn();return e={current:e},t.memoizedState=e},useState:kh,useDebugValue:Yf,useDeferredValue:function(e){return yn().memoizedState=e},useTransition:function(){var e=kh(!1),t=e[0];return e=BC.bind(null,e[1]),yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Fe,o=yn();if(Ne){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),st===null)throw Error(N(349));ro&30||d0(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ph(p0.bind(null,r,a,e),[e]),r.flags|=2048,vi(9,f0.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=yn(),t=st.identifierPrefix;if(Ne){var n=Yn,r=Wn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=UC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zC={readContext:nn,useCallback:C0,useContext:nn,useEffect:Wf,useImperativeHandle:S0,useInsertionEffect:v0,useLayoutEffect:y0,useMemo:E0,useReducer:rc,useRef:g0,useState:function(){return rc(gi)},useDebugValue:Yf,useDeferredValue:function(e){var t=rn();return b0(t,Je.memoizedState,e)},useTransition:function(){var e=rc(gi)[0],t=rn().memoizedState;return[e,t]},useMutableSource:u0,useSyncExternalStore:c0,useId:x0,unstable_isNewReconciler:!1},QC={readContext:nn,useCallback:C0,useContext:nn,useEffect:Wf,useImperativeHandle:S0,useInsertionEffect:v0,useLayoutEffect:y0,useMemo:E0,useReducer:oc,useRef:g0,useState:function(){return oc(gi)},useDebugValue:Yf,useDeferredValue:function(e){var t=rn();return Je===null?t.memoizedState=e:b0(t,Je.memoizedState,e)},useTransition:function(){var e=oc(gi)[0],t=rn().memoizedState;return[e,t]},useMutableSource:u0,useSyncExternalStore:c0,useId:x0,unstable_isNewReconciler:!1};function cn(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jl={isMounted:function(e){return(e=e._reactInternals)?ho(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_t(),o=Dr(e),a=zn(r,o);a.payload=t,n!=null&&(a.callback=n),t=_r(e,a,o),t!==null&&(hn(t,e,o,r),Ds(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_t(),o=Dr(e),a=zn(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=_r(e,a,o),t!==null&&(hn(t,e,o,r),Ds(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),r=Dr(e),o=zn(n,r);o.tag=2,t!=null&&(o.callback=t),t=_r(e,o,r),t!==null&&(hn(t,e,r,n),Ds(t,e,r))}};function Oh(e,t,n,r,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ui(n,r)||!ui(o,a):!0}function k0(e,t,n){var r=!1,o=Mr,a=t.contextType;return typeof a=="object"&&a!==null?a=nn(a):(o=Mt(t)?to:wt.current,r=t.contextTypes,a=(r=r!=null)?Ko(e,o):Mr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Mh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Jl.enqueueReplaceState(t,t.state,null)}function Cd(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ff(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=nn(a):(a=Mt(t)?to:wt.current,o.context=Ko(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Sd(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Jl.enqueueReplaceState(o,o.state,null),cl(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Zo(e,t){try{var n="",r=t;do n+=C1(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function ac(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ed(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var KC=typeof WeakMap=="function"?WeakMap:Map;function P0(e,t,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ml||(ml=!0,Rd=r),Ed(e,t)},n}function O0(e,t,n){n=zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ed(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ed(e,t),typeof r!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Rh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new KC;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=lE.bind(null,e,t,n),t.then(e,e))}function Nh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ih(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zn(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e)}var GC=ir.ReactCurrentOwner,Pt=!1;function Ct(e,t,n,r){t.child=e===null?a0(t,null,n,r):qo(t,e.child,n,r)}function Lh(e,t,n,r,o){n=n.render;var a=t.ref;return Vo(t,o),r=Bf(e,t,n,r,a,o),n=Hf(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,nr(e,t,o)):(Ne&&n&&Of(t),t.flags|=1,Ct(e,t,r,o),t.child)}function Ah(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!Jf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,M0(e,t,a,r,o)):(e=Ns(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ui,n(i,r)&&e.ref===t.ref)return nr(e,t,o)}return t.flags|=1,e=kr(a,r),e.ref=t.ref,e.return=t,t.child=e}function M0(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(ui(a,r)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(Pt=!0);else return t.lanes=e.lanes,nr(e,t,o)}return bd(e,t,n,r,o)}function R0(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(No,It),It|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(No,It),It|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ke(No,It),It|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ke(No,It),It|=r;return Ct(e,t,o,n),t.child}function N0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bd(e,t,n,r,o){var a=Mt(n)?to:wt.current;return a=Ko(t,a),Vo(t,o),n=Bf(e,t,n,r,a,o),r=Hf(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,nr(e,t,o)):(Ne&&r&&Of(t),t.flags|=1,Ct(e,t,n,o),t.child)}function Fh(e,t,n,r,o){if(Mt(n)){var a=!0;al(t)}else a=!1;if(Vo(t,o),t.stateNode===null)Os(e,t),k0(t,n,r),Cd(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var s=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=nn(u):(u=Mt(n)?to:wt.current,u=Ko(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||s!==u)&&Mh(t,i,r,u),dr=!1;var f=t.memoizedState;i.state=f,cl(t,r,i,o),s=t.memoizedState,l!==r||f!==s||Ot.current||dr?(typeof c=="function"&&(Sd(t,n,c,r),s=t.memoizedState),(l=dr||Oh(t,n,l,r,f,s,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),i.props=r,i.state=s,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,s0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:cn(t.type,l),i.props=u,d=t.pendingProps,f=i.context,s=n.contextType,typeof s=="object"&&s!==null?s=nn(s):(s=Mt(n)?to:wt.current,s=Ko(t,s));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||f!==s)&&Mh(t,i,r,s),dr=!1,f=t.memoizedState,i.state=f,cl(t,r,i,o);var v=t.memoizedState;l!==d||f!==v||Ot.current||dr?(typeof p=="function"&&(Sd(t,n,p,r),v=t.memoizedState),(u=dr||Oh(t,n,u,r,f,v,s)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=s,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return xd(e,t,n,r,a,o)}function xd(e,t,n,r,o,a){N0(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Eh(t,n,!1),nr(e,t,a);r=t.stateNode,GC.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=qo(t,e.child,null,a),t.child=qo(t,null,l,a)):Ct(e,t,l,a),t.memoizedState=r.state,o&&Eh(t,n,!0),t.child}function I0(e){var t=e.stateNode;t.pendingContext?Ch(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ch(e,t.context,!1),$f(e,t.containerInfo)}function $h(e,t,n,r,o){return Go(),Rf(o),t.flags|=256,Ct(e,t,n,r),t.child}var _d={dehydrated:null,treeContext:null,retryLane:0};function Td(e){return{baseLanes:e,cachePool:null,transitions:null}}function L0(e,t,n){var r=t.pendingProps,o=Le.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ke(Le,o&1),e===null)return yd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=nu(i,r,0,null),e=Xr(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Td(n),t.memoizedState=_d,e):zf(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return qC(e,t,i,r,l,o,n);if(a){a=r.fallback,i=t.mode,o=e.child,l=o.sibling;var s={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=kr(o,s),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?a=kr(l,a):(a=Xr(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Td(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=_d,r}return a=e.child,e=a.sibling,r=kr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zf(e,t){return t=nu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rs(e,t,n,r){return r!==null&&Rf(r),qo(t,e.child,null,n),e=zf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qC(e,t,n,r,o,a,i){if(n)return t.flags&256?(t.flags&=-257,r=ac(Error(N(422))),rs(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=nu({mode:"visible",children:r.children},o,0,null),a=Xr(a,o,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&qo(t,e.child,null,i),t.child.memoizedState=Td(i),t.memoizedState=_d,a);if(!(t.mode&1))return rs(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(N(419)),r=ac(a,r,void 0),rs(e,t,i,r)}if(l=(i&e.childLanes)!==0,Pt||l){if(r=st,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,tr(e,o),hn(r,e,o,-1))}return Zf(),r=ac(Error(N(421))),rs(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=uE.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Ft=xr(o.nextSibling),$t=t,Ne=!0,fn=null,e!==null&&(Xt[Zt++]=Wn,Xt[Zt++]=Yn,Xt[Zt++]=no,Wn=e.id,Yn=e.overflow,no=t),t=zf(t,r.children),t.flags|=4096,t)}function jh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wd(e.return,t,n)}function ic(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function A0(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Ct(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jh(e,n,t);else if(e.tag===19)jh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Le,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&dl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ic(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&dl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ic(t,!0,n,null,a);break;case"together":ic(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Os(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),oo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=kr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function XC(e,t,n){switch(t.tag){case 3:I0(t),Go();break;case 5:l0(t);break;case 1:Mt(t.type)&&al(t);break;case 4:$f(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ke(ll,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?L0(e,t,n):(ke(Le,Le.current&1),e=nr(e,t,n),e!==null?e.sibling:null);ke(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return A0(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ke(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,R0(e,t,n)}return nr(e,t,n)}var F0,Dd,$0,j0;F0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dd=function(){};$0=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Qr(On.current);var a=null;switch(n){case"input":o=Gc(e,o),r=Gc(e,r),a=[];break;case"select":o=je({},o,{value:void 0}),r=je({},r,{value:void 0}),a=[];break;case"textarea":o=Zc(e,o),r=Zc(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=rl)}ed(n,r);var i;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ni.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var s=r[u];if(l=o?.[u],r.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||s&&s.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in s)s.hasOwnProperty(i)&&l[i]!==s[i]&&(n||(n={}),n[i]=s[i])}else n||(a||(a=[]),a.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(a=a||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(a=a||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ni.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&Pe("scroll",e),a||l===s||(a=[])):(a=a||[]).push(u,s))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};j0=function(e,t,n,r){n!==r&&(t.flags|=4)};function xa(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ZC(e,t,n){var r=t.pendingProps;switch(Mf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Mt(t.type)&&ol(),gt(t),null;case 3:return r=t.stateNode,Xo(),Me(Ot),Me(wt),Vf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fn!==null&&(Ld(fn),fn=null))),Dd(e,t),gt(t),null;case 5:jf(t);var o=Qr(hi.current);if(n=t.type,e!==null&&t.stateNode!=null)$0(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return gt(t),null}if(e=Qr(On.current),ts(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[xn]=t,r[fi]=a,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(o=0;o<$a.length;o++)Pe($a[o],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Kp(r,a),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Pe("invalid",r);break;case"textarea":qp(r,a),Pe("invalid",r)}ed(n,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&es(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&es(r.textContent,l,e),o=["children",""+l]):ni.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Pe("scroll",r)}switch(n){case"input":zi(r),Gp(r,a,!0);break;case"textarea":zi(r),Xp(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=rl)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[xn]=t,e[fi]=r,F0(e,t,!1,!1),t.stateNode=e;e:{switch(i=td(n,r),n){case"dialog":Pe("cancel",e),Pe("close",e),o=r;break;case"iframe":case"object":case"embed":Pe("load",e),o=r;break;case"video":case"audio":for(o=0;o<$a.length;o++)Pe($a[o],e);o=r;break;case"source":Pe("error",e),o=r;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),o=r;break;case"details":Pe("toggle",e),o=r;break;case"input":Kp(e,r),o=Gc(e,r),Pe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=je({},r,{value:void 0}),Pe("invalid",e);break;case"textarea":qp(e,r),o=Zc(e,r),Pe("invalid",e);break;default:o=r}ed(n,o),l=o;for(a in l)if(l.hasOwnProperty(a)){var s=l[a];a==="style"?gv(e,s):a==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&hv(e,s)):a==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&ri(e,s):typeof s=="number"&&ri(e,""+s):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ni.hasOwnProperty(a)?s!=null&&a==="onScroll"&&Pe("scroll",e):s!=null&&gf(e,a,s,i))}switch(n){case"input":zi(e),Gp(e,r,!1);break;case"textarea":zi(e),Xp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Or(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ao(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ao(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=rl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)j0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Qr(hi.current),Qr(On.current),ts(t)){if(r=t.stateNode,n=t.memoizedProps,r[xn]=t,(a=r.nodeValue!==n)&&(e=$t,e!==null))switch(e.tag){case 3:es(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&es(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=t,t.stateNode=r}return gt(t),null;case 13:if(Me(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Ft!==null&&t.mode&1&&!(t.flags&128))r0(),Go(),t.flags|=98560,a=!1;else if(a=ts(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(N(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(N(317));a[xn]=t}else Go(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gt(t),a=!1}else fn!==null&&(Ld(fn),fn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?et===0&&(et=3):Zf())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return Xo(),Dd(e,t),e===null&&ci(t.stateNode.containerInfo),gt(t),null;case 10:return Lf(t.type._context),gt(t),null;case 17:return Mt(t.type)&&ol(),gt(t),null;case 19:if(Me(Le),a=t.memoizedState,a===null)return gt(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)xa(a,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=dl(e),i!==null){for(t.flags|=128,xa(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Le,Le.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ye()>Jo&&(t.flags|=128,r=!0,xa(a,!1),t.lanes=4194304)}else{if(!r)if(e=dl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ne)return gt(t),null}else 2*Ye()-a.renderingStartTime>Jo&&n!==1073741824&&(t.flags|=128,r=!0,xa(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=Le.current,ke(Le,r?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return Xf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?It&1073741824&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function JC(e,t){switch(Mf(t),t.tag){case 1:return Mt(t.type)&&ol(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xo(),Me(Ot),Me(wt),Vf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jf(t),null;case 13:if(Me(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Go()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Le),null;case 4:return Xo(),null;case 10:return Lf(t.type._context),null;case 22:case 23:return Xf(),null;case 24:return null;default:return null}}var os=!1,yt=!1,eE=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ro(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(e,t,r)}else n.current=null}function kd(e,t,n){try{n()}catch(r){Ue(e,t,r)}}var Vh=!1;function tE(e,t){if(dd=el,e=Wv(),Pf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,s=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==n||o!==0&&d.nodeType!==3||(l=i+o),d!==a||r!==0&&d.nodeType!==3||(s=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===o&&(l=i),f===a&&++c===r&&(s=i),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(fd={focusedElem:e,selectionRange:n},el=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,h=t.stateNode,w=h.getSnapshotBeforeUpdate(t.elementType===t.type?g:cn(t.type,g),y);h.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(E){Ue(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return v=Vh,Vh=!1,v}function Xa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&kd(t,n,a)}o=o.next}while(o!==r)}}function eu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function V0(e){var t=e.alternate;t!==null&&(e.alternate=null,V0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xn],delete t[fi],delete t[md],delete t[FC],delete t[$C])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function U0(e){return e.tag===5||e.tag===3||e.tag===4}function Uh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||U0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Od(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rl));else if(r!==4&&(e=e.child,e!==null))for(Od(e,t,n),e=e.sibling;e!==null;)Od(e,t,n),e=e.sibling}function Md(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Md(e,t,n),e=e.sibling;e!==null;)Md(e,t,n),e=e.sibling}var ct=null,dn=!1;function lr(e,t,n){for(n=n.child;n!==null;)B0(e,t,n),n=n.sibling}function B0(e,t,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(zl,n)}catch{}switch(n.tag){case 5:yt||Ro(n,t);case 6:var r=ct,o=dn;ct=null,lr(e,t,n),ct=r,dn=o,ct!==null&&(dn?(e=ct,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(dn?(e=ct,n=n.stateNode,e.nodeType===8?Ju(e.parentNode,n):e.nodeType===1&&Ju(e,n),si(e)):Ju(ct,n.stateNode));break;case 4:r=ct,o=dn,ct=n.stateNode.containerInfo,dn=!0,lr(e,t,n),ct=r,dn=o;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&kd(n,t,i),o=o.next}while(o!==r)}lr(e,t,n);break;case 1:if(!yt&&(Ro(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ue(n,t,l)}lr(e,t,n);break;case 21:lr(e,t,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,lr(e,t,n),yt=r):lr(e,t,n);break;default:lr(e,t,n)}}function Bh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eE),t.forEach(function(r){var o=cE.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,dn=!1;break e;case 3:ct=l.stateNode.containerInfo,dn=!0;break e;case 4:ct=l.stateNode.containerInfo,dn=!0;break e}l=l.return}if(ct===null)throw Error(N(160));B0(a,i,o),ct=null,dn=!1;var s=o.alternate;s!==null&&(s.return=null),o.return=null}catch(u){Ue(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)H0(t,e),t=t.sibling}function H0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),vn(e),r&4){try{Xa(3,e,e.return),eu(3,e)}catch(g){Ue(e,e.return,g)}try{Xa(5,e,e.return)}catch(g){Ue(e,e.return,g)}}break;case 1:ln(t,e),vn(e),r&512&&n!==null&&Ro(n,n.return);break;case 5:if(ln(t,e),vn(e),r&512&&n!==null&&Ro(n,n.return),e.flags&32){var o=e.stateNode;try{ri(o,"")}catch(g){Ue(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&dv(o,a),td(l,i);var u=td(l,a);for(i=0;i<s.length;i+=2){var c=s[i],d=s[i+1];c==="style"?gv(o,d):c==="dangerouslySetInnerHTML"?hv(o,d):c==="children"?ri(o,d):gf(o,c,d,u)}switch(l){case"input":qc(o,a);break;case"textarea":fv(o,a);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ao(o,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ao(o,!!a.multiple,a.defaultValue,!0):Ao(o,!!a.multiple,a.multiple?[]:"",!1))}o[fi]=a}catch(g){Ue(e,e.return,g)}}break;case 6:if(ln(t,e),vn(e),r&4){if(e.stateNode===null)throw Error(N(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){Ue(e,e.return,g)}}break;case 3:if(ln(t,e),vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{si(t.containerInfo)}catch(g){Ue(e,e.return,g)}break;case 4:ln(t,e),vn(e);break;case 13:ln(t,e),vn(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Gf=Ye())),r&4&&Bh(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(yt=(u=yt)||c,ln(t,e),yt=u):ln(t,e),vn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(d=Y=c;Y!==null;){switch(f=Y,p=f.child,f.tag){case 0:case 11:case 14:case 15:Xa(4,f,f.return);break;case 1:Ro(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ue(r,n,g)}}break;case 5:Ro(f,f.return);break;case 22:if(f.memoizedState!==null){Wh(d);continue}}p!==null?(p.return=f,Y=p):Wh(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,s=d.memoizedProps.style,i=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=mv("display",i))}catch(g){Ue(e,e.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ue(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ln(t,e),vn(e),r&4&&Bh(e);break;case 21:break;default:ln(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(U0(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ri(o,""),r.flags&=-33);var a=Uh(e);Md(e,a,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Uh(e);Od(e,l,i);break;default:throw Error(N(161))}}catch(s){Ue(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nE(e,t,n){Y=e,W0(e)}function W0(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var o=Y,a=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||os;if(!i){var l=o.alternate,s=l!==null&&l.memoizedState!==null||yt;l=os;var u=yt;if(os=i,(yt=s)&&!u)for(Y=o;Y!==null;)i=Y,s=i.child,i.tag===22&&i.memoizedState!==null?Yh(o):s!==null?(s.return=i,Y=s):Yh(o);for(;a!==null;)Y=a,W0(a),a=a.sibling;Y=o,os=l,yt=u}Hh(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,Y=a):Hh(e)}}function Hh(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yt||eu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:cn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Dh(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Dh(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&si(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}yt||t.flags&512&&Pd(t)}catch(f){Ue(t,t.return,f)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Wh(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Yh(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(s){Ue(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(s){Ue(t,o,s)}}var a=t.return;try{Pd(t)}catch(s){Ue(t,a,s)}break;case 5:var i=t.return;try{Pd(t)}catch(s){Ue(t,i,s)}}}catch(s){Ue(t,t.return,s)}if(t===e){Y=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Y=l;break}Y=t.return}}var rE=Math.ceil,hl=ir.ReactCurrentDispatcher,Qf=ir.ReactCurrentOwner,tn=ir.ReactCurrentBatchConfig,me=0,st=null,Ge=null,pt=0,It=0,No=Fr(0),et=0,yi=null,oo=0,tu=0,Kf=0,Za=null,kt=null,Gf=0,Jo=1/0,Un=null,ml=!1,Rd=null,Tr=null,as=!1,yr=null,gl=0,Ja=0,Nd=null,Ms=-1,Rs=0;function _t(){return me&6?Ye():Ms!==-1?Ms:Ms=Ye()}function Dr(e){return e.mode&1?me&2&&pt!==0?pt&-pt:VC.transition!==null?(Rs===0&&(Rs=kv()),Rs):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Lv(e.type)),e):1}function hn(e,t,n,r){if(50<Ja)throw Ja=0,Nd=null,Error(N(185));Pi(e,n,r),(!(me&2)||e!==st)&&(e===st&&(!(me&2)&&(tu|=n),et===4&&hr(e,pt)),Rt(e,r),n===1&&me===0&&!(t.mode&1)&&(Jo=Ye()+500,Xl&&$r()))}function Rt(e,t){var n=e.callbackNode;V1(e,t);var r=Js(e,e===st?pt:0);if(r===0)n!==null&&eh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&eh(n),t===1)e.tag===0?jC(zh.bind(null,e)):e0(zh.bind(null,e)),LC(function(){!(me&6)&&$r()}),n=null;else{switch(Pv(r)){case 1:n=Cf;break;case 4:n=Tv;break;case 16:n=Zs;break;case 536870912:n=Dv;break;default:n=Zs}n=Z0(n,Y0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Y0(e,t){if(Ms=-1,Rs=0,me&6)throw Error(N(327));var n=e.callbackNode;if(Uo()&&e.callbackNode!==n)return null;var r=Js(e,e===st?pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=vl(e,r);else{t=r;var o=me;me|=2;var a=Q0();(st!==e||pt!==t)&&(Un=null,Jo=Ye()+500,qr(e,t));do try{iE();break}catch(l){z0(e,l)}while(!0);If(),hl.current=a,me=o,Ge!==null?t=0:(st=null,pt=0,t=et)}if(t!==0){if(t===2&&(o=id(e),o!==0&&(r=o,t=Id(e,o))),t===1)throw n=yi,qr(e,0),hr(e,r),Rt(e,Ye()),n;if(t===6)hr(e,r);else{if(o=e.current.alternate,!(r&30)&&!oE(o)&&(t=vl(e,r),t===2&&(a=id(e),a!==0&&(r=a,t=Id(e,a))),t===1))throw n=yi,qr(e,0),hr(e,r),Rt(e,Ye()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:Br(e,kt,Un);break;case 3:if(hr(e,r),(r&130023424)===r&&(t=Gf+500-Ye(),10<t)){if(Js(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){_t(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=hd(Br.bind(null,e,kt,Un),t);break}Br(e,kt,Un);break;case 4:if(hr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-pn(r);a=1<<i,i=t[i],i>o&&(o=i),r&=~a}if(r=o,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rE(r/1960))-r,10<r){e.timeoutHandle=hd(Br.bind(null,e,kt,Un),r);break}Br(e,kt,Un);break;case 5:Br(e,kt,Un);break;default:throw Error(N(329))}}}return Rt(e,Ye()),e.callbackNode===n?Y0.bind(null,e):null}function Id(e,t){var n=Za;return e.current.memoizedState.isDehydrated&&(qr(e,t).flags|=256),e=vl(e,t),e!==2&&(t=kt,kt=n,t!==null&&Ld(t)),e}function Ld(e){kt===null?kt=e:kt.push.apply(kt,e)}function oE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!mn(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hr(e,t){for(t&=~Kf,t&=~tu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pn(t),r=1<<n;e[n]=-1,t&=~r}}function zh(e){if(me&6)throw Error(N(327));Uo();var t=Js(e,0);if(!(t&1))return Rt(e,Ye()),null;var n=vl(e,t);if(e.tag!==0&&n===2){var r=id(e);r!==0&&(t=r,n=Id(e,r))}if(n===1)throw n=yi,qr(e,0),hr(e,t),Rt(e,Ye()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Br(e,kt,Un),Rt(e,Ye()),null}function qf(e,t){var n=me;me|=1;try{return e(t)}finally{me=n,me===0&&(Jo=Ye()+500,Xl&&$r())}}function ao(e){yr!==null&&yr.tag===0&&!(me&6)&&Uo();var t=me;me|=1;var n=tn.transition,r=_e;try{if(tn.transition=null,_e=1,e)return e()}finally{_e=r,tn.transition=n,me=t,!(me&6)&&$r()}}function Xf(){It=No.current,Me(No)}function qr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,IC(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Mf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ol();break;case 3:Xo(),Me(Ot),Me(wt),Vf();break;case 5:jf(r);break;case 4:Xo();break;case 13:Me(Le);break;case 19:Me(Le);break;case 10:Lf(r.type._context);break;case 22:case 23:Xf()}n=n.return}if(st=e,Ge=e=kr(e.current,null),pt=It=t,et=0,yi=null,Kf=tu=oo=0,kt=Za=null,zr!==null){for(t=0;t<zr.length;t++)if(n=zr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=o,r.next=i}n.pending=r}zr=null}return e}function z0(e,t){do{var n=Ge;try{if(If(),ks.current=pl,fl){for(var r=Fe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}fl=!1}if(ro=0,ot=Je=Fe=null,qa=!1,mi=0,Qf.current=null,n===null||n.return===null){et=1,yi=t,Ge=null;break}e:{var a=e,i=n.return,l=n,s=t;if(t=pt,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Nh(i);if(p!==null){p.flags&=-257,Ih(p,i,l,a,t),p.mode&1&&Rh(a,u,t),t=p,s=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(s),t.updateQueue=g}else v.add(s);break e}else{if(!(t&1)){Rh(a,u,t),Zf();break e}s=Error(N(426))}}else if(Ne&&l.mode&1){var y=Nh(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Ih(y,i,l,a,t),Rf(Zo(s,l));break e}}a=s=Zo(s,l),et!==4&&(et=2),Za===null?Za=[a]:Za.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=P0(a,s,t);Th(a,h);break e;case 1:l=s;var w=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Tr===null||!Tr.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var E=O0(a,l,t);Th(a,E);break e}}a=a.return}while(a!==null)}G0(n)}catch(x){t=x,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function Q0(){var e=hl.current;return hl.current=pl,e===null?pl:e}function Zf(){(et===0||et===3||et===2)&&(et=4),st===null||!(oo&268435455)&&!(tu&268435455)||hr(st,pt)}function vl(e,t){var n=me;me|=2;var r=Q0();(st!==e||pt!==t)&&(Un=null,qr(e,t));do try{aE();break}catch(o){z0(e,o)}while(!0);if(If(),me=n,hl.current=r,Ge!==null)throw Error(N(261));return st=null,pt=0,et}function aE(){for(;Ge!==null;)K0(Ge)}function iE(){for(;Ge!==null&&!M1();)K0(Ge)}function K0(e){var t=X0(e.alternate,e,It);e.memoizedProps=e.pendingProps,t===null?G0(e):Ge=t,Qf.current=null}function G0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=JC(n,t),n!==null){n.flags&=32767,Ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Ge=null;return}}else if(n=ZC(n,t,It),n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);et===0&&(et=5)}function Br(e,t,n){var r=_e,o=tn.transition;try{tn.transition=null,_e=1,sE(e,t,n,r)}finally{tn.transition=o,_e=r}return null}function sE(e,t,n,r){do Uo();while(yr!==null);if(me&6)throw Error(N(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(U1(e,a),e===st&&(Ge=st=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||as||(as=!0,Z0(Zs,function(){return Uo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=tn.transition,tn.transition=null;var i=_e;_e=1;var l=me;me|=4,Qf.current=null,tE(e,n),H0(n,e),DC(fd),el=!!dd,fd=dd=null,e.current=n,nE(n),R1(),me=l,_e=i,tn.transition=a}else e.current=n;if(as&&(as=!1,yr=e,gl=o),a=e.pendingLanes,a===0&&(Tr=null),L1(n.stateNode),Rt(e,Ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ml)throw ml=!1,e=Rd,Rd=null,e;return gl&1&&e.tag!==0&&Uo(),a=e.pendingLanes,a&1?e===Nd?Ja++:(Ja=0,Nd=e):Ja=0,$r(),null}function Uo(){if(yr!==null){var e=Pv(gl),t=tn.transition,n=_e;try{if(tn.transition=null,_e=16>e?16:e,yr===null)var r=!1;else{if(e=yr,yr=null,gl=0,me&6)throw Error(N(331));var o=me;for(me|=4,Y=e.current;Y!==null;){var a=Y,i=a.child;if(Y.flags&16){var l=a.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:Xa(8,c,a)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var f=c.sibling,p=c.return;if(V0(c),c===u){Y=null;break}if(f!==null){f.return=p,Y=f;break}Y=p}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Y=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,Y=i;else e:for(;Y!==null;){if(a=Y,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xa(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,Y=h;break e}Y=a.return}}var w=e.current;for(Y=w;Y!==null;){i=Y;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,Y=S;else e:for(i=w;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:eu(9,l)}}catch(x){Ue(l,l.return,x)}if(l===i){Y=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Y=E;break e}Y=l.return}}if(me=o,$r(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(zl,e)}catch{}r=!0}return r}finally{_e=n,tn.transition=t}}return!1}function Qh(e,t,n){t=Zo(n,t),t=P0(e,t,1),e=_r(e,t,1),t=_t(),e!==null&&(Pi(e,1,t),Rt(e,t))}function Ue(e,t,n){if(e.tag===3)Qh(e,e,n);else for(;t!==null;){if(t.tag===3){Qh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tr===null||!Tr.has(r))){e=Zo(n,e),e=O0(t,e,1),t=_r(t,e,1),e=_t(),t!==null&&(Pi(t,1,e),Rt(t,e));break}}t=t.return}}function lE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(pt&n)===n&&(et===4||et===3&&(pt&130023424)===pt&&500>Ye()-Gf?qr(e,0):Kf|=n),Rt(e,t)}function q0(e,t){t===0&&(e.mode&1?(t=Gi,Gi<<=1,!(Gi&130023424)&&(Gi=4194304)):t=1);var n=_t();e=tr(e,t),e!==null&&(Pi(e,t,n),Rt(e,n))}function uE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),q0(e,n)}function cE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),q0(e,n)}var X0;X0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)Pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pt=!1,XC(e,t,n);Pt=!!(e.flags&131072)}else Pt=!1,Ne&&t.flags&1048576&&t0(t,sl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Os(e,t),e=t.pendingProps;var o=Ko(t,wt.current);Vo(t,n),o=Bf(null,t,r,e,o,n);var a=Hf();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(r)?(a=!0,al(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ff(t),o.updater=Jl,t.stateNode=o,o._reactInternals=t,Cd(t,r,e,n),t=xd(null,t,r,!0,a,n)):(t.tag=0,Ne&&a&&Of(t),Ct(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Os(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=fE(r),e=cn(r,e),o){case 0:t=bd(null,t,r,e,n);break e;case 1:t=Fh(null,t,r,e,n);break e;case 11:t=Lh(null,t,r,e,n);break e;case 14:t=Ah(null,t,r,cn(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cn(r,o),bd(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cn(r,o),Fh(e,t,r,o,n);case 3:e:{if(I0(t),e===null)throw Error(N(387));r=t.pendingProps,a=t.memoizedState,o=a.element,s0(e,t),cl(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Zo(Error(N(423)),t),t=$h(e,t,r,n,o);break e}else if(r!==o){o=Zo(Error(N(424)),t),t=$h(e,t,r,n,o);break e}else for(Ft=xr(t.stateNode.containerInfo.firstChild),$t=t,Ne=!0,fn=null,n=a0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===o){t=nr(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 5:return l0(t),e===null&&yd(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,pd(r,o)?i=null:a!==null&&pd(r,a)&&(t.flags|=32),N0(e,t),Ct(e,t,i,n),t.child;case 6:return e===null&&yd(t),null;case 13:return L0(e,t,n);case 4:return $f(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qo(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cn(r,o),Lh(e,t,r,o,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,ke(ll,r._currentValue),r._currentValue=i,a!==null)if(mn(a.value,i)){if(a.children===o.children&&!Ot.current){t=nr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(a.tag===1){s=zn(-1,n&-n),s.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?s.next=s:(s.next=c.next,c.next=s),u.pending=s}}a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),wd(a.return,n,t),l.lanes|=n;break}s=s.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(N(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wd(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ct(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Vo(t,n),o=nn(o),r=r(o),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return r=t.type,o=cn(r,t.pendingProps),o=cn(r.type,o),Ah(e,t,r,o,n);case 15:return M0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cn(r,o),Os(e,t),t.tag=1,Mt(r)?(e=!0,al(t)):e=!1,Vo(t,n),k0(t,r,o),Cd(t,r,o,n),xd(null,t,r,!0,e,n);case 19:return A0(e,t,n);case 22:return R0(e,t,n)}throw Error(N(156,t.tag))};function Z0(e,t){return _v(e,t)}function dE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,r){return new dE(e,t,n,r)}function Jf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fE(e){if(typeof e=="function")return Jf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yf)return 11;if(e===wf)return 14}return 2}function kr(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ns(e,t,n,r,o,a){var i=2;if(r=e,typeof e=="function")Jf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case bo:return Xr(n.children,o,a,t);case vf:i=8,o|=8;break;case Yc:return e=en(12,n,t,o|2),e.elementType=Yc,e.lanes=a,e;case zc:return e=en(13,n,t,o),e.elementType=zc,e.lanes=a,e;case Qc:return e=en(19,n,t,o),e.elementType=Qc,e.lanes=a,e;case lv:return nu(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iv:i=10;break e;case sv:i=9;break e;case yf:i=11;break e;case wf:i=14;break e;case cr:i=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=en(i,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function Xr(e,t,n,r){return e=en(7,e,r,t),e.lanes=n,e}function nu(e,t,n,r){return e=en(22,e,r,t),e.elementType=lv,e.lanes=n,e.stateNode={isHidden:!1},e}function sc(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function lc(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pE(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bu(0),this.expirationTimes=Bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ep(e,t,n,r,o,a,i,l,s){return e=new pE(e,t,n,l,s),t===1?(t=1,a===!0&&(t|=8)):t=0,a=en(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ff(a),e}function hE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function J0(e){if(!e)return Mr;e=e._reactInternals;e:{if(ho(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Mt(n))return Jv(e,n,t)}return t}function ey(e,t,n,r,o,a,i,l,s){return e=ep(n,r,!0,e,o,a,i,l,s),e.context=J0(null),n=e.current,r=_t(),o=Dr(n),a=zn(r,o),a.callback=t??null,_r(n,a,o),e.current.lanes=o,Pi(e,o,r),Rt(e,r),e}function ru(e,t,n,r){var o=t.current,a=_t(),i=Dr(o);return n=J0(n),t.context===null?t.context=n:t.pendingContext=n,t=zn(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(o,t,i),e!==null&&(hn(e,o,i,a),Ds(e,o,i)),i}function yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tp(e,t){Kh(e,t),(e=e.alternate)&&Kh(e,t)}function mE(){return null}var ty=typeof reportError=="function"?reportError:function(e){console.error(e)};function np(e){this._internalRoot=e}ou.prototype.render=np.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));ru(e,t,null,null)};ou.prototype.unmount=np.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ao(function(){ru(null,e,null,null)}),t[er]=null}};function ou(e){this._internalRoot=e}ou.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pr.length&&t!==0&&t<pr[n].priority;n++);pr.splice(n,0,e),n===0&&Iv(e)}};function rp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gh(){}function gE(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var u=yl(i);a.call(u)}}var i=ey(t,r,e,0,null,!1,!1,"",Gh);return e._reactRootContainer=i,e[er]=i.current,ci(e.nodeType===8?e.parentNode:e),ao(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=yl(s);l.call(u)}}var s=ep(e,0,!1,null,null,!1,!1,"",Gh);return e._reactRootContainer=s,e[er]=s.current,ci(e.nodeType===8?e.parentNode:e),ao(function(){ru(t,s,n,r)}),s}function iu(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var l=o;o=function(){var s=yl(i);l.call(s)}}ru(t,i,e,o)}else i=gE(n,t,e,o,r);return yl(i)}Ov=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fa(t.pendingLanes);n!==0&&(Ef(t,n|1),Rt(t,Ye()),!(me&6)&&(Jo=Ye()+500,$r()))}break;case 13:ao(function(){var r=tr(e,1);if(r!==null){var o=_t();hn(r,e,1,o)}}),tp(e,1)}};bf=function(e){if(e.tag===13){var t=tr(e,134217728);if(t!==null){var n=_t();hn(t,e,134217728,n)}tp(e,134217728)}};Mv=function(e){if(e.tag===13){var t=Dr(e),n=tr(e,t);if(n!==null){var r=_t();hn(n,e,t,r)}tp(e,t)}};Rv=function(){return _e};Nv=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};rd=function(e,t,n){switch(t){case"input":if(qc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ql(r);if(!o)throw Error(N(90));cv(r),qc(r,o)}}}break;case"textarea":fv(e,n);break;case"select":t=n.value,t!=null&&Ao(e,!!n.multiple,t,!1)}};wv=qf;Sv=ao;var vE={usingClientEntryPoint:!1,Events:[Mi,Do,ql,vv,yv,qf]},_a={findFiberByHostInstance:Yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yE={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bv(e),e===null?null:e.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||mE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!is.isDisabled&&is.supportsFiber)try{zl=is.inject(yE),Pn=is}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vE;Ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rp(t))throw Error(N(200));return hE(e,t,null,n)};Ht.createRoot=function(e,t){if(!rp(e))throw Error(N(299));var n=!1,r="",o=ty;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ep(e,1,!1,null,null,n,!1,r,o),e[er]=t.current,ci(e.nodeType===8?e.parentNode:e),new np(t)};Ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=bv(t),e=e===null?null:e.stateNode,e};Ht.flushSync=function(e){return ao(e)};Ht.hydrate=function(e,t,n){if(!au(t))throw Error(N(200));return iu(null,e,t,!0,n)};Ht.hydrateRoot=function(e,t,n){if(!rp(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",i=ty;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=ey(t,null,e,1,n??null,o,!1,a,i),e[er]=t.current,ci(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ou(t)};Ht.render=function(e,t,n){if(!au(t))throw Error(N(200));return iu(null,e,t,!1,n)};Ht.unmountComponentAtNode=function(e){if(!au(e))throw Error(N(40));return e._reactRootContainer?(ao(function(){iu(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1};Ht.unstable_batchedUpdates=qf;Ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!au(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return iu(e,t,n,!1,r)};Ht.version="18.3.1-next-f1338f8080-20240426";function ny(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ny)}catch(e){console.error(e)}}ny(),nv.exports=Ht;var Ni=nv.exports;const wE=Di(Ni);var ry,qh=Ni;ry=qh.createRoot,qh.hydrateRoot;var Se=(e=>(e.MASK="mask",e.AMBIENT="ambient",e))(Se||{});const at={defaultAmbientPurgeDuration:4,defaultAmbientSampleDuration:5,defaultMaskPurgeDuration:4,defaultMaskSampleDuration:40};function SE(e){return typeof e=="string"?e:e.instructions??e.i??e.instructions??e.i??"oops no instructions?!"}function CE(e){return typeof e=="string"?at.defaultAmbientSampleDuration:e.ambient_sample??e.as??e.ambient_duration??e.a??at.defaultAmbientSampleDuration}function EE(e){return typeof e=="string"?at.defaultMaskSampleDuration:e.mask_sample??e.ms??e.sample_duration??e.s??at.defaultMaskSampleDuration}function bE(e){if(typeof e=="string")return at.defaultAmbientPurgeDuration;let t;return(t=e.ambient_purge)!==void 0||(t=e.ap)!==void 0||(t=e.purge_duration)!==void 0||(t=e.p)!==void 0?t:e.ambient_duration===0||e.a===0?0:at.defaultAmbientPurgeDuration}function xE(e){if(typeof e=="string")return at.defaultMaskPurgeDuration;let t;return(t=e.mask_purge)!==void 0||(t=e.mp)!==void 0||(t=e.purge_duration)!==void 0||(t=e.p)!==void 0?t:e.sample_duration===0||e.s===0?0:at.defaultMaskPurgeDuration}function _E(e){return e.some(t=>typeof t!="string")}function TE(e){const t={};return Object.entries(e).forEach(([n,r])=>{const o=[];t[n]=o,r.forEach(a=>{o.push({instructions:SE(a),ambient_sample:CE(a),mask_sample:EE(a),ambient_purge:bE(a),mask_purge:xE(a)})}),_E(r)||o.push({instructions:"Finalizing",ambient_purge:at.defaultAmbientPurgeDuration,ambient_sample:at.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0})}),t}var ae={},ea={};/**
 * @license MIT
 * doc-path <https://github.com/mrodrig/doc-path>
 * Copyright (c) 2015-present, Michael Rodrigues.
 */Object.defineProperty(ea,"__esModule",{value:!0});ea.setPath=ea.evaluatePath=void 0;function ja(e,t){if(!e)return null;const{dotIndex:n,key:r,remaining:o}=wl(t),a=typeof e=="object"&&t in e?e[t]:void 0,i=typeof e=="object"&&r in e?e[r]:void 0;if(n>=0&&typeof e=="object"&&!(t in e)){const{key:l}=wl(o),s=parseInt(l);return Array.isArray(i)&&isNaN(s)?i.map(u=>ja(u,o)):ja(i,o)}else if(Array.isArray(e)){const l=parseInt(r);return t===r&&n===-1&&!isNaN(l)?i:e.map(s=>ja(s,t))}else{if(n>=0&&t!==r&&typeof e=="object"&&r in e)return ja(i,o);if(n===-1&&typeof e=="object"&&r in e&&!(t in e))return i}return a}ea.evaluatePath=ja;function DE(e,t,n){if(e){if(!t)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return Va(e,t,n)}ea.setPath=DE;function Va(e,t,n){const{dotIndex:r,key:o,remaining:a}=wl(t);if(t.startsWith("__proto__")||t.startsWith("constructor")||t.startsWith("prototype"))return e;if(r>=0){const i=parseInt(o);if(typeof e=="object"&&e!==null&&!(o in e)&&Array.isArray(e)&&!isNaN(i))return e[o]=e[o]??{},Va(e[o],a,n),e;if(typeof e=="object"&&e!==null&&!(o in e)&&Array.isArray(e))return e.forEach(l=>Va(l,t,n)),e;if(typeof e=="object"&&e!==null&&!(o in e)&&!Array.isArray(e)){const{key:l}=wl(a),s=parseInt(l);if(!isNaN(s))e[o]=[];else{if(a==="")return e[t]=n,e;e[o]={}}}Va(e[o],a,n)}else if(Array.isArray(e)){const i=parseInt(o);return t===o&&r===-1&&!isNaN(i)?(e[o]=n,e):(e.forEach(l=>Va(l,a,n)),e)}else e[o]=n;return e}function wl(e){const t=kE(e);return{dotIndex:t,key:e.slice(0,t>=0?t:void 0).replace(/\\./g,"."),remaining:e.slice(t+1)}}function kE(e){for(let t=0;t<e.length;t++){const n=t>0?e[t-1]:"";if(e[t]==="."&&n!=="\\")return t}return-1}var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.excelBOM=Dn.defaultCsv2JsonOptions=Dn.defaultJson2CsvOptions=Dn.errors=void 0;Dn.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}};Dn.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1};Dn.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1};Dn.excelBOM="\uFEFF";Object.defineProperty(ae,"__esModule",{value:!0});ae.isInvalid=ae.flatten=ae.unique=ae.arrayDifference=ae.isError=ly=ae.isUndefined=iy=ae.isNull=ae.isObject=ae.isString=ae.isNumber=ae.unwind=ae.getNCharacters=ae.removeEmptyFields=ae.isEmptyField=ae.computeSchemaDifferences=ae.isDateRepresentation=ae.isStringRepresentation=Rr=ae.deepCopy=ae.validate=ae.buildC2JOptions=ae.buildJ2COptions=void 0;const uc=ea,wr=Dn,PE=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,cc=1e5;function OE(e){return{...wr.defaultJson2CsvOptions,...e,delimiter:{field:e?.delimiter?.field??wr.defaultJson2CsvOptions.delimiter.field,wrap:e?.delimiter?.wrap||wr.defaultJson2CsvOptions.delimiter.wrap,eol:e?.delimiter?.eol||wr.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:Object.create({})}}ae.buildJ2COptions=OE;function ME(e){return{...wr.defaultCsv2JsonOptions,...e,delimiter:{field:e?.delimiter?.field??wr.defaultCsv2JsonOptions.delimiter.field,wrap:e?.delimiter?.wrap||wr.defaultCsv2JsonOptions.delimiter.wrap,eol:e?.delimiter?.eol||wr.defaultCsv2JsonOptions.delimiter.eol}}}ae.buildC2JOptions=ME;function RE(e,t,n){if(!e)throw new Error(`${n.cannotCallOn} ${e}.`);if(!t(e))throw new Error(n.dataCheckFailure);return!0}ae.validate=RE;function Ad(e){return JSON.parse(JSON.stringify(e))}var Rr=ae.deepCopy=Ad;function NE(e,t){const n=e[0],r=e.length-1,o=e[r];return n===t.delimiter.wrap&&o===t.delimiter.wrap}ae.isStringRepresentation=NE;function IE(e){return PE.test(e)}ae.isDateRepresentation=IE;function LE(e,t){return Fd(e,t).concat(Fd(t,e))}ae.computeSchemaDifferences=LE;function oy(e){return sy(e)||ay(e)||e===""}ae.isEmptyField=oy;function AE(e){return e.filter(t=>!oy(t))}ae.removeEmptyFields=AE;function FE(e,t,n){return e.substring(t,t+n)}ae.getNCharacters=FE;function $E(e,t,n){const r=(0,uc.evaluatePath)(t,n);let o=Ad(t);Array.isArray(r)&&r.length?r.forEach(a=>{o=Ad(t),e.push((0,uc.setPath)(o,n,a))}):(Array.isArray(r)&&r.length===0&&(0,uc.setPath)(o,n,""),e.push(o))}function jE(e,t){const n=[];return e.forEach(r=>{$E(n,r,t)}),n}ae.unwind=jE;function VE(e){return!isNaN(Number(e))}ae.isNumber=VE;function UE(e){return typeof e=="string"}ae.isString=UE;function BE(e){return typeof e=="object"}ae.isObject=BE;function ay(e){return e===null}var iy=ae.isNull=ay;function sy(e){return typeof e>"u"}var ly=ae.isUndefined=sy;function HE(e){return Object.prototype.toString.call(e)==="[object Error]"}ae.isError=HE;function Fd(e,t){return e.filter(n=>!t.includes(n))}ae.arrayDifference=Fd;function WE(e){return[...new Set(e)]}ae.unique=WE;function YE(e){if(e.flat)return e.flat();if(e.length>cc){let t=[];for(let n=0;n<e.length;n+=cc)t=t.concat(...e.slice(n,n+cc));return t}return e.reduce((t,n)=>t.concat(n),[])}ae.flatten=YE;function zE(e){return e===1/0||e===-1/0}ae.isInvalid=zE;var ft=(e=>(e.DISCONNECTED="Disconnected",e.WAITING="Waiting for PortaCount",e.RECEIVING="Receiving data",e))(ft||{});function Be(e,t=!1,n=!0){const r=Math.abs(e),o=Math.round(r%1e3),a=Math.floor(r/1e3),i=a%60,l=Math.floor(a/60),s=l%60,u=Math.floor(l/60),c=n?`:${i.toString().padStart(2,"0")}`:"",d=t&&n&&o>0?`.${o.toString().padStart(3,"0")}`:"",f=u||!n;return`${e<0?"-":""}${f?`${u}:`:""}${s.toString().padStart(f?2:1,"0")}${c}${d}`}function QE(e,t=!1){return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}${t?`:${e.getSeconds().toString().padStart(2,"0")}`:""}`}function KI(e){const t=100*(1-1/e);return Number(t).toFixed(t<99?0:3)}function KE(e){switch(e){case ft.DISCONNECTED:return"connection-status status-disconnected";case ft.WAITING:return"connection-status status-waiting";case ft.RECEIVING:return"connection-status status-receiving";default:return"connection-status"}}function GI(e,t){return t?isNaN(e)||e<=0?"result aborted":e>=100?"result high-fit-score":e>20?"result moderate-fit-score":"result low-fit-score":"result"}function GE(e,t=0,n=-1){return e.slice(t,n).reduce((r,o)=>r+o,0)}function qE(...e){return uy(e)}function uy(e,t=0,n=-1){return n<0&&(n=e.length),GE(e,t,n)/(n-t)}function su(e){return isNaN(e)||ly(e)||iy(e)?"?":e<1?e.toFixed(2):e<10?e.toFixed(1):e.toFixed(0)}function dc(e){if(e.length===0)return 0;const t=e.toSorted();if(t.length%2===0){const n=t.length/2;return(t[n-1]+t[n])/2}else{const n=Math.floor(t.length/2);return t[n]}}const io=Intl.Collator("en",{sensitivity:"base"}),Xh=new TextDecoder("utf-8");async function*cy(e){async function t(){const l=await e.read();return!l.done&&l.value,l}let{value:n,done:r}=await t(),o=n?Xh.decode(n,{stream:!0}):"";const a=/\r\n|\n|\r/gm;let i=0;for(;;){const l=a.exec(o);if(!l){if(r)break;const u=o.substring(i);({value:n,done:r}=await t()),o=u+(n?Xh.decode(n,{stream:!0}):""),i=a.lastIndex=0;continue}yield o.substring(i,l.index),i=a.lastIndex}i<o.length&&(yield o.substring(i))}function Zh(e){return new ReadableStream({start(t){n().catch(r=>t.error(r));async function n(){return e.dataRequest().then(r=>r.length===0?(wi("No data from source: closing"),t.close(),new Uint8Array):(t.enqueue(r),n()))}},cancel(){wi("cancel() called on underlying source"),e.close()}})}class dy{_closed=!1;close(){this.closeImpl(),this._closed=!0}set closed(t){this._closed=t}get closed(){return this._closed}}class mr extends dy{static NO_MORE_DATA=new Promise(t=>t(new Uint8Array));static DEFAULT_BYTES_PER_SECOND=1200;static encoder=new TextEncoder;reader;linesSource;nextLine;lastLineTimestamp=0;buffer=new Uint8Array;bufferIndex=0;fileOrUrl;rateBytesPerSecond;lastRequestTime=0;constructor(t,n=mr.DEFAULT_BYTES_PER_SECOND){super(),this.fileOrUrl=t,this.rateBytesPerSecond=Math.max(n,1)}async dataRequest(){if(this.reader===void 0){if(typeof this.fileOrUrl=="string"?this.reader=await fetch(this.fileOrUrl).then(s=>{if(s.ok)return s.body?.getReader();throw new Error(`Failed to file: ${s.status}`)}):this.reader=this.fileOrUrl.stream().getReader(),!this.reader)return mr.NO_MORE_DATA;console.debug("simulator(file) started")}this.linesSource||(this.linesSource=cy(this.reader));let t=0;if(this.bufferIndex>=this.buffer.length){if(!this.nextLine){const c=await this.linesSource.next();if(c.done)return mr.NO_MORE_DATA;this.nextLine=c.value}const u=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)\s*(?<rest>.+)$/i.exec(this.nextLine);if(u&&u.groups){const{timestamp:c,rest:d}=u.groups,f=Date.parse(c);t=this.lastLineTimestamp?f-this.lastLineTimestamp:0,this.lastLineTimestamp=f,this.buffer=mr.encoder.encode(d+`\r
`)}else this.buffer=mr.encoder.encode(this.nextLine+`\r
`);this.bufferIndex=0,this.nextLine=void 0}let n=Date.now(),r=t;n===this.lastRequestTime&&(r+=50,n+=r,r>50&&console.debug(`simulator: next data chunk available ${Be(r)}`));const o=n-(this.lastRequestTime||n-1e3);this.lastRequestTime=n;const a=Math.ceil(o*this.rateBytesPerSecond/1e3),i=this.bufferIndex+(this.bufferIndex+a<this.buffer.length?a:this.buffer.length),l=this.buffer?.slice(this.bufferIndex,i);return this.bufferIndex+=l.length,new Promise(s=>{r?setTimeout(()=>{s(l)},r):s(l)})}closeImpl(){}}function wi(e){console.log(`source: ${e}`)}const At=new class{_synth;speechEnabled=!1;_allVoices=[];selectedVoice=null;speechRate=1;constructor(){}ensureSynthInitialized(){this._synth||(this._synth=this.initSynth())}initSynth(){const e=window.speechSynthesis;return this.updateVoiceList(e.getVoices()),e.onvoiceschanged=()=>{this.updateVoiceList(e.getVoices())},e}get synth(){return this.ensureSynthInitialized(),this._synth}updateVoiceList(e){this._allVoices=e.filter(t=>t.lang.startsWith("en")).sort((t,n)=>`${t.lang} ${t.name}`.localeCompare(`${n.lang} ${n.name}`))}setSelectedVoice(e){this.selectedVoice=e}getSelectedVoice(){return this.selectedVoice}get allVoices(){return this.ensureSynthInitialized(),this._allVoices}setSpeechEnabled(e){this.speechEnabled=e}isSayingSomething(){return this.synth.speaking}sayItLater(e){if(!this.speechEnabled)return;console.log(`say it later: ${e}`);const t=new SpeechSynthesisUtterance(e);t.voice=this.selectedVoice,t.rate=this.speechRate,this.synth.speak(t)}sayIt(e){if(!this.speechEnabled)return;console.log(`using ${this.selectedVoice?.name} say it ${e}`);const t=new SpeechSynthesisUtterance(e);t.voice=this.selectedVoice,t.rate=this.speechRate,this.synth.speaking?(this.synth.cancel(),setTimeout(()=>this.synth.speak(t),60)):this.synth.speak(t)}sayItPolitely(e){if(this.isSayingSomething()){console.log(`say it politely yielding. ${e}`);return}this.sayIt(e)}};var fe=(e=>(e.External="External",e.Internal="Internal",e.Manual="Manual",e))(fe||{});class Vn{static PARTICLE_COUNT=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)?\s*(?<concentration>\d+\.\d+)\s*/;static SAMPLING_FROM_MASK=/^VF$/;static SAMPLING_FROM_AMBIENT=/^VN$/;static DATA_TRANSMISSION_DISABLED=/^ZD$/;static DATA_TRANSMISSION_ENABLED=/^ZE$/;static EXTERNAL_CONTROL=/^(OK|EJ)$/;static INTERNAL_CONTROL=/^G$/;static TURN_POWER_OFF=/^Y$/;static N95_COMPANION_PATTERN=/^Q(?<connected>[YN])/i;static SETTINGS_PATTERN=/^S.+$/}class de{static INVOKE_EXTERNAL_CONTROL="J";static RELEASE_FROM_EXTERNAL_CONTROL="G";static TEST_TO_SEE_N95_COMPANION_IS_ATTACHED="Q";static SWITCH_VALVE_ON="VN";static SWITCH_VALVE_OFF="VF";static DISABLE_CONTINUOUS_DATA_TRANSMISSION="ZD";static ENABLE_CONTINUOUS_DATA_TRANSMISSION="ZE";static REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE="R";static REQUEST_VOLTAGE_INFO="C";static REQUEST_SETTINGS="S";static TURN_POWER_OFF="Y";static SET_MASK_SAMPLE_TIME="PTMxxvv";static SET_AMBIENT_SAMPLE_TIME="PTA00vv";static SET_MASK_SAMPLE_PURGE_TIME="PTPM0vv";static SET_AMBIENT_SAMPLE_PURGE_TIME="PTPA0vv";static SET_FIT_FACTOR_PASS_LEVEL="PPxxvvvvv";static DISPLAY_CONCENTRATION_ON_PORTACOUNT_PLUS="Dxxxxxx.xx";static DISPLAY_FIT_FACTOR_PASS_LEVEL_ON_PORTACOUNT_PLUS="Lxxxxxx";static DISPLAY_FIT_FACTOR_ON_PORTACOUNT_PLUS="Fxxxxxx.x";static DISPLAY_OVERALL_FIT_FACTOR_ON_PORTACOUNT_PLUS="Axxxxxx.x";static DISPLAY_EXERCISE_NUMBER_ON_PORTACOUNT_PLUS="Ixxxxxxxx";static CLEAR_DISPLAY_ON_PORTACOUNT_PLUS="K";static SOUND_BEEPER_INSIDE_THE_PORTACOUNT_PLUS="Bxx";static expectedCommandResponses=new Map([[de.INVOKE_EXTERNAL_CONTROL,Vn.EXTERNAL_CONTROL]]);writer=null;encoder=new TextEncoder;verifiedToBeExternallyControllable=!1;portaCountClient;commandChain;constructor(t){this.portaCountClient=t}setWriter(t){this.writer=t}sendCommand(t,n=1){const r=`${t}\r`,o=de.expectedCommandResponses.get(t)||RegExp(`^${t}`),a=this.encoder.encode(r);if(this.writer){const i=()=>new Promise((l,s)=>{let u=!1,c=n,d;const f=()=>{clearTimeout(d),this.portaCountClient.removeListener(p)},p={lineReceived:h=>{(o?o.exec(h):t===h)&&(u=!0,f(),l(),console.debug(`received expected response to command '${t}'`))}},v=()=>{console.debug(`sending command '${t}', expecting '${o}' in response, retries remaining ${c}`),this.writer.write(a)},g=()=>{d=setTimeout(y,3e3)},y=()=>{if(u){console.debug(`retry handler triggered but we've already received the expected response for command '${t}'`);return}c>0?(console.debug(`retrying command '${t}'`),c--,v(),g()):(o?s(`too many retries, giving up on command '${t}'`):(console.debug(`no explicit expected response for command '${t}', but also didn't receive any other recognized response`),l()),f())};this.portaCountClient.addListener(p),v(),c>0&&g()});this.commandChain?(console.debug(`chaining command ${t}`),this.commandChain=this.commandChain.then(i).catch(()=>{})):this.commandChain=i()}else console.log("writer not available")}set controlSource(t){t===fe.Internal?this.releaseManualControl():(this.assumeManualControl(),this.verifiedToBeExternallyControllable||this.verifyExternalControllability())}set sampleSource(t){t===Se.AMBIENT?this.sampleAmbient():this.sampleMask()}assumeManualControl(){this.sendCommand(de.INVOKE_EXTERNAL_CONTROL)}releaseManualControl(){this.sendCommand(de.RELEASE_FROM_EXTERNAL_CONTROL)}enableDataTransmission(){this.sendCommand(de.ENABLE_CONTINUOUS_DATA_TRANSMISSION)}disableDataTransmission(){this.sendCommand(de.DISABLE_CONTINUOUS_DATA_TRANSMISSION)}sampleAmbient(){this.sendCommand(de.SWITCH_VALVE_ON)}sampleMask(){this.sendCommand(de.SWITCH_VALVE_OFF)}requestSettings(){this.sendCommand(de.REQUEST_SETTINGS)}requestRuntimeStatus(){this.sendCommand(de.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE)}powerOff(){this.sendCommand(de.TURN_POWER_OFF),At.sayItLater("Power off")}beep(t=2){this.sendCommand(`B${String(t).padStart(2,"0")}`)}verifyExternalControllability(){let t=0;const n={lineReceived(){t=Date.now()}};this.portaCountClient.addListener(n),this.beep(),this.beep(),setTimeout(()=>{this.portaCountClient.removeListener(n),Date.now()-t>3e3?console.log("Could not verify that we can externally control the device"):this.verifiedToBeExternallyControllable=!0},5e3)}}var rt=(e=>(e.Idle="Idle",e.Testing="Testing",e.Counting="Counting",e.Disconnected="Disconnected",e))(rt||{});const nt=class{static PORTACOUNT_VERSION=/^PORTACOUNT\s+PLUS\S+PROM\S+(?<version>.+)/i;static COPYRIGHT=/^COPYRIGHT.+/i;static LICENSE=/^ALL\s+RIGHTS\s+RESERVED/i;static SERIAL_NUMBER=/^Serial\s+Number\s+(?<serialNumber>\d+)/i;static PASS_LEVEL=/^FF\s+pass\s+level\s+(?<passLevel>\d+)/i;static NUM_EXERCISES=/^No\.\s+of\s+exers\s*=\s*(?<num_exercises>\d+)/i;static AMBIENT_PURGE=/^Ambt\s+purge\s*=\s*(?<ambientPurgeTime>\d+)/i;static AMBIENT_SAMPLE=/^Ambt\s+sample\s*=\s*(?<ambientSampleTime>\d+)/i;static MASK_PURGE=/^Mask\s+purge\s*=\s*(?<maskPurgeTime>\d+)/i;static MASK_SAMPLE=/^Mask\s+sample\s+(?<exerciseNumber>\d+)\s*=\s*(?<maskSampleTime>\d+)/i;static DIP_SWITCH=/^DIP\s+switch\s+=\s+(?<dipSwitchBits>\d+)/i;static COUNT_READING=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)?\s*Conc\.\s+(?<concentration>[\d.]+)/i;static NEW_TEST=/^NEW\s+TEST\s+PASS\s*=\s*(?<passLevel>\d+)/i;static AMBIENT_READING=/^Ambient\s+(?<concentration>[\d.]+)/i;static MASK_READING=/^Mask\s+(?<concentration>[\d+.]+)/i;static FIT_FACTOR=/^FF\s+(?<exerciseNumber>\d+)\s+(?<fitFactor>[\d.]+)\s+(?<result>.+)/;static TEST_TERMINATED=/^Test\s+Terminated/i;static OVERALL_FIT_FACTOR=/^Overall\s+FF\s+(?<fitFactor>[\d.]+)\s+(?<result>.+)/i;static LOW_PARTICLE_COUNT=/^(?<concentration>\d+)\/cc\s+Low\s+Particle\s+Count/i;static BATTERY_AND_PULSE_STATUS=/^R(?<battery>.)(?<pulse>.)$/;static VOLTAGE_INFO=/^(?<component>C[SBTCLPD])(?<value>.+)$/;static Setting=class{static Timing=class{static AMBIENT_PURGE=/^STPA\s+(?<duration>\d+)/i;static MASK_PURGE=/^STPM\s+(?<duration>\d+)/i;static AMBIENT_SAMPLE=/^STA\s+(?<duration>\d+)/i;static MASK_SAMPLE=/^STM(?<exercise_num>\d\d)(?<duration>\d+)/i};static FF_PASS_LEVEL=/^SP\s+(?<index>\d\d)(?<score>\d+)/i;static SERIAL_NUMBER=/^SS\s+(?<serial_number>\d+)/i;static RUN_TIME_SINCE_FACTORY_SERVICE=/^SR\s+(?<runtime>\d+)/i;static LAST_SERVICE_DATE=/^SD\s+0(?<month>\d\d)(?<year>\d\d)/i}};class Yt{_timestamp;constructor(){this._timestamp=Date.now()}get timestamp(){return this._timestamp}asOf(t){return this._timestamp=t,this}}class Jh extends Yt{line;constructor(t){super(),this.line=t}}class fc extends Yt{sampleSource;constructor(t){super(),this.sampleSource=t}}class pc extends Yt{dataTransmissionState;constructor(t){super(),this.dataTransmissionState=t}}class hc extends Yt{source;constructor(t){super(),this.source=t}}class em extends Yt{constructor(){super()}}class Io extends Yt{sampleSource;controlSource;concentration;constructor(t,n,r){super(),this.concentration=t,this.sampleSource=n,this.controlSource=r}}class mc extends Yt{ff;exerciseNum;result;constructor(t,n,r){super(),this.ff=t,this.exerciseNum=n,this.result=r}}class tm extends Yt{constructor(){super()}}class nm extends Yt{constructor(){super()}}class ss extends Yt{connectionStatus;constructor(t){super(),this.connectionStatus=t}}class rm extends Yt{activity;constructor(t){super(),this.activity=t}}class un extends Yt{settings;constructor(t){super(),this.settings=t}}class gc extends Yt{state;constructor(t){super(),this.state=t}}class XE{numExercises=4;ambientPurge=0;maskPurge=0;ambientSample=0;maskSample=new Map;fitFactorPassLevel=new Map;serialNumber="?";runTimeSinceFactoryServiceSeconds=0;lastServiceDate=new Date(0)}class fy{_connectionStatus=ft.DISCONNECTED;_controlSource=fe.Internal;_sampleSource=Se.MASK;_dataTransmissionState="Transmitting";_batteryStatus="?";_pulseStatus="?";_componentVoltages=new Map;_lastLine="";_activity=rt.Disconnected;get componentVoltages(){return this._componentVoltages}get batteryStatus(){return this._batteryStatus}set batteryStatus(t){this._batteryStatus=t}get pulseStatus(){return this._pulseStatus}set pulseStatus(t){this._pulseStatus=t}get connectionStatus(){return this._connectionStatus}set connectionStatus(t){this._connectionStatus=t}get controlSource(){return this._controlSource}set controlSource(t){this._controlSource=t}get sampleSource(){return this._sampleSource}set sampleSource(t){this._sampleSource=t}get dataTransmissionState(){return this._dataTransmissionState}set dataTransmissionState(t){this._dataTransmissionState=t}get activity(){return this._activity}set activity(t){this._activity=t}get lastLine(){return this._lastLine}set lastLine(t){this._lastLine=t}}class ZE{_externalController;listeners=[];_state=new fy;_settings=new XE;_baudRate=1200;_syncOnConnect=!1;constructor(){console.log("PortaCountClient8020 constructor called"),this._externalController=new de(this),this.addListener(this.stateUpdatingListener)}get baudRate(){return this._baudRate}set baudRate(t){this._baudRate=t}get syncOnConnect(){return this._syncOnConnect}set syncOnConnect(t){this._syncOnConnect=t}get externalController(){return this._externalController}get settings(){return this._settings}get state(){return this._state}setActivity(t){this.state.activity=t,this.dispatch(new rm(t))}stateUpdatingListener={connectionStatusChanged:t=>{this.state.connectionStatus=t},controlSourceChanged:t=>{this.state.controlSource=t},sampleSourceChanged:t=>{this.state.sampleSource=t},dataTransmissionStateChanged:t=>{this.state.dataTransmissionState=t},lineReceived:t=>{this.state.lastLine=t}};async monitor(t){this.dispatch(new ss(ft.WAITING));for await(const n of cy(t))this.state.connectionStatus===ft.WAITING&&this.dispatch(new ss(ft.RECEIVING)),n.trim().length>0&&(this.dispatch(new Jh(n)),this.processLine(n));this.setActivity(rt.Disconnected),this.dispatch(new ss(ft.DISCONNECTED)),console.log("monitor reached end of reader")}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,o)=>n===t?(o.splice(r,1),!0):!1)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case rm.name:{n.activityChanged&&n.activityChanged(t.activity);break}case Io.name:{n.particleConcentrationReceived&&n.particleConcentrationReceived(t);break}case tm.name:{this.setActivity(rt.Idle),n.testTerminated&&n.testTerminated();break}case nm.name:{this.setActivity(rt.Idle),n.testCompleted&&n.testCompleted();break}case mc.name:{n.fitFactorResultsReceived&&n.fitFactorResultsReceived(t);break}case em.name:{n.testStarted&&n.testStarted(t.timestamp);break}case hc.name:{n.controlSourceChanged&&n.controlSourceChanged(t.source);break}case pc.name:{n.dataTransmissionStateChanged&&n.dataTransmissionStateChanged(t.dataTransmissionState);break}case Jh.name:{n.lineReceived&&n.lineReceived(t.line);break}case fc.name:{n.sampleSourceChanged&&n.sampleSourceChanged(t.sampleSource);break}case ss.name:{if(n.connectionStatusChanged){const r=t;n.connectionStatusChanged(r.connectionStatus)}break}case gc.name:{n.stateChanged&&n.stateChanged(t.state);break}case un.name:{n.settingsChanged&&n.settingsChanged(t.settings);break}default:console.error(`unsupported event: ${JSON.stringify(t)}`)}})}processConcentration(t,n){this.state.activity!==rt.Testing&&this.setActivity(rt.Counting);const r=Number(t.concentration),o=this.state.sampleSource,a=new Io(r,o,n),i=t.timestamp;i&&a.asOf(Date.parse(i)),this.dispatch(a)}orderedLineProcessors=[[Vn.PARTICLE_COUNT,t=>{this.processConcentration(t,fe.External)}],[nt.COUNT_READING,t=>{this.processConcentration(t,fe.Internal)}],[nt.AMBIENT_READING,t=>{const n=t.concentration;n&&this.dispatch(new Io(Number(n),Se.AMBIENT,fe.Internal))}],[nt.MASK_READING,t=>{const n=t.concentration;n&&this.dispatch(new Io(Number(n),Se.MASK,fe.Internal))}],[nt.FIT_FACTOR,t=>{this.setActivity(rt.Testing);const n=Number(t.fitFactor),r=Number(t.exerciseNumber),o=t.result;this.dispatch(new mc(n,r,o)),this._settings.numExercises<r&&(this._settings.numExercises=r,this.dispatch(new un(this._settings)))}],[nt.NEW_TEST,()=>{this.setActivity(rt.Testing),this.dispatch(new em)}],[nt.TEST_TERMINATED,()=>{this.setActivity(rt.Idle),this.dispatch(new tm)}],[nt.OVERALL_FIT_FACTOR,t=>{this.setActivity(rt.Idle);const n=Number(t.fitFactor),r=t.result;this.dispatch(new mc(n,"Final",r)),this.dispatch(new nm)}],[Vn.SAMPLING_FROM_MASK,()=>{this.dispatch(new fc(Se.MASK))}],[Vn.SAMPLING_FROM_AMBIENT,()=>{this.dispatch(new fc(Se.AMBIENT))}],[Vn.EXTERNAL_CONTROL,()=>{this.dispatch(new hc(fe.External))}],[Vn.INTERNAL_CONTROL,()=>{this.dispatch(new hc(fe.Internal))}],[Vn.DATA_TRANSMISSION_DISABLED,()=>{this.dispatch(new pc("Paused"))}],[Vn.DATA_TRANSMISSION_ENABLED,()=>{this.dispatch(new pc("Transmitting"))}],[nt.Setting.FF_PASS_LEVEL,t=>{this._settings.fitFactorPassLevel.set(Number(t.index),Number(t.score)),this.dispatch(new un(this._settings))}],[nt.Setting.Timing.MASK_SAMPLE,t=>{this._settings.maskSample.set(Number(t.exercise_num),Number(t.duration)),this.dispatch(new un(this._settings))}],[nt.VOLTAGE_INFO,t=>{this._state.componentVoltages.set(t.component,Number(t.value)),this.dispatch(new gc(this._state))}],[nt.Setting.Timing.MASK_PURGE,t=>{this._settings.maskPurge=Number(t.duration),this.dispatch(new un(this._settings))}],[nt.Setting.Timing.AMBIENT_SAMPLE,t=>{this._settings.ambientSample=Number(t.duration),this.dispatch(new un(this._settings))}],[nt.Setting.Timing.AMBIENT_PURGE,t=>{this._settings.ambientPurge=Number(t.duration),this.dispatch(new un(this._settings))}],[nt.BATTERY_AND_PULSE_STATUS,t=>{this._state.batteryStatus=t.battery==="G"?"Good":"Bad",this._state.pulseStatus=t.pulse==="G"?"Good":"Bad",this.dispatch(new gc(this._state))}],[nt.Setting.SERIAL_NUMBER,t=>{this._settings.serialNumber=t.serial_number,this.dispatch(new un(this._settings))}],[nt.Setting.LAST_SERVICE_DATE,t=>{const n=Number(t.month)-1,r=Number(t.year),o=r+(r<61?2e3:1900);this._settings.lastServiceDate=new Date(o,n),this.dispatch(new un(this._settings))}],[nt.Setting.RUN_TIME_SINCE_FACTORY_SERVICE,t=>{this._settings.runTimeSinceFactoryServiceSeconds=10*60*Number(t.runtime),this.dispatch(new un(this._settings))}],[nt.NUM_EXERCISES,t=>{this._settings.numExercises=Number(t.num_exercises),this.dispatch(new un(this._settings))}]];processLine(t){if(t.length===0)return;const n=t;this.orderedLineProcessors.reduce((o,[a,i])=>{if(!o){const l=a.exec(n);if(l)return l.groups?i(l.groups):i({}),!0}return o},!1)||(n.match(/^E/)?console.warn(`error: ${n}`):n.match(/^W/)?console.warn(`write protected: ${n}`):console.warn(`portacount client: no parser for line: ${n}`))}connect(t){console.debug(`portacount client connect(${JSON.stringify(t)})`),t.connected&&t.readable?(console.debug("portacount client connect, connected; setting up reader and writer"),t.readable&&this.monitor(t.readable.getReader()),t.writable&&(this.externalController.setWriter(t.writable.getWriter()),this.syncOnConnect&&(console.debug("sync on connect"),this.waitUntilPortaCountIsReady().then(()=>{this.syncState()}).catch(n=>{console.warn(n)})))):(console.debug("portacount client connect not connected, attempting to connect..."),t.open({baudRate:Number(this.baudRate)}).then(()=>{console.log(`port opened: ${JSON.stringify(t.getInfo())}`),this.connect(t)}))}async waitUntilPortaCountIsReady(){return new Promise((t,n)=>{const r=Date.now(),o=setInterval(()=>{const l=Date.now()-r;console.debug(`elapsed ${l}`),l>65e3?(clearInterval(o),n(`waited too long for PortaCount to become ready. Elapsed ${Be(l)}.`)):this.externalController.sendCommand(de.INVOKE_EXTERNAL_CONTROL,0)},1e3),a=()=>{this.removeListener(i),clearInterval(o),console.debug("PortaCount is ready."),t()},i={controlSourceChanged:l=>{l===fe.External&&a()},lineReceived:l=>{Vn.N95_COMPANION_PATTERN.exec(l)&&a()}};this.addListener(i)})}syncState(){this.externalController.enableDataTransmission(),this.externalController.requestRuntimeStatus(),this.externalController.requestSettings(),this.externalController.sendCommand(de.REQUEST_VOLTAGE_INFO),this.externalController.beep(1),this.externalController.beep(1),this.externalController.beep(1)}}var Kr=(e=>(e.SAMPLE="sample",e.PURGE="purge",e.IDLE="idle",e))(Kr||{});class Ii{}class om extends Ii{newSegment;constructor(t){super(),this.newSegment=t}}class am extends Ii{segment;constructor(t){super(),this.segment=t}}class im extends Ii{}class sm extends Ii{}class lm extends Ii{}class JE{MILLIS_PER_SECOND=1e3;_portaCountClient;controller;listeners=[];_timerId;_segments=[];_currentSegment;_lastAmbientSegment;dataCollector;_protocolStartTime=null;constructor(t,n){this._portaCountClient=t,this.dataCollector=n,this.controller=t.externalController,this._portaCountClient.addListener(this.getPortaCountListener())}getPortaCountListener(){return{controlSourceChanged:n=>{n===fe.Internal&&this.cancel()},particleConcentrationReceived:n=>{if(n.controlSource!==fe.Internal&&this.protocolStartTime){if(!this.currentSegment){console.warn("protocol executor test is in progress but no current segment (shouldn't happen).");return}if(this.currentSegment.source!==n.sampleSource){console.debug(`segment expecting data to be from source ${this.currentSegment.source} but received data from ${n.sampleSource}. ignoring.`);return}this.currentSegment.data.length===0&&this.startSegment(this.currentSegment),this.currentSegment.data.push(n),this.dispatch(new am(this.currentSegment))}}}}startSegment(t){console.log(`starting segment ${JSON.stringify(t)}`),this.startTimer(()=>{this.closeSegment(t),this.executeSegment(t.index+1)},t.duration)}get segments(){return this._segments}set segments(t){this._segments=Rr(t)}get protocolStartTime(){return this._protocolStartTime}set protocolStartTime(t){this._protocolStartTime=t}get lastAmbientSegment(){return this._lastAmbientSegment}set lastAmbientSegment(t){this._lastAmbientSegment=t}get currentSegment(){return this._currentSegment}set currentSegment(t){t&&(t.segmentStartTimeMs=Date.now()),this._currentSegment=t,this.dispatch(new om(t))}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,o)=>n===t?(o.splice(r,1),!0):!1)}startTimer(t,n){this._timerId=setTimeout(t,n*this.MILLIS_PER_SECOND)}stopTimer(){clearTimeout(this._timerId),this._timerId=void 0}protocolIsExecuting(){return this.protocolStartTime!==null&&this._timerId!==void 0}async executeProtocol(t){if(this.protocolIsExecuting()){console.log("protocol execution in progress (can't start another protocol)");return}this.controller.assumeManualControl(),this.lastAmbientSegment=void 0,this.segments=t;const n=new Date;this.protocolStartTime=n.getTime(),await this.dataCollector.recordTestStart(fe.External,n.toLocaleString()),this.executeSegment(0),this.controller.beep(),this.dispatch(new im)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case am.name:{n.segmentDataUpdated&&n.segmentDataUpdated(t.segment);break}case om.name:{n.segmentChanged&&n.segmentChanged(t.newSegment);break}case im.name:{n.started&&n.started();break}case sm.name:{n.cancelled&&n.cancelled();break}case lm.name:{n.completed&&n.completed();break}default:console.warn(`Unhandled event in dispatcher: ${t.constructor.name}`)}})}executeSegment(t){if(t>=this._segments.length){console.log("no more segments (test completed)"),this.stopTimer();const r=this.calculateFinalFitFactor();this.dataCollector.recordExerciseResult("Final",r),this.dataCollector.recordTestComplete(),this.dataCollector.setInstructions(`Test completed; final score: ${su(r)}`),this.dispatch(new lm),this.controller.beep(),this.controller.beep();return}const n=this._segments[t];this.currentSegment=n,console.log(`staging segment ${JSON.stringify(n)}`),n.source===Se.AMBIENT?this.controller.sampleAmbient():n.source===Se.MASK?this.controller.sampleMask():console.warn(`executeSegment(): unexpected source: ${n.source}`),n.duration>0&&(n.exerciseNumber?this.dataCollector.setInstructions(`Perform exercise ${n.exerciseNumber}: ${n.stage.instructions}`):this.dataCollector.setInstructions("Breathe normally"))}cancel(){this.stopTimer(),this.protocolStartTime=null,console.log("cancelling protocol"),this.dataCollector.recordTestAborted(),this.dispatch(new sm),this.controller.beep()}calculateFinalFitFactor(){const t=this.segments.filter(n=>n.calculatedScore!==void 0);return t.length/t.reduce((n,r)=>n+1/r.calculatedScore,0)}closeSegment(t){if(t.source===Se.AMBIENT){if(t.state==="sample"){const n=gr(t);if(this.dataCollector.recordParticleCount(new Io(n,t.source,fe.External)),this.lastAmbientSegment){const r=qE(gr(this.lastAmbientSegment),n);for(let o=t.index-1;o>this.lastAmbientSegment.index;o--){const a=this.segments[o];if(a.state==="sample"){const i=r/gr(a);console.debug(`updating ex ${a.exerciseNumber} score from ${a.calculatedScore} to ${i}`),a.calculatedScore=i,this.dataCollector.recordExerciseResult(a.exerciseNumber??0,a.calculatedScore)}}}this.lastAmbientSegment=t}}else if(t.source===Se.MASK&&t.state==="sample"){const n=gr(t);this.dataCollector.recordParticleCount(new Io(n,t.source,fe.External)),this.lastAmbientSegment?(t.calculatedScore=gr(this.lastAmbientSegment)/n,this.dataCollector.recordExerciseResult(t.exerciseNumber??0,t.calculatedScore),this.controller.beep()):console.error("mask segment completed, but there was no last ambient segment.")}}}function gr(e){return Math.max(.01,e.data.reduce((t,n)=>t+n.concentration,0)/e.data.length)}class op{db;dbName;version;defaultDataStores;openPromise;constructor(t,n=[],r=1){this.dbName=t,this.version=r,this.defaultDataStores=n}async getDataFromDataSource(t,n=()=>!0){return new Promise((r,o)=>{const a=this.openTransactionClassic("readonly"),i=[];if(!a){console.debug(`${this.dbName} database not ready`),o(`${this.dbName} database not ready`);return}const l=a.objectStore(t).openCursor(null,"next");l.onerror=s=>{console.error(`getAllDataFromDataSource openCursor request error ${s}`),o(`error ${s}`)},l.onsuccess=s=>{const u=l.result;u?(n(u.value)&&i.push(u.value),u.continue()):(console.debug(`${this.dbName} cursor done ${s}. got ${i.length} records`),r(i))}})}onOpenSuccess(t){this.db=t.result,console.debug(`${this.dbName} Database Opened`,this.db)}onOpenError(t){console.error(`${this.dbName} Database error: ${t.error?.message}`)}openTransactionClassic(t,n=this.defaultDataStores){if(!this.db){console.log(`${this.dbName} database not ready`);return}try{const r=this.db.transaction(n,t);return r.oncomplete=()=>{},r.onerror=o=>{console.warn(`${this.dbName} transaction error ${o}`)},r}catch(r){console.error(`${this.dbName} error opening transaction: ${r}`);return}}async openTransaction(t,n=this.defaultDataStores){return new Promise((r,o)=>{if(!this.db){console.debug(`${this.dbName} database not ready`),o(`${this.dbName} database not ready`);return}const a=this.db.transaction(n,t);a.oncomplete=()=>{},a.onerror=i=>{console.error(`${this.dbName} transaction error ${JSON.stringify(i)}`)},r(a)})}async get(t,n){return new Promise((r,o)=>{this.openTransaction("readonly").then(a=>{const i=a.objectStore(t).get(n);i.onsuccess=()=>{r(i.result)},i.onerror=l=>{const s=`${this.dbName} get(${n}) failed; error: ${l}`;console.error(s),o(s)}})})}async put(t,n){return new Promise((r,o)=>{this.openTransaction("readwrite").then(a=>{try{const i=a.objectStore(t).put(n);i.onsuccess=()=>{r(i.result)},i.onerror=l=>{const s=`${this.dbName} put(${JSON.stringify(n)}) failed; error: ${l}`;console.error(s),o(s)}}catch(i){o(`${i} value: ${JSON.stringify(n)}`)}})})}async delete(t,n){return new Promise((r,o)=>{this.openTransaction("readwrite").then(a=>{try{const i=a.objectStore(t).delete(n);i.onsuccess=()=>{r(i.result)},i.onerror=l=>{const s=`${this.dbName} delete(${n}) failed; error: ${l}`;console.error(s),o(s)}}catch(i){o(`${i}, key: ${n}`)}})})}async open(){return console.debug(`open called on ${this.dbName}`),this.openPromise?this.openPromise:this.db?this.db:(this.openPromise=new Promise((t,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.onsuccess=()=>{this.onOpenSuccess(r),t(r.result)},r.onerror=()=>{this.onOpenError(r),n(r.error?.message)},r.onupgradeneeded=()=>{this.onUpgradeNeeded(r)}}),this.openPromise)}close(){this.db?.close(),console.debug(`${this.dbName} closed`)}}var eb={space:"",cycles:!1,replacer:(e,t)=>t,stringify:JSON.stringify},mo={isArray:Array.isArray,assign:Object.assign,isObject:e=>typeof e=="object",isFunction:e=>typeof e=="function",isBoolean:e=>typeof e=="boolean",isRegex:e=>e instanceof RegExp,keys:Object.keys};const Ta=eb,tb=mo.isFunction,nb=mo.isBoolean,rb=mo.isObject,ob=mo.isArray,ab=mo.isRegex,ib=mo.assign,sb=mo.keys;function lb(e){return e==null?e:ab(e)?e.toString():e.toJSON?e.toJSON():e}function ub(e,t){t=t||ib({},Ta),tb(t)&&(t={compare:t});const n=t.space||Ta.space,r=nb(t.cycles)?t.cycles:Ta.cycles,o=t.replacer||Ta.replacer,a=t.stringify||Ta.stringify,i=t.compare&&function(s){return function(u){return function(c,d){const f={key:c,value:u[c]},p={key:d,value:u[d]};return s(f,p)}}}(t.compare);r||a(e);const l=[];return function s(u,c,d,f){const p=n?`
`+new Array(f+1).join(n):"",v=n?": ":":";if(d=lb(d),d=o.call(u,c,d),d!==void 0){if(!rb(d)||d===null)return a(d);if(ob(d)){const g=[];for(let y=0;y<d.length;y++){const h=s(d,y,d[y],f+1)||a(null);g.push(p+n+h)}return"["+g.join(",")+p+"]"}else{if(r){if(l.indexOf(d)!==-1)return a("[Circular]");l.push(d)}const g=sb(d).sort(i&&i(d)),y=[];for(let h=0;h<g.length;h++){const w=g[h],S=s(d,w,d[w],f+1);if(!S)continue;const E=a(w)+v+S;y.push(p+n+E)}return l.splice(l.indexOf(d),1),"{"+y.join(",")+p+"}"}}}({"":e},"",e,0)}var cb=ub;const $d=Di(cb);var Ie=(e=>(e.NotInitialized="NotInitialized",e.Simulator="Simulator",e.SimulatorFile="Simulator-file",e.WebSerial="WebSerial",e.WebUsbSerial="WebUsbSerial",e.Manual="Manual",e))(Ie||{}),I=(e=>(e.SPEECH_ENABLED="speech-enabled",e.ADVANCED_MODE="advanced-mode",e.SPEECH_VOICE="speech-voice",e.VERBOSE="verbose",e.SAY_PARTICLE_COUNT="say-particle-count",e.RESULTS_TABLE_SORT="results-table-sort",e.PARTICIPANT_RESULTS_TABLE_SORT="participant-results-table-sort",e.SAY_ESTIMATED_FIT_FACTOR="say-estimated-fit-factor",e.SHOW_EXTERNAL_CONTROL="show-external-control",e.BAUD_RATE="baud-rate",e.PROTOCOL_INSTRUCTION_SETS="protocol-instruction-sets",e.SELECTED_PROTOCOL="selected-protocol",e.KEEP_SCREEN_AWAKE="keep-screen-awake",e.TEST_TEMPLATE="test-template",e.ENABLE_SIMULATOR="enable-simulator",e.ENABLE_AUTO_CONNECT="enable-auto-connect",e.SIMULATOR_FILE_SPEED="simulator-file-speed",e.SELECTED_DATA_SOURCE="selected-data-source",e.SYNC_DEVICE_STATE_ON_CONNECT="sync-device-state-on-connect",e.MINUTES_ALLOTTED_PER_PARTICIPANT="minutes-allotted-per-participant",e.EVENT_END_HHMM="event-end-hhmm",e.SHOW_ELAPSED_PARTICIPANT_TIME="show-elapsed-participant-time",e.SHOW_REMAINING_EVENT_TIME="show-remaining-event-time",e.AUTO_CREATE_FAST_PROTOCOLS="auto-create-fast-protocols",e.LAST_KNOWN_SETTINGS_KEYS_HASH="last-known-settings-keys-hash",e.USE_COMPACT_UI="use-compact-ui",e.ENABLE_WEB_SERIAL_DRIVERS="enable-webserial-drivers",e.ENABLE_PROTOCOL_EDITOR="enable-protocol-editor",e.ENABLE_QR_CODE_SCANNER="enable-qr-code-scanner",e.ENABLE_STATS="enable-stats",e.ENABLE_TEST_INSTRUCTIONS_ZOOM="enable-test-instructions-zoom",e.BOOKMARKS="bookmarks",e.MASK_LIST="mask-list",e.AUTO_UPDATE_MASK_LIST="auto-update-mask-list",e.COLOR_SCHEME="color-scheme",e.STATS_FIRST_DATE="so-stats-first-date",e.STATS_LAST_DATE="so-stats-last-date",e.RESULTS_TABLE_FILTER="so-results-table-filter",e.PARTICIPANT_RESULTS_TABLE_FILTER="so-participant-results-table-filter",e.COMBINED_MASK_LIST="so-combined-mask-list",e.TODAY_PARTICIPANTS="so-today-participants",e.TEST_NOTES="so-test-notes",e.CONTROL_SOURCE_IN_VIEW="so-control-source-in-view",e.SAMPLE_SOURCE_IN_VIEW="so-sample-source-in-view",e.CONNECTION_STATUS_IN_VIEW="so-connection-status-in-view",e.ACTIVITY="so-activity",e.DEFAULT_TO_PREVIOUS_PARTICIPANT="default-to-previous-participant",e.AUTO_ESTIMATE_FIT_FACTOR="auto-estimate-fit-factor",e.SHOW_PROTOCOL_EDITOR="show-protocol-editor",e.SHOW_SIMPLE_PROTOCOL_EDITOR="show-simple-protocol-editor",e.SHOW_SETTINGS="show-settings",e.SHOW_LOG_PANELS="show-log-panels",e.SHOW_HISTORICAL_TESTS="show-historical-tests",e.SHOW_CURRENT_TEST_PANEL="show-current-test-panel",e))(I||{});const Da={"speech-enabled":!1,"advanced-mode":!1,"speech-voice":"default",verbose:!1,"say-particle-count":!1,"results-table-sort":[{id:"ID",desc:!0}],"participant-results-table-sort":[{id:"ID",desc:!0}],"auto-estimate-fit-factor":!1,"say-estimated-fit-factor":!1,"show-external-control":!1,"baud-rate":1200,"protocol-instruction-sets":{json:{w1:["Normal breathing. Breathe normally","Heavy breathing. Take deep breaths.",["Jaw movement.","Read the rainbow passage:","When the sunlight strikes raindrops in the air, they act as a prism and form a rainbow.","The rainbow is a division of white light into many beautiful colors.","These take the shape of a long round arch, with its path high above,","and its two ends apparently beyond the horizon.","There is, according to legend, a boiling pot of gold at one end.","People look, but no one ever finds it.","When a man looks for something beyond his reach,","his friends say he is looking for the pot of gold at the end of the rainbow."].join(" "),"Head movement. Look up, down, left, and right. Repeat."],"Modified CNC Fit Protocol (B)":[{instructions:"prep",ambient_purge:4,ambient_sample:20,mask_purge:0,mask_sample:0},{instructions:"Bending over. Bend at the waist as if going to touch your toes. Inhale 2 times at the bottom.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:["Talking.","Talk out loud slowly and loud enough to be head by the test administrator.","Count backwards from 100,","or read the Rainbow Passage:","When the sunlight strikes raindrops in the air, they act as a prism and form a rainbow.","The rainbow is a division of white light into many beautiful colors.","These take the shape of a long round arch, with its path high above,","and its two ends apparently beyond the horizon.","There is, according to legend, a boiling pot of gold at one end.","People look, but no one ever finds it.","When a man looks for something beyond his reach,","his friends say he is looking for the pot of gold at the end of the rainbow."].join(" "),ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"Head side-to-side. Slowly turn head from side to side. Inhale 2 times at each extreme.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"Head up-and-down. Slowly move head up and down. Inhale 2 times at each extreme.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"finalize",ambient_purge:4,ambient_sample:9,mask_purge:0,mask_sample:0}],osha:["Normal breathing. In a normal standing position, without talking, the subject shall breathe normally","Deep breathing. In a normal standing position, the subject shall breathe slowly and deeply, taking caution so as not to hyperventilate","Turning head side to side. Standing in place, the subject shall slowly turn his/her head from side to side between the extreme positions on each side. The head shall be held at each extreme momentarily so the subject can inhale at each side.","Moving head up and down. Standing in place, the subject shall slowly move his/her head up and down. The subject shall be instructed to inhale in the up position (i.e., when looking toward the ceiling).","Talking. The subject shall talk out loud slowly and loud enough so as to be heard clearly by the test conductor. The subject can read from a prepared text such as the Rainbow Passage, count backward from 100, or recite a memorized poem or song.","Grimace. The test subject shall grimace by smiling or frowning. (This applies only to QNFT testing; it is not performed for QLFT)","Bending over. The test subject shall bend at the waist as if he/she were to touch his/her toes. Jogging in place shall be substituted for this exercise in those test environments such as shroud type QNFT or QLFT units that do not permit bending over at the waist.","Normal breathing. Same as exercise (1)."]}},"selected-protocol":"w1","keep-screen-awake":!0,"test-template":{},"enable-simulator":!1,"enable-auto-connect":!0,"simulator-file-speed":300,"selected-data-source":Ie.WebSerial,"sync-device-state-on-connect":!1,"minutes-allotted-per-participant":20,"event-end-hhmm":"13:30","show-elapsed-participant-time":!1,"show-remaining-event-time":!1,"auto-create-fast-protocols":!1,"last-known-settings-keys-hash":"","use-compact-ui":!0,"enable-webserial-drivers":!1,"enable-protocol-editor":!1,"enable-qr-code-scanner":!1,"enable-stats":!1,"enable-test-instructions-zoom":!1,bookmarks:{},"mask-list":[],"auto-update-mask-list":!0,"color-scheme":"auto","so-stats-first-date":new Date(0),"so-stats-last-date":new Date,"so-results-table-filter":[],"so-participant-results-table-filter":[],"so-combined-mask-list":[],"so-today-participants":[],"so-test-notes":[],"so-control-source-in-view":!0,"so-sample-source-in-view":!0,"so-connection-status-in-view":!0,"so-activity":rt.Disconnected,"default-to-previous-participant":!1,"show-protocol-editor":!1,"show-simple-protocol-editor":!1,"show-settings":!1,"show-log-panels":!1,"show-historical-tests":!1,"show-current-test-panel":!1};function um(e){return e.toLowerCase().startsWith("so-")}class Wr extends op{static DB_NAME="settings-db";static OBJECT_STORE_NAME="settings-data";constructor(t=Wr.DB_NAME){super(t,[Wr.OBJECT_STORE_NAME],1)}onUpgradeNeeded(t){const n=t.result;console.warn(`Database upgrade needed: ${n.name}`),n.createObjectStore(Wr.OBJECT_STORE_NAME,{keyPath:"ID"})}async getSetting(t){const n=await this.get(Wr.OBJECT_STORE_NAME,t);if(n)return n.value}async saveSetting(t,n){console.debug(`saveSettings saving to DB ${t} : ${JSON.stringify(n)}`);const r={ID:t,value:n};return this.put(Wr.OBJECT_STORE_NAME,r)}}const ls=new Wr;function py(e){return e.source===Se.MASK&&e.state===Kr.SAMPLE}function hy(e){return Sl(e).reduce((t,n)=>t+(py(n)?1:0),0)}class db{cache=new Map;listeners=[];_protocolStages=[];_protocolSegments=[];numExercisesForProtocol={};constructor(){this.addListener({subscriptions:()=>["selected-protocol"],settingsChanged:(t,n)=>{t==="selected-protocol"&&this.updateProtocolStages(n)}}),this.addListener({subscriptions:()=>["enable-simulator"],settingsChanged:(t,n)=>{t==="enable-simulator"&&!n&&[Ie.Simulator,Ie.SimulatorFile].includes(this.getSetting("selected-data-source"))&&this.saveSetting("selected-data-source",Da["selected-data-source"])}}),this.addListener({subscriptions:()=>["show-external-control"],settingsChanged:(t,n)=>{t==="show-external-control"&&(n||this.saveSetting("sync-device-state-on-connect",!1))}}),this.addListener({subscriptions:()=>["sync-device-state-on-connect"],settingsChanged:(t,n)=>{t==="sync-device-state-on-connect"&&n&&!this.getSetting("show-external-control")&&setTimeout(()=>{this.saveSetting("sync-device-state-on-connect",!1)},200)}})}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,o)=>n===t?(o.splice(r,1),!0):!1)}dispatch(t,n){this.listeners.forEach(r=>{if(r.subscriptions&&r.settingsChanged&&r.subscriptions().some(o=>o===t)){const o=Rr(n);r.settingsChanged(t,o)}})}getDefault(t){return Da[t]}get selectedProtocol(){return this.getSetting("selected-protocol")}set selectedProtocol(t){console.log(`set selected protocol ${t}`),t in this.protocolDefinitions?this.saveSetting("selected-protocol",t):console.log(`trying to set an invalid protocol name: ${t}, ignoring`)}get protocolStages(){return this._protocolStages}set protocolStages(t){this._protocolStages=t}get protocolSegments(){return this._protocolSegments}get eventEndTime(){const t=new Date,[n,r]=this.getSetting("event-end-hhmm").split(":");return t.setHours(Number(n),Number(r),0,0),t}set eventEndTime(t){const n=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`;this.saveSetting("event-end-hhmm",n)}get numExercises(){return Math.max(...this.protocolSegments.map(t=>t.exerciseNumber??0))}set protocolSegments(t){this._protocolSegments=t}get sayEstimatedFitFactor(){return this.getSetting("say-estimated-fit-factor")}set sayEstimatedFitFactor(t){this.saveSetting("say-estimated-fit-factor",t)}get verboseSpeech(){return this.getSetting("verbose")}set verboseSpeech(t){this.saveSetting("verbose",t)}get sayParticleCount(){return this.getSetting("say-particle-count")}set sayParticleCount(t){this.saveSetting("say-particle-count",t)}get speechEnabled(){return this.getSetting("speech-enabled")}set speechEnabled(t){this.saveSetting("speech-enabled",t)}getProtocolDefinition(t){return this.protocolDefinitions[t]||[]}getProtocolNames(){return Object.keys(this.protocolDefinitions)}get protocolDefinitions(){const t=TE(this.getSetting("protocol-instruction-sets").json);if(this.getSetting("auto-create-fast-protocols")){const n=this.createFastProtocols(t);Object.assign(t,n)}return t}createFastProtocols(t){const n={},r=Object.keys(t).map(o=>o.toLowerCase());return Object.entries(t).forEach(([o,a])=>{const i=`fast-${o} (*)`;if(!o.toLowerCase().startsWith("fast-")){if(!r.includes(i.toLowerCase())){const l=[],s=a[0];l.push({instructions:"Prep",ambient_purge:s.ambient_purge||at.defaultAmbientPurgeDuration,ambient_sample:s.ambient_sample||at.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0}),a.forEach(c=>{c.mask_sample>0&&l.push({instructions:c.instructions,ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:Math.min(c.mask_sample,Math.max(20,c.mask_sample*.75))})});const u=a[a.length-1];l.push({instructions:"Finalize",ambient_purge:u.ambient_purge===0?0:at.defaultAmbientPurgeDuration,ambient_sample:u.ambient_sample||at.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0}),n[i]=l}}}),n}set protocolDefinitions(t){this.saveSetting("protocol-instruction-sets",{json:t})}getTestTemplate(){return this.getSetting("test-template")}setTestTemplate(t){this.saveSetting("test-template",t)}async getActualSetting(t){const n=this.cache.get(t);return n!==void 0?n:this.loadSetting(t)}getSetting(t){const n=this.cache.get(t);if(n!==void 0)return n;const r=Da[t];return this.loadSetting(t),r}async loadSetting(t){const n=Da[t];if(um(t))return this.updateCache(t,n),n;{await ls.open();const r=await ls.getSetting(t),o=r===void 0?n:r;return this.updateCache(t,o),o}}async loadAllSettings(){const t=Object.keys(Da);for(const r of t)await this.loadSetting(r);const n=this.protocolDefinitions;for(const r of Object.keys(n)){const o=n[r];this.numExercisesForProtocol[r]=hy(o)}}saveSetting(t,n){this.cache.has(t)&&this.updateCache(t,n)}updateCache(t,n){if(this.cache.has(t)){const r=this.cache.get(t);if($d(r)===$d(n))return!1;um(t)||ls.open().then(()=>{ls.saveSetting(t,n)})}return this.cache.set(t,n),this.dispatch(t,n),!0}updateProtocolStages(t){console.debug(`updateProtocolStages ${t}`);const n=this.protocolDefinitions[t];n&&(this.protocolSegments=Sl(n),this.protocolStages=n)}getProtocolDuration(t){const n=this.protocolDefinitions[t]??[],r=Sl(n);return gy(r)}}const my=new db;function gy(e){return e.reduce((t,n)=>t+n.duration,0)}function Sl(e){const t=[];let n=null,r=0;return e.forEach((o,a)=>{o.mask_sample>0&&(n=(n??0)+1);const i=o.mask_sample>0?n:null;if(o.ambient_purge>0){const l={index:t.length,stage:o,stageIndex:a,exerciseNumber:i,source:Se.AMBIENT,state:Kr.PURGE,protocolStartTimeOffsetSeconds:r,duration:o.ambient_purge,data:[]};t.push(l),r+=l.duration}if(o.ambient_sample>0){const l={index:t.length,stage:o,stageIndex:a,exerciseNumber:i,source:Se.AMBIENT,state:Kr.SAMPLE,protocolStartTimeOffsetSeconds:r,duration:o.ambient_sample,data:[]};t.push(l),r+=l.duration}if(o.mask_purge>0){const l={index:t.length,stage:o,stageIndex:a,exerciseNumber:i,source:Se.MASK,state:Kr.PURGE,protocolStartTimeOffsetSeconds:r,duration:o.mask_purge,data:[]};t.push(l),r+=l.duration}if(o.mask_sample>0){const l={index:t.length,stage:o,stageIndex:a,exerciseNumber:i,source:Se.MASK,state:Kr.SAMPLE,protocolStartTimeOffsetSeconds:r,duration:o.mask_sample,data:[]};t.push(l),r+=l.duration}}),t}class wn extends op{static DEFAULT_DB_NAME="fit-test-data-db";static TEST_RESULTS_OBJECT_STORE="test-results-table-data";constructor(t=wn.DEFAULT_DB_NAME){super(t,[wn.TEST_RESULTS_OBJECT_STORE],2)}onUpgradeNeeded(t){const n=t.result;console.warn(`${this.dbName} Database upgrade needed: ${n.name}`),n.createObjectStore(wn.TEST_RESULTS_OBJECT_STORE,{autoIncrement:!0,keyPath:"ID"})}keepRecords=[];async getData(t){return this.getDataFromDataSource(wn.TEST_RESULTS_OBJECT_STORE,t)}async createNewTest(t,n,r,o){const a=this.openTransactionClassic("readwrite");if(!a)return console.log("database not ready"),new Promise((s,u)=>u(`${this.dbName} database not ready`));const i={Time:t,ProtocolName:n,TestController:r,DataSource:o},l=a?.objectStore(wn.TEST_RESULTS_OBJECT_STORE).add(i);return new Promise((s,u)=>{l.onerror=c=>{const d=`createNewTest request error ${c}`;console.log(d),u(d)},l.onsuccess=c=>{console.log(`createNewTest request complete: ${c}, new key is ${l.result}`),s({...i,ID:Number(l.result)})}})}async updateTest(t){return new Promise((n,r)=>{const o=this.openTransactionClassic("readwrite");if(!o){console.log("database not ready"),r(`${this.dbName} database not ready`);return}t.ID=Number(t.ID);const a=o.objectStore(wn.TEST_RESULTS_OBJECT_STORE).put(t);a.onerror=i=>{const l=`updateTest request error ${i}`;console.log(l),r(l)},a.onsuccess=()=>{n({ID:a.result})}})}async addRecord(t){const n=t;return delete n.ID,this.put(wn.TEST_RESULTS_OBJECT_STORE,n)}async addRecords(t){for(const n of t)await this.addRecord(n)}async deleteRecord(t){return this.deleteRecordById(t.ID)}async deleteRecordById(t){return this.delete(wn.TEST_RESULTS_OBJECT_STORE,t)}}const on=new wn;var vy={exports:{}};(function(e,t){const n=Math.exp;e.exports=function(o){if(typeof o!="number")throw new Error("must provide a timespan to the moving average constructor");if(o<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let a,i=0,l=0,s=0,u,c={};function d(f,p){return 1-n(-(f-p)/o)}return c.push=function(p,v){if(u){const g=d(p,u),y=v-a,h=g*y;a=g*v+(1-g)*a,i=(1-g)*(i+y*h),l=Math.sqrt(i),s=a+g*y}else a=v;u=p},c.movingAverage=function(){return a},c.variance=function(){return i},c.deviation=function(){return l},c.forecast=function(){return s},c}})(vy);var fb=vy.exports;const qt=Di(fb);class jr{}class cm extends jr{instructions;constructor(t){super(),this.instructions=t}}class ap extends jr{estimate;constructor(t){super(),this.estimate=t}}class yy extends ap{constructor(t){super(t)}}class wy extends ap{constructor(t){super(t)}}class jd extends ap{constructor(t){super(t)}}class dm extends jr{line;constructor(t){super(),this.line=t}}class fm extends jr{message;constructor(t){super(),this.message=t}}class pm extends jr{data;constructor(t){super(),this.data=t}}class hm extends jr{record;constructor(t){super(),this.record=Rr(t)}}class vc extends jr{record;constructor(t){super(),this.record=Rr(t)}}class Sy extends jr{}const mm=5*1e3,yc=20*1e3,pb={emaConcentration:void 0,emaConcentrationStdDev:void 0,guestimatedAmbient:void 0,sampleZone:"unknown",emaConcentrationInZone:void 0,estimatedFitFactor:void 0,estimatedFitFactorBand:void 0,estimatedFitFactorBandLower:void 0,zoneFF:void 0};class hb{guestimatedAmbientConcentration=0;maCount5s=qt(mm);maZoneConcentration20s=qt(yc);nextChartUpdateTime=0;_chartOptions;_fullConcentrationHistory=[];dataCollector;constructor(t){this.dataCollector=t}get chartOptions(){return this._chartOptions}set chartOptions(t){this._chartOptions=t}get fullConcentrationHistory(){return this._fullConcentrationHistory}set fullConcentrationHistory(t){this._fullConcentrationHistory=t}resetChart(){this.fullConcentrationHistory=[],this.guestimatedAmbientConcentration=0,this.maCount5s=qt(mm),this.maZoneConcentration20s=qt(yc),this.nextChartUpdateTime=0;const t={axisPointer:{link:[{xAxisIndex:"all"}]},tooltip:{trigger:"axis",axisPointer:{type:"cross"},valueFormatter:su,position:function(n,r,o,a,i){return n[0]<i.viewSize[0]/2?{bottom:10,right:30}:{bottom:10,left:30}}},grid:[{top:"10%",left:"4%",right:"3%",bottom:"55%",containLabel:!0},{top:"60%",left:"4%",right:"3%",containLabel:!0}],xAxis:[{type:"time",gridIndex:0},{type:"time",gridIndex:1}],yAxis:[{name:"concentration",position:"left",type:"value",gridIndex:0,splitLine:{show:!0},minorSplitLine:{show:!0}},{name:"estimated fit factor",position:"left",type:"value",gridIndex:1}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0,1],filterMode:"filter"},{id:"dataZoomY0",type:"slider",yAxisIndex:[0],filterMode:"empty"},{id:"dataZoomY1",type:"slider",yAxisIndex:[1],filterMode:"empty"}],series:[{name:"concentration",type:"line",encode:{x:["timestamp"],y:["concentration"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{type:"dotted",width:3,opacity:0},markArea:{data:[]}},{name:"guestimated ambient level",type:"line",encode:{x:["timestamp"],y:["guestimatedAmbient"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"gray",width:3},itemStyle:{color:"gray"},showSymbol:!1},{name:"EMA concentration",type:"line",encode:{x:["timestamp"],y:["emaConcentration"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"blue",width:3},itemStyle:{color:"blue"},showSymbol:!1},{name:"EMA concentration in zone",type:"line",encode:{x:["timestamp"],y:["emaConcentrationInZone"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"blue",width:1},itemStyle:{color:"blue"},showSymbol:!1},{name:"Zone FF",type:"line",encode:{x:["timestamp"],y:["zoneFF"]},yAxisIndex:1,xAxisIndex:1,lineStyle:{width:1},itemStyle:{opacity:0},showSymbol:!1}]};this.chartOptions=t}processConcentration(t,n=new Date){if(isNaN(t))return;const r=n.getTime(),o=this.fullConcentrationHistory.length>0?this.fullConcentrationHistory[this.fullConcentrationHistory.length-1]:void 0;let a;this.guestimatedAmbientConcentration?t>this.guestimatedAmbientConcentration?a="ambient":this.maCount5s.movingAverage()<.5*this.guestimatedAmbientConcentration?o?.sampleZone!=="mask"&&this.maCount5s.deviation()>1.5*this.maCount5s.movingAverage()?a="purge":a="mask":this.maCount5s.deviation()<.3*this.guestimatedAmbientConcentration?a="ambient":a="unknown":a="ambient",a==="ambient"&&(this.guestimatedAmbientConcentration=this.maCount5s.movingAverage());let i=NaN;if(o&&o.sampleZone==="mask"){let s=0,u=this.fullConcentrationHistory.length-1,c=0;for(;u>=0&&this.fullConcentrationHistory[u].sampleZone==="mask";u--)this.fullConcentrationHistory.length-u>5&&(s+=this.fullConcentrationHistory[u].concentration,c++);s&&(i=c*this.guestimatedAmbientConcentration/s,o&&(o.zoneFF=i))}this.dataCollector.dispatch(new yy(i)),this.dataCollector.dispatch(new wy(this.guestimatedAmbientConcentration)),a==="mask"?this.dataCollector.dispatch(new jd(t)):this.dataCollector.dispatch(new jd(-1));const l={...pb,timestamp:n,concentration:t,guestimatedAmbient:this.guestimatedAmbientConcentration,emaConcentration:this.maCount5s.movingAverage(),emaConcentrationStdDev:this.maCount5s.deviation(),sampleZone:a,zoneFF:i};if(a==="mask")if(o&&o.sampleZone===a){l.emaConcentrationInZone=this.maZoneConcentration20s.movingAverage();const s=Math.min(.3*l.emaConcentrationInZone,this.maZoneConcentration20s.deviation()),u=l.guestimatedAmbient||0;l.estimatedFitFactor=u/l.emaConcentrationInZone,l.estimatedFitFactorBand=u/(l.emaConcentrationInZone-s)-u/(l.emaConcentrationInZone+s),l.estimatedFitFactorBandLower=u/(l.emaConcentrationInZone+s)}else this.maZoneConcentration20s=qt(yc);if(this.fullConcentrationHistory.push(l),this.maCount5s.push(r,t),this.maZoneConcentration20s.push(r,t),this.chartOptions.dataset={dimensions:["timestamp","concentration","guestimatedAmbient","emaConcentration","emaConcentrationStdDev","sampleZone","emaConcentrationInZone","estimatedFitFactor","estimatedFitFactorBand","estimatedFitFactorBandLower","zoneFF"],source:this.fullConcentrationHistory},this.chartOptions.yAxis[0].type="log",this.chartOptions.yAxis[0].min=Math.min(...this.chartOptions.dataset.source.map(s=>s.concentration)),this.chartOptions.yAxis[0].max=Math.max(...this.chartOptions.dataset.source.map(s=>s.concentration)),this.chartOptions.yAxis[1].type="value",this.chartOptions.dataZoom[0].endValue=l.timestamp,this.chartOptions.dataZoom[0].startValue=l.timestamp.getTime()-15*60*1e3,this.guestimatedAmbientConcentration>0){const s={type:"piecewise",show:!1,seriesIndex:[0],dimension:"",pieces:[{gte:100,lt:1e5,color:"green"},{gte:20,lt:100,color:"darkorange"},{gte:0,lt:20,color:"darkred"}],outOfRange:{color:"#999"}},u=Rr(s);u.dimension="estimatedFitFactor",u.seriesIndex=this.chartOptions.series.findIndex(d=>d.name==="estimated fit factor");const c=Rr(s);c.dimension="zoneFF",c.seriesIndex=this.chartOptions.series.findIndex(d=>d.name==="Zone FF"),this.chartOptions.visualMap=[u,c]}this.updateMarkArea(this.chartOptions,l),Date.now()>this.nextChartUpdateTime&&(this.nextChartUpdateTime=Date.now()+1e3,this.dataCollector.dispatch(new Sy))}updateMarkArea(t,n){const r=n.sampleZone,o=t.series[0].markArea.data,[a,i]=o.length>0?o[o.length-1]:[{},{}];if(a.name===r)i.xAxis=n.timestamp;else{const l=[{xAxis:n.timestamp,name:r,itemStyle:{color:n.sampleZone==="mask"?"wheat":n.sampleZone==="ambient"?"powderblue":"black",opacity:.2}},{xAxis:n.timestamp}];o.push(l)}}}class fr extends op{static DEFAULT_DB_NAME="raw-serial-line-data-db";static SERIAL_LINE_OBJECT_STORE="serial-line-data";constructor(t=fr.DEFAULT_DB_NAME){super(t,[fr.SERIAL_LINE_OBJECT_STORE],1)}onUpgradeNeeded(t){const n=t.result;console.warn(`Database upgrade needed: ${this.dbName}`),n.createObjectStore(fr.SERIAL_LINE_OBJECT_STORE,{autoIncrement:!0,keyPath:"index"})}keepRecords=[];now=new Date;async getData(t){return this.getDataFromDataSource(fr.SERIAL_LINE_OBJECT_STORE,t)}getSomeRecentLines(t){const n=this.openTransactionClassic("readonly");if(!n){console.debug(`${this.dbName} database not ready`);return}const r=n.objectStore(fr.SERIAL_LINE_OBJECT_STORE).openCursor(null,"prev");let o=!1;r.onerror=a=>{console.log(`getSomeRecentLines openCursor request error ${a}`)},r.onsuccess=a=>{console.log(`getSomeRecentLines openCursor request complete: ${a}`);const i=r.result;if(i?(this.keepRecords.push(i.value),i.continue()):(console.log(`${this.dbName} cursor done`),o=!0),o)for(console.log(`collected ${this.keepRecords.length} records`);this.keepRecords.length>0;){const l=this.keepRecords.pop();l&&t(l)}}}addLine(t){const n=this.openTransactionClassic("readwrite");if(!n)return console.log(`${this.dbName} database not ready`),{};const r={timestamp:new Date().toISOString(),data:t},o=n.objectStore(fr.SERIAL_LINE_OBJECT_STORE).add(r);o.onerror=a=>{console.error(`addRecord request error ${a}`)},o.onsuccess=()=>{}}}const lu=new fr;class mb{listeners=[];resultsDatabase;previousTestData=null;currentTestData=null;lastExerciseNum=0;sampleSource=Se.MASK;setResults;inProgressTestPromiseChain;controlSource=fe.Internal;settings;_rawLines="";_processedData="";_logLines="";_fitFactorEstimator;_dataSource=Ie.NotInitialized;constructor(){this.settings=my,this.resultsDatabase=on,this._fitFactorEstimator=new hb(this),this.fitFactorEstimator.resetChart()}get saveLinesToDb(){return this._dataSource!==Ie.Simulator}set dataSource(t){this._dataSource=t}get dataSource(){return this._dataSource}get fitFactorEstimator(){return this._fitFactorEstimator}set fitFactorEstimator(t){this._fitFactorEstimator=t}get rawLines(){return this._rawLines}get logLines(){return this._logLines}get processedData(){return this._processedData}appendToRaw(t){this._rawLines+=t+`
`,this.dispatch(new dm(t))}appendToLog(t){this._logLines+=t,this.dispatch(new fm(t))}appendToProcessedData(t){this._processedData+=t,this.dispatch(new pm(t))}setInstructions(t){this.dispatch(new cm(t))}setInstructionsForExercise(t){if(!this.settings.selectedProtocol)return;const n=this.settings.selectedProtocol,o=this.settings.getProtocolDefinition(n)[t-1],a=typeof o=="object"?"instructions"in o?o.instructions:o.i:o;a&&this.setInstructions(`Perform exercise ${t}: ${a}`)}recordTestComplete(){const t=()=>{console.log(`test complete, id ${this.currentTestData?.ID}`),this.previousTestData=this.currentTestData,this.currentTestData=null};this.chain(t)}recordTestAborted(){const t=()=>{if(!this.currentTestData){console.log("no current row, ignoring");return}this.currentTestData[`Ex ${this.lastExerciseNum+1}`]="aborted",this.setInstructions("Test cancelled."),this.updateCurrentRowInDatabase(),console.log("test aborted")};this.chain(t)}chain(t){this.inProgressTestPromiseChain?this.inProgressTestPromiseChain=this.inProgressTestPromiseChain.then(t):t()}async recordTestStart(t,n=new Date().toLocaleString()){if(!this.resultsDatabase){console.log("database not ready");return}if(!this.settings.selectedProtocol){console.log("protocols not loaded (not ready)");return}this.lastExerciseNum=0;const r=await this.resultsDatabase.createNewTest(n,this.settings.selectedProtocol,t,this.dataSource);this.currentTestData=r;const o=this.settings.getTestTemplate();for(const a in o)a in r||a.startsWith("Ex ")||a.startsWith("Final")||typeof o[a]=="string"&&(this.currentTestData[a]=o[a]);this.updateCurrentRowInDatabase(),console.log(`new test added: ${JSON.stringify(this.currentTestData)}`),this.dispatch(new hm(r)),this.dispatch(new vc(r))}recordExerciseResult(t,n){const r=()=>{if(!this.currentTestData){console.log("no current row! ignoring");return}typeof t=="number"?(this.currentTestData[`Ex ${t}`]=`${Math.floor(n)}`,this.lastExerciseNum=t):this.currentTestData[`${t}`]=`${Math.floor(n)}`,this.updateCurrentRowInDatabase()};this.chain(r)}updateTest(t){if(t.ID){if(t.ID===this.currentTestData?.ID){const n=this.currentTestData;this.currentTestData=t,Object.entries(n).forEach(([r,o])=>{typeof o=="number"&&this.currentTestData&&this.currentTestData[r]!==o&&(this.currentTestData[r]=o,this.setResults&&this.setResults(a=>[...a]))})}else t.ID===this.previousTestData?.ID&&(this.previousTestData=t);this.resultsDatabase.updateTest(t)}else console.log(`updateTest() unexpected record with no ID: ${t}`)}updateCurrentRowInDatabase(){this.currentTestData&&(this.resultsDatabase.updateTest(this.currentTestData),this.dispatch(new vc(this.currentTestData)))}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,o)=>n===t?(o.splice(r,1),!0):!1)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case hm.name:{n.newTestStarted&&n.newTestStarted(t.record);break}case vc.name:{n.currentTestUpdated&&n.currentTestUpdated(t.record);break}case Sy.name:{n.tick&&n.tick();break}case dm.name:{n.logRawLine&&n.logRawLine(t.line);break}case fm.name:{if(n.logMessage){const r=t;n.logMessage(r.message)}break}case pm.name:{if(n.logProcessedData){const r=t;n.logProcessedData(r.data)}break}case yy.name:{if(n.estimatedFitFactorChanged){const r=t;n.estimatedFitFactorChanged(r.estimate)}break}case jd.name:{n.estimatedMaskConcentrationChanged&&n.estimatedMaskConcentrationChanged(t.estimate);break}case wy.name:{n.estimatedAmbientConcentrationChanged&&n.estimatedAmbientConcentrationChanged(t.estimate);break}case cm.name:{if(n.instructionsChanged){const r=t;n.instructionsChanged(r.instructions)}break}}})}portaCountListener={lineReceived:t=>{t.trim().length>0&&(this.appendToRaw(t),this.saveLinesToDb&&lu.addLine(t))},sampleSourceChanged:t=>{console.log(`sampling from ${t}`),this.appendToLog(`sampling from ${t}
`),this.sampleSource=t},dataTransmissionStateChanged:t=>{this.appendToLog(`data transmission state: ${t}`)},testStarted:t=>{this.appendToProcessedData(`
Starting a new test. ${new Date(t).toLocaleString()}
`),this.setInstructionsForExercise(1),this.inProgressTestPromiseChain=this.recordTestStart(fe.Internal,new Date(t).toLocaleString())},controlSourceChanged:t=>{this.controlSource=t},fitFactorResultsReceived:t=>{const n=t.ff,r=t.exerciseNum,o=t.result;this.recordExerciseResult(r,n),typeof r=="number"?(this.appendToProcessedData(`Exercise ${r}: Fit factor is ${n}. Result: ${o}
`),this.setInstructionsForExercise(r+1),At.sayItLater(`Score was ${n}`)):(this.appendToProcessedData(`
Test complete. ${o} with FF of ${n}
`),this.setInstructions(`Test complete. Score: ${n}`),this.appendToLog(JSON.stringify(this.currentTestData)+`
`),this.recordTestComplete(),At.sayItLater(`Final score was ${n}`))},testTerminated:()=>{this.appendToProcessedData(`
Test aborted
`),this.recordTestAborted(),this.recordTestComplete()},particleConcentrationReceived:t=>{const n=()=>{if(this.currentTestData){t.controlSource===fe.Internal&&this.recordParticleCount(t);return}const r=t.concentration,o=t.timestamp;this.controlSource===fe.External&&this.appendToProcessedData(`${this.sampleSource}: ${r}
`),this.fitFactorEstimator.processConcentration(r,o?new Date(o):new Date)};this.chain(n)}};recordParticleCount(t){this.currentTestData&&(this.currentTestData.ParticleCounts||(this.currentTestData.ParticleCounts=[]),this.currentTestData.ParticleCounts.push({type:t.sampleSource,count:t.concentration}),this.updateCurrentRowInDatabase())}setPortaCountClient(t){t.addListener(this.portaCountListener)}}class gb{readable;writable;connected=!1;constructor(t,n){this.readable=t,this.writable=n}getInfo(){return{usbVendorId:-1337}}open(t){return console.debug(`todo: set simulator baud rate to ${t.baudRate}`),this.connected=!0,Promise.resolve()}}class vb{reader;_readerController;writer;_port;_portaCountState=new fy;encoder=new TextEncoder;_started=!1;bias=0;baseConcentration=0;lastCommandTimeMs=0;targetMaskFF=100;constructor(){this.reader=this.createReader(),this.writer=this.createWriter(),this._port=new gb(this.reader,this.writer)}get port(){return this._started=!0,this._port}stop(){this.reader.cancel("stop")}sendResponse(t){const n=this.encoder.encode(t);this._readerController?.enqueue(n)}createReader(){let t,n=!1;return new ReadableStream({pull:r=>{n=!0},start:r=>{console.debug("PortaCountSimulator started"),this._readerController=r,t=setInterval(()=>{if(this._started){const a=this.generateConcentration();console.debug(`simulator loop: ${a}, isPulling? ${n}`),n&&(n=!1,r.enqueue(this.encoder.encode(`${a}
`)))}},1e3)},cancel(){wi("cancel() called on underlying source"),t&&clearInterval(t)}})}createWriter(){const t=new CountQueuingStrategy({highWaterMark:1}),n=new TextDecoder,r=this,o=/\r\n|\n|\r/gm;let a="";return new WritableStream({write:i=>{const l=n.decode(i);console.debug(`writer got ${l}`),a+=l;const s=o.exec(a);if(s){const u=a.substring(0,s.index);a=a.substring(o.lastIndex),o.lastIndex=0,r.executeCommand(u)}},close(){},abort(i){console.debug(`abort: ${i}`)}},t)}random(){return Date.now()-this.lastCommandTimeMs>3*60*1e3&&(this.baseConcentration=(1+5*Math.random())*1e3,this.targetMaskFF=10+300*Math.random(),console.debug(`simulator resetting baseConcentration to ${this.baseConcentration}, targetMaskFF to ${this.targetMaskFF}`)),this.baseConcentration+=Math.round(Math.random()*200),this.baseConcentration}randomize(){this.bias=(Math.random()*30-30/2)/100,this.lastCommandTimeMs=Date.now()}executeCommand(t){switch(this.randomize(),t){case de.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE:{this.sendResponse(`RGG
`);break}case de.REQUEST_VOLTAGE_INFO:{["CS191","CB483","CT236","CC065","CL614","CP255","CD068"].forEach(n=>{this.sendResponse(`${n}
`)});break}case de.REQUEST_SETTINGS:{["STPA 00004","STA  00005","STPM 00011","STM0100040","STM0200040","STM0300040","STM0400040","STM0500040","STM0600040","STM0700040","STM0800040","STM0900040","STM1000040","STM1100040","STM1200040","STM1300040","SP 0100100","SP 0200250","SP 0300500","SP 0401000","SP 0501250","SP 0601667","SP 0702000","SP 0804000","SP 0905000","SP 1006667","SP 1110000","SP 1200000","SS   17754","SR   00722","SD   00519"].forEach(n=>{this.sendResponse(`${n}
`)});break}case de.SWITCH_VALVE_OFF:{this._portaCountState.sampleSource=Se.MASK,this.sendResponse(de.SWITCH_VALVE_OFF),this.sendResponse(`
`);break}case de.SWITCH_VALVE_ON:{this._portaCountState.sampleSource=Se.AMBIENT,this.sendResponse(de.SWITCH_VALVE_ON),this.sendResponse(`
`);break}case de.INVOKE_EXTERNAL_CONTROL:{this._portaCountState.controlSource===fe.External?this.sendResponse(`EJ
`):(this._portaCountState.controlSource=fe.External,this.sendResponse(`OK
`));break}case de.RELEASE_FROM_EXTERNAL_CONTROL:{this._portaCountState.controlSource=fe.Internal,this.sendResponse(`G
`);break}default:console.debug(`echoing back: ${t}`),this.sendResponse(`${t}
`)}}generateConcentration(){let t;this._portaCountState.sampleSource===Se.MASK?t=this.random()/this.targetMaskFF:t=this.random(),t=(1-this.bias)*t;let n;return this._portaCountState.controlSource===fe.External?n=`${t.toFixed(2).padStart(9,"0")}`:n=`Conc.${t.toFixed(t<10?2:0).padStart(10," ")} #/cc`,n}}const yb=48e6,wb=e=>new Promise(t=>setTimeout(t,e)),Sb=257,Cb=256,Eb=514,bb=512,xb=0,_b=1,Tb=0;function Db(e,t,n){const r=[0,3,2,4,1,5,6,7];let o=0,a,i,l;return e>=t/n?(l=0,o=t/dlkDiv):e>=t/(n+n/2)?(l=1,o=t/(n+n/2)):e>=t/(2*n)?(l=2,o=t/(2*n)):(a=t*16/n/e,a&1?i=a/2+1:i=a/2,i>131072&&(i=131071),o=t*16/n/i,o&1?o=o/2+1:o=o/2,l=i>>3|r[i&7]<<14),[o,l]}function kb(e){let t,n,r,o;if(e<=0)throw new Error("Baud rate must be > 0");return[t,n]=Db(e,yb,16),r=n&65535,o=n>>16,[t,r,o]}class Pb extends EventTarget{dtr=!0;rts=!0;constructor(t,n){super();const r=this;(async()=>{if(t==null)throw new Error("Could not find device");await t.open(),console.log("Opened:",t.opened),t.configuration===null&&(console.log("selectConfiguration"),await t.selectConfiguration(1)),await t.claimInterface(0),await t.selectConfiguration(1),await t.selectAlternateInterface(0,0);const[o,a,i]=kb(n.baudRate);console.log("Setting baud rate to",o),await t.controlTransferOut({requestType:"vendor",recipient:"device",request:3,value:a,index:i}),r.device=t,r.isClosing=!1;const l=await t.controlTransferOut({requestType:"vendor",recipient:"device",request:xb,value:Tb,index:1});console.debug("reset result: ",l);const s=await t.controlTransferOut({requestType:"vendor",recipient:"device",request:_b,value:(this.dtr?Sb:Cb)|(this.rts?Eb:bb),index:1});console.debug("set control lines result: ",s),this.device.transferIn(1,64),r.readLoop(),r.dispatchEvent(new Event("ready"))})().catch(o=>{console.log("Error during FTDI setup:",o),r.dispatchEvent(new CustomEvent("error",{detail:o}))})}async readLoop(){let t;try{t=await this.device.transferIn(1,64)}catch(n){n.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.log("Device disconnected"),this.isClosing=!0,this.dispatchEvent(new Event("disconnected"))):console.log("Error reading data:",n)}if(t&&t.data&&t.data.byteLength&&t.data.byteLength>2){console.log(`Received ${t.data.byteLength-2} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(2)}))}!this.isClosing&&this.device.opened&&this.readLoop()}async read(){const{data:{buffer:t,byteLength:n}}=await this.device.transferIn(1,64),r=new Uint8Array(t);return n===2?this.read():{bytesRead:n-2,data:r.slice(2)}}async writeAsync(t){return await this.device.transferOut(2,t)}write(t,n){this.writeAsync(t).then(()=>{n()},r=>n(r))}async closeAsync(){this.isClosing=!0,this.dispatchEvent(new Event("disconnected"));try{console.log("Sending EOT"),await this.writeAsync([4]),await wb(2e3),await this.device.releaseInterface(0),await this.device.close(),console.log("Closed device")}catch(t){console.log("Error:",t)}}close(t){(async()=>(await this.closeAsync(),t()))()}}const Ob=[75,150,300,600,1200,1800,2400,3600,4800,7200,9600,14400,19200,28800,38400,57600,115200,230400,460800,614400,921600,1228800,2457600,3e6,6e6],Mb=1e3,Rb=5e3,Nb=34,wc=1,Sc=2,Ib=1,Lb=1,gm=129,Ab=128,Fb=7,$b=8,jb=9,Vb=1,Ub=2;class Bb extends EventTarget{constructor(t,n){super(),this.isClosing=!1,this.bitrate=9600,this.deviceType=2,this.currentFlowControl=0,this.currentControlLinesValue=Sc|wc,this.bitrate=n.baudRate,this.device=t}async controlTransferInWithTimeout({requestType:t,recipient:n,request:r,value:o,index:a},i,l=Mb){return new Promise((s,u)=>{const c=new AbortController,d=f=>{c.signal.removeEventListener("abort",d),u(f.target)};c.signal.addEventListener("abort",d),setTimeout(()=>{c.abort("controlTransferIn timed out")},l),this.device.controlTransferIn({requestType:t,recipient:n,request:r,value:o,index:a},i).then(f=>{c.signal.aborted?u(`aborted, but we finally got our result: ${JSON.stringify(f)}`):f.data?.byteLength===i?s(f.data.buffer):u("controlTransferIn succeeded, but did not receive expected number of bytes")}).catch(u)})}async controlTransferOutWithTimeout({requestType:t,recipient:n,request:r,value:o,index:a,data:i},l=Rb){return new Promise((s,u)=>{const c=new AbortController,d=f=>{c.signal.removeEventListener("abort",d),u(f.target)};c.signal.addEventListener("abort",d),setTimeout(()=>{c.abort("controlTransferOut timed out")},l),this.device.controlTransferOut({requestType:t,recipient:n,request:r,value:o,index:a},i).then(f=>{c.signal.aborted?u(`aborted, but we finally got our result: ${JSON.stringify(f)}`):f.bytesWritten===(i?i.byteLength:0)?s(f.status):u("controlTransferOut succeeded, but did not write expected number of bytes")}).catch(u)})}async testHxStatus(){return this.controlTransferInWithTimeout({requestType:"vendor",recipient:"device",request:Ib,value:32896,index:0},1).then(()=>!0).catch(()=>!1)}async vendorRead(t,n){const r=(this.deviceType===3,gm);return(await this.device.controlTransferIn({requestType:"vendor",recipient:"device",request:r,value:t,index:n},1)).data?.buffer}async vendorWrite(t,n){const r=this.deviceType===3?Ab:Lb;await this.device.controlTransferOut({requestType:"class",recipient:"device",request:r,value:t,index:n}).then(o=>{console.log(`vendorWrite success ${JSON.stringify(o)}`)}).catch(o=>{console.warn(`vendorWrite failed ${o}`)})}async setBaudRate(t){const r=Ob.slice().sort((i,l)=>Math.abs(i-t)-Math.abs(l-t))[0];await this.device.controlTransferIn({requestType:"class",recipient:"interface",request:33,value:0,index:0},7),console.log("Setting baud rate to",r);const o=new ArrayBuffer(7),a=new DataView(o);a.setInt32(0,r,!0),a.setUint8(4,0),a.setUint8(5,0),a.setUint8(6,8),await this.device.controlTransferOut({requestType:"class",recipient:"interface",request:32,value:0,index:0},a)}async purgeHwBuffers(t,n){if(this.deviceType===3){let r=0;t&&(r|=Vb),n&&(r|=Ub),r!==0&&await this.vendorWrite(Fb,r)}else t&&await this.vendorWrite($b,0),n&&await this.vendorWrite(jb,0)}async resetDevice(){return this.purgeHwBuffers(!0,!0)}async open(){(async()=>{await this.device.open(),[this.iface]=this.device.configuration?this.device.configuration.interfaces:[],console.log("Claiming interface",this.iface.interfaceNumber),await this.device.claimInterface(this.iface.interfaceNumber),this.iface.alternate.endpoints.forEach(i=>{switch(i.direction){case"in":this.readEndpoint=i;break;case"out":this.writeEndpoint=i;break;default:console.error(`endpoint ${i.endpointNumber} has unexpected direction: ${i.direction}`);break}});const n=(await this.device.controlTransferIn({requestType:"standard",recipient:"device",request:6,value:256,index:0},255)).data;if(!n||n.byteLength<14)throw"Could not get device descriptors.";const r=this.device.usbVersionMajor,o=this.device.deviceVersionMajor,a=n.getInt8(7);if(this.device.deviceClass===2||a!=64)this.deviceType=0;else if(r===512){const i=await this.testHxStatus();i&&o===768?this.deviceType=1:i&&o===1280?this.deviceType=1:this.deviceType=3}else this.deviceType=2;await this.resetDevice(),await this.doBlackMagic(),await this.setControlLines(this.currentControlLinesValue),await this.setFlowControl(this.currentFlowControl),await this.setBaudRate(this.bitrate),this.isClosing=!1,await this.readLoop(),await this.setFlowControl(1),await this.setControlLines(255),this.dispatchEvent(new Event("ready"))})().catch(t=>{console.log("Error during PL2303 setup:",t),this.dispatchEvent(new CustomEvent("error",{detail:t}))})}async readLoop(){if(!this.readEndpoint){console.error("no read endpoint, aborting readLoop()"),await this.close();return}this.device.transferIn(this.readEndpoint.endpointNumber,64).then(t=>{if(t&&t.data&&t.data.byteLength){console.log(`Received ${t.data.byteLength} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(0)}))}else console.log("transferIn got no result, no result data, or data was empty")}).catch(t=>{t.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.warn("Device disconnected"),this.dispatchEvent(new Event("disconnected")),this.isClosing=!0):console.error("Error reading data:",t)}).finally(async()=>{!this.isClosing&&this.device.opened&&await this.readLoop()})}async close(){return this.isClosing=!0,this.dispatchEvent(new Event("disconnected")),new Promise((t,n)=>{setTimeout(async()=>{try{await this.device.releaseInterface(0),await this.device.close(),t()}catch(r){console.error("Error while closing:",r),n(r)}},2e3)})}async write(t){return new Promise((n,r)=>{if(!this.writeEndpoint){r("no writeEndpoint");return}this.device.transferOut(this.writeEndpoint?.endpointNumber,t).then(()=>{n({status:"ok",bytesWritten:t.byteLength})}).catch(o=>{console.error(`error writing to ${this.device.constructor.name}: ${o}`),r(o)})})}async doBlackMagic(){this.deviceType!==3&&(await this.vendorRead(33924,0),await this.vendorWrite(1028,0),await this.vendorRead(33924,0),await this.vendorRead(33667,0),await this.vendorRead(33924,0),await this.vendorWrite(1028,1),await this.vendorRead(33924,0),await this.vendorRead(33667,0),await this.vendorWrite(0,1),await this.vendorWrite(1,0),this.deviceType===0?await this.vendorWrite(2,36):await this.vendorWrite(2,68))}async setFlowControl(t){switch(console.log(`setFlowControl ${t}`),t){case 0:this.deviceType===3?await this.vendorWrite(10,255):await this.vendorWrite(0,0);break;case 1:this.deviceType==3?await this.vendorWrite(10,250):await this.vendorWrite(0,97);break;case 4:this.deviceType==3?await this.vendorWrite(10,238):await this.vendorWrite(0,193);break;default:throw`Unsupported flow control: ${t}`}this.currentFlowControl=t}async setDTR(t){let n;t?n=this.currentControlLinesValue|wc:n=this.currentControlLinesValue&~wc,await this.setControlLines(n)}async setRTS(t){let n;t?n=this.currentControlLinesValue|Sc:n=this.currentControlLinesValue&~Sc,await this.setControlLines(n)}async setControlLines(t){await this.controlTransferOutWithTimeout({requestType:"class",recipient:"interface",request:Nb,value:t,index:0,data:void 0}),this.currentControlLinesValue=t}}const Hb=95,Cc=149,Ec=154,vm=161,Wb=164,Yb=4882,zb=3884,ym=9496,Qb=128,Kb=64,Gb=3,qb=32,Xb=64,wm=6790,Zb=29987,Jb=21795;class ex extends EventTarget{constructor(t,n){super(),this.isClosing=!1,this.bitrate=9600,this.dtr=!0,this.rts=!0,this.bitrate=n.baudRate,this.device=t}async vendorOut(t,n,r=0){await this.device.controlTransferOut({requestType:"vendor",recipient:"device",request:t,value:n,index:r}).then(o=>{console.log("vendorOut success ",o)}).catch(o=>{console.warn(`vendorOut failed ${o}`)})}async vendorIn(t,n,r,o){return this.device.controlTransferIn({requestType:"vendor",recipient:"device",request:t,value:n,index:r},o)}async checkState(t,n,r,o){const a=await this.vendorIn(n,r,0,o.byteLength);return a.status!=="ok"||!a.data?(console.error(`failed to send ${t}, status ${a.status}, data:`,a.data),!1):a.data.byteLength!==o.byteLength?(console.error(`error sending command ${t}, expected ${o.byteLength}, got ${a.data.byteLength} instead`),!1):a.data.buffer!==o?(console.error(`error sending command ${t}, expected `,o," got ",a.data.buffer),!1):!0}async setBaudRate(t){let n,r;if(t===921600)r=7,n=62208;else{for(n=1532620800/t,r=3;n>65520&&r>0;)n>>=3,r--;if(n>65520)throw console.error(`unsupported baud rate ${t}`),new Error(`unsupported baud rate ${t}`);n=65536-n}r|=128;const o=n&65280|r,a=n&255;console.debug(`set baud rate ${t}, v1=${o}, v2=${a}`),await this.vendorOut(Ec,Yb,o),await this.vendorOut(Ec,zb,a)}async open(){(async()=>{await this.device.open();const t=this.device.configuration?this.device.configuration.interfaces:[];await Promise.all(t.map(async r=>{console.log("Claiming interface",r.interfaceNumber);try{return await this.device.claimInterface(r.interfaceNumber)}catch(o){return console.error("error claiming interface ",r,`;, reason: ${o}`)}})),t[t.length-1].alternate.endpoints.forEach(r=>{if(r.type==="bulk")switch(r.direction){case"in":this.readEndpoint=r;break;case"out":this.writeEndpoint=r;break;default:console.error(`endpoint ${r.endpointNumber} has unexpected direction: ${r.direction}`);break}else console.debug("ignoring non-bulk endpoint: ",r)}),await this.init(),await this.setBaudRate(this.bitrate),this.isClosing=!1,await this.readLoop(),this.dispatchEvent(new Event("ready"))})().catch(t=>{console.log("Error during CH34x setup:",t),this.dispatchEvent(new CustomEvent("error",{detail:t}))})}async readLoop(){if(!this.readEndpoint){console.error("no read endpoint, aborting readLoop()"),await this.close();return}this.device.transferIn(this.readEndpoint.endpointNumber,this.readEndpoint.packetSize).then(t=>{if(t&&t.data&&t.data.byteLength){console.log(`Received ${t.data.byteLength} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(0)}))}else console.log("transferIn got no result, no result data, or data was empty")}).catch(t=>{t.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.warn("Device disconnected"),this.dispatchEvent(new Event("disconnected")),this.isClosing=!0):console.error("Error reading data:",t)}).finally(async()=>{!this.isClosing&&this.device.opened&&await this.readLoop()})}async close(){return this.isClosing=!0,this.dispatchEvent(new Event("disconnected")),new Promise((t,n)=>{setTimeout(async()=>{try{await this.device.releaseInterface(0),await this.device.close(),t()}catch(r){console.error("Error while closing:",r),n(r)}},2e3)})}async write(t){return new Promise((n,r)=>{if(!this.writeEndpoint){r("no writeEndpoint");return}this.device.transferOut(this.writeEndpoint?.endpointNumber,t).then(()=>{n({status:"ok",bytesWritten:t.byteLength})}).catch(o=>{console.error(`error writing to ${this.device.constructor.name}: ${o}`),r(o)})})}async setControlLines(){return this.vendorOut(Wb,~((this.dtr?qb:0)|(this.rts?Xb:0)),0)}async init(){await this.checkState("init 1",Hb,0,new Uint8Array([-1,0])),await this.vendorOut(vm,0,0),await this.setBaudRate(9600),await this.checkState("init 4",Cc,ym,new Uint8Array([-1,0])),await this.vendorOut(Ec,ym,Kb|Qb|Gb),await this.checkState("init 6",Cc,1798,new Uint8Array([-1,-1])),await this.vendorOut(vm,20511,55562),await this.setBaudRate(9600),await this.setControlLines(),await this.checkState("init 10",Cc,1798,new Uint8Array([-1,-1]))}}class Sm{device;driver;connected=!1;readable;writable;constructor(t,n){this.device=t,this.driver=n,this.readable=n.getReadableStreamFromDataSource(),this.writable=n.getWritableStreamFromDataSink()}getInfo(){return{usbVendorId:this.device.vendorId,usbProductId:this.device.productId}}async open(t){return new Promise((n,r)=>{this.driver.open(this.device,t).then(()=>{this.connected=!0,n(),console.log(`${this.driver.name} opened`)}).catch(r)})}}class ip extends dy{options;name;noDataWaitTimeMs=300;readable;writable;inboundDataQueue=[];constructor(t){super(),this.name=this.constructor.name,this.options=t}getReadableStreamFromDataSource(){const t=this;return new ReadableStream({start(n){r().catch(o=>n.error(o));async function r(){return t.dataRequest().then(o=>o.length===0?(wi("No data from source: closing"),n.close(),new Uint8Array):(n.enqueue(o),r()))}},cancel(){wi("cancel() called on underlying source"),t.closeImpl()}})}getWritableStreamFromDataSink(){const t=new CountQueuingStrategy({highWaterMark:1}),n=new TextDecoder,r=this;return new WritableStream({write(o){const a=n.decode(o);return console.log(`sending to ${r.name}: ${a}`),new Promise((i,l)=>{r.write(o).then(s=>{console.log(`successfully sent to ${r.name}: ${s.status}, bytesWritten: ${s.bytesWritten}`),i()}).catch(s=>{console.log(`error sending to ${r.name}: ${s.toString()}`),l(s)})})},close(){console.log(`${r.name} sink closed`)},abort(o){console.log(`${r.name} Sink error:`,o)}},t)}async dataRequest(){if(this.inboundDataQueue.length===0)return console.debug(`dataRequest() called, closed? ${this.closed}`),this.closed?Promise.resolve(new Uint8Array):new Promise(n=>{setTimeout(()=>{this.dataRequest().then(r=>{n(r)})},this.noDataWaitTimeMs)});const t=this.inboundDataQueue.splice(0,this.inboundDataQueue.length);return new Promise(n=>{const r=t.reduce((a,i)=>a+i.length,0),o=new Uint8Array(r);t.reduce((a,i)=>(o.set(i,a),a+i.length),0),n(o)})}}class tx extends ip{delegate;constructor(){super([{filters:[{vendorId:wm,productId:Zb},{vendorId:wm,productId:Jb}]}])}async open(t,n){return new Promise((r,o)=>{this.delegate=new ex(t,n),this.delegate.addEventListener("data",a=>{const i=a.detail;this.inboundDataQueue.push(i)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",a=>{o(a)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0}),this.delegate.open()})}async closeImpl(){return this.delegate?.close()}async write(t){return this.delegate?this.delegate.write(t):new Promise((n,r)=>{r("not yet initialized")})}}class nx extends ip{delegate;constructor(){super([{filters:[{vendorId:1659,productId:9123},{vendorId:1659,productId:8963}]}])}async open(t,n){return new Promise((r,o)=>{this.delegate=new Bb(t,n),this.delegate.addEventListener("data",a=>{const i=a.detail;this.inboundDataQueue.push(i)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",a=>{o(a)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0}),this.delegate.open()})}async closeImpl(){return this.delegate?.close()}async write(t){return this.delegate?this.delegate.write(t):new Promise((n,r)=>{r("not yet initialized")})}}class rx extends ip{delegate;constructor(){super([{filters:[{vendorId:1027,productId:24577}]}])}async open(t,n){return new Promise((r,o)=>{this.delegate=new Pb(t,n),this.delegate.addEventListener("data",a=>{const i=a.detail;this.inboundDataQueue.push(i)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",a=>{o(a.detail)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0})})}async closeImpl(){return this.delegate.closeAsync()}async write(t){return this.delegate.writeAsync(t)}}class Bo{static supportedDrivers=[new rx,new nx,new tx];static async getPorts(){const t=[];return navigator.usb&&(await navigator.usb.getDevices()).forEach(r=>{const o=Bo.findDriverForDevice(r);o&&t.push(new Sm(r,o))}),t}async requestPort(){return new Promise((t,n)=>{const r=Bo.supportedDrivers.flatMap(o=>o.options.flatMap(a=>a.filters));navigator.usb.requestDevice({filters:r}).then(o=>{const a=Bo.findDriverForDevice(o);a?t(new Sm(o,a)):n(`could not find driver for device ${JSON.stringify(o)}`)})})}static findDriverForDevice(t){return this.supportedDrivers.find(n=>n.options.flatMap(o=>o.filters).find(o=>o.vendorId==t.vendorId&&o.productId===t.productId))}}class ox{listeners=[];intervalMs;intervalId;constructor(t=1e3){this.intervalMs=t}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,o)=>n===t?(o.splice(r,1),!0):!1)}tick(){const t=Date.now();this.listeners.forEach(n=>{n.tick(t)})}start(){this.intervalId=setInterval(()=>{this.tick()},this.intervalMs)}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}}const Cy=new ox;function sp(e){const t=m.useContext(qe),n=()=>{},r=m.useRef(n);m.useEffect(()=>{r.current=e},[e]),m.useEffect(()=>{const o={tick:()=>{r.current()}};return t.timingSignal.addListener(o),()=>t.timingSignal.removeListener(o)},[])}const Oe=my,Li=new mb,rr=new ZE,Ey=new JE(rr,Li),ax=new vb;function ix(){Li.setPortaCountClient(rr)}function sx(){rr.addListener({particleConcentrationReceived(n){if(!At.isSayingSomething()&&Oe.speechEnabled&&Oe.sayParticleCount){const r=n.concentration,o=Math.ceil(r),a=o<20?(Math.ceil(r*10)/10).toFixed(1):o,i=Oe.verboseSpeech?`Particle count is ${a}`:a.toString();At.sayIt(i)}}});let e="";const t={instructionsChanged(n){const r=n.split(".",2)[0];e!==n&&(e=n,At.sayItLater(r))},estimatedFitFactorChanged(n){Oe.sayEstimatedFitFactor&&At.sayItPolitely(`Estimated Fit Factor is ${n.toFixed(0)}`)}};Li.addListener(t)}function lx(e){const t=Oe.getProtocolDefinition(e),n=hy(t),r=rr.settings,o=r.numExercises||n;o!==n&&console.warn(`numExercises (${o} does not match num exercise for protocol ${e} (${n})`);const a=[];let i=0;return t.forEach(l=>{if(l.mask_sample){i++;const s={instructions:l.instructions,ambient_purge:r.ambientPurge||at.defaultAmbientPurgeDuration,ambient_sample:r.ambientSample||at.defaultAmbientSampleDuration,mask_purge:r.maskPurge||at.defaultMaskPurgeDuration,mask_sample:r.maskSample.get(i)||at.defaultMaskSampleDuration};i>o?console.log(`Ignoring extra exercises. Device is configured for ${o}. Ignoring exercise ${i}`):a.push(s)}}),a.push({instructions:"finalize",ambient_purge:r.ambientPurge,ambient_sample:r.ambientSample,mask_purge:0,mask_sample:0}),a}async function by(){const e=navigator.serial?(await navigator.serial.getPorts()).filter(i=>i.getInfo().usbVendorId):[],t=await Bo.getPorts(),n=t.length>0?t[0]:null,r=e.length>0?e[0]:null,o=Oe.getSetting(I.SELECTED_DATA_SOURCE);let a=null;o===Ie.WebUsbSerial&&n?a=n:o===Ie.WebSerial&&r?a=r:n?(a=n,Oe.saveSetting(I.SELECTED_DATA_SOURCE,Ie.WebUsbSerial)):r&&(a=r,Oe.saveSetting(I.SELECTED_DATA_SOURCE,Ie.WebSerial)),a?(console.debug(`auto-connecting to port ${JSON.stringify(a)}`),rr.connect(a)):Oe.getSetting(I.ENABLE_AUTO_CONNECT)&&setTimeout(()=>by(),1500)}async function ux(){const e=new Date,t=new Date(e.getTime()-e.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);function n(r){const o=new Date(r);return new Date(o.getTime()-o.getTimezoneOffset()*60*1e3).toISOString().substring(0,10)===t}return on.getData().then(r=>{const o=_y(r.map(l=>l.Mask)),a=r.reduce((l,s)=>(l.add((s.Notes??"").trim()),l),new Set),i=r.filter(l=>n(l.Time)).reduce((l,s)=>(l.add((s.Participant??"").trim()),l),new Set);Oe.saveSetting(I.COMBINED_MASK_LIST,o),Oe.saveSetting(I.TEST_NOTES,[...a].sort(io.compare)),Oe.saveSetting(I.TODAY_PARTICIPANTS,[...i].sort(io.compare))})}function cx(){rr.baudRate=Oe.getSetting(I.BAUD_RATE),rr.syncOnConnect=Oe.getSetting(I.SYNC_DEVICE_STATE_ON_CONNECT)}function dx(){let e=!1,t=rt.Disconnected;function n({executorRunning:o,activity:a}){o!==void 0&&(e=o),a!==void 0&&(t=a),Oe.saveSetting(I.ACTIVITY,e?rt.Testing:t)}const r={started(){n({executorRunning:!0})},cancelled(){n({executorRunning:!1})},completed(){n({executorRunning:!1})},activityChanged(o){n({activity:o})},connectionStatusChanged(o){switch(o){case ft.DISCONNECTED:n({activity:rt.Disconnected});break;default:n({activity:rt.Idle});break}}};rr.addListener(r),Ey.addListener(r)}function fx(){const e={newTestStarted(n){const r=xy(n.Mask);if(!r)return;const o=Oe.getSetting(I.COMBINED_MASK_LIST);new Set(o.map(i=>i.toLowerCase())).has(r.toLowerCase())||Oe.saveSetting(I.COMBINED_MASK_LIST,[...o,r].toSorted(io.compare))}};Li.addListener(e);const t=_y([...Oe.getSetting(I.MASK_LIST),...Oe.getSetting(I.COMBINED_MASK_LIST)]);Oe.saveSetting(I.COMBINED_MASK_LIST,t),Oe.getSetting(I.AUTO_UPDATE_MASK_LIST)&&Oe.saveSetting(I.MASK_LIST,t)}async function px(){await Oe.loadAllSettings(),await on.open(),await lu.open(),cx(),sx(),ix(),await ux(),dx(),fx(),Cy.start(),Oe.getSetting(I.ENABLE_AUTO_CONNECT)&&await by()}function xy(e){return(e??"").replaceAll(/\s+/g," ")}function _y(e){const t=new Set;return[...e.reduce((r,o)=>{const a=xy(o),i=a.toLowerCase();return i&&!t.has(i)&&(t.add(i),r.add(a)),r},new Set)].toSorted(io.compare)}await px();const Ty={portaCountClient:rr,settings:Oe,dataCollector:Li,protocolExecutor:Ey,portaCountSimulator:ax,timingSignal:Cy},qe=m.createContext(Ty);function hx(e,t){const n=m.useRef(),r=m.useRef(),o=a=>{r.current===void 0&&(r.current=a),e({frameCurrentTime:a}),n.current=requestAnimationFrame(o)};m.useEffect(()=>(n.current=requestAnimationFrame(o),()=>{n.current&&cancelAnimationFrame(n.current)}),t)}function te(e){const t=m.useContext(qe).settings,[n,r]=m.useState(t.getSetting(e));return m.useEffect(()=>{const o={subscriptions:()=>[e],settingsChanged(a,i){r(i)}};return t.addListener(o),()=>t.removeListener(o)},[]),m.useEffect(()=>{t.saveSetting(e,n)},[n]),[n,r]}function Dy(){const e=m.useContext(qe),t=e.settings.getProtocolNames(),[n,r]=te(I.SELECTED_PROTOCOL),o=a=>{const i=n;r(a),i!==a&&e.protocolExecutor.protocolIsExecuting()&&e.protocolExecutor.cancel()};return C.jsx("select",{id:"protocol-select",onChange:a=>o(a.target.value),value:n,children:t.map(a=>C.jsx("option",{value:a,children:a},a))})}var ky={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cm=D.createContext&&D.createContext(ky),mx=["attr","size","title"];function gx(e,t){if(e==null)return{};var n=vx(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vx(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(this,arguments)}function Em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Em(Object(n),!0).forEach(function(r){yx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yx(e,t,n){return t=wx(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wx(e){var t=Sx(e,"string");return typeof t=="symbol"?t:t+""}function Sx(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Py(e){return e&&e.map((t,n)=>D.createElement(t.tag,El({key:n},t.attr),Py(t.child)))}function tt(e){return t=>D.createElement(Cx,Cl({attr:El({},e.attr)},t),Py(e.child))}function Cx(e){var t=n=>{var{attr:r,size:o,title:a}=e,i=gx(e,mx),l=o||n.size||"1em",s;return n.className&&(s=n.className),e.className&&(s=(s?s+" ":"")+e.className),D.createElement("svg",Cl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:s,style:El(El({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&D.createElement("title",null,a),e.children)};return Cm!==void 0?D.createElement(Cm.Consumer,null,n=>t(n)):t(ky)}function Ex(e){return tt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zM6 4.5l6 3.5-6 3.5z"},child:[]}]})(e)}function bx(e){return tt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zM5 5h6v6h-6z"},child:[]}]})(e)}function xx(e){return tt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707m0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707m-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707"},child:[]}]})(e)}function _x(e){return tt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"},child:[]}]})(e)}function Tx(e){return tt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 9a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3A.5.5 0 0 1 6 9M3.854 4.146a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708z"},child:[]},{tag:"path",attr:{d:"M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"},child:[]}]})(e)}function Oy(e){return tt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 2A2.5 2.5 0 0 0 10 4.5a.5.5 0 0 1-1 0A3.5 3.5 0 1 1 12.5 8H.5a.5.5 0 0 1 0-1h12a2.5 2.5 0 0 0 0-5m-7 1a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 1 1 2 2h-5a.5.5 0 0 1 0-1h5a1 1 0 0 0 0-2M0 9.5A.5.5 0 0 1 .5 9h10.042a3 3 0 1 1-3 3 .5.5 0 0 1 1 0 2 2 0 1 0 2-2H.5a.5.5 0 0 1-.5-.5"},child:[]}]})(e)}function My(e){return tt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"},child:[]}]})(e)}function Ry(e){return tt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,104a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,104Zm-8,24H88a8,8,0,0,0,0,16h80a8,8,0,0,0,0-16Zm88-24v24a32,32,0,0,1-32,32h-5.19c-7.19,15.8-21.79,29.43-43.23,40.16a191.16,191.16,0,0,1-46.15,15.71,7.93,7.93,0,0,1-2.86,0,191.16,191.16,0,0,1-46.15-15.71C59,189.43,44.38,175.8,37.19,160H32A32,32,0,0,1,0,128V104A32,32,0,0,1,32,72h.85a16,16,0,0,1,9.68-10l80-29.09a16.06,16.06,0,0,1,10.94,0l80,29.09a16,16,0,0,1,9.68,10H224A32,32,0,0,1,256,104ZM32.55,144a58.74,58.74,0,0,1-.55-8V88a16,16,0,0,0-16,16v24a16,16,0,0,0,16,16ZM208,136V77.09L128,48,48,77.09V136c0,45,69.09,61.52,80,63.84C138.89,197.52,208,181,208,136Zm32-32a16,16,0,0,0-16-16v48a58.74,58.74,0,0,1-.55,8H224a16,16,0,0,0,16-16Z"},child:[]}]})(e)}function Dx(e){return tt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,128a79.94,79.94,0,0,0-32.7-64.47l-6.24-34.38A16,16,0,0,0,153.32,16H102.68A16,16,0,0,0,86.94,29.15L80.7,63.53a79.9,79.9,0,0,0,0,128.94l6.24,34.38A16,16,0,0,0,102.68,240h50.64a16,16,0,0,0,15.74-13.15l6.24-34.38A79.94,79.94,0,0,0,208,128ZM102.68,32h50.64l3.91,21.55a79.75,79.75,0,0,0-58.46,0ZM64,128a64,64,0,1,1,64,64A64.07,64.07,0,0,1,64,128Zm89.32,96H102.68l-3.91-21.55a79.75,79.75,0,0,0,58.46,0ZM120,128V88a8,8,0,0,1,16,0v32h32a8,8,0,0,1,0,16H128A8,8,0,0,1,120,128Z"},child:[]}]})(e)}function kx(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M224 232a32 32 0 0 1 64 0m160-32h16m-400 0H48m16 0c0 96 16 128 80 128s80-32 80-128c0 0-16-16-80-16s-80 16-80 16zm384 0c0 96-16 128-80 128s-80-32-80-128c0 0 16-16 80-16s80 16 80 16z"},child:[]}]})(e)}function Px(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 256a112 112 0 1 0-112-112 112 112 0 0 0 112 112zm0 32c-69.42 0-208 42.88-208 128v64h416v-64c0-85.12-138.58-128-208-128z"},child:[]}]})(e)}function Ox(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 112 48v16H96a64 64 0 0 0-64 64v12a4 4 0 0 0 4 4h440a4 4 0 0 0 4-4v-12a64 64 0 0 0-64-64zm61 112H35a3 3 0 0 0-3 3v237a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V179a3 3 0 0 0-3-3zM224 307.43A28.57 28.57 0 0 1 195.43 336h-70.86A28.57 28.57 0 0 1 96 307.43v-70.86A28.57 28.57 0 0 1 124.57 208h70.86A28.57 28.57 0 0 1 224 236.57z"},child:[]}]})(e)}function us({icon:e,text:t,children:n}){return C.jsxs("div",{className:"icon-text svg-container thin-border blue-bg number-field",style:{display:"inline-flex",gap:"0.2em"},children:[C.jsx("div",{className:"wide-display",children:t}),C.jsx("div",{className:"narrow-display",children:e?e({}):null}),n]})}function Mx({...e}){const t=m.useContext(qe),n=t.protocolExecutor,r=t.portaCountClient,o=t.dataCollector,[a,i]=m.useState(),[l,s]=m.useState(Date.now()),[u,c]=m.useState(!1),[d]=te(I.SELECTED_PROTOCOL),[f,p]=m.useState({}),[v,g]=m.useState(!0),[y,h]=m.useState([]),[w,S]=m.useState([]),[E,x]=m.useState(!1),[b,_]=m.useState(0),[T,k]=m.useState([]),[R,O]=m.useState([]),[M,$]=m.useState(Be(0)),H=m.useRef(null),j=m.useRef(null),L=n.lastAmbientSegment?gr(n.lastAmbientSegment):void 0,U=a?gr(a):void 0,P=L&&U?su(L/U):"?";function F(z){const ie=py(z),se=z.index===a?.index,Ce=z.duration*1e3-(Date.now()-l);if(!ie)return"";const Xe=f[`Ex ${z.exerciseNumber}`];return Xe?`done - ${Xe}`:se?Ce>0?`${Be(Ce)} (${P})`:`${Be(Ce)} (${P})`:Be(1e3*z.duration)}function V(){const z={},ie={},se=[],Ce=[],Xe=gy(y);y.forEach(G=>{ie[G.index]=G.duration,z[G.stageIndex]=(z[G.stageIndex]??0)+G.duration;const Qt=G.index===a?.index;se.push(C.jsx("div",{className:`segment-${G.state} sample-source-${G.source}`,style:{display:"block",flexGrow:`${G.duration}`,flexBasis:`${G.duration}px`,minWidth:"2px",overflow:"clip",animation:Qt?"pulse-background infinite 1s ease-in-out alternate":""},children:F(G)},`segment-${G.index}`)),Ce[G.stageIndex]=G.exerciseNumber});const Q=[];Object.entries(z).forEach(([G,Qt])=>{const St=Number(G);Q.push(C.jsxs("div",{style:{border:"1px solid",display:"inline-block",flexGrow:`${Qt}`,flexBasis:`${Qt}px`,minWidth:"1px",maxHeight:"3rem",overflow:"clip"},children:[Ce[St]?`Ex ${Ce[St]}: `:"",w[St].instructions.split(".")[0]]},`stage-${G}`))}),_(Xe),k(se),O(Q)}function J(z){z.index===0&&V(),i(z),s(z.segmentStartTimeMs||Date.now()),c(!0)}function ne(){n.currentSegment&&i(n.currentSegment)}m.useEffect(()=>{const z={testStarted(ie){x(!0),i(y[0]),s(ie),ge({source:fe.Internal})},testTerminated(){x(!1),i(void 0)},fitFactorResultsReceived(ie){if(ie.exerciseNum==="Final")x(!1),i(void 0);else{const se=y.reduce((Ce,Xe,Q,G)=>Ce||(Xe.exerciseNumber===ie.exerciseNum+1?G[Q]:null),null);i(se||void 0),s(ie.timestamp)}}};return r.addListener(z),()=>{r.removeListener(z)}},[y]),m.useEffect(()=>{const z={started(){c(!0)},segmentDataUpdated(){},segmentChanged(se){J(se)},cancelled(){H.current&&H.current.classList.replace("in-progress","paused"),c(!1),i(void 0)},completed(){c(!1),i(void 0)}},ie={currentTestUpdated(se){p(se),g(!0)}};return n.addListener(z),o.addListener(ie),ge({}),ne(),()=>{n.removeListener(z),o.removeListener(ie)}},[]),m.useEffect(()=>{p({}),ge({}),g(!0)},[d]),m.useEffect(()=>{u?j.current?.classList.replace("idle","in-progress"):j.current?.classList.replace("in-progress","idle")},[u]),sp(De);function ge({protocolName:z=d,source:ie=fe.External}){const se=ie===fe.External?t.settings.getProtocolDefinition(z):lx(z);S(se),h(Sl(se)),g(!0)}function De(){(v||a&&a.state&&a.state!==Kr.IDLE)&&($(Be(K(1e3*(a?.duration??0)))),V(),g(!1))}function K(z,ie=!0){const se=Date.now()-l,Ce=Math.min(se,z);return a?a.protocolStartTimeOffsetSeconds*1e3+(ie?Ce:se):0}hx(()=>{if(!(!u&&!E)&&H.current){const z=1e3*(a?.duration??0),ie=K(z,!E);Date.now()-l>=z?H.current.classList.replace("in-progress","paused"):H.current.classList.replace("paused","in-progress"),H.current.style.right=`${100-.1*ie/b}%`}},[b,l]);function oe(){n.cancel()}function A(){return a&&a.source===Se.MASK&&U&&!isNaN(U)?U.toFixed(U<100?1:0):"?"}function re(){if(!a)return"?";if(a.source===Se.AMBIENT){const z=gr(a);if(z)return z.toFixed(0)}return L?L.toFixed(0):"?"}return C.jsx("section",{id:"custom-control-panel",...e,children:C.jsxs("fieldset",{id:"protocol-executor-panel-main",ref:j,className:"idle",style:{minWidth:0,overflow:"auto",paddingBottom:"0.2em"},children:[C.jsxs("legend",{style:{textAlign:"start",display:"inline-flex",flexWrap:"wrap",paddingInline:"0.5rem"},children:["Protocol ",C.jsx(Dy,{}),C.jsxs("button",{disabled:u||r.state.connectionStatus!==ft.RECEIVING,className:"start",onClick:()=>n.executeProtocol(y),children:["Start ",C.jsx(Ex,{})]}),C.jsxs("button",{disabled:!u,onClick:()=>oe(),className:"stop",children:["Stop ",C.jsx(bx,{})]}),C.jsxs("div",{style:{display:"inline-flex"},children:[C.jsxs(us,{icon:Dx,text:"Time:",children:[M," / ",Be(b*1e3)]}),C.jsx(us,{icon:Oy,text:"Ambient:",children:re()}),C.jsx(us,{icon:Ry,text:"Mask:",children:A()}),C.jsx(us,{icon:kx,text:"Estimate:",children:P})]})]}),C.jsx("div",{id:"protocol-visualizer-container",style:{minWidth:"fit-content"},children:C.jsxs("section",{id:"protocol-visualizer",style:{position:"relative"},children:[C.jsx("div",{id:"protocol-pos-pointer",ref:H,className:"protocol-position-pointer paused",style:{float:"inline-start",zIndex:1}}),C.jsx("div",{style:{display:"flex",flexWrap:"nowrap",width:"100%",minWidth:"100%",height:"fit-content",minHeight:"1rem"},children:R}),C.jsx("div",{style:{display:"flex",flexWrap:"nowrap",width:"100%",minWidth:"100%",height:"fit-content",minHeight:"1rem"},children:T})]})})]})})}function Ny({...e}){return C.jsx("fieldset",{style:{borderBottom:"none",borderInline:"none",paddingInline:0,minWidth:0},children:e.children})}function ta({debounce:e=!0,debounceDelay:t=500,resize:n=!0,onChange:r,initialValue:o,label:a,placeholder:i,autocompleteOptions:l=[],id:s,oneLine:u=!1,scrollable:c=!1,onChangeOnlyOnBlur:d}){const[f,p]=D.useState(o),v=m.useRef(null),g=m.useRef(null),[y,h]=m.useState(null),[w,S]=m.useState(!1),[E,x]=m.useState(!0),[b,_]=m.useState(!0),[T,k]=m.useState(0),R=m.useRef(null),O=m.useMemo(()=>{const K=Array.isArray(l)?l:l();if((f??"").trim().length===0||!b)return K;function A(re){const z=re.value.toLowerCase();return(f??"").toLowerCase().split(/\s+/).every(ie=>z.includes(ie))}return K.filter(re=>A(re))},[l,f,b]),M=m.useCallback(K=>{const oe=O.length;if(!oe)return;switch(K.ctrlKey?`Ctrl-${K.key.toUpperCase()}`:K.code){case"Escape":if(b&&oe<T){_(!1);break}L();break;case"Ctrl-N":case"Ctrl-F":case"ArrowDown":h(re=>(re===null?0:re+1)%oe),S(!0);break;case"Ctrl-P":case"Ctrl-B":case"ArrowUp":h(re=>(oe+(re===null?oe-1:re-1))%oe),S(!0);break;case"Enter":case"Tab":if(!w)break;y===null||oe===1&&O[0].value.toLowerCase()===(f??"").toLowerCase()||oe>0&&(K.preventDefault(),p(O[y].value)),L();break;default:_(!0);break}},[O,y,f,w]);m.useEffect(()=>{$(f)},[]),m.useEffect(()=>{p(o)},[o]),m.useEffect(()=>{if(f||h(null),!d&&r)if(e){const K=setTimeout(()=>{o!==f&&r(f)},t);return()=>clearTimeout(K)}else r(f)},[f]),m.useEffect(()=>{if(R.current&&y!==null){const K=R.current.children.item(y);K&&K.scrollIntoView({block:"center"}),x(!1)}},[y]),m.useEffect(()=>{h(K=>K===null||O.length===0?null:Math.min(K,O.length-1))},[O]),m.useEffect(()=>{if(w){let K=function(){document.removeEventListener("click",oe),document.removeEventListener("focusin",A),document.removeEventListener("mousemove",re)};const oe=z=>{z.target!==R.current&&z.target!==g.current&&(L(),K())},A=z=>{E&&z.target!==g.current&&(L(),K())},re=z=>{z.type==="mousemove"&&x(!0)};return document.addEventListener("click",oe),document.addEventListener("focusin",A),document.addEventListener("mousemove",re),()=>{K()}}},[w,E]),m.useEffect(()=>{const K=Array.isArray(l)?l:l();k(K.length)},[l]);function $(K){n&&v.current&&(v.current.dataset.value=K)}function H(K){$(K.target.value),p(K.target.value)}function j(){E&&h(null)}function L(){h(null),S(!1),_(!0),g.current&&g.current.blur()}function U(K){p(K.value),L()}function P(K){O.length>1&&K.type==="mousedown"&&document.activeElement===g.current&&S(oe=>!oe)}function F(){O.length>1&&S(!0)}function V(){d&&r&&r(f)}function J(){return O.map(K=>{const oe=y!==null&&O[y]===K;return C.jsx("li",{className:`autocomplete-option ${oe&&"selected"}`,onMouseEnter:()=>j(),onClick:()=>U(K),children:K.label},K.value)})}function ne(){p("")}const ge=g.current?.getBoundingClientRect(),De=`smart-text-area-${s}-textarea`;return C.jsxs("label",{id:`smart-text-area-${s}-container`,className:"smart-text-area-container",children:[a&&C.jsx("label",{id:`smart-text-area-${s}-label`,htmlFor:De,className:"smart-text-area-label",children:a}),C.jsx("label",{id:`smart-text-area-${s}-textarea-resizer`,className:"textarea-resizer",ref:v,children:C.jsx("textarea",{id:`smart-text-area-${s}-textarea`,className:`smart-text-area-textarea ${u&&"one-line"} ${c&&"scrollable"}`,placeholder:i,value:f,ref:g,onChange:H,onFocus:F,onBlur:V,onMouseDown:P,onKeyDown:K=>M(K)})}),C.jsx("div",{className:"clear-content-icon",children:C.jsx(My,{onClick:()=>ne()})}),w&&Ni.createPortal(C.jsx("div",{id:`smart-text-area-${s}-autocomplete-options`,className:`smart-text-area-autocomplete-container ${O.length<T&&"some-options-filtered"}`,ref:R,style:{top:ge?.bottom,left:ge?.left,width:ge?.width},children:J()}),document.body)]})}function Rx(e){const[t]=te(I.COMBINED_MASK_LIST);function n(o){e.onChange&&e.onChange(o)}const r=m.useCallback(()=>t.toSorted(io.compare).map(o=>({label:o,value:o})),[t]);return C.jsx(ta,{id:`mask-${e.id}`,label:e.label,initialValue:e.value,autocompleteOptions:r,placeholder:e.placeholder||"Click to add mask",onChange:o=>n(o||"")})}function Nx(e){const[t,n]=te(I.TODAY_PARTICIPANTS);function r(o){e.onChange&&e.onChange(o),n(a=>[...new Set([...a,o])].filter(i=>i&&i.trim().length>0).toSorted(io.compare))}return C.jsx(ta,{id:"participant",label:e.label,initialValue:e.value,autocompleteOptions:t.map(o=>({label:o,value:o})),placeholder:"Click to add participant",onChange:o=>r(o||"")})}function Ix(e){const[t,n]=te(I.TEST_NOTES);function r(o){e.onChange&&e.onChange(o),n(a=>[...new Set([...a,o])].filter(i=>i&&i.trim().length>0).toSorted(io.compare))}return C.jsx(ta,{id:"notes",debounceDelay:5e3,label:e.label,initialValue:e.value,autocompleteOptions:t.map(o=>({label:o,value:o})),placeholder:"Click to add notes",onChange:o=>r(o||"")})}function Lx(){const e=m.useContext(qe),[t,n]=te(I.TEST_TEMPLATE),[,r]=m.useState({}),o=m.useCallback(()=>{r({})},[]);m.useEffect(()=>{o()},[t]);function a(c){c=c.trim(),s({Participant:c,Time:t.Participant!==c?new Date().toISOString():t.Time})}function i(c){s({Mask:c})}function l(c){s({Notes:c})}function s(c){const d={};Object.assign(d,t),Object.assign(d,c),console.debug(`updateTestTemplate -> ${JSON.stringify(d)}`),n(d)}function u(){e.dataCollector.recordTestStart(fe.Manual)}return C.jsx("div",{id:"current-participant-panel",children:C.jsxs(Ny,{children:[C.jsxs("legend",{children:["Current Participant ",C.jsx("button",{onClick:()=>u(),children:"Manual Entry"})]}),C.jsxs("div",{id:"participant-parameters",style:{display:"flex",textAlign:"start",flexDirection:"row",flexWrap:"wrap",gap:"2px"},children:[C.jsx("div",{className:"thin-border-2",children:C.jsx(Nx,{value:t.Participant,label:"Participant",onChange:c=>a(c||"")})}),C.jsx("div",{className:"thin-border-2",children:C.jsx(Rx,{value:t.Mask,label:"Mask",onChange:c=>i(c||"")})}),C.jsx("div",{className:"thin-border-2",children:C.jsx(Ix,{value:t.Notes,label:"Notes",onChange:c=>l(c||"")})})]})]})})}function Ax(){return C.jsxs("fieldset",{className:"info-box-compact",children:[C.jsx("legend",{children:"Protocol"}),C.jsx(Dy,{})]})}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(null,arguments)}function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function Fx(e,t){if(so(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(so(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iy(e){var t=Fx(e,"string");return so(t)=="symbol"?t:t+""}function Ua(e,t,n){return(t=Iy(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bm(Object(n),!0).forEach(function(r){Ua(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iy(r.key),r)}}function jx(e,t,n){return t&&xm(e.prototype,t),n&&xm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vd(e,t){return Vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Vd(e,t)}function Vx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vd(e,t)}function bl(e){return bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bl(e)}function Ly(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ly=function(){return!!e})()}function Ux(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bx(e,t){if(t&&(so(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ux(e)}function Hx(e){var t=Ly();return function(){var n,r=bl(e);if(t){var o=bl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bx(this,n)}}function Ud(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Wx(e){if(Array.isArray(e))return Ud(e)}function Yx(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ay(e,t){if(e){if(typeof e=="string")return Ud(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ud(e,t):void 0}}function zx(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ho(e){return Wx(e)||Yx(e)||Ay(e)||zx()}var Qx=!1;function Kx(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Gx(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var qx=function(){function e(n){var r=this;this._insertTag=function(o){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,a),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!Qx:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Gx(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Kx(o);try{a.insertRule(r,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},e}(),vt="-ms-",xl="-moz-",ve="-webkit-",Fy="comm",lp="rule",up="decl",Xx="@import",$y="@keyframes",Zx="@layer",Jx=Math.abs,uu=String.fromCharCode,e_=Object.assign;function t_(e,t){return dt(e,0)^45?(((t<<2^dt(e,0))<<2^dt(e,1))<<2^dt(e,2))<<2^dt(e,3):0}function jy(e){return e.trim()}function n_(e,t){return(e=t.exec(e))?e[0]:e}function ye(e,t,n){return e.replace(t,n)}function Bd(e,t){return e.indexOf(t)}function dt(e,t){return e.charCodeAt(t)|0}function Si(e,t,n){return e.slice(t,n)}function Cn(e){return e.length}function cp(e){return e.length}function cs(e,t){return t.push(e),e}function r_(e,t){return e.map(t).join("")}var cu=1,na=1,Vy=0,Nt=0,Ke=0,ha="";function du(e,t,n,r,o,a,i){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:cu,column:na,length:i,return:""}}function ka(e,t){return e_(du("",null,null,"",null,null,0),e,{length:-e.length},t)}function o_(){return Ke}function a_(){return Ke=Nt>0?dt(ha,--Nt):0,na--,Ke===10&&(na=1,cu--),Ke}function jt(){return Ke=Nt<Vy?dt(ha,Nt++):0,na++,Ke===10&&(na=1,cu++),Ke}function Mn(){return dt(ha,Nt)}function Is(){return Nt}function Ai(e,t){return Si(ha,e,t)}function Ci(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Uy(e){return cu=na=1,Vy=Cn(ha=e),Nt=0,[]}function By(e){return ha="",e}function Ls(e){return jy(Ai(Nt-1,Hd(e===91?e+2:e===40?e+1:e)))}function i_(e){for(;(Ke=Mn())&&Ke<33;)jt();return Ci(e)>2||Ci(Ke)>3?"":" "}function s_(e,t){for(;--t&&jt()&&!(Ke<48||Ke>102||Ke>57&&Ke<65||Ke>70&&Ke<97););return Ai(e,Is()+(t<6&&Mn()==32&&jt()==32))}function Hd(e){for(;jt();)switch(Ke){case e:return Nt;case 34:case 39:e!==34&&e!==39&&Hd(Ke);break;case 40:e===41&&Hd(e);break;case 92:jt();break}return Nt}function l_(e,t){for(;jt()&&e+Ke!==57;)if(e+Ke===84&&Mn()===47)break;return"/*"+Ai(t,Nt-1)+"*"+uu(e===47?e:jt())}function u_(e){for(;!Ci(Mn());)jt();return Ai(e,Nt)}function c_(e){return By(As("",null,null,null,[""],e=Uy(e),0,[0],e))}function As(e,t,n,r,o,a,i,l,s){for(var u=0,c=0,d=i,f=0,p=0,v=0,g=1,y=1,h=1,w=0,S="",E=o,x=a,b=r,_=S;y;)switch(v=w,w=jt()){case 40:if(v!=108&&dt(_,d-1)==58){Bd(_+=ye(Ls(w),"&","&\f"),"&\f")!=-1&&(h=-1);break}case 34:case 39:case 91:_+=Ls(w);break;case 9:case 10:case 13:case 32:_+=i_(v);break;case 92:_+=s_(Is()-1,7);continue;case 47:switch(Mn()){case 42:case 47:cs(d_(l_(jt(),Is()),t,n),s);break;default:_+="/"}break;case 123*g:l[u++]=Cn(_)*h;case 125*g:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+c:h==-1&&(_=ye(_,/\f/g,"")),p>0&&Cn(_)-d&&cs(p>32?Tm(_+";",r,n,d-1):Tm(ye(_," ","")+";",r,n,d-2),s);break;case 59:_+=";";default:if(cs(b=_m(_,t,n,u,c,o,l,S,E=[],x=[],d),a),w===123)if(c===0)As(_,t,b,b,E,a,d,l,x);else switch(f===99&&dt(_,3)===110?100:f){case 100:case 108:case 109:case 115:As(e,b,b,r&&cs(_m(e,b,b,0,0,o,l,S,o,E=[],d),x),o,x,d,l,r?E:x);break;default:As(_,b,b,b,[""],x,0,l,x)}}u=c=p=0,g=h=1,S=_="",d=i;break;case 58:d=1+Cn(_),p=v;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&a_()==125)continue}switch(_+=uu(w),w*g){case 38:h=c>0?1:(_+="\f",-1);break;case 44:l[u++]=(Cn(_)-1)*h,h=1;break;case 64:Mn()===45&&(_+=Ls(jt())),f=Mn(),c=d=Cn(S=_+=u_(Is())),w++;break;case 45:v===45&&Cn(_)==2&&(g=0)}}return a}function _m(e,t,n,r,o,a,i,l,s,u,c){for(var d=o-1,f=o===0?a:[""],p=cp(f),v=0,g=0,y=0;v<r;++v)for(var h=0,w=Si(e,d+1,d=Jx(g=i[v])),S=e;h<p;++h)(S=jy(g>0?f[h]+" "+w:ye(w,/&\f/g,f[h])))&&(s[y++]=S);return du(e,t,n,o===0?lp:l,s,u,c)}function d_(e,t,n){return du(e,t,n,Fy,uu(o_()),Si(e,2,-2),0)}function Tm(e,t,n,r){return du(e,t,n,up,Si(e,0,r),Si(e,r+1,-1),r)}function Wo(e,t){for(var n="",r=cp(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function f_(e,t,n,r){switch(e.type){case Zx:if(e.children.length)break;case Xx:case up:return e.return=e.return||e.value;case Fy:return"";case $y:return e.return=e.value+"{"+Wo(e.children,r)+"}";case lp:e.value=e.props.join(",")}return Cn(n=Wo(e.children,r))?e.return=e.value+"{"+n+"}":""}function p_(e){var t=cp(e);return function(n,r,o,a){for(var i="",l=0;l<t;l++)i+=e[l](n,r,o,a)||"";return i}}function h_(e){return function(t){t.root||(t=t.return)&&e(t)}}function m_(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var g_=function(t,n,r){for(var o=0,a=0;o=a,a=Mn(),o===38&&a===12&&(n[r]=1),!Ci(a);)jt();return Ai(t,Nt)},v_=function(t,n){var r=-1,o=44;do switch(Ci(o)){case 0:o===38&&Mn()===12&&(n[r]=1),t[r]+=g_(Nt-1,n,r);break;case 2:t[r]+=Ls(o);break;case 4:if(o===44){t[++r]=Mn()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=uu(o)}while(o=jt());return t},y_=function(t,n){return By(v_(Uy(t),n))},Dm=new WeakMap,w_=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Dm.get(r))&&!o){Dm.set(t,!0);for(var a=[],i=y_(n,a),l=r.props,s=0,u=0;s<i.length;s++)for(var c=0;c<l.length;c++,u++)t.props[u]=a[s]?i[s].replace(/&\f/g,l[c]):l[c]+" "+i[s]}}},S_=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function Hy(e,t){switch(t_(e,t)){case 5103:return ve+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ve+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ve+e+xl+e+vt+e+e;case 6828:case 4268:return ve+e+vt+e+e;case 6165:return ve+e+vt+"flex-"+e+e;case 5187:return ve+e+ye(e,/(\w+).+(:[^]+)/,ve+"box-$1$2"+vt+"flex-$1$2")+e;case 5443:return ve+e+vt+"flex-item-"+ye(e,/flex-|-self/,"")+e;case 4675:return ve+e+vt+"flex-line-pack"+ye(e,/align-content|flex-|-self/,"")+e;case 5548:return ve+e+vt+ye(e,"shrink","negative")+e;case 5292:return ve+e+vt+ye(e,"basis","preferred-size")+e;case 6060:return ve+"box-"+ye(e,"-grow","")+ve+e+vt+ye(e,"grow","positive")+e;case 4554:return ve+ye(e,/([^-])(transform)/g,"$1"+ve+"$2")+e;case 6187:return ye(ye(ye(e,/(zoom-|grab)/,ve+"$1"),/(image-set)/,ve+"$1"),e,"")+e;case 5495:case 3959:return ye(e,/(image-set\([^]*)/,ve+"$1$`$1");case 4968:return ye(ye(e,/(.+:)(flex-)?(.*)/,ve+"box-pack:$3"+vt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ve+e+e;case 4095:case 3583:case 4068:case 2532:return ye(e,/(.+)-inline(.+)/,ve+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cn(e)-1-t>6)switch(dt(e,t+1)){case 109:if(dt(e,t+4)!==45)break;case 102:return ye(e,/(.+:)(.+)-([^]+)/,"$1"+ve+"$2-$3$1"+xl+(dt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Bd(e,"stretch")?Hy(ye(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(dt(e,t+1)!==115)break;case 6444:switch(dt(e,Cn(e)-3-(~Bd(e,"!important")&&10))){case 107:return ye(e,":",":"+ve)+e;case 101:return ye(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ve+(dt(e,14)===45?"inline-":"")+"box$3$1"+ve+"$2$3$1"+vt+"$2box$3")+e}break;case 5936:switch(dt(e,t+11)){case 114:return ve+e+vt+ye(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ve+e+vt+ye(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ve+e+vt+ye(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ve+e+vt+e+e}return e}var C_=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case up:t.return=Hy(t.value,t.length);break;case $y:return Wo([ka(t,{value:ye(t.value,"@","@"+ve)})],o);case lp:if(t.length)return r_(t.props,function(a){switch(n_(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Wo([ka(t,{props:[ye(a,/:(read-\w+)/,":"+xl+"$1")]})],o);case"::placeholder":return Wo([ka(t,{props:[ye(a,/:(plac\w+)/,":"+ve+"input-$1")]}),ka(t,{props:[ye(a,/:(plac\w+)/,":"+xl+"$1")]}),ka(t,{props:[ye(a,/:(plac\w+)/,vt+"input-$1")]})],o)}return""})}},E_=[C_],b_=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var o=t.stylisPlugins||E_,a={},i,l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),h=1;h<y.length;h++)a[y[h]]=!0;l.push(g)});var s,u=[w_,S_];{var c,d=[f_,h_(function(g){c.insert(g)})],f=p_(u.concat(o,d)),p=function(y){return Wo(c_(y),f)};s=function(y,h,w,S){c=w,p(y?y+"{"+h.styles+"}":h.styles),S&&(v.inserted[h.name]=!0)}}var v={key:n,sheet:new qx({key:n,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:s};return v.sheet.hydrate(l),v},Wy={exports:{}},Te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt=typeof Symbol=="function"&&Symbol.for,dp=lt?Symbol.for("react.element"):60103,fp=lt?Symbol.for("react.portal"):60106,fu=lt?Symbol.for("react.fragment"):60107,pu=lt?Symbol.for("react.strict_mode"):60108,hu=lt?Symbol.for("react.profiler"):60114,mu=lt?Symbol.for("react.provider"):60109,gu=lt?Symbol.for("react.context"):60110,pp=lt?Symbol.for("react.async_mode"):60111,vu=lt?Symbol.for("react.concurrent_mode"):60111,yu=lt?Symbol.for("react.forward_ref"):60112,wu=lt?Symbol.for("react.suspense"):60113,x_=lt?Symbol.for("react.suspense_list"):60120,Su=lt?Symbol.for("react.memo"):60115,Cu=lt?Symbol.for("react.lazy"):60116,__=lt?Symbol.for("react.block"):60121,T_=lt?Symbol.for("react.fundamental"):60117,D_=lt?Symbol.for("react.responder"):60118,k_=lt?Symbol.for("react.scope"):60119;function zt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dp:switch(e=e.type,e){case pp:case vu:case fu:case hu:case pu:case wu:return e;default:switch(e=e&&e.$$typeof,e){case gu:case yu:case Cu:case Su:case mu:return e;default:return t}}case fp:return t}}}function Yy(e){return zt(e)===vu}Te.AsyncMode=pp;Te.ConcurrentMode=vu;Te.ContextConsumer=gu;Te.ContextProvider=mu;Te.Element=dp;Te.ForwardRef=yu;Te.Fragment=fu;Te.Lazy=Cu;Te.Memo=Su;Te.Portal=fp;Te.Profiler=hu;Te.StrictMode=pu;Te.Suspense=wu;Te.isAsyncMode=function(e){return Yy(e)||zt(e)===pp};Te.isConcurrentMode=Yy;Te.isContextConsumer=function(e){return zt(e)===gu};Te.isContextProvider=function(e){return zt(e)===mu};Te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dp};Te.isForwardRef=function(e){return zt(e)===yu};Te.isFragment=function(e){return zt(e)===fu};Te.isLazy=function(e){return zt(e)===Cu};Te.isMemo=function(e){return zt(e)===Su};Te.isPortal=function(e){return zt(e)===fp};Te.isProfiler=function(e){return zt(e)===hu};Te.isStrictMode=function(e){return zt(e)===pu};Te.isSuspense=function(e){return zt(e)===wu};Te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fu||e===vu||e===hu||e===pu||e===wu||e===x_||typeof e=="object"&&e!==null&&(e.$$typeof===Cu||e.$$typeof===Su||e.$$typeof===mu||e.$$typeof===gu||e.$$typeof===yu||e.$$typeof===T_||e.$$typeof===D_||e.$$typeof===k_||e.$$typeof===__)};Te.typeOf=zt;Wy.exports=Te;var P_=Wy.exports,zy=P_,O_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},M_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qy={};Qy[zy.ForwardRef]=O_;Qy[zy.Memo]=M_;var R_=!0;function N_(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var Ky=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||R_===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},I_=function(t,n,r){Ky(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+o:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function L_(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var A_={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},F_=!1,$_=/[A-Z]|^ms/g,j_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Gy=function(t){return t.charCodeAt(1)===45},km=function(t){return t!=null&&typeof t!="boolean"},bc=m_(function(e){return Gy(e)?e:e.replace($_,"-$&").toLowerCase()}),Pm=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(j_,function(r,o,a){return En={name:o,styles:a,next:En},o})}return A_[t]!==1&&!Gy(t)&&typeof n=="number"&&n!==0?n+"px":n},V_="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ei(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return En={name:o.name,styles:o.styles,next:En},o.name;var a=n;if(a.styles!==void 0){var i=a.next;if(i!==void 0)for(;i!==void 0;)En={name:i.name,styles:i.styles,next:En},i=i.next;var l=a.styles+";";return l}return U_(e,t,n)}case"function":{if(e!==void 0){var s=En,u=n(e);return En=s,Ei(e,t,u)}break}}var c=n;return c}function U_(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Ei(e,t,n[o])+";";else for(var a in n){var i=n[a];if(typeof i!="object"){var l=i;km(l)&&(r+=bc(a)+":"+Pm(a,l)+";")}else{if(a==="NO_COMPONENT_SELECTOR"&&F_)throw new Error(V_);if(Array.isArray(i)&&typeof i[0]=="string"&&t==null)for(var s=0;s<i.length;s++)km(i[s])&&(r+=bc(a)+":"+Pm(a,i[s])+";");else{var u=Ei(e,t,i);switch(a){case"animation":case"animationName":{r+=bc(a)+":"+u+";";break}default:r+=a+"{"+u+"}"}}}}return r}var Om=/label:\s*([^\s;{]+)\s*(;|$)/g,En;function qy(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";En=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,o+=Ei(n,t,a);else{var i=a;o+=i[0]}for(var l=1;l<e.length;l++)if(o+=Ei(n,t,e[l]),r){var s=a;o+=s[l]}Om.lastIndex=0;for(var u="",c;(c=Om.exec(o))!==null;)u+="-"+c[1];var d=L_(o)+u;return{name:d,styles:o,next:En}}var B_=function(t){return t()},H_=Hc.useInsertionEffect?Hc.useInsertionEffect:!1,W_=H_||B_,Y_=!1,Xy=m.createContext(typeof HTMLElement<"u"?b_({key:"css"}):null);Xy.Provider;var z_=function(t){return m.forwardRef(function(n,r){var o=m.useContext(Xy);return t(n,o,r)})},Q_=m.createContext({}),hp={}.hasOwnProperty,Wd="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",K_=function(t,n){var r={};for(var o in n)hp.call(n,o)&&(r[o]=n[o]);return r[Wd]=t,r},G_=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return Ky(n,r,o),W_(function(){return I_(n,r,o)}),null},q_=z_(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var o=e[Wd],a=[r],i="";typeof e.className=="string"?i=N_(t.registered,a,e.className):e.className!=null&&(i=e.className+" ");var l=qy(a,void 0,m.useContext(Q_));i+=t.key+"-"+l.name;var s={};for(var u in e)hp.call(e,u)&&u!=="css"&&u!==Wd&&!Y_&&(s[u]=e[u]);return s.className=i,n&&(s.ref=n),m.createElement(m.Fragment,null,m.createElement(G_,{cache:t,serialized:l,isStringTag:typeof o=="string"}),m.createElement(o,s))}),X_=q_,Z=function(t,n){var r=arguments;if(n==null||!hp.call(n,"css"))return m.createElement.apply(void 0,r);var o=r.length,a=new Array(o);a[0]=X_,a[1]=K_(t,n);for(var i=2;i<o;i++)a[i]=r[i];return m.createElement.apply(null,a)};function mp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qy(t)}var Z_=function(){var t=mp.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function J_(e){if(Array.isArray(e))return e}function eT(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,a,i,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(c){u=!0,o=c}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}function tT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qn(e,t){return J_(e)||eT(e,t)||Ay(e,t)||tT()}function nT(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function An(e,t){if(e==null)return{};var n,r,o=nT(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function rT(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const ra=Math.min,Zr=Math.max,_l=Math.round,ds=Math.floor,Rn=e=>({x:e,y:e}),oT={left:"right",right:"left",bottom:"top",top:"bottom"},aT={start:"end",end:"start"};function iT(e,t,n){return Zr(e,ra(t,n))}function Eu(e,t){return typeof e=="function"?e(t):e}function oa(e){return e.split("-")[0]}function Fi(e){return e.split("-")[1]}function sT(e){return e==="x"?"y":"x"}function gp(e){return e==="y"?"height":"width"}function bi(e){return["top","bottom"].includes(oa(e))?"y":"x"}function vp(e){return sT(bi(e))}function lT(e,t,n){n===void 0&&(n=!1);const r=Fi(e),o=vp(e),a=gp(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Tl(i)),[i,Tl(i)]}function uT(e){const t=Tl(e);return[Yd(e),t,Yd(t)]}function Yd(e){return e.replace(/start|end/g,t=>aT[t])}function cT(e,t,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?a:i;default:return[]}}function dT(e,t,n,r){const o=Fi(e);let a=cT(oa(e),n==="start",r);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(Yd)))),a}function Tl(e){return e.replace(/left|right|bottom|top/g,t=>oT[t])}function fT(e){return{top:0,right:0,bottom:0,left:0,...e}}function Zy(e){return typeof e!="number"?fT(e):{top:e,right:e,bottom:e,left:e}}function Dl(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Mm(e,t,n){let{reference:r,floating:o}=e;const a=bi(t),i=vp(t),l=gp(i),s=oa(t),u=a==="y",c=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[l]/2-o[l]/2;let p;switch(s){case"top":p={x:c,y:r.y-o.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Fi(t)){case"start":p[i]-=f*(n&&u?-1:1);break;case"end":p[i]+=f*(n&&u?-1:1);break}return p}const pT=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),s=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:d}=Mm(u,r,s),f=r,p={},v=0;for(let g=0;g<l.length;g++){const{name:y,fn:h}=l[g],{x:w,y:S,data:E,reset:x}=await h({x:c,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});c=w??c,d=S??d,p={...p,[y]:{...p[y],...E}},x&&v<=50&&(v++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(u=x.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):x.rects),{x:c,y:d}=Mm(u,f,s)),g=-1)}return{x:c,y:d,placement:f,strategy:o,middlewareData:p}};async function hT(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:i,elements:l,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Eu(t,e),v=Zy(p),y=l[f?d==="floating"?"reference":"floating":d],h=Dl(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:s})),w=d==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),E=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},x=Dl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:S,strategy:s}):w);return{top:(h.top-x.top+v.top)/E.y,bottom:(x.bottom-h.bottom+v.bottom)/E.y,left:(h.left-x.left+v.left)/E.x,right:(x.right-h.right+v.right)/E.x}}const mT=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:i,elements:l,middlewareData:s}=t,{element:u,padding:c=0}=Eu(e,t)||{};if(u==null)return{};const d=Zy(c),f={x:n,y:r},p=vp(o),v=gp(p),g=await i.getDimensions(u),y=p==="y",h=y?"top":"left",w=y?"bottom":"right",S=y?"clientHeight":"clientWidth",E=a.reference[v]+a.reference[p]-f[p]-a.floating[v],x=f[p]-a.reference[p],b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=b?b[S]:0;(!_||!await(i.isElement==null?void 0:i.isElement(b)))&&(_=l.floating[S]||a.floating[v]);const T=E/2-x/2,k=_/2-g[v]/2-1,R=ra(d[h],k),O=ra(d[w],k),M=R,$=_-g[v]-O,H=_/2-g[v]/2+T,j=iT(M,H,$),L=!s.arrow&&Fi(o)!=null&&H!==j&&a.reference[v]/2-(H<M?R:O)-g[v]/2<0,U=L?H<M?H-M:H-$:0;return{[p]:f[p]+U,data:{[p]:j,centerOffset:H-j-U,...L&&{alignmentOffset:U}},reset:L}}}),gT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:i,initialPlacement:l,platform:s,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=Eu(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const h=oa(o),w=bi(l),S=oa(l)===l,E=await(s.isRTL==null?void 0:s.isRTL(u.floating)),x=f||(S||!g?[Tl(l)]:uT(l)),b=v!=="none";!f&&b&&x.push(...dT(l,g,v,E));const _=[l,...x],T=await hT(t,y),k=[];let R=((r=a.flip)==null?void 0:r.overflows)||[];if(c&&k.push(T[h]),d){const H=lT(o,i,E);k.push(T[H[0]],T[H[1]])}if(R=[...R,{placement:o,overflows:k}],!k.every(H=>H<=0)){var O,M;const H=(((O=a.flip)==null?void 0:O.index)||0)+1,j=_[H];if(j)return{data:{index:H,overflows:R},reset:{placement:j}};let L=(M=R.filter(U=>U.overflows[0]<=0).sort((U,P)=>U.overflows[1]-P.overflows[1])[0])==null?void 0:M.placement;if(!L)switch(p){case"bestFit":{var $;const U=($=R.filter(P=>{if(b){const F=bi(P.placement);return F===w||F==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(F=>F>0).reduce((F,V)=>F+V,0)]).sort((P,F)=>P[1]-F[1])[0])==null?void 0:$[0];U&&(L=U);break}case"initialPlacement":L=l;break}if(o!==L)return{reset:{placement:L}}}return{}}}};async function vT(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=oa(n),l=Fi(n),s=bi(n)==="y",u=["left","top"].includes(i)?-1:1,c=a&&s?-1:1,d=Eu(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),s?{x:p*c,y:f*u}:{x:f*u,y:p*c}}const yT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:i,middlewareData:l}=t,s=await vT(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+s.x,y:a+s.y,data:{...s,placement:i}}}}};function bu(){return typeof window<"u"}function ma(e){return Jy(e)?(e.nodeName||"").toLowerCase():"#document"}function Vt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fn(e){var t;return(t=(Jy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Jy(e){return bu()?e instanceof Node||e instanceof Vt(e).Node:!1}function bt(e){return bu()?e instanceof Element||e instanceof Vt(e).Element:!1}function Ln(e){return bu()?e instanceof HTMLElement||e instanceof Vt(e).HTMLElement:!1}function Rm(e){return!bu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vt(e).ShadowRoot}function $i(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=an(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function wT(e){return["table","td","th"].includes(ma(e))}function xu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function yp(e){const t=wp(),n=bt(e)?an(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ST(e){let t=Nr(e);for(;Ln(t)&&!aa(t);){if(yp(t))return t;if(xu(t))return null;t=Nr(t)}return null}function wp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function aa(e){return["html","body","#document"].includes(ma(e))}function an(e){return Vt(e).getComputedStyle(e)}function _u(e){return bt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Nr(e){if(ma(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rm(e)&&e.host||Fn(e);return Rm(t)?t.host:t}function ew(e){const t=Nr(e);return aa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ln(t)&&$i(t)?t:ew(t)}function xi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=ew(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),i=Vt(o);if(a){const l=zd(i);return t.concat(i,i.visualViewport||[],$i(o)?o:[],l&&n?xi(l):[])}return t.concat(o,xi(o,[],n))}function zd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tw(e){const t=an(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Ln(e),a=o?e.offsetWidth:n,i=o?e.offsetHeight:r,l=_l(n)!==a||_l(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function Sp(e){return bt(e)?e:e.contextElement}function Yo(e){const t=Sp(e);if(!Ln(t))return Rn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=tw(t);let i=(a?_l(n.width):n.width)/r,l=(a?_l(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const CT=Rn(0);function nw(e){const t=Vt(e);return!wp()||!t.visualViewport?CT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ET(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Vt(e)?!1:t}function lo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=Sp(e);let i=Rn(1);t&&(r?bt(r)&&(i=Yo(r)):i=Yo(e));const l=ET(a,n,r)?nw(a):Rn(0);let s=(o.left+l.x)/i.x,u=(o.top+l.y)/i.y,c=o.width/i.x,d=o.height/i.y;if(a){const f=Vt(a),p=r&&bt(r)?Vt(r):r;let v=f,g=zd(v);for(;g&&r&&p!==v;){const y=Yo(g),h=g.getBoundingClientRect(),w=an(g),S=h.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,E=h.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;s*=y.x,u*=y.y,c*=y.x,d*=y.y,s+=S,u+=E,v=Vt(g),g=zd(v)}}return Dl({width:c,height:d,x:s,y:u})}function Cp(e,t){const n=_u(e).scrollLeft;return t?t.left+n:lo(Fn(e)).left+n}function rw(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Cp(e,r)),a=r.top+t.scrollTop;return{x:o,y:a}}function bT(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",i=Fn(r),l=t?xu(t.floating):!1;if(r===i||l&&a)return n;let s={scrollLeft:0,scrollTop:0},u=Rn(1);const c=Rn(0),d=Ln(r);if((d||!d&&!a)&&((ma(r)!=="body"||$i(i))&&(s=_u(r)),Ln(r))){const p=lo(r);u=Yo(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const f=i&&!d&&!a?rw(i,s,!0):Rn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+c.x+f.x,y:n.y*u.y-s.scrollTop*u.y+c.y+f.y}}function xT(e){return Array.from(e.getClientRects())}function _T(e){const t=Fn(e),n=_u(e),r=e.ownerDocument.body,o=Zr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Zr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Cp(e);const l=-n.scrollTop;return an(r).direction==="rtl"&&(i+=Zr(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:l}}function TT(e,t){const n=Vt(e),r=Fn(e),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,s=0;if(o){a=o.width,i=o.height;const u=wp();(!u||u&&t==="fixed")&&(l=o.offsetLeft,s=o.offsetTop)}return{width:a,height:i,x:l,y:s}}function DT(e,t){const n=lo(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=Ln(e)?Yo(e):Rn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,s=o*a.x,u=r*a.y;return{width:i,height:l,x:s,y:u}}function Nm(e,t,n){let r;if(t==="viewport")r=TT(e,n);else if(t==="document")r=_T(Fn(e));else if(bt(t))r=DT(t,n);else{const o=nw(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Dl(r)}function ow(e,t){const n=Nr(e);return n===t||!bt(n)||aa(n)?!1:an(n).position==="fixed"||ow(n,t)}function kT(e,t){const n=t.get(e);if(n)return n;let r=xi(e,[],!1).filter(l=>bt(l)&&ma(l)!=="body"),o=null;const a=an(e).position==="fixed";let i=a?Nr(e):e;for(;bt(i)&&!aa(i);){const l=an(i),s=yp(i);!s&&l.position==="fixed"&&(o=null),(a?!s&&!o:!s&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||$i(i)&&!s&&ow(e,i))?r=r.filter(c=>c!==i):o=l,i=Nr(i)}return t.set(e,r),r}function PT(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?xu(t)?[]:kT(t,this._c):[].concat(n),r],l=i[0],s=i.reduce((u,c)=>{const d=Nm(t,c,o);return u.top=Zr(d.top,u.top),u.right=ra(d.right,u.right),u.bottom=ra(d.bottom,u.bottom),u.left=Zr(d.left,u.left),u},Nm(t,l,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function OT(e){const{width:t,height:n}=tw(e);return{width:t,height:n}}function MT(e,t,n){const r=Ln(t),o=Fn(t),a=n==="fixed",i=lo(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const s=Rn(0);if(r||!r&&!a)if((ma(t)!=="body"||$i(o))&&(l=_u(t)),r){const f=lo(t,!0,a,t);s.x=f.x+t.clientLeft,s.y=f.y+t.clientTop}else o&&(s.x=Cp(o));const u=o&&!r&&!a?rw(o,l):Rn(0),c=i.left+l.scrollLeft-s.x-u.x,d=i.top+l.scrollTop-s.y-u.y;return{x:c,y:d,width:i.width,height:i.height}}function xc(e){return an(e).position==="static"}function Im(e,t){if(!Ln(e)||an(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fn(e)===n&&(n=n.ownerDocument.body),n}function aw(e,t){const n=Vt(e);if(xu(e))return n;if(!Ln(e)){let o=Nr(e);for(;o&&!aa(o);){if(bt(o)&&!xc(o))return o;o=Nr(o)}return n}let r=Im(e,t);for(;r&&wT(r)&&xc(r);)r=Im(r,t);return r&&aa(r)&&xc(r)&&!yp(r)?n:r||ST(e)||n}const RT=async function(e){const t=this.getOffsetParent||aw,n=this.getDimensions,r=await n(e.floating);return{reference:MT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function NT(e){return an(e).direction==="rtl"}const IT={convertOffsetParentRelativeRectToViewportRelativeRect:bT,getDocumentElement:Fn,getClippingRect:PT,getOffsetParent:aw,getElementRects:RT,getClientRects:xT,getDimensions:OT,getScale:Yo,isElement:bt,isRTL:NT};function LT(e,t){let n=null,r;const o=Fn(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,s){l===void 0&&(l=!1),s===void 0&&(s=1),a();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(l||t(),!d||!f)return;const p=ds(c),v=ds(o.clientWidth-(u+d)),g=ds(o.clientHeight-(c+f)),y=ds(u),w={rootMargin:-p+"px "+-v+"px "+-g+"px "+-y+"px",threshold:Zr(0,ra(1,s))||1};let S=!0;function E(x){const b=x[0].intersectionRatio;if(b!==s){if(!S)return i();b?i(!1,b):r=setTimeout(()=>{i(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(E,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(e)}return i(!0),a}function iw(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,u=Sp(e),c=o||a?[...u?xi(u):[],...xi(t)]:[];c.forEach(h=>{o&&h.addEventListener("scroll",n,{passive:!0}),a&&h.addEventListener("resize",n)});const d=u&&l?LT(u,n):null;let f=-1,p=null;i&&(p=new ResizeObserver(h=>{let[w]=h;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(t)})),n()}),u&&!s&&p.observe(u),p.observe(t));let v,g=s?lo(e):null;s&&y();function y(){const h=lo(e);g&&(h.x!==g.x||h.y!==g.y||h.width!==g.width||h.height!==g.height)&&n(),g=h,v=requestAnimationFrame(y)}return n(),()=>{var h;c.forEach(w=>{o&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),d?.(),(h=p)==null||h.disconnect(),p=null,s&&cancelAnimationFrame(v)}}const AT=yT,FT=gT,Lm=mT,$T=(e,t,n)=>{const r=new Map,o={platform:IT,...n},a={...o.platform,_c:r};return pT(e,t,{...o,platform:a})};var Qd=m.useLayoutEffect,jT=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],kl=function(){};function VT(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function UT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a=[].concat(r);if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&a.push("".concat(VT(e,i)));return a.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Pl=function(t){return qT(t)?t.filter(Boolean):so(t)==="object"&&t!==null?[t]:[]},sw=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=An(t,jT);return X({},n)},He=function(t,n,r){var o=t.cx,a=t.getStyles,i=t.getClassNames,l=t.className;return{css:a(n,t),className:o(r??{},i(n,t),l)}};function Tu(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function BT(e){return Tu(e)?window.innerHeight:e.clientHeight}function lw(e){return Tu(e)?window.pageYOffset:e.scrollTop}function Ol(e,t){if(Tu(e)){window.scrollTo(0,t);return}e.scrollTop=t}function HT(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}function WT(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function fs(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:kl,o=lw(e),a=t-o,i=10,l=0;function s(){l+=i;var u=WT(l,o,a,n);Ol(e,u),l<n?window.requestAnimationFrame(s):r(e)}s()}function Am(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?Ol(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&Ol(e,Math.max(t.offsetTop-o,0))}function YT(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Fm(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function zT(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var uw=!1,QT={get passive(){return uw=!0}},ps=typeof window<"u"?window:{};ps.addEventListener&&ps.removeEventListener&&(ps.addEventListener("p",kl,QT),ps.removeEventListener("p",kl,!1));var KT=uw;function GT(e){return e!=null}function qT(e){return Array.isArray(e)}function Ba(e,t,n){return e?t:n}var XT=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=Object.entries(t).filter(function(i){var l=Qn(i,1),s=l[0];return!r.includes(s)});return a.reduce(function(i,l){var s=Qn(l,2),u=s[0],c=s[1];return i[u]=c,i},{})},ZT=["children","innerProps"],JT=["children","innerProps"];function eD(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,a=e.shouldScroll,i=e.isFixedPosition,l=e.controlHeight,s=HT(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c=s.getBoundingClientRect(),d=c.height,f=n.getBoundingClientRect(),p=f.bottom,v=f.height,g=f.top,y=n.offsetParent.getBoundingClientRect(),h=y.top,w=i?window.innerHeight:BT(s),S=lw(s),E=parseInt(getComputedStyle(n).marginBottom,10),x=parseInt(getComputedStyle(n).marginTop,10),b=h-x,_=w-g,T=b+S,k=d-S-g,R=p-w+S+E,O=S+g-x,M=160;switch(o){case"auto":case"bottom":if(_>=v)return{placement:"bottom",maxHeight:t};if(k>=v&&!i)return a&&fs(s,R,M),{placement:"bottom",maxHeight:t};if(!i&&k>=r||i&&_>=r){a&&fs(s,R,M);var $=i?_-E:k-E;return{placement:"bottom",maxHeight:$}}if(o==="auto"||i){var H=t,j=i?b:T;return j>=r&&(H=Math.min(j-E-l,t)),{placement:"top",maxHeight:H}}if(o==="bottom")return a&&Ol(s,R),{placement:"bottom",maxHeight:t};break;case"top":if(b>=v)return{placement:"top",maxHeight:t};if(T>=v&&!i)return a&&fs(s,O,M),{placement:"top",maxHeight:t};if(!i&&T>=r||i&&b>=r){var L=t;return(!i&&T>=r||i&&b>=r)&&(L=i?b-x:T-x),a&&fs(s,O,M),{placement:"top",maxHeight:L}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return u}function tD(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var cw=function(t){return t==="auto"?"bottom":t},nD=function(t,n){var r,o=t.placement,a=t.theme,i=a.borderRadius,l=a.spacing,s=a.colors;return X((r={label:"menu"},Ua(r,tD(o),"100%"),Ua(r,"position","absolute"),Ua(r,"width","100%"),Ua(r,"zIndex",1),r),n?{}:{backgroundColor:s.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},dw=m.createContext(null),rD=function(t){var n=t.children,r=t.minMenuHeight,o=t.maxMenuHeight,a=t.menuPlacement,i=t.menuPosition,l=t.menuShouldScrollIntoView,s=t.theme,u=m.useContext(dw)||{},c=u.setPortalPlacement,d=m.useRef(null),f=m.useState(o),p=Qn(f,2),v=p[0],g=p[1],y=m.useState(null),h=Qn(y,2),w=h[0],S=h[1],E=s.spacing.controlHeight;return Qd(function(){var x=d.current;if(x){var b=i==="fixed",_=l&&!b,T=eD({maxHeight:o,menuEl:x,minHeight:r,placement:a,shouldScroll:_,isFixedPosition:b,controlHeight:E});g(T.maxHeight),S(T.placement),c?.(T.placement)}},[o,a,i,l,r,c,E]),n({ref:d,placerProps:X(X({},t),{},{placement:w||cw(a),maxHeight:v})})},oD=function(t){var n=t.children,r=t.innerRef,o=t.innerProps;return Z("div",ee({},He(t,"menu",{menu:!0}),{ref:r},o),n)},aD=oD,iD=function(t,n){var r=t.maxHeight,o=t.theme.spacing.baseUnit;return X({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:o,paddingTop:o})},sD=function(t){var n=t.children,r=t.innerProps,o=t.innerRef,a=t.isMulti;return Z("div",ee({},He(t,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:o},r),n)},fw=function(t,n){var r=t.theme,o=r.spacing.baseUnit,a=r.colors;return X({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(o*2,"px ").concat(o*3,"px")})},lD=fw,uD=fw,cD=function(t){var n=t.children,r=n===void 0?"No options":n,o=t.innerProps,a=An(t,ZT);return Z("div",ee({},He(X(X({},a),{},{children:r,innerProps:o}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),o),r)},dD=function(t){var n=t.children,r=n===void 0?"Loading...":n,o=t.innerProps,a=An(t,JT);return Z("div",ee({},He(X(X({},a),{},{children:r,innerProps:o}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),o),r)},fD=function(t){var n=t.rect,r=t.offset,o=t.position;return{left:n.left,position:o,top:r,width:n.width,zIndex:1}},pD=function(t){var n=t.appendTo,r=t.children,o=t.controlElement,a=t.innerProps,i=t.menuPlacement,l=t.menuPosition,s=m.useRef(null),u=m.useRef(null),c=m.useState(cw(i)),d=Qn(c,2),f=d[0],p=d[1],v=m.useMemo(function(){return{setPortalPlacement:p}},[]),g=m.useState(null),y=Qn(g,2),h=y[0],w=y[1],S=m.useCallback(function(){if(o){var _=YT(o),T=l==="fixed"?0:window.pageYOffset,k=_[f]+T;(k!==h?.offset||_.left!==h?.rect.left||_.width!==h?.rect.width)&&w({offset:k,rect:_})}},[o,l,f,h?.offset,h?.rect.left,h?.rect.width]);Qd(function(){S()},[S]);var E=m.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),o&&s.current&&(u.current=iw(o,s.current,S,{elementResize:"ResizeObserver"in window}))},[o,S]);Qd(function(){E()},[E]);var x=m.useCallback(function(_){s.current=_,E()},[E]);if(!n&&l!=="fixed"||!h)return null;var b=Z("div",ee({ref:x},He(X(X({},t),{},{offset:h.offset,position:l,rect:h.rect}),"menuPortal",{"menu-portal":!0}),a),r);return Z(dw.Provider,{value:v},n?Ni.createPortal(b,n):b)},hD=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},mD=function(t){var n=t.children,r=t.innerProps,o=t.isDisabled,a=t.isRtl;return Z("div",ee({},He(t,"container",{"--is-disabled":o,"--is-rtl":a}),r),n)},gD=function(t,n){var r=t.theme.spacing,o=t.isMulti,a=t.hasValue,i=t.selectProps.controlShouldRenderValue;return X({alignItems:"center",display:o&&a&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},vD=function(t){var n=t.children,r=t.innerProps,o=t.isMulti,a=t.hasValue;return Z("div",ee({},He(t,"valueContainer",{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":a}),r),n)},yD=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},wD=function(t){var n=t.children,r=t.innerProps;return Z("div",ee({},He(t,"indicatorsContainer",{indicators:!0}),r),n)},$m,SD=["size"],CD=["innerProps","isRtl","size"],ED={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},pw=function(t){var n=t.size,r=An(t,SD);return Z("svg",ee({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ED},r))},Ep=function(t){return Z(pw,ee({size:20},t),Z("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},hw=function(t){return Z(pw,ee({size:20},t),Z("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},mw=function(t,n){var r=t.isFocused,o=t.theme,a=o.spacing.baseUnit,i=o.colors;return X({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?i.neutral60:i.neutral20,padding:a*2,":hover":{color:r?i.neutral80:i.neutral40}})},bD=mw,xD=function(t){var n=t.children,r=t.innerProps;return Z("div",ee({},He(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||Z(hw,null))},_D=mw,TD=function(t){var n=t.children,r=t.innerProps;return Z("div",ee({},He(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||Z(Ep,null))},DD=function(t,n){var r=t.isDisabled,o=t.theme,a=o.spacing.baseUnit,i=o.colors;return X({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?i.neutral10:i.neutral20,marginBottom:a*2,marginTop:a*2})},kD=function(t){var n=t.innerProps;return Z("span",ee({},n,He(t,"indicatorSeparator",{"indicator-separator":!0})))},PD=Z_($m||($m=rT([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),OD=function(t,n){var r=t.isFocused,o=t.size,a=t.theme,i=a.colors,l=a.spacing.baseUnit;return X({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?i.neutral60:i.neutral20,padding:l*2})},_c=function(t){var n=t.delay,r=t.offset;return Z("span",{css:mp({animation:"".concat(PD," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},MD=function(t){var n=t.innerProps,r=t.isRtl,o=t.size,a=o===void 0?4:o,i=An(t,CD);return Z("div",ee({},He(X(X({},i),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),Z(_c,{delay:0,offset:r}),Z(_c,{delay:160,offset:!0}),Z(_c,{delay:320,offset:!r}))},RD=function(t,n){var r=t.isDisabled,o=t.isFocused,a=t.theme,i=a.colors,l=a.borderRadius,s=a.spacing;return X({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:s.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?i.neutral5:i.neutral0,borderColor:r?i.neutral10:o?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:o?i.primary:i.neutral30}})},ND=function(t){var n=t.children,r=t.isDisabled,o=t.isFocused,a=t.innerRef,i=t.innerProps,l=t.menuIsOpen;return Z("div",ee({ref:a},He(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":o,"control--menu-is-open":l}),i,{"aria-disabled":r||void 0}),n)},ID=ND,LD=["data"],AD=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},FD=function(t){var n=t.children,r=t.cx,o=t.getStyles,a=t.getClassNames,i=t.Heading,l=t.headingProps,s=t.innerProps,u=t.label,c=t.theme,d=t.selectProps;return Z("div",ee({},He(t,"group",{group:!0}),s),Z(i,ee({},l,{selectProps:d,theme:c,getStyles:o,getClassNames:a,cx:r}),u),Z("div",null,n))},$D=function(t,n){var r=t.theme,o=r.colors,a=r.spacing;return X({label:"group",cursor:"default",display:"block"},n?{}:{color:o.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},jD=function(t){var n=sw(t);n.data;var r=An(n,LD);return Z("div",ee({},He(t,"groupHeading",{"group-heading":!0}),r))},VD=FD,UD=["innerRef","isDisabled","isHidden","inputClassName"],BD=function(t,n){var r=t.isDisabled,o=t.value,a=t.theme,i=a.spacing,l=a.colors;return X(X({visibility:r?"hidden":"visible",transform:o?"translateZ(0)":""},HD),n?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},gw={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},HD={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":X({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},gw)},WD=function(t){return X({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},gw)},YD=function(t){var n=t.cx,r=t.value,o=sw(t),a=o.innerRef,i=o.isDisabled,l=o.isHidden,s=o.inputClassName,u=An(o,UD);return Z("div",ee({},He(t,"input",{"input-container":!0}),{"data-value":r||""}),Z("input",ee({className:n({input:!0},s),ref:a,style:WD(l),disabled:i},u)))},zD=YD,QD=function(t,n){var r=t.theme,o=r.spacing,a=r.borderRadius,i=r.colors;return X({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:i.neutral10,borderRadius:a/2,margin:o.baseUnit/2})},KD=function(t,n){var r=t.theme,o=r.borderRadius,a=r.colors,i=t.cropWithEllipsis;return X({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:o/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},GD=function(t,n){var r=t.theme,o=r.spacing,a=r.borderRadius,i=r.colors,l=t.isFocused;return X({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},vw=function(t){var n=t.children,r=t.innerProps;return Z("div",r,n)},qD=vw,XD=vw;function ZD(e){var t=e.children,n=e.innerProps;return Z("div",ee({role:"button"},n),t||Z(Ep,{size:14}))}var JD=function(t){var n=t.children,r=t.components,o=t.data,a=t.innerProps,i=t.isDisabled,l=t.removeProps,s=t.selectProps,u=r.Container,c=r.Label,d=r.Remove;return Z(u,{data:o,innerProps:X(X({},He(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),a),selectProps:s},Z(c,{data:o,innerProps:X({},He(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},n),Z(d,{data:o,innerProps:X(X({},He(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:s}))},ek=JD,tk=function(t,n){var r=t.isDisabled,o=t.isFocused,a=t.isSelected,i=t.theme,l=i.spacing,s=i.colors;return X({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?s.primary:o?s.primary25:"transparent",color:r?s.neutral20:a?s.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?s.primary:s.primary50}})},nk=function(t){var n=t.children,r=t.isDisabled,o=t.isFocused,a=t.isSelected,i=t.innerRef,l=t.innerProps;return Z("div",ee({},He(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":o,"option--is-selected":a}),{ref:i,"aria-disabled":r},l),n)},rk=nk,ok=function(t,n){var r=t.theme,o=r.spacing,a=r.colors;return X({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},ak=function(t){var n=t.children,r=t.innerProps;return Z("div",ee({},He(t,"placeholder",{placeholder:!0}),r),n)},ik=ak,sk=function(t,n){var r=t.isDisabled,o=t.theme,a=o.spacing,i=o.colors;return X({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?i.neutral40:i.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},lk=function(t){var n=t.children,r=t.isDisabled,o=t.innerProps;return Z("div",ee({},He(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),o),n)},uk=lk,yw={ClearIndicator:TD,Control:ID,DropdownIndicator:xD,DownChevron:hw,CrossIcon:Ep,Group:VD,GroupHeading:jD,IndicatorsContainer:wD,IndicatorSeparator:kD,Input:zD,LoadingIndicator:MD,Menu:aD,MenuList:sD,MenuPortal:pD,LoadingMessage:dD,NoOptionsMessage:cD,MultiValue:ek,MultiValueContainer:qD,MultiValueLabel:XD,MultiValueRemove:ZD,Option:rk,Placeholder:ik,SelectContainer:mD,SingleValue:uk,ValueContainer:vD},ck=function(t){return X(X({},yw),t.components)},jm=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function dk(e,t){return!!(e===t||jm(e)&&jm(t))}function fk(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!dk(e[n],t[n]))return!1;return!0}function pk(e,t){t===void 0&&(t=fk);var n=null;function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var i=e.apply(this,o);return n={lastResult:i,lastArgs:o,lastThis:this},i}return r.clear=function(){n=null},r}var hk={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},mk=function(t){return Z("span",ee({css:hk},t))},Vm=mk,gk={guidance:function(t){var n=t.isSearchable,r=t.isMulti,o=t.tabSelectsValue,a=t.context,i=t.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,o=r===void 0?"":r,a=t.labels,i=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(o,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return i?"option ".concat(o," is disabled. Select another option."):"option ".concat(o,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,o=t.options,a=t.label,i=a===void 0?"":a,l=t.selectValue,s=t.isDisabled,u=t.isSelected,c=t.isAppleDevice,d=function(g,y){return g&&g.length?"".concat(g.indexOf(y)+1," of ").concat(g.length):""};if(n==="value"&&l)return"value ".concat(i," focused, ").concat(d(l,r),".");if(n==="menu"&&c){var f=s?" disabled":"",p="".concat(u?" selected":"").concat(f);return"".concat(i).concat(p,", ").concat(d(o,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},vk=function(t){var n=t.ariaSelection,r=t.focusedOption,o=t.focusedValue,a=t.focusableOptions,i=t.isFocused,l=t.selectValue,s=t.selectProps,u=t.id,c=t.isAppleDevice,d=s.ariaLiveMessages,f=s.getOptionLabel,p=s.inputValue,v=s.isMulti,g=s.isOptionDisabled,y=s.isSearchable,h=s.menuIsOpen,w=s.options,S=s.screenReaderStatus,E=s.tabSelectsValue,x=s.isLoading,b=s["aria-label"],_=s["aria-live"],T=m.useMemo(function(){return X(X({},gk),d||{})},[d]),k=m.useMemo(function(){var j="";if(n&&T.onChange){var L=n.option,U=n.options,P=n.removedValue,F=n.removedValues,V=n.value,J=function(re){return Array.isArray(re)?null:re},ne=P||L||J(V),ge=ne?f(ne):"",De=U||F||void 0,K=De?De.map(f):[],oe=X({isDisabled:ne&&g(ne,l),label:ge,labels:K},n);j=T.onChange(oe)}return j},[n,T,g,l,f]),R=m.useMemo(function(){var j="",L=r||o,U=!!(r&&l&&l.includes(r));if(L&&T.onFocus){var P={focused:L,label:f(L),isDisabled:g(L,l),isSelected:U,options:a,context:L===r?"menu":"value",selectValue:l,isAppleDevice:c};j=T.onFocus(P)}return j},[r,o,f,g,T,a,l,c]),O=m.useMemo(function(){var j="";if(h&&w.length&&!x&&T.onFilter){var L=S({count:a.length});j=T.onFilter({inputValue:p,resultsMessage:L})}return j},[a,p,h,T,w,S,x]),M=n?.action==="initial-input-focus",$=m.useMemo(function(){var j="";if(T.guidance){var L=o?"value":h?"menu":"input";j=T.guidance({"aria-label":b,context:L,isDisabled:r&&g(r,l),isMulti:v,isSearchable:y,tabSelectsValue:E,isInitialFocus:M})}return j},[b,r,o,v,g,y,h,T,l,E,M]),H=Z(m.Fragment,null,Z("span",{id:"aria-selection"},k),Z("span",{id:"aria-focused"},R),Z("span",{id:"aria-results"},O),Z("span",{id:"aria-guidance"},$));return Z(m.Fragment,null,Z(Vm,{id:u},M&&H),Z(Vm,{"aria-live":_,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!M&&H))},yk=vk,Kd=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],wk=new RegExp("["+Kd.map(function(e){return e.letters}).join("")+"]","g"),ww={};for(var Tc=0;Tc<Kd.length;Tc++)for(var Dc=Kd[Tc],kc=0;kc<Dc.letters.length;kc++)ww[Dc.letters[kc]]=Dc.base;var Sw=function(t){return t.replace(wk,function(n){return ww[n]})},Sk=pk(Sw),Um=function(t){return t.replace(/^\s+|\s+$/g,"")},Ck=function(t){return"".concat(t.label," ").concat(t.value)},Ek=function(t){return function(n,r){if(n.data.__isNew__)return!0;var o=X({ignoreCase:!0,ignoreAccents:!0,stringify:Ck,trim:!0,matchFrom:"any"},t),a=o.ignoreCase,i=o.ignoreAccents,l=o.stringify,s=o.trim,u=o.matchFrom,c=s?Um(r):r,d=s?Um(l(n)):l(n);return a&&(c=c.toLowerCase(),d=d.toLowerCase()),i&&(c=Sk(c),d=Sw(d)),u==="start"?d.substr(0,c.length)===c:d.indexOf(c)>-1}},bk=["innerRef"];function xk(e){var t=e.innerRef,n=An(e,bk),r=XT(n,"onExited","in","enter","exit","appear");return Z("input",ee({ref:t},r,{css:mp({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var _k=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function Tk(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,a=e.onTopLeave,i=m.useRef(!1),l=m.useRef(!1),s=m.useRef(0),u=m.useRef(null),c=m.useCallback(function(y,h){if(u.current!==null){var w=u.current,S=w.scrollTop,E=w.scrollHeight,x=w.clientHeight,b=u.current,_=h>0,T=E-x-S,k=!1;T>h&&i.current&&(r&&r(y),i.current=!1),_&&l.current&&(a&&a(y),l.current=!1),_&&h>T?(n&&!i.current&&n(y),b.scrollTop=E,k=!0,i.current=!0):!_&&-h>S&&(o&&!l.current&&o(y),b.scrollTop=0,k=!0,l.current=!0),k&&_k(y)}},[n,r,o,a]),d=m.useCallback(function(y){c(y,y.deltaY)},[c]),f=m.useCallback(function(y){s.current=y.changedTouches[0].clientY},[]),p=m.useCallback(function(y){var h=s.current-y.changedTouches[0].clientY;c(y,h)},[c]),v=m.useCallback(function(y){if(y){var h=KT?{passive:!1}:!1;y.addEventListener("wheel",d,h),y.addEventListener("touchstart",f,h),y.addEventListener("touchmove",p,h)}},[p,f,d]),g=m.useCallback(function(y){y&&(y.removeEventListener("wheel",d,!1),y.removeEventListener("touchstart",f,!1),y.removeEventListener("touchmove",p,!1))},[p,f,d]);return m.useEffect(function(){if(t){var y=u.current;return v(y),function(){g(y)}}},[t,v,g]),function(y){u.current=y}}var Bm=["boxSizing","height","overflow","paddingRight","position"],Hm={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Wm(e){e.cancelable&&e.preventDefault()}function Ym(e){e.stopPropagation()}function zm(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Qm(){return"ontouchstart"in window||navigator.maxTouchPoints}var Km=!!(typeof window<"u"&&window.document&&window.document.createElement),Pa=0,wo={capture:!1,passive:!1};function Dk(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,o=m.useRef({}),a=m.useRef(null),i=m.useCallback(function(s){if(Km){var u=document.body,c=u&&u.style;if(r&&Bm.forEach(function(v){var g=c&&c[v];o.current[v]=g}),r&&Pa<1){var d=parseInt(o.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,p=window.innerWidth-f+d||0;Object.keys(Hm).forEach(function(v){var g=Hm[v];c&&(c[v]=g)}),c&&(c.paddingRight="".concat(p,"px"))}u&&Qm()&&(u.addEventListener("touchmove",Wm,wo),s&&(s.addEventListener("touchstart",zm,wo),s.addEventListener("touchmove",Ym,wo))),Pa+=1}},[r]),l=m.useCallback(function(s){if(Km){var u=document.body,c=u&&u.style;Pa=Math.max(Pa-1,0),r&&Pa<1&&Bm.forEach(function(d){var f=o.current[d];c&&(c[d]=f)}),u&&Qm()&&(u.removeEventListener("touchmove",Wm,wo),s&&(s.removeEventListener("touchstart",zm,wo),s.removeEventListener("touchmove",Ym,wo)))}},[r]);return m.useEffect(function(){if(t){var s=a.current;return i(s),function(){l(s)}}},[t,i,l]),function(s){a.current=s}}var kk=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},Pk={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Ok(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,o=r===void 0?!0:r,a=e.onBottomArrive,i=e.onBottomLeave,l=e.onTopArrive,s=e.onTopLeave,u=Tk({isEnabled:o,onBottomArrive:a,onBottomLeave:i,onTopArrive:l,onTopLeave:s}),c=Dk({isEnabled:n}),d=function(p){u(p),c(p)};return Z(m.Fragment,null,n&&Z("div",{onClick:kk,css:Pk}),t(d))}var Mk={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Rk=function(t){var n=t.name,r=t.onFocus;return Z("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Mk,value:"",onChange:function(){}})},Nk=Rk;function bp(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Ik(){return bp(/^iPhone/i)}function Cw(){return bp(/^Mac/i)}function Lk(){return bp(/^iPad/i)||Cw()&&navigator.maxTouchPoints>1}function Ak(){return Ik()||Lk()}function Fk(){return Cw()||Ak()}var $k=function(t){return t.label},Ew=function(t){return t.label},bw=function(t){return t.value},jk=function(t){return!!t.isDisabled},Vk={clearIndicator:_D,container:hD,control:RD,dropdownIndicator:bD,group:AD,groupHeading:$D,indicatorsContainer:yD,indicatorSeparator:DD,input:BD,loadingIndicator:OD,loadingMessage:uD,menu:nD,menuList:iD,menuPortal:fD,multiValue:QD,multiValueLabel:KD,multiValueRemove:GD,noOptionsMessage:lD,option:tk,placeholder:ok,singleValue:sk,valueContainer:gD},Uk={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Bk=4,xw=4,Hk=38,Wk=xw*2,Yk={baseUnit:xw,controlHeight:Hk,menuGutter:Wk},Pc={borderRadius:Bk,colors:Uk,spacing:Yk},zk={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Fm(),captureMenuScroll:!Fm(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Ek(),formatGroupLabel:$k,getOptionLabel:Ew,getOptionValue:bw,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:jk,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!zT(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Gm(e,t,n,r){var o=Dw(e,t,n),a=kw(e,t,n),i=Tw(e,t),l=Ml(e,t);return{type:"option",data:t,isDisabled:o,isSelected:a,label:i,value:l,index:r}}function Fs(e,t){return e.options.map(function(n,r){if("options"in n){var o=n.options.map(function(i,l){return Gm(e,i,t,l)}).filter(function(i){return Xm(e,i)});return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var a=Gm(e,n,t,r);return Xm(e,a)?a:void 0}).filter(GT)}function _w(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,Ho(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function qm(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Ho(r.options.map(function(o){return{data:o.data,id:"".concat(t,"-").concat(r.index,"-").concat(o.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function Qk(e,t){return _w(Fs(e,t))}function Xm(e,t){var n=e.inputValue,r=n===void 0?"":n,o=t.data,a=t.isSelected,i=t.label,l=t.value;return(!Ow(e)||!a)&&Pw(e,{label:i,value:l,data:o},r)}function Kk(e,t){var n=e.focusedValue,r=e.selectValue,o=r.indexOf(n);if(o>-1){var a=t.indexOf(n);if(a>-1)return n;if(o<t.length)return t[o]}return null}function Gk(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var Oc=function(t,n){var r,o=(r=t.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return o||null},Tw=function(t,n){return t.getOptionLabel(n)},Ml=function(t,n){return t.getOptionValue(n)};function Dw(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function kw(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=Ml(e,t);return n.some(function(o){return Ml(e,o)===r})}function Pw(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var Ow=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},qk=1,xp=function(e){Vx(n,e);var t=Hx(n);function n(r){var o;if($x(this,n),o=t.call(this,r),o.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.isAppleDevice=Fk(),o.controlRef=null,o.getControlRef=function(s){o.controlRef=s},o.focusedOptionRef=null,o.getFocusedOptionRef=function(s){o.focusedOptionRef=s},o.menuListRef=null,o.getMenuListRef=function(s){o.menuListRef=s},o.inputRef=null,o.getInputRef=function(s){o.inputRef=s},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(s,u){var c=o.props,d=c.onChange,f=c.name;u.name=f,o.ariaOnChange(s,u),d(s,u)},o.setValue=function(s,u,c){var d=o.props,f=d.closeMenuOnSelect,p=d.isMulti,v=d.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:v}),f&&(o.setState({inputIsHiddenAfterUpdate:!p}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(s,{action:u,option:c})},o.selectOption=function(s){var u=o.props,c=u.blurInputOnSelect,d=u.isMulti,f=u.name,p=o.state.selectValue,v=d&&o.isOptionSelected(s,p),g=o.isOptionDisabled(s,p);if(v){var y=o.getOptionValue(s);o.setValue(p.filter(function(h){return o.getOptionValue(h)!==y}),"deselect-option",s)}else if(!g)d?o.setValue([].concat(Ho(p),[s]),"select-option",s):o.setValue(s,"select-option");else{o.ariaOnChange(s,{action:"select-option",option:s,name:f});return}c&&o.blurInput()},o.removeValue=function(s){var u=o.props.isMulti,c=o.state.selectValue,d=o.getOptionValue(s),f=c.filter(function(v){return o.getOptionValue(v)!==d}),p=Ba(u,f,f[0]||null);o.onChange(p,{action:"remove-value",removedValue:s}),o.focusInput()},o.clearValue=function(){var s=o.state.selectValue;o.onChange(Ba(o.props.isMulti,[],null),{action:"clear",removedValues:s})},o.popValue=function(){var s=o.props.isMulti,u=o.state.selectValue,c=u[u.length-1],d=u.slice(0,u.length-1),f=Ba(s,d,d[0]||null);c&&o.onChange(f,{action:"pop-value",removedValue:c})},o.getFocusedOptionId=function(s){return Oc(o.state.focusableOptionsWithIds,s)},o.getFocusableOptionsWithIds=function(){return qm(Fs(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];return UT.apply(void 0,[o.props.classNamePrefix].concat(u))},o.getOptionLabel=function(s){return Tw(o.props,s)},o.getOptionValue=function(s){return Ml(o.props,s)},o.getStyles=function(s,u){var c=o.props.unstyled,d=Vk[s](u,c);d.boxSizing="border-box";var f=o.props.styles[s];return f?f(d,u):d},o.getClassNames=function(s,u){var c,d;return(c=(d=o.props.classNames)[s])===null||c===void 0?void 0:c.call(d,u)},o.getElementId=function(s){return"".concat(o.state.instancePrefix,"-").concat(s)},o.getComponents=function(){return ck(o.props)},o.buildCategorizedOptions=function(){return Fs(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return _w(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(s,u){o.setState({ariaSelection:X({value:s},u)})},o.onMenuMouseDown=function(s){s.button===0&&(s.stopPropagation(),s.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(s){o.blockOptionHover=!1},o.onControlMouseDown=function(s){if(!s.defaultPrevented){var u=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&o.onMenuClose():u&&o.openMenu("first"):(u&&(o.openAfterFocus=!0),o.focusInput()),s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&s.preventDefault()}},o.onDropdownIndicatorMouseDown=function(s){if(!(s&&s.type==="mousedown"&&s.button!==0)&&!o.props.isDisabled){var u=o.props,c=u.isMulti,d=u.menuIsOpen;o.focusInput(),d?(o.setState({inputIsHiddenAfterUpdate:!c}),o.onMenuClose()):o.openMenu("first"),s.preventDefault()}},o.onClearIndicatorMouseDown=function(s){s&&s.type==="mousedown"&&s.button!==0||(o.clearValue(),s.preventDefault(),o.openAfterFocus=!1,s.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(s){typeof o.props.closeMenuOnScroll=="boolean"?s.target instanceof HTMLElement&&Tu(s.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(s)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(s){var u=s.touches,c=u&&u.item(0);c&&(o.initialTouchX=c.clientX,o.initialTouchY=c.clientY,o.userIsDragging=!1)},o.onTouchMove=function(s){var u=s.touches,c=u&&u.item(0);if(c){var d=Math.abs(c.clientX-o.initialTouchX),f=Math.abs(c.clientY-o.initialTouchY),p=5;o.userIsDragging=d>p||f>p}},o.onTouchEnd=function(s){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(s.target)&&o.menuListRef&&!o.menuListRef.contains(s.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(s){o.userIsDragging||o.onControlMouseDown(s)},o.onClearIndicatorTouchEnd=function(s){o.userIsDragging||o.onClearIndicatorMouseDown(s)},o.onDropdownIndicatorTouchEnd=function(s){o.userIsDragging||o.onDropdownIndicatorMouseDown(s)},o.handleInputChange=function(s){var u=o.props.inputValue,c=s.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(c,{action:"input-change",prevInputValue:u}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(s){o.props.onFocus&&o.props.onFocus(s),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(s){var u=o.props.inputValue;if(o.menuListRef&&o.menuListRef.contains(document.activeElement)){o.inputRef.focus();return}o.props.onBlur&&o.props.onBlur(s),o.onInputChange("",{action:"input-blur",prevInputValue:u}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1})},o.onOptionHover=function(s){if(!(o.blockOptionHover||o.state.focusedOption===s)){var u=o.getFocusableOptions(),c=u.indexOf(s);o.setState({focusedOption:s,focusedOptionId:c>-1?o.getFocusedOptionId(s):null})}},o.shouldHideSelectedOptions=function(){return Ow(o.props)},o.onValueInputFocus=function(s){s.preventDefault(),s.stopPropagation(),o.focus()},o.onKeyDown=function(s){var u=o.props,c=u.isMulti,d=u.backspaceRemovesValue,f=u.escapeClearsValue,p=u.inputValue,v=u.isClearable,g=u.isDisabled,y=u.menuIsOpen,h=u.onKeyDown,w=u.tabSelectsValue,S=u.openMenuOnFocus,E=o.state,x=E.focusedOption,b=E.focusedValue,_=E.selectValue;if(!g&&!(typeof h=="function"&&(h(s),s.defaultPrevented))){switch(o.blockOptionHover=!0,s.key){case"ArrowLeft":if(!c||p)return;o.focusValue("previous");break;case"ArrowRight":if(!c||p)return;o.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(b)o.removeValue(b);else{if(!d)return;c?o.popValue():v&&o.clearValue()}break;case"Tab":if(o.isComposing||s.shiftKey||!y||!w||!x||S&&o.isOptionSelected(x,_))return;o.selectOption(x);break;case"Enter":if(s.keyCode===229)break;if(y){if(!x||o.isComposing)return;o.selectOption(x);break}return;case"Escape":y?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:p}),o.onMenuClose()):v&&f&&o.clearValue();break;case" ":if(p)return;if(!y){o.openMenu("first");break}if(!x)return;o.selectOption(x);break;case"ArrowUp":y?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":y?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!y)return;o.focusOption("pageup");break;case"PageDown":if(!y)return;o.focusOption("pagedown");break;case"Home":if(!y)return;o.focusOption("first");break;case"End":if(!y)return;o.focusOption("last");break;default:return}s.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++qk),o.state.selectValue=Pl(r.value),r.menuIsOpen&&o.state.selectValue.length){var a=o.getFocusableOptionsWithIds(),i=o.buildFocusableOptions(),l=i.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=a,o.state.focusedOption=i[l],o.state.focusedOptionId=Oc(a,i[l])}return o}return jx(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Am(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(o){var a=this.props,i=a.isDisabled,l=a.menuIsOpen,s=this.state.isFocused;(s&&!i&&o.isDisabled||s&&l&&!o.menuIsOpen)&&this.focusInput(),s&&i&&!o.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!s&&!i&&o.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Am(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(o,a){this.props.onInputChange(o,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(o){var a=this,i=this.state,l=i.selectValue,s=i.isFocused,u=this.buildFocusableOptions(),c=o==="first"?0:u.length-1;if(!this.props.isMulti){var d=u.indexOf(l[0]);d>-1&&(c=d)}this.scrollToFocusedOptionOnUpdate=!(s&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c],focusedOptionId:this.getFocusedOptionId(u[c])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(o){var a=this.state,i=a.selectValue,l=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var s=i.indexOf(l);l||(s=-1);var u=i.length-1,c=-1;if(i.length){switch(o){case"previous":s===0?c=0:s===-1?c=u:c=s-1;break;case"next":s>-1&&s<u&&(c=s+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:i[c]})}}}},{key:"focusOption",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var s=0,u=l.indexOf(i);i||(u=-1),o==="up"?s=u>0?u-1:l.length-1:o==="down"?s=(u+1)%l.length:o==="pageup"?(s=u-a,s<0&&(s=0)):o==="pagedown"?(s=u+a,s>l.length-1&&(s=l.length-1)):o==="last"&&(s=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[s],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[s])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Pc):X(X({},Pc),this.props.theme):Pc}},{key:"getCommonProps",value:function(){var o=this.clearValue,a=this.cx,i=this.getStyles,l=this.getClassNames,s=this.getValue,u=this.selectOption,c=this.setValue,d=this.props,f=d.isMulti,p=d.isRtl,v=d.options,g=this.hasValue();return{clearValue:o,cx:a,getStyles:i,getClassNames:l,getValue:s,hasValue:g,isMulti:f,isRtl:p,options:v,selectOption:u,selectProps:d,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var o=this.state.selectValue;return o.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var o=this.props,a=o.isClearable,i=o.isMulti;return a===void 0?i:a}},{key:"isOptionDisabled",value:function(o,a){return Dw(this.props,o,a)}},{key:"isOptionSelected",value:function(o,a){return kw(this.props,o,a)}},{key:"filterOption",value:function(o,a){return Pw(this.props,o,a)}},{key:"formatOptionLabel",value:function(o,a){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(o,{context:a,inputValue:i,selectValue:l})}else return this.getOptionLabel(o)}},{key:"formatGroupLabel",value:function(o){return this.props.formatGroupLabel(o)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var o=this.props,a=o.isDisabled,i=o.isSearchable,l=o.inputId,s=o.inputValue,u=o.tabIndex,c=o.form,d=o.menuIsOpen,f=o.required,p=this.getComponents(),v=p.Input,g=this.state,y=g.inputIsHidden,h=g.ariaSelection,w=this.commonProps,S=l||this.getElementId("input"),E=X(X(X({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?h?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?m.createElement(v,ee({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:a,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:s},E)):m.createElement(xk,ee({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:kl,onFocus:this.onInputFocus,disabled:a,tabIndex:u,inputMode:"none",form:c,value:""},E))}},{key:"renderPlaceholderOrValue",value:function(){var o=this,a=this.getComponents(),i=a.MultiValue,l=a.MultiValueContainer,s=a.MultiValueLabel,u=a.MultiValueRemove,c=a.SingleValue,d=a.Placeholder,f=this.commonProps,p=this.props,v=p.controlShouldRenderValue,g=p.isDisabled,y=p.isMulti,h=p.inputValue,w=p.placeholder,S=this.state,E=S.selectValue,x=S.focusedValue,b=S.isFocused;if(!this.hasValue()||!v)return h?null:m.createElement(d,ee({},f,{key:"placeholder",isDisabled:g,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),w);if(y)return E.map(function(T,k){var R=T===x,O="".concat(o.getOptionLabel(T),"-").concat(o.getOptionValue(T));return m.createElement(i,ee({},f,{components:{Container:l,Label:s,Remove:u},isFocused:R,isDisabled:g,key:O,index:k,removeProps:{onClick:function(){return o.removeValue(T)},onTouchEnd:function(){return o.removeValue(T)},onMouseDown:function($){$.preventDefault()}},data:T}),o.formatOptionLabel(T,"value"))});if(h)return null;var _=E[0];return m.createElement(c,ee({},f,{data:_,isDisabled:g}),this.formatOptionLabel(_,"value"))}},{key:"renderClearIndicator",value:function(){var o=this.getComponents(),a=o.ClearIndicator,i=this.commonProps,l=this.props,s=l.isDisabled,u=l.isLoading,c=this.state.isFocused;if(!this.isClearable()||!a||s||!this.hasValue()||u)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return m.createElement(a,ee({},i,{innerProps:d,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var o=this.getComponents(),a=o.LoadingIndicator,i=this.commonProps,l=this.props,s=l.isDisabled,u=l.isLoading,c=this.state.isFocused;if(!a||!u)return null;var d={"aria-hidden":"true"};return m.createElement(a,ee({},i,{innerProps:d,isDisabled:s,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var o=this.getComponents(),a=o.DropdownIndicator,i=o.IndicatorSeparator;if(!a||!i)return null;var l=this.commonProps,s=this.props.isDisabled,u=this.state.isFocused;return m.createElement(i,ee({},l,{isDisabled:s,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var o=this.getComponents(),a=o.DropdownIndicator;if(!a)return null;var i=this.commonProps,l=this.props.isDisabled,s=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return m.createElement(a,ee({},i,{innerProps:u,isDisabled:l,isFocused:s}))}},{key:"renderMenu",value:function(){var o=this,a=this.getComponents(),i=a.Group,l=a.GroupHeading,s=a.Menu,u=a.MenuList,c=a.MenuPortal,d=a.LoadingMessage,f=a.NoOptionsMessage,p=a.Option,v=this.commonProps,g=this.state.focusedOption,y=this.props,h=y.captureMenuScroll,w=y.inputValue,S=y.isLoading,E=y.loadingMessage,x=y.minMenuHeight,b=y.maxMenuHeight,_=y.menuIsOpen,T=y.menuPlacement,k=y.menuPosition,R=y.menuPortalTarget,O=y.menuShouldBlockScroll,M=y.menuShouldScrollIntoView,$=y.noOptionsMessage,H=y.onMenuScrollToTop,j=y.onMenuScrollToBottom;if(!_)return null;var L=function(ge,De){var K=ge.type,oe=ge.data,A=ge.isDisabled,re=ge.isSelected,z=ge.label,ie=ge.value,se=g===oe,Ce=A?void 0:function(){return o.onOptionHover(oe)},Xe=A?void 0:function(){return o.selectOption(oe)},Q="".concat(o.getElementId("option"),"-").concat(De),G={id:Q,onClick:Xe,onMouseMove:Ce,onMouseOver:Ce,tabIndex:-1,role:"option","aria-selected":o.isAppleDevice?void 0:re};return m.createElement(p,ee({},v,{innerProps:G,data:oe,isDisabled:A,isSelected:re,key:Q,label:z,type:K,value:ie,isFocused:se,innerRef:se?o.getFocusedOptionRef:void 0}),o.formatOptionLabel(ge.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(ne){if(ne.type==="group"){var ge=ne.data,De=ne.options,K=ne.index,oe="".concat(o.getElementId("group"),"-").concat(K),A="".concat(oe,"-heading");return m.createElement(i,ee({},v,{key:oe,data:ge,options:De,Heading:l,headingProps:{id:A,data:ne.data},label:o.formatGroupLabel(ne.data)}),ne.options.map(function(re){return L(re,"".concat(K,"-").concat(re.index))}))}else if(ne.type==="option")return L(ne,"".concat(ne.index))});else if(S){var P=E({inputValue:w});if(P===null)return null;U=m.createElement(d,v,P)}else{var F=$({inputValue:w});if(F===null)return null;U=m.createElement(f,v,F)}var V={minMenuHeight:x,maxMenuHeight:b,menuPlacement:T,menuPosition:k,menuShouldScrollIntoView:M},J=m.createElement(rD,ee({},v,V),function(ne){var ge=ne.ref,De=ne.placerProps,K=De.placement,oe=De.maxHeight;return m.createElement(s,ee({},v,V,{innerRef:ge,innerProps:{onMouseDown:o.onMenuMouseDown,onMouseMove:o.onMenuMouseMove},isLoading:S,placement:K}),m.createElement(Ok,{captureEnabled:h,onTopArrive:H,onBottomArrive:j,lockEnabled:O},function(A){return m.createElement(u,ee({},v,{innerRef:function(z){o.getMenuListRef(z),A(z)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:o.getElementId("listbox")},isLoading:S,maxHeight:oe,focusedOption:g}),U)}))});return R||k==="fixed"?m.createElement(c,ee({},v,{appendTo:R,controlElement:this.controlRef,menuPlacement:T,menuPosition:k}),J):J}},{key:"renderFormField",value:function(){var o=this,a=this.props,i=a.delimiter,l=a.isDisabled,s=a.isMulti,u=a.name,c=a.required,d=this.state.selectValue;if(c&&!this.hasValue()&&!l)return m.createElement(Nk,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(s)if(i){var f=d.map(function(g){return o.getOptionValue(g)}).join(i);return m.createElement("input",{name:u,type:"hidden",value:f})}else{var p=d.length>0?d.map(function(g,y){return m.createElement("input",{key:"i-".concat(y),name:u,type:"hidden",value:o.getOptionValue(g)})}):m.createElement("input",{name:u,type:"hidden",value:""});return m.createElement("div",null,p)}else{var v=d[0]?this.getOptionValue(d[0]):"";return m.createElement("input",{name:u,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var o=this.commonProps,a=this.state,i=a.ariaSelection,l=a.focusedOption,s=a.focusedValue,u=a.isFocused,c=a.selectValue,d=this.getFocusableOptions();return m.createElement(yk,ee({},o,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:s,isFocused:u,selectValue:c,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var o=this.getComponents(),a=o.Control,i=o.IndicatorsContainer,l=o.SelectContainer,s=o.ValueContainer,u=this.props,c=u.className,d=u.id,f=u.isDisabled,p=u.menuIsOpen,v=this.state.isFocused,g=this.commonProps=this.getCommonProps();return m.createElement(l,ee({},g,{className:c,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:v}),this.renderLiveRegion(),m.createElement(a,ee({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:v,menuIsOpen:p}),m.createElement(s,ee({},g,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),m.createElement(i,ee({},g,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(o,a){var i=a.prevProps,l=a.clearFocusValueOnUpdate,s=a.inputIsHiddenAfterUpdate,u=a.ariaSelection,c=a.isFocused,d=a.prevWasFocused,f=a.instancePrefix,p=o.options,v=o.value,g=o.menuIsOpen,y=o.inputValue,h=o.isMulti,w=Pl(v),S={};if(i&&(v!==i.value||p!==i.options||g!==i.menuIsOpen||y!==i.inputValue)){var E=g?Qk(o,w):[],x=g?qm(Fs(o,w),"".concat(f,"-option")):[],b=l?Kk(a,w):null,_=Gk(a,E),T=Oc(x,_);S={selectValue:w,focusedOption:_,focusedOptionId:T,focusableOptionsWithIds:x,focusedValue:b,clearFocusValueOnUpdate:!1}}var k=s!=null&&o!==i?{inputIsHidden:s,inputIsHiddenAfterUpdate:void 0}:{},R=u,O=c&&d;return c&&!O&&(R={value:Ba(h,w,w[0]||null),options:w,action:"initial-input-focus"},O=!d),u?.action==="initial-input-focus"&&(R=null),X(X(X({},S),k),{},{prevProps:o,ariaSelection:R,prevWasFocused:O})}}]),n}(m.Component);xp.defaultProps=zk;var Xk=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Mw(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,o=r===void 0?!1:r,a=e.defaultValue,i=a===void 0?null:a,l=e.inputValue,s=e.menuIsOpen,u=e.onChange,c=e.onInputChange,d=e.onMenuClose,f=e.onMenuOpen,p=e.value,v=An(e,Xk),g=m.useState(l!==void 0?l:n),y=Qn(g,2),h=y[0],w=y[1],S=m.useState(s!==void 0?s:o),E=Qn(S,2),x=E[0],b=E[1],_=m.useState(p!==void 0?p:i),T=Qn(_,2),k=T[0],R=T[1],O=m.useCallback(function(P,F){typeof u=="function"&&u(P,F),R(P)},[u]),M=m.useCallback(function(P,F){var V;typeof c=="function"&&(V=c(P,F)),w(V!==void 0?V:P)},[c]),$=m.useCallback(function(){typeof f=="function"&&f(),b(!0)},[f]),H=m.useCallback(function(){typeof d=="function"&&d(),b(!1)},[d]),j=l!==void 0?l:h,L=s!==void 0?s:x,U=p!==void 0?p:k;return X(X({},v),{},{inputValue:j,menuIsOpen:L,onChange:O,onInputChange:M,onMenuClose:H,onMenuOpen:$,value:U})}var Zk=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],Zm=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,o=String(t).toLowerCase(),a=String(r.getOptionValue(n)).toLowerCase(),i=String(r.getOptionLabel(n)).toLowerCase();return a===o||i===o},Mc={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,r,o){return!(!t||n.some(function(a){return Zm(t,a,o)})||r.some(function(a){return Zm(t,a,o)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function Jk(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,r=e.createOptionPosition,o=r===void 0?"last":r,a=e.formatCreateLabel,i=a===void 0?Mc.formatCreateLabel:a,l=e.isValidNewOption,s=l===void 0?Mc.isValidNewOption:l,u=e.getNewOptionData,c=u===void 0?Mc.getNewOptionData:u,d=e.onCreateOption,f=e.options,p=f===void 0?[]:f,v=e.onChange,g=An(e,Zk),y=g.getOptionValue,h=y===void 0?bw:y,w=g.getOptionLabel,S=w===void 0?Ew:w,E=g.inputValue,x=g.isLoading,b=g.isMulti,_=g.value,T=g.name,k=m.useMemo(function(){return s(E,Pl(_),p,{getOptionValue:h,getOptionLabel:S})?c(E,i(E)):void 0},[i,c,S,h,E,s,p,_]),R=m.useMemo(function(){return(n||!x)&&k?o==="first"?[k].concat(Ho(p)):[].concat(Ho(p),[k]):p},[n,o,x,k,p]),O=m.useCallback(function(M,$){if($.action!=="select-option")return v(M,$);var H=Array.isArray(M)?M:[M];if(H[H.length-1]===k){if(d)d(E);else{var j=c(E,E),L={action:"create-option",name:T,option:j};v(Ba(b,[].concat(Ho(Pl(_)),[j]),j),L)}return}v(M,$)},[c,E,b,T,k,d,v,_]);return X(X({},g),{},{options:R,onChange:O})}var eP=m.forwardRef(function(e,t){var n=Mw(e),r=Jk(n);return m.createElement(xp,ee({ref:t},r))}),tP=eP,nP=m.forwardRef(function(e,t){var n=Mw(e);return m.createElement(xp,ee({ref:t},n))}),rP=nP;function _p({options:e,children:t,onChange:n,value:r}){const o=a=>C.jsx(yw.DropdownIndicator,{...a,children:t});return C.jsx("div",{className:"svg-container",children:C.jsx(rP,{components:{DropdownIndicator:o},options:e,value:r?{value:r,label:r}:null,styles:{control:()=>({height:"inherit"}),container:()=>({aspectRatio:"1/1",height:"inherit"}),valueContainer:()=>({height:0,width:0,overflow:"hidden"}),indicatorsContainer:()=>({height:"inherit"}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:()=>({padding:0,height:"inherit"}),menu:a=>({...a,zIndex:10,width:"max-content",textAlign:"left"})},tabSelectsValue:!1,isSearchable:!1,onChange:a=>{n(a?.value)}})})}function Rw({compact:e=!1}){const n=m.useContext(qe).portaCountClient.externalController,[r,o]=m.useState(""),[a]=te(I.SHOW_EXTERNAL_CONTROL);function i(){n.sendCommand(r),o("")}const l={"":"","Switch to App Control":de.INVOKE_EXTERNAL_CONTROL,"Switch to PortaCount Control":de.RELEASE_FROM_EXTERNAL_CONTROL,"Request Settings":de.REQUEST_SETTINGS,"Request Runtime Status":de.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE,"Request Voltage Status":de.REQUEST_VOLTAGE_INFO,"Sample from Ambient":de.SWITCH_VALVE_ON,"Sample from Mask":de.SWITCH_VALVE_OFF,"Disable data transmission":de.DISABLE_CONTINUOUS_DATA_TRANSMISSION,"Enable data transmission":de.ENABLE_CONTINUOUS_DATA_TRANSMISSION,"Beep!":de.SOUND_BEEPER_INSIDE_THE_PORTACOUNT_PLUS.replace("xx","02"),"Power Off":de.TURN_POWER_OFF},s=Object.entries(l).map(([c,d])=>({value:d,label:c})),u=a?C.jsx(_p,{options:s,onChange:c=>n.sendCommand(c),children:C.jsx(Tx,{})}):null;return C.jsx(C.Fragment,{children:e?u:C.jsxs("div",{style:{display:"inline-flex",height:"fit-content"},children:[C.jsx(tP,{name:"Mask",options:s,value:r?{value:r,label:r}:null,styles:{menu:c=>({...c,zIndex:2,width:"max-content",textAlign:"left"}),singleValue:c=>({...c,whiteSpace:"normal",width:"9rem"}),input:c=>({...c,width:"9rem"})},tabSelectsValue:!1,onChange:c=>o(c?.value),allowCreateWhileLoading:!0,isSearchable:!0,placeholder:"Type command..."}),C.jsx("input",{type:"button",value:"Send",id:"send-command-button",onClick:i})]})})}function Ze({trueLabel:e,falseLabel:t,setting:n}){const[r,o]=te(n);function a(s){return s.toString().replace(/^(.)/,(u,c)=>`${c[0].toUpperCase()}`).replace(/(-(.))/g,(u,c)=>` ${c[1].toUpperCase()}`)}const i=e??a(n),l=`${i.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`;return C.jsxs("div",{className:"labeled-setting",children:[C.jsx("label",{className:"setting-name",htmlFor:l,children:r?i:t||i}),C.jsxs("label",{className:"switch",children:[C.jsx("input",{type:"checkbox",id:l,onChange:s=>o(s.target.checked),checked:r}),C.jsx("span",{className:"slider round"})]})]})}function Nw({trueLabel:e,falseLabel:t,value:n,setValue:r}){const o=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`;return C.jsxs("div",{className:"labeled-setting",children:[C.jsx("label",{className:"setting-name",htmlFor:o,children:n?e:t||e}),C.jsxs("label",{className:"switch",children:[C.jsx("input",{type:"checkbox",id:o,onChange:a=>r(a.target.checked),checked:n}),C.jsx("span",{className:"slider round"})]})]})}function Iw({trueLabel:e,falseLabel:t,trueValue:n,value:r,setValue:o,...a}){const i=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`,l=t??e,s=n??e,u=a.disabled?"disabled":"";return C.jsxs("div",{style:{display:"inline-flex"},children:[C.jsx("label",{className:`setting-name ${u}`,htmlFor:i,children:r}),C.jsxs("label",{className:"switch",children:[C.jsx("input",{...a,type:"checkbox",id:i,onChange:c=>o(c.target.checked?e:l),checked:r===s}),C.jsx("span",{className:`slider round ${u}`})]})]})}function oP(){const t=m.useContext(qe).portaCountClient,[n]=te(I.SHOW_EXTERNAL_CONTROL),[r,o]=m.useState(t.state.controlSource);function a(s){return s!==ft.RECEIVING}const[i,l]=m.useState(a(t.state.connectionStatus));return m.useEffect(()=>{const s={controlSourceChanged(u){o(u)},connectionStatusChanged(u){l(a(u))}};return t.addListener(s),()=>{t.removeListener(s)}},[]),C.jsxs("fieldset",{className:"info-box-compact",children:[C.jsx("legend",{children:"Control"}),n?C.jsx(Iw,{trueLabel:fe.External,falseLabel:fe.Internal,value:r,setValue:s=>t.externalController.controlSource=s,disabled:i}):r]})}function aP(){const t=m.useContext(qe).portaCountClient,[n]=te(I.SHOW_EXTERNAL_CONTROL),[r,o]=m.useState(t.state.sampleSource);function a(s){return s===fe.Internal}const[i,l]=m.useState(a(t.state.controlSource));return m.useEffect(()=>{const s={sampleSourceChanged(u){o(u)},controlSourceChanged(u){l(a(u))}};return t.addListener(s),()=>{t.removeListener(s)}},[]),C.jsxs("fieldset",{id:"portacount-sample-source-widget",className:"info-box-compact",children:[C.jsx("legend",{children:"Source"}),n?C.jsx(Iw,{trueLabel:Se.MASK,falseLabel:Se.AMBIENT,value:r,setValue:s=>t.externalController.sampleSource=s,disabled:i}):r]})}function Lw({label:e="Activity",border:t=!0}){const[n]=te(I.ACTIVITY);return e?C.jsxs("fieldset",{className:"info-box-compact",children:[C.jsx("legend",{children:"Activity"}),n]}):C.jsx("div",{className:t?"thin-border":"",children:n})}function Aw({label:e="Last line",border:t=!0}){const r=m.useContext(qe).portaCountClient,[o,a]=m.useState(r.state.lastLine);m.useEffect(()=>{const l={lineReceived(s){a(s)}};return r.addListener(l),()=>{r.removeListener(l)}},[]),m.useEffect(()=>{const l=setTimeout(()=>{a(""),console.debug("last line timeout expired")},3e3);return()=>clearTimeout(l)},[o]);const i=C.jsx(C.Fragment,{children:o.trim().length==0?"":o});return e?C.jsxs("fieldset",{className:"info-box-compact",style:{width:"8rem"},children:[C.jsxs("legend",{className:"number-field no-wrap",children:[e," ",o.trim().length>0?QE(new Date,!0):""]}),C.jsx("div",{className:"console-8020",children:i})]}):C.jsx("div",{className:`console-8020 ${t&&"thin-border"}`,children:i})}function iP(){const t=m.useContext(qe),[n]=m.useState(t.dataCollector),[r,o]=m.useState(""),a=m.useRef(null),[i,l]=m.useState([0,0]);function s(f){if(a.current){const p=c(f);a.current.style.fontSize=p+"px"}}function u(f,p,v){const g=p.split(/\s+/);let y=0,h=0;return g.forEach(w=>{const S=w.length*f;h+S<v?h+=S+f:(y++,h=S)}),y}function c(f){let p=1;if(a.current){const v=a.current.clientWidth,g=a.current.clientHeight,y=f.length,h=v/y,w=Math.sqrt(v*g/y);for(let S=h;S<w&&!(u(S,f,v)*S>g);S++)p=S}return Math.max(p,30)}const d={instructionsChanged(f){o(f.replace(/\./,`.
`))}};return m.useEffect(()=>{n.addListener(d);const f=new ResizeObserver(([p])=>{l([p.target.clientWidth,p.target.clientHeight])});return a.current&&f.observe(a.current),()=>{n.removeListener(d),f.disconnect()}},[]),m.useEffect(()=>{s(r)},[r,i]),C.jsxs("fieldset",{style:{display:"inline-block",flexGrow:1,height:"inherit"},className:"info-box-compact",children:[C.jsx("legend",{children:"Test Instructions"}),C.jsx("textarea",{id:"test-instructions",ref:a,style:{width:"100%",minHeight:"1em",height:"inherit",overflow:"auto",resize:"none",border:"none",alignContent:"center",textAlign:"center",textWrap:"wrap",whiteSpaceCollapse:"collapse"},readOnly:!0,value:r,onChange:()=>null})]})}var Gd=new Map,hs=new WeakMap,Jm=0,sP=void 0;function lP(e){return e?(hs.has(e)||(Jm+=1,hs.set(e,Jm.toString())),hs.get(e)):"0"}function uP(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?lP(e.root):e[t]}`).toString()}function cP(e){const t=uP(e);let n=Gd.get(t);if(!n){const r=new Map;let o;const a=new IntersectionObserver(i=>{i.forEach(l=>{var s;const u=l.isIntersecting&&o.some(c=>l.intersectionRatio>=c);e.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=u),(s=r.get(l.target))==null||s.forEach(c=>{c(u,l)})})},e);o=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:r},Gd.set(t,n)}return n}function dP(e,t,n={},r=sP){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const s=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:s,intersectionRect:s,rootBounds:s}),()=>{}}const{id:o,observer:a,elements:i}=cP(n),l=i.get(e)||[];return i.has(e)||i.set(e,l),l.push(t),a.observe(e),function(){l.splice(l.indexOf(t),1),l.length===0&&(i.delete(e),a.unobserve(e)),i.size===0&&(a.disconnect(),Gd.delete(o))}}function fP({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:o,triggerOnce:a,skip:i,initialInView:l,fallbackInView:s,onChange:u}={}){var c;const[d,f]=m.useState(null),p=m.useRef(),[v,g]=m.useState({inView:!!l,entry:void 0});p.current=u,m.useEffect(()=>{if(i||!d)return;let S;return S=dP(d,(E,x)=>{g({inView:E,entry:x}),p.current&&p.current(E,x),x.isIntersecting&&a&&S&&(S(),S=void 0)},{root:o,rootMargin:r,threshold:e,trackVisibility:n,delay:t},s),()=>{S&&S()}},[Array.isArray(e)?e.toString():e,d,o,r,a,i,n,s,t]);const y=(c=v.entry)==null?void 0:c.target,h=m.useRef();!d&&y&&!a&&!i&&h.current!==y&&(h.current=y,g({inView:!!l,entry:void 0}));const w=[f,v.inView,v.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}function pP(e){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M19.892 4.09a3.75 3.75 0 0 0-5.303 0l-4.5 4.5c-.074.074-.144.15-.21.229l4.965 4.966a3.75 3.75 0 0 0-1.986-4.428.75.75 0 0 1 .646-1.353 5.253 5.253 0 0 1 2.502 6.944l5.515 5.515a.75.75 0 0 1-1.061 1.06l-18-18.001A.75.75 0 0 1 3.521 2.46l5.294 5.295a5.31 5.31 0 0 1 .213-.227l4.5-4.5a5.25 5.25 0 1 1 7.425 7.425l-1.757 1.757a.75.75 0 1 1-1.06-1.06l1.756-1.757a3.75 3.75 0 0 0 0-5.304ZM5.846 11.773a.75.75 0 0 1 0 1.06l-1.757 1.758a3.75 3.75 0 0 0 5.303 5.304l3.129-3.13a.75.75 0 1 1 1.06 1.061l-3.128 3.13a5.25 5.25 0 1 1-7.425-7.426l1.757-1.757a.75.75 0 0 1 1.061 0Zm2.401.26a.75.75 0 0 1 .957.458c.18.512.474.992.885 1.403.31.311.661.555 1.035.733a.75.75 0 0 1-.647 1.354 5.244 5.244 0 0 1-1.449-1.026 5.232 5.232 0 0 1-1.24-1.965.75.75 0 0 1 .46-.957Z",clipRule:"evenodd"},child:[]}]})(e)}function hP(e){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2 22 3.41zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59 3.41 22z"},child:[]}]})(e)}function mP(e){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"circle",attr:{cx:"7",cy:"12",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17",cy:"12",r:"1.5"},child:[]}]})(e)}function gP(e){return tt({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"},child:[]}]})(e)}function Fw({compact:e=!1}){const t=m.useContext(qe),[n]=m.useState(t.dataCollector),[r]=m.useState(t.portaCountClient),[o]=te(I.ENABLE_SIMULATOR),[a]=te(I.BAUD_RATE),i=[3,30,300,1200,14400,28800,56760],[l,s]=te(I.SIMULATOR_FILE_SPEED),[u,c]=te(I.SELECTED_DATA_SOURCE),[d,f]=m.useState(r.state.connectionStatus),[,p]=te(I.CONNECTION_STATUS_IN_VIEW),[v]=te(I.ENABLE_WEB_SERIAL_DRIVERS),{ref:g,inView:y}=fP();m.useEffect(()=>{const O={connectionStatusChanged(M){f(M)}};return r.addListener(O),()=>{r.removeListener(O)}},[]),m.useEffect(()=>{p(y)},[y]);function h(){n.dataSource=Ie.WebUsbSerial,new Bo().requestPort().then(w)}function w(O){console.log(`got serial port ${O.toLocaleString()}, using baud rate ${a}`),r.connect(O)}function S(){n.dataSource=Ie.WebSerial,"serial"in navigator?(console.log("webserial supported!"),navigator.serial.requestPort().then(w)):console.log("no serial support. As of this writing, web serial is only supported on desktop chrome.")}function E(){n.dataSource=Ie.Simulator,w(t.portaCountSimulator.port)}function x(){n.dataSource=Ie.Simulator;function O(M,$=null){return{readable:M,writable:$,connected:!1,getInfo(){return{}},open(){return this.connected=!0,Promise.resolve()}}}if("showOpenFilePicker"in window)window.showOpenFilePicker({id:"simulator-files"}).then(M=>{M[0].getFile().then($=>{const H=Zh(new mr($,l)),j=O(H,null);w(j)})});else{const M=Zh(new mr("./fit-test-console/simulator-data/test-data.txt",l)),$=O(M,null);w($)}}function b(){_(u)}function _(O){switch(O){case Ie.WebUsbSerial:h();break;case Ie.WebSerial:S();break;case Ie.Simulator:n.fitFactorEstimator.resetChart(),E();break;case Ie.SimulatorFile:n.fitFactorEstimator.resetChart(),x();break;default:console.log(`unexpected dataSource : ${O}`);break}}function T(O){_(O)}const k=[{value:Ie.WebUsbSerial,label:"App drivers (webusb serial)"}];v&&k.push({value:Ie.WebSerial,label:"Computer drivers (webserial)"}),o&&k.push({value:Ie.SimulatorFile,label:"Simulator (file)"},{value:Ie.Simulator,label:"Simulator"});const R=C.jsxs(_p,{options:k,onChange:O=>T(O),children:[d===ft.DISCONNECTED&&C.jsx(pP,{color:"red"}),d===ft.WAITING&&C.jsx(mP,{color:"orange"}),d===ft.RECEIVING&&C.jsx(gP,{color:"green"})]});return e?R:C.jsxs("fieldset",{id:"driver-selector-widget",className:"info-box-compact",ref:g,children:[C.jsxs("legend",{children:["Data Source ",C.jsx("span",{className:KE(d),children:d})]}),C.jsxs("div",{style:{display:"inline-block"},children:[C.jsx("select",{id:"data-source-selector",value:u,onChange:O=>c(O.target.value),disabled:r.state.connectionStatus!==ft.DISCONNECTED,children:k.map(O=>C.jsx("option",{value:O.value,children:O.label},O.value))}),u===Ie.SimulatorFile&&C.jsxs("div",{style:{display:"inline-block"},children:[C.jsx("label",{htmlFor:"simulation-speed-select"}),C.jsx("select",{id:"simulation-speed-select",value:l,onChange:O=>s(Number(O.target.value)),children:i.map(O=>C.jsxs("option",{value:O,children:[O," bps"]},O))})]})]}),C.jsx("input",{className:"button",type:"button",value:"Connect",id:"connect-button",disabled:r.state.connectionStatus!==ft.DISCONNECTED,onClick:b})]})}const vP="modulepreload",yP=function(e,t){return new URL(e,t).href},eg={},Du=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),s=l?.nonce||l?.getAttribute("nonce");o=Promise.allSettled(n.map(u=>{if(u=yP(u,r),u in eg)return;eg[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!r)for(let v=i.length-1;v>=0;v--){const g=i[v];if(g.href===u&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":vP,c||(p.as="script"),p.crossOrigin="",p.href=u,s&&p.setAttribute("nonce",s),document.head.appendChild(p),c)return new Promise((v,g)=>{p.addEventListener("load",v),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},$w=m.lazy(()=>Du(()=>import("./ResultsTable-CRvwfhZ1.js"),__vite__mapDeps([0,1]),import.meta.url)),wP=m.lazy(()=>Du(()=>import("./SimpleFitTestProtocolPanel-CYVLYxvI.js"),__vite__mapDeps([2,3]),import.meta.url)),SP=m.lazy(()=>Du(()=>import("./QRScanner-CO5kyL0A.js"),[],import.meta.url));function CP(){const e=m.useContext(qe),[,t]=m.useState({}),n=m.useCallback(()=>{t({})},[]),[r]=te(I.TEST_TEMPLATE),[o,a]=m.useState([]),[i]=te(I.SELECTED_PROTOCOL);m.useEffect(()=>{const u={subscriptions:()=>[I.TEST_TEMPLATE],settingsChanged(c,d){console.log(`setting ${c} changed to ${JSON.stringify(d)}`),l(d.Participant)}};return e.settings.addListener(u),l(r.Participant),()=>{e.settings.removeListener(u)}},[]),m.useEffect(()=>{console.debug(`selectedProtocolChanged, num exercises is ${e.settings.numExercises}`),n()},[i]);function l(u){const c=new Date;u=(u??"").trim();const d=new Date(c.getTime()-c.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);on.getData(f=>{const p=new Date(f.Time),v=new Date(p.getTime()-p.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);return(f.Participant??"").trim()===u&&v.startsWith(d)}).then(a)}async function s(u){await Promise.all(u.map(c=>on.deleteRecordById(c))),l(r.Participant)}return C.jsx("div",{id:"current-participant-info",children:C.jsxs(Ny,{children:[C.jsxs("legend",{children:["Results",r.Participant?` for ${r.Participant}`:""]}),C.jsx("div",{style:{justifySelf:"center",maxWidth:"100%"},children:C.jsx($w,{tableData:o,setTableData:a,searchableColumns:[],hideColumns:["Participant","Time"],minExercisesToShow:e.settings.numExercises,columnSortingSettingKey:I.PARTICIPANT_RESULTS_TABLE_SORT,columnFilterSettingKey:I.PARTICIPANT_RESULTS_TABLE_FILTER,deleteRowsCallback:s})})]})})}function jw(){return C.jsxs("div",{style:{display:"block"},children:["This app requires Chrome browser for some features. Get it here: ",C.jsx("a",{href:"https://www.google.com/chrome/",children:"https://www.google.com/chrome/"})]})}function EP(){const e=navigator.userAgent.includes("Chrome");return C.jsx(C.Fragment,{children:!e&&C.jsx(jw,{})})}function bP(){const[e]=te(I.SHOW_EXTERNAL_CONTROL),[t]=te(I.USE_COMPACT_UI),[n]=te(I.ACTIVITY),[r]=te(I.ENABLE_TEST_INSTRUCTIONS_ZOOM),[o,a]=m.useState(r&&n===rt.Testing);m.useEffect(()=>{a(r&&n===rt.Testing)},[n,r]);function i(){a(l=>!l)}return C.jsxs(C.Fragment,{children:[C.jsx(EP,{}),!o&&C.jsxs("section",{id:"control-widgets",style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifySelf:"center"},children:[!t&&C.jsx(Fw,{}),!e&&C.jsx(Ax,{}),!t&&e&&C.jsx(oP,{}),!t&&e&&C.jsx(aP,{}),!t&&C.jsx(Lw,{}),!t&&C.jsx(Aw,{}),!t&&e&&C.jsx(Rw,{})]}),!o&&C.jsx(Lx,{}),C.jsxs("div",{id:"testing-mode-container",className:`test-instructions-container ${o&&"test-in-progress"}`,children:[C.jsx("div",{style:{padding:"0.2em",position:"absolute",right:0,backgroundColor:"inherit",aspectRatio:1,zIndex:10},onClick:()=>i(),children:o?C.jsx(hP,{}):C.jsx(xx,{})}),e&&C.jsx(Mx,{}),C.jsx(iP,{})]}),!o&&C.jsx(CP,{})]})}function xP(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:a,onRegisterError:i}=e;let l,s,u;const c=async(f=!0)=>{await s,await u?.()};async function d(){if("serviceWorker"in navigator){if(l=await Du(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[],import.meta.url).then(({Workbox:f})=>new f("./sw.js",{scope:"./",type:"classic"})).catch(f=>{i?.(f)}),!l)return;u=async()=>{await l?.messageSkipWaiting()};{let f=!1;const p=()=>{f=!0,l?.addEventListener("controlling",v=>{v.isUpdate&&window.location.reload()}),n?.()};l.addEventListener("installed",v=>{typeof v.isUpdate>"u"?typeof v.isExternal<"u"?v.isExternal?p():!f&&r?.():v.isExternal?window.location.reload():!f&&r?.():v.isUpdate||r?.()}),l.addEventListener("waiting",p),l.addEventListener("externalwaiting",p)}l.register({immediate:t}).then(f=>{a?a("./sw.js",f):o?.(f)}).catch(f=>{i?.(f)})}}return s=d(),c}var Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.parse=MP;Tp.serialize=RP;const _P=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,TP=/^[\u0021-\u003A\u003C-\u007E]*$/,DP=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,kP=/^[\u0020-\u003A\u003D-\u007E]*$/,PP=Object.prototype.toString,OP=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function MP(e,t){const n=new OP,r=e.length;if(r<2)return n;const o=t?.decode||NP;let a=0;do{const i=e.indexOf("=",a);if(i===-1)break;const l=e.indexOf(";",a),s=l===-1?r:l;if(i>s){a=e.lastIndexOf(";",i-1)+1;continue}const u=tg(e,a,i),c=ng(e,i,u),d=e.slice(u,c);if(n[d]===void 0){let f=tg(e,i+1,s),p=ng(e,s,f);const v=o(e.slice(f,p));n[d]=v}a=s+1}while(a<r);return n}function tg(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function ng(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function RP(e,t,n){const r=n?.encode||encodeURIComponent;if(!_P.test(e))throw new TypeError(`argument name is invalid: ${e}`);const o=r(t);if(!TP.test(o))throw new TypeError(`argument val is invalid: ${t}`);let a=e+"="+o;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!DP.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!kP.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!IP(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function NP(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function IP(e){return PP.call(e)==="[object Date]"}/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rg="popstate";function LP(e={}){function t(o,a){let{pathname:i="/",search:l="",hash:s=""}=go(o.location.hash.substring(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),qd("",{pathname:i,search:l,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let i=o.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let s=o.location.href,u=s.indexOf("#");l=u===-1?s:s.slice(0,u)}return l+"#"+(typeof a=="string"?a:_i(a))}function r(o,a){sn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return FP(t,n,r,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AP(){return Math.random().toString(36).substring(2,10)}function og(e,t){return{usr:e.state,key:e.key,idx:t}}function qd(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?go(t):t,state:n,key:t&&t.key||r||AP()}}function _i({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function go(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function FP(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,i=o.history,l="POP",s=null,u=c();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function c(){return(i.state||{idx:null}).idx}function d(){l="POP";let y=c(),h=y==null?null:y-u;u=y,s&&s({action:l,location:g.location,delta:h})}function f(y,h){l="PUSH";let w=qd(g.location,y,h);n&&n(w,y),u=c()+1;let S=og(w,u),E=g.createHref(w);try{i.pushState(S,"",E)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;o.location.assign(E)}a&&s&&s({action:l,location:g.location,delta:1})}function p(y,h){l="REPLACE";let w=qd(g.location,y,h);n&&n(w,y),u=c();let S=og(w,u),E=g.createHref(w);i.replaceState(S,"",E),a&&s&&s({action:l,location:g.location,delta:0})}function v(y){let h=o.location.origin!=="null"?o.location.origin:o.location.href,w=typeof y=="string"?y:_i(y);return w=w.replace(/ $/,"%20"),$e(h,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,h)}let g={get action(){return l},get location(){return e(o,i)},listen(y){if(s)throw new Error("A history only accepts one active listener");return o.addEventListener(rg,d),s=y,()=>{o.removeEventListener(rg,d),s=null}},createHref(y){return t(o,y)},createURL:v,encodeLocation(y){let h=v(y);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:f,replace:p,go(y){return i.go(y)}};return g}function Vw(e,t,n="/"){return $P(e,t,n,!1)}function $P(e,t,n,r){let o=typeof t=="string"?go(t):t,a=Ir(o.pathname||"/",n);if(a==null)return null;let i=Uw(e);jP(i);let l=null;for(let s=0;l==null&&s<i.length;++s){let u=qP(a);l=KP(i[s],u,r)}return l}function Uw(e,t=[],n=[],r=""){let o=(a,i,l)=>{let s={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};s.relativePath.startsWith("/")&&($e(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let u=Kn([r,s.relativePath]),c=n.concat(s);a.children&&a.children.length>0&&($e(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Uw(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:zP(u,a.index),routesMeta:c})};return e.forEach((a,i)=>{if(a.path===""||!a.path?.includes("?"))o(a,i);else for(let l of Bw(a.path))o(a,i,l)}),t}function Bw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let i=Bw(r.join("/")),l=[];return l.push(...i.map(s=>s===""?a:[a,s].join("/"))),o&&l.push(...i),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function jP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:QP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var VP=/^:[\w-]+$/,UP=3,BP=2,HP=1,WP=10,YP=-2,ag=e=>e==="*";function zP(e,t){let n=e.split("/"),r=n.length;return n.some(ag)&&(r+=YP),t&&(r+=BP),n.filter(o=>!ag(o)).reduce((o,a)=>o+(VP.test(a)?UP:a===""?HP:WP),r)}function QP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function KP(e,t,n=!1){let{routesMeta:r}=e,o={},a="/",i=[];for(let l=0;l<r.length;++l){let s=r[l],u=l===r.length-1,c=a==="/"?t:t.slice(a.length)||"/",d=Rl({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c),f=s.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Rl({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),i.push({params:o,pathname:Kn([a,d.pathname]),pathnameBase:eO(Kn([a,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(a=Kn([a,d.pathnameBase]))}return i}function Rl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=GP(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let v=l[f]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const p=l[f];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function GP(e,t=!1,n=!0){sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function qP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ir(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function XP(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?go(e):e;return{pathname:n?n.startsWith("/")?n:ZP(n,t):t,search:tO(r),hash:nO(o)}}function ZP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Rc(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Hw(e){let t=JP(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Ww(e,t,n,r=!1){let o;typeof e=="string"?o=go(e):(o={...e},$e(!o.pathname||!o.pathname.includes("?"),Rc("?","pathname","search",o)),$e(!o.pathname||!o.pathname.includes("#"),Rc("#","pathname","hash",o)),$e(!o.search||!o.search.includes("#"),Rc("#","search","hash",o)));let a=e===""||o.pathname==="",i=a?"/":o.pathname,l;if(i==null)l=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),d-=1;o.pathname=f.join("/")}l=d>=0?t[d]:"/"}let s=XP(o,l),u=i&&i!=="/"&&i.endsWith("/"),c=(a||i===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(u||c)&&(s.pathname+="/"),s}var Kn=e=>e.join("/").replace(/\/\/+/g,"/"),eO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Yw=["POST","PUT","PATCH","DELETE"];new Set(Yw);var oO=["GET",...Yw];new Set(oO);var ga=m.createContext(null);ga.displayName="DataRouter";var ku=m.createContext(null);ku.displayName="DataRouterState";var zw=m.createContext({isTransitioning:!1});zw.displayName="ViewTransition";var aO=m.createContext(new Map);aO.displayName="Fetchers";var iO=m.createContext(null);iO.displayName="Await";var $n=m.createContext(null);$n.displayName="Navigation";var ji=m.createContext(null);ji.displayName="Location";var jn=m.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var Dp=m.createContext(null);Dp.displayName="RouteError";function sO(e,{relative:t}={}){$e(Vi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=m.useContext($n),{hash:o,pathname:a,search:i}=Ui(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:Kn([n,a])),r.createHref({pathname:l,search:i,hash:o})}function Vi(){return m.useContext(ji)!=null}function sr(){return $e(Vi(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(ji).location}var Qw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kw(e){m.useContext($n).static||m.useLayoutEffect(e)}function Pu(){let{isDataRoute:e}=m.useContext(jn);return e?EO():lO()}function lO(){$e(Vi(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(ga),{basename:t,navigator:n}=m.useContext($n),{matches:r}=m.useContext(jn),{pathname:o}=sr(),a=JSON.stringify(Hw(r)),i=m.useRef(!1);return Kw(()=>{i.current=!0}),m.useCallback((s,u={})=>{if(sn(i.current,Qw),!i.current)return;if(typeof s=="number"){n.go(s);return}let c=Ww(s,JSON.parse(a),o,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Kn([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,a,o,e])}var uO=m.createContext(null);function cO(e){let t=m.useContext(jn).outlet;return t&&m.createElement(uO.Provider,{value:e},t)}function Ui(e,{relative:t}={}){let{matches:n}=m.useContext(jn),{pathname:r}=sr(),o=JSON.stringify(Hw(n));return m.useMemo(()=>Ww(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function dO(e,t){return Gw(e,t)}function Gw(e,t,n,r){$e(Vi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=m.useContext($n),{matches:a}=m.useContext(jn),i=a[a.length-1],l=i?i.params:{},s=i?i.pathname:"/",u=i?i.pathnameBase:"/",c=i&&i.route;{let h=c&&c.path||"";qw(s,!c||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${s}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let d=sr(),f;if(t){let h=typeof t=="string"?go(t):t;$e(u==="/"||h.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${h.pathname}" was given in the \`location\` prop.`),f=h}else f=d;let p=f.pathname||"/",v=p;if(u!=="/"){let h=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(h.length).join("/")}let g=Vw(e,{pathname:v});sn(c||g!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),sn(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=gO(g&&g.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:Kn([u,o.encodeLocation?o.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?u:Kn([u,o.encodeLocation?o.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),a,n,r);return t&&y?m.createElement(ji.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},y):y}function fO(){let e=CO(),t=rO(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:a},"ErrorBoundary")," or"," ",m.createElement("code",{style:a},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:o},n):null,i)}var pO=m.createElement(fO,null),hO=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?m.createElement(jn.Provider,{value:this.props.routeContext},m.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mO({routeContext:e,match:t,children:n}){let r=m.useContext(ga);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(jn.Provider,{value:e},n)}function gO(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=n?.errors;if(a!=null){let s=o.findIndex(u=>u.route.id&&a?.[u.route.id]!==void 0);$e(s>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,s+1))}let i=!1,l=-1;if(n)for(let s=0;s<o.length;s++){let u=o[s];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=s),u.route.id){let{loaderData:c,errors:d}=n,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){i=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((s,u,c)=>{let d,f=!1,p=null,v=null;n&&(d=a&&u.route.id?a[u.route.id]:void 0,p=u.route.errorElement||pO,i&&(l<0&&c===0?(qw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):l===c&&(f=!0,v=u.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,c+1)),y=()=>{let h;return d?h=p:f?h=v:u.route.Component?h=m.createElement(u.route.Component,null):u.route.element?h=u.route.element:h=s,m.createElement(mO,{match:u,routeContext:{outlet:s,matches:g,isDataRoute:n!=null},children:h})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?m.createElement(hO,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}function kp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vO(e){let t=m.useContext(ga);return $e(t,kp(e)),t}function yO(e){let t=m.useContext(ku);return $e(t,kp(e)),t}function wO(e){let t=m.useContext(jn);return $e(t,kp(e)),t}function Pp(e){let t=wO(e),n=t.matches[t.matches.length-1];return $e(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function SO(){return Pp("useRouteId")}function CO(){let e=m.useContext(Dp),t=yO("useRouteError"),n=Pp("useRouteError");return e!==void 0?e:t.errors?.[n]}function EO(){let{router:e}=vO("useNavigate"),t=Pp("useNavigate"),n=m.useRef(!1);return Kw(()=>{n.current=!0}),m.useCallback(async(o,a={})=>{sn(n.current,Qw),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...a}))},[e,t])}var ig={};function qw(e,t,n){!t&&!ig[e]&&(ig[e]=!0,sn(!1,n))}m.memo(bO);function bO({routes:e,future:t,state:n}){return Gw(e,void 0,n,t)}function xO(e){return cO(e.context)}function Kt(e){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _O({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:a=!1}){$e(!Vi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:i,navigator:o,static:a,future:{}}),[i,o,a]);typeof n=="string"&&(n=go(n));let{pathname:s="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,p=m.useMemo(()=>{let v=Ir(s,i);return v==null?null:{location:{pathname:v,search:u,hash:c,state:d,key:f},navigationType:r}},[i,s,u,c,d,f,r]);return sn(p!=null,`<Router basename="${i}"> is not able to match the URL "${s}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:m.createElement($n.Provider,{value:l},m.createElement(ji.Provider,{children:t,value:p}))}function TO({children:e,location:t}){return dO(Xd(e),t)}function Xd(e,t=[]){let n=[];return m.Children.forEach(e,(r,o)=>{if(!m.isValidElement(r))return;let a=[...t,o];if(r.type===m.Fragment){n.push.apply(n,Xd(r.props.children,a));return}$e(r.type===Kt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Xd(r.props.children,a)),n.push(i)}),n}var $s="get",js="application/x-www-form-urlencoded";function Ou(e){return e!=null&&typeof e.tagName=="string"}function DO(e){return Ou(e)&&e.tagName.toLowerCase()==="button"}function kO(e){return Ou(e)&&e.tagName.toLowerCase()==="form"}function PO(e){return Ou(e)&&e.tagName.toLowerCase()==="input"}function OO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MO(e,t){return e.button===0&&(!t||t==="_self")&&!OO(e)}function Zd(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function RO(e,t){let n=Zd(e);return t&&t.forEach((r,o)=>{n.has(o)||t.getAll(o).forEach(a=>{n.append(o,a)})}),n}var ms=null;function NO(){if(ms===null)try{new FormData(document.createElement("form"),0),ms=!1}catch{ms=!0}return ms}var IO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nc(e){return e!=null&&!IO.has(e)?(sn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${js}"`),null):e}function LO(e,t){let n,r,o,a,i;if(kO(e)){let l=e.getAttribute("action");r=l?Ir(l,t):null,n=e.getAttribute("method")||$s,o=Nc(e.getAttribute("enctype"))||js,a=new FormData(e)}else if(DO(e)||PO(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||l.getAttribute("action");if(r=s?Ir(s,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||$s,o=Nc(e.getAttribute("formenctype"))||Nc(l.getAttribute("enctype"))||js,a=new FormData(l,e),!NO()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else u&&a.append(u,d)}}else{if(Ou(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$s,r=null,o=js,i=e}return a&&o==="text/plain"&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:i}}function Op(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function AO(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $O(e,t,n){let r=await Promise.all(e.map(async o=>{let a=t.routes[o.route.id];if(a){let i=await AO(a,n);return i.links?i.links():[]}return[]}));return BO(r.flat(1).filter(FO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function sg(e,t,n,r,o,a){let i=(s,u)=>n[u]?s.route.id!==n[u].route.id:!0,l=(s,u)=>n[u].pathname!==s.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==s.params["*"];return a==="assets"?t.filter((s,u)=>i(s,u)||l(s,u)):a==="data"?t.filter((s,u)=>{let c=r.routes[s.route.id];if(!c||!c.hasLoader)return!1;if(i(s,u)||l(s,u))return!0;if(s.route.shouldRevalidate){let d=s.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:s.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function jO(e,t){return VO(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function VO(e){return[...new Set(e)]}function UO(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function BO(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let a=JSON.stringify(UO(o));return n.has(a)||(n.add(a),r.push({key:a,link:o})),r},[])}function HO(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function WO(){let e=m.useContext(ga);return Op(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function YO(){let e=m.useContext(ku);return Op(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Mp=m.createContext(void 0);Mp.displayName="FrameworkContext";function Xw(){let e=m.useContext(Mp);return Op(e,"You must render this element inside a <HydratedRouter> element"),e}function zO(e,t){let n=m.useContext(Mp),[r,o]=m.useState(!1),[a,i]=m.useState(!1),{onFocus:l,onBlur:s,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=m.useRef(null);m.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let g=h=>{h.forEach(w=>{i(w.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return f.current&&y.observe(f.current),()=>{y.disconnect()}}},[e]),m.useEffect(()=>{if(r){let g=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{o(!0)},v=()=>{o(!1),i(!1)};return n?e!=="intent"?[a,f,{}]:[a,f,{onFocus:Oa(l,p),onBlur:Oa(s,v),onMouseEnter:Oa(u,p),onMouseLeave:Oa(c,v),onTouchStart:Oa(d,p)}]:[!1,f,{}]}function Oa(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function QO({page:e,...t}){let{router:n}=WO(),r=m.useMemo(()=>Vw(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?m.createElement(GO,{page:e,matches:r,...t}):null}function KO(e){let{manifest:t,routeModules:n}=Xw(),[r,o]=m.useState([]);return m.useEffect(()=>{let a=!1;return $O(e,t,n).then(i=>{a||o(i)}),()=>{a=!0}},[e,t,n]),r}function GO({page:e,matches:t,...n}){let r=sr(),{manifest:o,routeModules:a}=Xw(),{loaderData:i,matches:l}=YO(),s=m.useMemo(()=>sg(e,t,l,o,r,"data"),[e,t,l,o,r]),u=m.useMemo(()=>sg(e,t,l,o,r,"assets"),[e,t,l,o,r]),c=m.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let p=new Set,v=!1;if(t.forEach(y=>{let h=o.routes[y.route.id];!h||!h.hasLoader||(!s.some(w=>w.route.id===y.route.id)&&y.route.id in i&&a[y.route.id]?.shouldRevalidate||h.hasClientLoader?v=!0:p.add(y.route.id))}),p.size===0)return[];let g=HO(e);return v&&p.size>0&&g.searchParams.set("_routes",t.filter(y=>p.has(y.route.id)).map(y=>y.route.id).join(",")),[g.pathname+g.search]},[i,r,o,s,t,e,a]),d=m.useMemo(()=>jO(u,o),[u,o]),f=KO(u);return m.createElement(m.Fragment,null,c.map(p=>m.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...n})),d.map(p=>m.createElement("link",{key:p,rel:"modulepreload",href:p,...n})),f.map(({key:p,link:v})=>m.createElement("link",{key:p,...v})))}function qO(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zw&&(window.__reactRouterVersion="7.1.3")}catch{}function XO({basename:e,children:t,window:n}){let r=m.useRef();r.current==null&&(r.current=LP({window:n,v5Compat:!0}));let o=r.current,[a,i]=m.useState({action:o.action,location:o.location}),l=m.useCallback(s=>{m.startTransition(()=>i(s))},[i]);return m.useLayoutEffect(()=>o.listen(l),[o,l]),m.createElement(_O,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o})}var Jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eS=m.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:a,replace:i,state:l,target:s,to:u,preventScrollReset:c,viewTransition:d,...f},p){let{basename:v}=m.useContext($n),g=typeof u=="string"&&Jw.test(u),y,h=!1;if(typeof u=="string"&&g&&(y=u,Zw))try{let k=new URL(window.location.href),R=u.startsWith("//")?new URL(k.protocol+u):new URL(u),O=Ir(R.pathname,v);R.origin===k.origin&&O!=null?u=O+R.search+R.hash:h=!0}catch{sn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=sO(u,{relative:o}),[S,E,x]=zO(r,f),b=eM(u,{replace:i,state:l,target:s,preventScrollReset:c,relative:o,viewTransition:d});function _(k){t&&t(k),k.defaultPrevented||b(k)}let T=m.createElement("a",{...f,...x,href:y||w,onClick:h||a?t:_,ref:qO(p,E),target:s,"data-discover":!g&&n==="render"?"true":void 0});return S&&!g?m.createElement(m.Fragment,null,T,m.createElement(QO,{page:w})):T});eS.displayName="Link";var tS=m.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:a,to:i,viewTransition:l,children:s,...u},c){let d=Ui(i,{relative:u.relative}),f=sr(),p=m.useContext(ku),{navigator:v,basename:g}=m.useContext($n),y=p!=null&&iM(d)&&l===!0,h=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,w=f.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),S=S?S.toLowerCase():null,h=h.toLowerCase()),S&&g&&(S=Ir(S,g)||S);const E=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let x=w===h||!o&&w.startsWith(h)&&w.charAt(E)==="/",b=S!=null&&(S===h||!o&&S.startsWith(h)&&S.charAt(h.length)==="/"),_={isActive:x,isPending:b,isTransitioning:y},T=x?t:void 0,k;typeof r=="function"?k=r(_):k=[r,x?"active":null,b?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(_):a;return m.createElement(eS,{...u,"aria-current":T,className:k,ref:c,style:R,to:i,viewTransition:l},typeof s=="function"?s(_):s)});tS.displayName="NavLink";var ZO=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:a,method:i=$s,action:l,onSubmit:s,relative:u,preventScrollReset:c,viewTransition:d,...f},p)=>{let v=oM(),g=aM(l,{relative:u}),y=i.toLowerCase()==="get"?"get":"post",h=typeof l=="string"&&Jw.test(l),w=S=>{if(s&&s(S),S.defaultPrevented)return;S.preventDefault();let E=S.nativeEvent.submitter,x=E?.getAttribute("formmethod")||i;v(E||S.currentTarget,{fetcherKey:t,method:x,navigate:n,replace:o,state:a,relative:u,preventScrollReset:c,viewTransition:d})};return m.createElement("form",{ref:p,method:y,action:g,onSubmit:r?s:w,...f,"data-discover":!h&&e==="render"?"true":void 0})});ZO.displayName="Form";function JO(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nS(e){let t=m.useContext(ga);return $e(t,JO(e)),t}function eM(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:i}={}){let l=Pu(),s=sr(),u=Ui(e,{relative:a});return m.useCallback(c=>{if(MO(c,t)){c.preventDefault();let d=n!==void 0?n:_i(s)===_i(u);l(e,{replace:d,state:r,preventScrollReset:o,relative:a,viewTransition:i})}},[s,l,u,n,r,t,e,o,a,i])}function tM(e){sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=m.useRef(Zd(e)),n=m.useRef(!1),r=sr(),o=m.useMemo(()=>RO(r.search,n.current?null:t.current),[r.search]),a=Pu(),i=m.useCallback((l,s)=>{const u=Zd(typeof l=="function"?l(o):l);n.current=!0,a("?"+u,s)},[a,o]);return[o,i]}var nM=0,rM=()=>`__${String(++nM)}__`;function oM(){let{router:e}=nS("useSubmit"),{basename:t}=m.useContext($n),n=SO();return m.useCallback(async(r,o={})=>{let{action:a,method:i,encType:l,formData:s,body:u}=LO(r,t);if(o.navigate===!1){let c=o.fetcherKey||rM();await e.fetch(c,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:s,body:u,formMethod:o.method||i,formEncType:o.encType||l,flushSync:o.flushSync})}else await e.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:s,body:u,formMethod:o.method||i,formEncType:o.encType||l,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function aM(e,{relative:t}={}){let{basename:n}=m.useContext($n),r=m.useContext(jn);$e(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Ui(e||".",{relative:t})},i=sr();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),s=l.getAll("index");if(s.some(c=>c==="")){l.delete("index"),s.filter(d=>d).forEach(d=>l.append("index",d));let c=l.toString();a.search=c?`?${c}`:""}}return(!e||e===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Kn([n,a.pathname])),_i(a)}function iM(e,t={}){let n=m.useContext(zw);$e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nS("useViewTransitionState"),o=Ui(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Ir(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Ir(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rl(o.pathname,i)!=null||Rl(o.pathname,a)!=null}new TextEncoder;function lg({label:e,value:t,setValue:n,options:r}){const o=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-select`;return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"labeled-setting",children:[C.jsxs("label",{htmlFor:o,children:[e,": "]}),C.jsx("select",{id:o,value:t,onChange:a=>n(a.target.value),children:r.map(a=>Object.entries(a).map(([i,l])=>C.jsx("option",{value:l,children:i},l)))})]})})}function sM(){const[e,t]=te(I.SPEECH_ENABLED);return m.useEffect(()=>{At.setSpeechEnabled(e)},[e]),C.jsx(Nw,{trueLabel:"Enable speech",value:e,setValue:t})}var Jd;(function(e){e.csv="text/csv",e.tsv="text/tab-separated-values",e.plain="text/plain"})(Jd||(Jd={}));var va=e=>e,Bt=e=>e,ei=va,Mu=va,ia=va,ug=va,cg=va,lM={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,fileExtension:"csv",mediaType:Jd.csv,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},uM=`\r
`,cM="\uFEFF",Ru=e=>Object.assign({},lM,e);class dM extends Error{constructor(t){super(t),this.name="CsvGenerationError"}}class fM extends Error{constructor(t){super(t),this.name="EmptyHeadersError"}}class pM extends Error{constructor(t){super(t),this.name="CsvDownloadEnvironmentError"}}class hM extends Error{constructor(t){super(t),this.name="UnsupportedDataFormatError"}}var mM=function(e,t){return t=='"'&&e.indexOf('"')>-1?e.replace(/"/g,'""'):e},gM=e=>ug(typeof e=="object"?e.key:e),vM=e=>cg(typeof e=="object"?e.displayLabel:e),yM=(e,...t)=>t.reduce((n,r)=>r(n),e),wM=e=>t=>e.useBom?Mu(Bt(t)+cM):t,SM=e=>t=>e.showTitle?Rp(Mu(Bt(t)+e.title))(ia("")):t,Rp=e=>t=>Mu(Bt(e)+Bt(t)+uM),rS=e=>(t,n)=>CM(e)(ia(Bt(t)+Bt(n))),CM=e=>t=>va(Bt(t)+e.fieldSeparator),EM=(e,t)=>n=>{if(!e.showColumnHeaders)return n;if(t.length<1)throw new fM("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let r=ia("");for(let o=0;o<t.length;o++){const a=vM(t[o]);r=rS(e)(r,oS(e,Bt(a)))}return r=ia(Bt(r).slice(0,-1)),Rp(n)(r)},bM=(e,t,n)=>r=>{let o=r;for(var a=0;a<n.length;a++){let i=ia("");for(let l=0;l<t.length;l++){const s=gM(t[l]),u=n[a][Bt(s)];i=rS(e)(i,oS(e,u))}i=ia(Bt(i).slice(0,-1)),o=Rp(o)(i)}return o},xM=e=>+e===e&&(!isFinite(e)||!!(e%1)),_M=(e,t)=>{if(xM(t)){if(e.decimalSeparator==="locale")return ei(t.toLocaleString());if(e.decimalSeparator)return ei(t.toString().replace(".",e.decimalSeparator))}return ei(t.toString())},Vs=(e,t)=>{let n=t;return(e.quoteStrings||e.fieldSeparator&&t.indexOf(e.fieldSeparator)>-1||e.quoteCharacter&&t.indexOf(e.quoteCharacter)>-1||t.indexOf(`
`)>-1||t.indexOf("\r")>-1)&&(n=e.quoteCharacter+mM(t,e.quoteCharacter)+e.quoteCharacter),ei(n)},TM=(e,t)=>{const n=t?"true":"false";return ei(e.boolDisplay[n])},DM=(e,t)=>typeof t>"u"&&e.replaceUndefinedWith!==void 0?Vs(e,e.replaceUndefinedWith+""):t===null?Vs(e,"null"):Vs(e,""),oS=(e,t)=>{if(typeof t=="number")return _M(e,t);if(typeof t=="string")return Vs(e,t);if(typeof t=="boolean"&&e.boolDisplay)return TM(e,t);if(t===null||typeof t>"u")return DM(e,t);throw new hM(`
    typeof ${typeof t} isn't supported. Only number, string, boolean, null and undefined are supported.
    Please convert the data in your object to one of those before generating the CSV.
    `)},kM=e=>t=>{const n=Ru(e),r=n.useKeysAsHeaders?Object.keys(t[0]):n.columnHeaders;let o=yM(Mu(""),wM(n),SM(n),EM(n,r),bM(n,r,t));if(Bt(o).length<1)throw new dM("Output is empty. Is your data formatted correctly?");return o},PM=e=>t=>{const n=Ru(e),r=Bt(t),o=n.useTextFile?"text/plain":n.mediaType;return new Blob([r],{type:`${o};charset=utf8;`})},OM=e=>t=>{if(!window)throw new pM("Downloading only supported in a browser environment.");const n=PM(e)(t),r=Ru(e),o=r.useTextFile?"txt":r.fileExtension,a=`${r.filename}.${o}`,i=document.createElement("a");i.download=a,i.href=URL.createObjectURL(n),i.setAttribute("visibility","hidden"),document.body.appendChild(i),i.click(),document.body.removeChild(i)};function MM(e,t){const n=URL.createObjectURL(new Blob([new TextEncoder().encode(t).buffer],{type:"text/plain"})),r=document.createElement("a");return r.download=e,r.href=n,r}function dg(e,t="data",n="txt"){MM(`${t}_${new Date().toISOString().replace(/[:.]/g,"_")}.${n}`,e).click()}function RM(e){const t=Ru({fieldSeparator:",",filename:`fit-test-results-${new Date().toISOString().replace(/[:.]/g,"_")}`,decimalSeparator:".",columnHeaders:e.getAllColumns().map(a=>a.id)}),r=e.getSortedRowModel().rows.map(a=>a.original),o=kM(t)(r);return{csvConfig:t,csv:o}}function qI(e){const{csvConfig:t,csv:n}=RM(e);OM(t)(n)}function NM(){const[e,t]=te(I.SPEECH_VOICE),n=m.useCallback(a=>{const i=o(a);console.log(`looking for voice '${a}'; found voice ${i?.name}`),i&&(At.setSelectedVoice(i),t(a),At.sayItLater(`This is ${i.name} speaking.`))},[t]);m.useEffect(()=>{const a=r();a&&t(a.name)},[]),m.useEffect(()=>{n(e)},[e,n]);function r(){const i=At.allVoices.find(l=>l.default);return i||null}function o(a){return At.allVoices.find(i=>i.name===a)||null}return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"labeled-setting",children:[C.jsx("label",{htmlFor:"speech-voice-select",children:"Voice: "}),C.jsx("select",{id:"speech-voice-select",value:e,onChange:a=>t(a.target.value),style:{textOverflow:"ellipsis",width:"15em"},children:At.allVoices.map(a=>C.jsx("option",{value:a.name,children:`${a.name} (${a.lang}) ${a.default?" DEFAULT":""}`},a.name))})]})})}function IM({value:e,onChange:t,debounce:n=500,inputRef:r,id:o,...a}){const[i,l]=D.useState(e);return D.useEffect(()=>{l(e)},[e]),D.useEffect(()=>{const s=setTimeout(()=>{t(i)},n);return()=>clearTimeout(s)},[i]),C.jsx("input",{id:`debounced-input-${o}`,ref:r,...a,value:i,onChange:s=>l(s.target.value)})}function aS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=aS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function it(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=aS(e))&&(r&&(r+=" "),r+=t);return r}function W(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function be(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function or(e,t){const n=W(e);return isNaN(t)?be(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function gn(e,t){const n=W(e);if(isNaN(t))return be(e,NaN);if(!t)return n;const r=n.getDate(),o=be(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const a=o.getDate();return r>=a?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}function Np(e,t){const n=+W(e);return be(e,n+t)}const iS=6048e5,LM=864e5,Nu=6e4,Iu=36e5,AM=1e3;function FM(e,t){return Np(e,t*Iu)}let $M={};function vo(){return $M}function ar(e,t){const n=vo(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=W(e),a=o.getDay(),i=(a<r?7:0)+a-r;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function sa(e){return ar(e,{weekStartsOn:1})}function sS(e){const t=W(e),n=t.getFullYear(),r=be(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const o=sa(r),a=be(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const i=sa(a);return t.getTime()>=o.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function uo(e){const t=W(e);return t.setHours(0,0,0,0),t}function Nl(e){const t=W(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function la(e,t){const n=uo(e),r=uo(t),o=+n-Nl(n),a=+r-Nl(r);return Math.round((o-a)/LM)}function jM(e){const t=sS(e),n=be(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),sa(n)}function ef(e,t){return Np(e,t*Nu)}function Ip(e,t){const n=t*3;return gn(e,n)}function VM(e,t){return Np(e,t*1e3)}function Il(e,t){const n=t*7;return or(e,n)}function Gn(e,t){return gn(e,t*12)}function fg(e){let t;return e.forEach(function(n){const r=W(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function pg(e){let t;return e.forEach(n=>{const r=W(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function UM(e,t){const n=uo(e),r=uo(t);return+n==+r}function qn(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ll(e){if(!qn(e)&&typeof e!="number")return!1;const t=W(e);return!isNaN(Number(t))}function Al(e,t){const n=W(e),r=W(t),o=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return o*12+a}function Jr(e){const t=W(e);return Math.trunc(t.getMonth()/3)+1}function Fl(e,t){const n=W(e),r=W(t),o=n.getFullYear()-r.getFullYear(),a=Jr(n)-Jr(r);return o*4+a}function $l(e,t){const n=W(e),r=W(t);return n.getFullYear()-r.getFullYear()}function BM(e,t){const n=W(e),r=W(t),o=hg(n,r),a=Math.abs(la(n,r));n.setDate(n.getDate()-o*a);const i=+(hg(n,r)===-o),l=o*(a-i);return l===0?0:l}function hg(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function lS(e){const t=W(e);return t.setHours(23,59,59,999),t}function uS(e){const t=W(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function tf(e){const t=W(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function cS(e){const t=W(e);return t.setDate(1),t.setHours(0,0,0,0),t}function dS(e){const t=W(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Lu(e){const t=W(e),n=be(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function HM(e,t){const n=vo(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=W(e),a=o.getDay(),i=(a<r?-7:0)+6-(a-r);return o.setDate(o.getDate()+i),o.setHours(23,59,59,999),o}const WM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YM=(e,t,n)=>{let r;const o=WM[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ic(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const zM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},QM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GM={date:Ic({formats:zM,defaultWidth:"full"}),time:Ic({formats:QM,defaultWidth:"full"}),dateTime:Ic({formats:KM,defaultWidth:"full"})},qM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XM=(e,t,n,r)=>qM[e];function Ma(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):i;o=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;o=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return o[a]}}const ZM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},oR=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},aR={ordinalNumber:oR,era:Ma({values:ZM,defaultWidth:"wide"}),quarter:Ma({values:JM,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ma({values:eR,defaultWidth:"wide"}),day:Ma({values:tR,defaultWidth:"wide"}),dayPeriod:Ma({values:nR,defaultWidth:"wide",formattingValues:rR,defaultFormattingWidth:"wide"})};function Ra(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const i=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(l)?sR(l,d=>d.test(i)):iR(l,d=>d.test(i));let u;u=e.valueCallback?e.valueCallback(s):s,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(i.length);return{value:u,rest:c}}}function iR(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function sR(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function lR(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(o.length);return{value:i,rest:l}}}const uR=/^(\d+)(th|st|nd|rd)?/i,cR=/\d+/i,dR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fR={any:[/^b/i,/^(a|c)/i]},pR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hR={any:[/1/i,/2/i,/3/i,/4/i]},mR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CR={ordinalNumber:lR({matchPattern:uR,parsePattern:cR,valueCallback:e=>parseInt(e,10)}),era:Ra({matchPatterns:dR,defaultMatchWidth:"wide",parsePatterns:fR,defaultParseWidth:"any"}),quarter:Ra({matchPatterns:pR,defaultMatchWidth:"wide",parsePatterns:hR,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ra({matchPatterns:mR,defaultMatchWidth:"wide",parsePatterns:gR,defaultParseWidth:"any"}),day:Ra({matchPatterns:vR,defaultMatchWidth:"wide",parsePatterns:yR,defaultParseWidth:"any"}),dayPeriod:Ra({matchPatterns:wR,defaultMatchWidth:"any",parsePatterns:SR,defaultParseWidth:"any"})},fS={code:"en-US",formatDistance:YM,formatLong:GM,formatRelative:XM,localize:aR,match:CR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ER(e){const t=W(e);return la(t,Lu(t))+1}function Lp(e){const t=W(e),n=+sa(t)-+jM(t);return Math.round(n/iS)+1}function Ap(e,t){const n=W(e),r=n.getFullYear(),o=vo(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,i=be(e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const l=ar(i,t),s=be(e,0);s.setFullYear(r,0,a),s.setHours(0,0,0,0);const u=ar(s,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function bR(e,t){const n=vo(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Ap(e,t),a=be(e,0);return a.setFullYear(o,0,r),a.setHours(0,0,0,0),ar(a,t)}function pS(e,t){const n=W(e),r=+ar(n,t)-+bR(n,t);return Math.round(r/iS)+1}function Ee(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ur={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ee(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ee(n+1,2)},d(e,t){return Ee(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ee(e.getHours()%12||12,t.length)},H(e,t){return Ee(e.getHours(),t.length)},m(e,t){return Ee(e.getMinutes(),t.length)},s(e,t){return Ee(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return Ee(o,t.length)}},So={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mg={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return ur.y(e,t)},Y:function(e,t,n,r){const o=Ap(e,r),a=o>0?o:1-o;if(t==="YY"){const i=a%100;return Ee(i,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ee(a,t.length)},R:function(e,t){const n=sS(e);return Ee(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ee(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ee(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ee(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ur.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ee(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=pS(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Ee(o,t.length)},I:function(e,t,n){const r=Lp(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ee(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ur.d(e,t)},D:function(e,t,n){const r=ER(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ee(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ee(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ee(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return Ee(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=So.noon:r===0?o=So.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=So.evening:r>=12?o=So.afternoon:r>=4?o=So.morning:o=So.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ur.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ur.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ee(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ee(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ur.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ur.s(e,t)},S:function(e,t){return ur.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return vg(r);case"XXXX":case"XX":return Hr(r);case"XXXXX":case"XXX":default:return Hr(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return vg(r);case"xxxx":case"xx":return Hr(r);case"xxxxx":case"xxx":default:return Hr(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+gg(r,":");case"OOOO":default:return"GMT"+Hr(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+gg(r,":");case"zzzz":default:return"GMT"+Hr(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ee(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ee(r,t.length)}};function gg(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),a=r%60;return a===0?n+String(o):n+String(o)+t+Ee(a,2)}function vg(e,t){return e%60===0?(e>0?"-":"+")+Ee(Math.abs(e)/60,2):Hr(e,t)}function Hr(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Ee(Math.trunc(r/60),2),a=Ee(r%60,2);return n+o+t+a}const yg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xR=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return yg(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",yg(r,t)).replace("{{time}}",hS(o,t))},jl={p:hS,P:xR},_R=/^D+$/,TR=/^Y+$/,DR=["D","DD","YY","YYYY"];function mS(e){return _R.test(e)}function gS(e){return TR.test(e)}function nf(e,t,n){const r=kR(e,t,n);if(console.warn(r),DR.includes(e))throw new RangeError(r)}function kR(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MR=/^'([^]*?)'?$/,RR=/''/g,NR=/[a-zA-Z]/;function wg(e,t,n){const r=vo(),o=n?.locale??r.locale??fS,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=W(e);if(!Ll(l))throw new RangeError("Invalid time value");let s=t.match(OR).map(c=>{const d=c[0];if(d==="p"||d==="P"){const f=jl[d];return f(c,o.formatLong)}return c}).join("").match(PR).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const d=c[0];if(d==="'")return{isToken:!1,value:IR(c)};if(mg[d])return{isToken:!0,value:c};if(d.match(NR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:c}});o.localize.preprocessor&&(s=o.localize.preprocessor(l,s));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:o};return s.map(c=>{if(!c.isToken)return c.value;const d=c.value;(!n?.useAdditionalWeekYearTokens&&gS(d)||!n?.useAdditionalDayOfYearTokens&&mS(d))&&nf(d,t,String(e));const f=mg[d[0]];return f(l,d,o.localize,u)}).join("")}function IR(e){const t=e.match(MR);return t?t[1].replace(RR,"'"):e}function Sg(e){return W(e).getDate()}function LR(e){return W(e).getDay()}function AR(e){const t=W(e),n=t.getFullYear(),r=t.getMonth(),o=be(e,0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function FR(){return Object.assign({},vo())}function Nn(e){return W(e).getHours()}function $R(e){let n=W(e).getDay();return n===0&&(n=7),n}function In(e){return W(e).getMinutes()}function xt(e){return W(e).getMonth()}function Xn(e){return W(e).getSeconds()}function rf(e){return W(e).getTime()}function le(e){return W(e).getFullYear()}function Lr(e,t){const n=W(e),r=W(t);return n.getTime()>r.getTime()}function co(e,t){const n=W(e),r=W(t);return+n<+r}function jR(e,t){const n=W(e),r=W(t);return+n==+r}function VR(e,t){const n=t instanceof Date?be(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const UR=10;class vS{subPriority=0;validate(t,n){return!0}}class BR extends vS{constructor(t,n,r,o,a){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=o,a&&(this.subPriority=a)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class HR extends vS{priority=UR;subPriority=-1;set(t,n){return n.timestampIsSet?t:be(t,VR(t,Date))}}class we{run(t,n,r,o){const a=this.parse(t,n,r,o);return a?{setter:new BR(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,n,r){return!0}}class WR extends we{priority=140;parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const ze={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},_n={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Qe(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ae(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Tn(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:r*(o*Iu+a*Nu+i*AM),rest:t.slice(n[0].length)}}function yS(e){return Ae(ze.anyDigitsSigned,e)}function We(e,t){switch(e){case 1:return Ae(ze.singleDigit,t);case 2:return Ae(ze.twoDigits,t);case 3:return Ae(ze.threeDigits,t);case 4:return Ae(ze.fourDigits,t);default:return Ae(new RegExp("^\\d{1,"+e+"}"),t)}}function Vl(e,t){switch(e){case 1:return Ae(ze.singleDigitSigned,t);case 2:return Ae(ze.twoDigitsSigned,t);case 3:return Ae(ze.threeDigitsSigned,t);case 4:return Ae(ze.fourDigitsSigned,t);default:return Ae(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Fp(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function wS(e,t){const n=t>0,r=n?t:1-t;let o;if(r<=50)o=e||100;else{const a=r+50,i=Math.trunc(a/100)*100,l=e>=a%100;o=e+i-(l?100:0)}return n?o:1-o}function SS(e){return e%400===0||e%4===0&&e%100!==0}class YR extends we{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,r){const o=a=>({year:a,isTwoDigitYear:n==="yy"});switch(n){case"y":return Qe(We(4,t),o);case"yo":return Qe(r.ordinalNumber(t,{unit:"year"}),o);default:return Qe(We(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const o=t.getFullYear();if(r.isTwoDigitYear){const i=wS(r.year,o);return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}const a=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class zR extends we{priority=130;parse(t,n,r){const o=a=>({year:a,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Qe(We(4,t),o);case"Yo":return Qe(r.ordinalNumber(t,{unit:"year"}),o);default:return Qe(We(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,o){const a=Ap(t,o);if(r.isTwoDigitYear){const l=wS(r.year,a);return t.setFullYear(l,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),ar(t,o)}const i=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(i,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),ar(t,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class QR extends we{priority=130;parse(t,n){return Vl(n==="R"?4:n.length,t)}set(t,n,r){const o=be(t,0);return o.setFullYear(r,0,4),o.setHours(0,0,0,0),sa(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class KR extends we{priority=130;parse(t,n){return Vl(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class GR extends we{priority=120;parse(t,n,r){switch(n){case"Q":case"QQ":return We(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class qR extends we{priority=120;parse(t,n,r){switch(n){case"q":case"qq":return We(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class XR extends we{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,r){const o=a=>a-1;switch(n){case"M":return Qe(Ae(ze.month,t),o);case"MM":return Qe(We(2,t),o);case"Mo":return Qe(r.ordinalNumber(t,{unit:"month"}),o);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class ZR extends we{priority=110;parse(t,n,r){const o=a=>a-1;switch(n){case"L":return Qe(Ae(ze.month,t),o);case"LL":return Qe(We(2,t),o);case"Lo":return Qe(r.ordinalNumber(t,{unit:"month"}),o);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function JR(e,t,n){const r=W(e),o=pS(r,n)-t;return r.setDate(r.getDate()-o*7),r}class eN extends we{priority=100;parse(t,n,r){switch(n){case"w":return Ae(ze.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return We(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,o){return ar(JR(t,r,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function tN(e,t){const n=W(e),r=Lp(n)-t;return n.setDate(n.getDate()-r*7),n}class nN extends we{priority=100;parse(t,n,r){switch(n){case"I":return Ae(ze.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return We(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return sa(tN(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const rN=[31,28,31,30,31,30,31,31,30,31,30,31],oN=[31,29,31,30,31,30,31,31,30,31,30,31];class aN extends we{priority=90;subPriority=1;parse(t,n,r){switch(n){case"d":return Ae(ze.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return We(n.length,t)}}validate(t,n){const r=t.getFullYear(),o=SS(r),a=t.getMonth();return o?n>=1&&n<=oN[a]:n>=1&&n<=rN[a]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class iN extends we{priority=90;subpriority=1;parse(t,n,r){switch(n){case"D":case"DD":return Ae(ze.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return We(n.length,t)}}validate(t,n){const r=t.getFullYear();return SS(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function $p(e,t,n){const r=vo(),o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=W(e),i=a.getDay(),s=(t%7+7)%7,u=7-o,c=t<0||t>6?t-(i+u)%7:(s+u)%7-(i+u)%7;return or(a,c)}class sN extends we{priority=90;parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,o){return t=$p(t,r,o),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class lN extends we{priority=90;parse(t,n,r,o){const a=i=>{const l=Math.floor((i-1)/7)*7;return(i+o.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Qe(We(n.length,t),a);case"eo":return Qe(r.ordinalNumber(t,{unit:"day"}),a);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,o){return t=$p(t,r,o),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class uN extends we{priority=90;parse(t,n,r,o){const a=i=>{const l=Math.floor((i-1)/7)*7;return(i+o.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Qe(We(n.length,t),a);case"co":return Qe(r.ordinalNumber(t,{unit:"day"}),a);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,o){return t=$p(t,r,o),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function cN(e,t){const n=W(e),r=$R(n),o=t-r;return or(n,o)}class dN extends we{priority=90;parse(t,n,r){const o=a=>a===0?7:a;switch(n){case"i":case"ii":return We(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return Qe(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return Qe(r.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Qe(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Qe(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=cN(t,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class fN extends we{priority=80;parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(Fp(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class pN extends we{priority=80;parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(Fp(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class hN extends we{priority=80;parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(Fp(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class mN extends we{priority=70;parse(t,n,r){switch(n){case"h":return Ae(ze.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return We(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const o=t.getHours()>=12;return o&&r<12?t.setHours(r+12,0,0,0):!o&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class gN extends we{priority=70;parse(t,n,r){switch(n){case"H":return Ae(ze.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return We(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class vN extends we{priority=70;parse(t,n,r){switch(n){case"K":return Ae(ze.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return We(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class yN extends we{priority=70;parse(t,n,r){switch(n){case"k":return Ae(ze.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return We(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const o=r<=24?r%24:r;return t.setHours(o,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class wN extends we{priority=60;parse(t,n,r){switch(n){case"m":return Ae(ze.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return We(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]}class SN extends we{priority=50;parse(t,n,r){switch(n){case"s":return Ae(ze.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return We(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]}class CN extends we{priority=30;parse(t,n){const r=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Qe(We(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]}class EN extends we{priority=10;parse(t,n){switch(n){case"X":return Tn(_n.basicOptionalMinutes,t);case"XX":return Tn(_n.basic,t);case"XXXX":return Tn(_n.basicOptionalSeconds,t);case"XXXXX":return Tn(_n.extendedOptionalSeconds,t);case"XXX":default:return Tn(_n.extended,t)}}set(t,n,r){return n.timestampIsSet?t:be(t,t.getTime()-Nl(t)-r)}incompatibleTokens=["t","T","x"]}class bN extends we{priority=10;parse(t,n){switch(n){case"x":return Tn(_n.basicOptionalMinutes,t);case"xx":return Tn(_n.basic,t);case"xxxx":return Tn(_n.basicOptionalSeconds,t);case"xxxxx":return Tn(_n.extendedOptionalSeconds,t);case"xxx":default:return Tn(_n.extended,t)}}set(t,n,r){return n.timestampIsSet?t:be(t,t.getTime()-Nl(t)-r)}incompatibleTokens=["t","T","X"]}class xN extends we{priority=40;parse(t){return yS(t)}set(t,n,r){return[be(t,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class _N extends we{priority=20;parse(t){return yS(t)}set(t,n,r){return[be(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const TN={G:new WR,y:new YR,Y:new zR,R:new QR,u:new KR,Q:new GR,q:new qR,M:new XR,L:new ZR,w:new eN,I:new nN,d:new aN,D:new iN,E:new sN,e:new lN,c:new uN,i:new dN,a:new fN,b:new pN,B:new hN,h:new mN,H:new gN,K:new vN,k:new yN,m:new wN,s:new SN,S:new CN,X:new EN,x:new bN,t:new xN,T:new _N},DN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PN=/^'([^]*?)'?$/,ON=/''/g,MN=/\S/,RN=/[a-zA-Z]/;function Lc(e,t,n,r){const o=FR(),a=r?.locale??o.locale??fS,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(t==="")return e===""?W(n):be(n,NaN);const s={firstWeekContainsDate:i,weekStartsOn:l,locale:a},u=[new HR],c=t.match(kN).map(g=>{const y=g[0];if(y in jl){const h=jl[y];return h(g,a.formatLong)}return g}).join("").match(DN),d=[];for(let g of c){!r?.useAdditionalWeekYearTokens&&gS(g)&&nf(g,t,e),!r?.useAdditionalDayOfYearTokens&&mS(g)&&nf(g,t,e);const y=g[0],h=TN[y];if(h){const{incompatibleTokens:w}=h;if(Array.isArray(w)){const E=d.find(x=>w.includes(x.token)||x.token===y);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${g}\` at the same time`)}else if(h.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);d.push({token:y,fullToken:g});const S=h.run(e,g,a.match,s);if(!S)return be(n,NaN);u.push(S.setter),e=S.rest}else{if(y.match(RN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");if(g==="''"?g="'":y==="'"&&(g=NN(g)),e.indexOf(g)===0)e=e.slice(g.length);else return be(n,NaN)}}if(e.length>0&&MN.test(e))return be(n,NaN);const f=u.map(g=>g.priority).sort((g,y)=>y-g).filter((g,y,h)=>h.indexOf(g)===y).map(g=>u.filter(y=>y.priority===g).sort((y,h)=>h.subPriority-y.subPriority)).map(g=>g[0]);let p=W(n);if(isNaN(p.getTime()))return be(n,NaN);const v={};for(const g of f){if(!g.validate(p,s))return be(n,NaN);const y=g.set(p,v,s);Array.isArray(y)?(p=y[0],Object.assign(v,y[1])):p=y}return be(n,p)}function NN(e){return e.match(PN)[1].replace(ON,"'")}function IN(e,t){const n=W(e),r=W(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function LN(e,t){const n=tf(e),r=tf(t);return+n==+r}function AN(e,t){const n=W(e),r=W(t);return n.getFullYear()===r.getFullYear()}function Ti(e,t){const n=+W(e),[r,o]=[+W(t.start),+W(t.end)].sort((a,i)=>a-i);return n>=r&&n<=o}function FN(e,t){return or(e,-t)}function $N(e,t){const r=BN(e);let o;if(r.date){const s=HN(r.date,2);o=WN(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const a=o.getTime();let i=0,l;if(r.time&&(i=YN(r.time),isNaN(i)))return new Date(NaN);if(r.timezone){if(l=zN(r.timezone),isNaN(l))return new Date(NaN)}else{const s=new Date(a+i),u=new Date(0);return u.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),u.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),u}return new Date(a+i+l)}const gs={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jN=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VN=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,UN=/^([+-])(\d{2})(?::?(\d{2}))?$/;function BN(e){const t={},n=e.split(gs.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],gs.timeZoneDelimiter.test(t.date)&&(t.date=e.split(gs.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const o=gs.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function HN(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?o:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function WN(e,t){if(t===null)return new Date(NaN);const n=e.match(jN);if(!n)return new Date(NaN);const r=!!n[4],o=Na(n[1]),a=Na(n[2])-1,i=Na(n[3]),l=Na(n[4]),s=Na(n[5])-1;if(r)return XN(t,l,s)?QN(t,l,s):new Date(NaN);{const u=new Date(0);return!GN(t,a,i)||!qN(t,o)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(o,i)),u)}}function Na(e){return e?parseInt(e):1}function YN(e){const t=e.match(VN);if(!t)return NaN;const n=Ac(t[1]),r=Ac(t[2]),o=Ac(t[3]);return ZN(n,r,o)?n*Iu+r*Nu+o*1e3:NaN}function Ac(e){return e&&parseFloat(e.replace(",","."))||0}function zN(e){if(e==="Z")return 0;const t=e.match(UN);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return JN(r,o)?n*(r*Iu+o*Nu):NaN}function QN(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const o=r.getUTCDay()||7,a=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+a),r}const KN=[31,null,31,30,31,30,31,31,30,31,30,31];function CS(e){return e%400===0||e%4===0&&e%100!==0}function GN(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(KN[t]||(CS(e)?29:28))}function qN(e,t){return t>=1&&t<=(CS(e)?366:365)}function XN(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function ZN(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function JN(e,t){return t>=0&&t<=59}function Lt(e,t){const n=W(e),r=n.getFullYear(),o=n.getDate(),a=be(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const i=AR(a);return n.setMonth(t,Math.min(o,i)),n}function e2(e,t){let n=W(e);return isNaN(+n)?be(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=Lt(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function Us(e,t){const n=W(e);return n.setHours(t),n}function Bs(e,t){const n=W(e);return n.setMinutes(t),n}function Co(e,t){const n=W(e),r=Math.trunc(n.getMonth()/3)+1,o=t-r;return Lt(n,n.getMonth()+o*3)}function Hs(e,t){const n=W(e);return n.setSeconds(t),n}function Sn(e,t){const n=W(e);return isNaN(+n)?be(e,NaN):(n.setFullYear(t),n)}function ua(e,t){return gn(e,-t)}function ES(e,t){return Ip(e,-t)}function Cg(e,t){return Il(e,-t)}function ca(e,t){return Gn(e,-t)}var Ws=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Ul(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ul(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!Ul(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function bS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Eg(e,t){const n=bS(e);return Math.round(t*n)/n}function Fc(e){const t=m.useRef(e);return Ws(()=>{t.current=e}),t}function t2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:s,open:u}=e,[c,d]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(r);Ul(f,r)||p(r);const[v,g]=m.useState(null),[y,h]=m.useState(null),w=m.useCallback(P=>{P!==b.current&&(b.current=P,g(P))},[]),S=m.useCallback(P=>{P!==_.current&&(_.current=P,h(P))},[]),E=a||v,x=i||y,b=m.useRef(null),_=m.useRef(null),T=m.useRef(c),k=s!=null,R=Fc(s),O=Fc(o),M=Fc(u),$=m.useCallback(()=>{if(!b.current||!_.current)return;const P={placement:t,strategy:n,middleware:f};O.current&&(P.platform=O.current),$T(b.current,_.current,P).then(F=>{const V={...F,isPositioned:M.current!==!1};H.current&&!Ul(T.current,V)&&(T.current=V,Ni.flushSync(()=>{d(V)}))})},[f,t,n,O,M]);Ws(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[u]);const H=m.useRef(!1);Ws(()=>(H.current=!0,()=>{H.current=!1}),[]),Ws(()=>{if(E&&(b.current=E),x&&(_.current=x),E&&x){if(R.current)return R.current(E,x,$);$()}},[E,x,$,R,k]);const j=m.useMemo(()=>({reference:b,floating:_,setReference:w,setFloating:S}),[w,S]),L=m.useMemo(()=>({reference:E,floating:x}),[E,x]),U=m.useMemo(()=>{const P={position:n,left:0,top:0};if(!L.floating)return P;const F=Eg(L.floating,c.x),V=Eg(L.floating,c.y);return l?{...P,transform:"translate("+F+"px, "+V+"px)",...bS(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:V}},[n,l,L.floating,c.x,c.y]);return m.useMemo(()=>({...c,update:$,refs:j,elements:L,floatingStyles:U}),[c,$,j,L,U])}const n2=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Lm({element:r.current,padding:o}).fn(n):{}:r?Lm({element:r,padding:o}).fn(n):{}}}},r2=(e,t)=>({...AT(e),options:[e,t]}),o2=(e,t)=>({...FT(e),options:[e,t]}),a2=(e,t)=>({...n2(e),options:[e,t]}),xS={...Hc},i2=xS.useInsertionEffect,s2=i2||(e=>e());function l2(e){const t=m.useRef(()=>{});return s2(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Bl=typeof document<"u"?m.useLayoutEffect:m.useEffect;function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},of.apply(this,arguments)}let bg=!1,u2=0;const xg=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+u2++;function c2(){const[e,t]=m.useState(()=>bg?xg():void 0);return Bl(()=>{e==null&&t(xg())},[]),m.useEffect(()=>{bg=!0},[]),e}const d2=xS.useId,_S=d2||c2,f2=m.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:a,shift:i}},width:l=14,height:s=7,tipRadius:u=0,strokeWidth:c=0,staticOffset:d,stroke:f,d:p,style:{transform:v,...g}={},...y}=t,h=_S(),[w,S]=m.useState(!1);if(Bl(()=>{if(!o)return;an(o).direction==="rtl"&&S(!0)},[o]),!o)return null;const[E,x]=r.split("-"),b=E==="top"||E==="bottom";let _=d;(b&&i!=null&&i.x||!b&&i!=null&&i.y)&&(_=null);const T=c*2,k=T/2,R=l/2*(u/-8+1),O=s/2*u/4,M=!!p,$=_&&x==="end"?"bottom":"top";let H=_&&x==="end"?"right":"left";_&&w&&(H=x==="end"?"left":"right");const j=a?.x!=null?_||a.x:"",L=a?.y!=null?_||a.y:"",U=p||"M0,0"+(" H"+l)+(" L"+(l-R)+","+(s-O))+(" Q"+l/2+","+s+" "+R+","+(s-O))+" Z",P={top:M?"rotate(180deg)":"",left:M?"rotate(90deg)":"rotate(-90deg)",bottom:M?"":"rotate(180deg)",right:M?"rotate(-90deg)":"rotate(90deg)"}[E];return m.createElement("svg",of({},y,{"aria-hidden":!0,ref:n,width:M?l:l+T,height:l,viewBox:"0 0 "+l+" "+(s>l?s:l),style:{position:"absolute",pointerEvents:"none",[H]:j,[$]:L,[E]:b||M?"100%":"calc(100% - "+T/2+"px)",transform:[P,v].filter(F=>!!F).join(" "),...g}}),T>0&&m.createElement("path",{clipPath:"url(#"+h+")",fill:"none",stroke:f,strokeWidth:T+(p?0:1),d:U}),m.createElement("path",{stroke:T&&!p?y.fill:"none",d:U}),m.createElement("clipPath",{id:h},m.createElement("rect",{x:-k,y:k*(M?-1:1),width:l+T,height:l})))});function p2(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const h2=m.createContext(null),m2=m.createContext(null),g2=()=>{var e;return((e=m.useContext(h2))==null?void 0:e.id)||null},v2=()=>m.useContext(m2);function y2(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=_S(),a=m.useRef({}),[i]=m.useState(()=>p2()),l=g2()!=null,[s,u]=m.useState(r.reference),c=l2((p,v,g)=>{a.current.openEvent=p?v:void 0,i.emit("openchange",{open:p,event:v,reason:g,nested:l}),n?.(p,v,g)}),d=m.useMemo(()=>({setPositionReference:u}),[]),f=m.useMemo(()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference}),[s,r.reference,r.floating]);return m.useMemo(()=>({dataRef:a,open:t,onOpenChange:c,elements:f,events:i,floatingId:o,refs:d}),[t,c,f,i,o,d])}function w2(e){e===void 0&&(e={});const{nodeId:t}=e,n=y2({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[a,i]=m.useState(null),[l,s]=m.useState(null),c=o?.domReference||a,d=m.useRef(null),f=v2();Bl(()=>{c&&(d.current=c)},[c]);const p=t2({...e,elements:{...o,...l&&{reference:l}}}),v=m.useCallback(S=>{const E=bt(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;s(E),p.refs.setReference(E)},[p.refs]),g=m.useCallback(S=>{(bt(S)||S===null)&&(d.current=S,i(S)),(bt(p.refs.reference.current)||p.refs.reference.current===null||S!==null&&!bt(S))&&p.refs.setReference(S)},[p.refs]),y=m.useMemo(()=>({...p.refs,setReference:g,setPositionReference:v,domReference:d}),[p.refs,g,v]),h=m.useMemo(()=>({...p.elements,domReference:c}),[p.elements,c]),w=m.useMemo(()=>({...p,...r,refs:y,elements:h,nodeId:t}),[p,y,h,t,r]);return Bl(()=>{r.dataRef.current.floatingContext=w;const S=f?.nodesRef.current.find(E=>E.id===t);S&&(S.context=w)}),m.useMemo(()=>({...p,context:w,refs:y,elements:h}),[p,y,h,w])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var af=function(t,n){return af=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},af(t,n)};function ut(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");af(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var he=function(){return he=Object.assign||function(n){for(var r,o=1,a=arguments.length;o<a;o++){r=arguments[o];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},he.apply(this,arguments)};function kn(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var S2=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,o=r===void 0?!1:r,a=e.className,i=e.children,l=n?"Choose Time":"Choose Date".concat(o?" and Time":"");return D.createElement("div",{className:a,role:"dialog","aria-label":l,"aria-modal":"true"},i)},C2=function(e,t){var n=m.useRef(null),r=m.useRef(e);r.current=e;var o=m.useCallback(function(a){var i;n.current&&!n.current.contains(a.target)&&(t&&a.target instanceof HTMLElement&&a.target.classList.contains(t)||(i=r.current)===null||i===void 0||i.call(r,a))},[t]);return m.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),n},Au=function(e){var t=e.children,n=e.onClickOutside,r=e.className,o=e.containerRef,a=e.style,i=e.ignoreClass,l=C2(n,i);return D.createElement("div",{className:r,style:a,ref:function(s){l.current=s,o&&(o.current=s)}},t)},B;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(B||(B={}));function TS(){var e=typeof window<"u"?window:globalThis;return e}var Bi=12,E2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function xe(e){if(e==null)return new Date;var t=typeof e=="string"?$N(e):W(e);return Hn(t)?t:new Date}function $c(e,t,n,r,o){var a,i=null,l=eo(n)||eo(ti()),s=!0;if(Array.isArray(t))return t.forEach(function(c){var d=Lc(e,c,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(s=Hn(d,o)&&e===Re(d,c,n)),Hn(d,o)&&s&&(i=d)}),i;if(i=Lc(e,t,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)s=Hn(i)&&e===Re(i,t,n);else if(!Hn(i)){var u=((a=t.match(E2))!==null&&a!==void 0?a:[]).map(function(c){var d=c[0];if(d==="p"||d==="P"){var f=jl[d];return l?f(c,l.formatLong):d}return c}).join("");e.length>0&&(i=Lc(e,u.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Hn(i)||(i=new Date(e))}return Hn(i)&&s?i:null}function Hn(e,t){return Ll(e)&&!co(e,t??new Date("1/1/1800"))}function Re(e,t,n){if(n==="en")return wg(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?eo(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&ti()&&eo(ti())&&(r=eo(ti())),wg(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Gt(e,t){var n=t.dateFormat,r=t.locale,o=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Re(e,o,r)||""}function b2(e,t,n){if(!e)return"";var r=Gt(e,n),o=t?Gt(t,n):"";return"".concat(r," - ").concat(o)}function x2(e,t){if(!e?.length)return"";var n=e[0]?Gt(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=Gt(e[1],t);return"".concat(n,", ").concat(r)}var o=e.length-1;return"".concat(n," (+").concat(o,")")}function jc(e,t){var n=t.hour,r=n===void 0?0:n,o=t.minute,a=o===void 0?0:o,i=t.second,l=i===void 0?0:i;return Us(Bs(Hs(e,l),a),r)}function _2(e){return Lp(e)}function T2(e,t){return Re(e,"ddd",t)}function Ys(e){return uo(e)}function Pr(e,t,n){var r=eo(t||ti());return ar(e,{locale:r,weekStartsOn:n})}function Zn(e){return cS(e)}function Ha(e){return Lu(e)}function _g(e){return tf(e)}function Tg(){return uo(xe())}function Dg(e){return lS(e)}function D2(e){return HM(e)}function k2(e){return uS(e)}function bn(e,t){return e&&t?AN(e,t):!e&&!t}function Et(e,t){return e&&t?IN(e,t):!e&&!t}function Hl(e,t){return e&&t?LN(e,t):!e&&!t}function pe(e,t){return e&&t?UM(e,t):!e&&!t}function Gr(e,t){return e&&t?jR(e,t):!e&&!t}function Wa(e,t,n){var r,o=uo(t),a=lS(n);try{r=Ti(e,{start:o,end:a})}catch{r=!1}return r}function ti(){var e=TS();return e.__localeId__}function eo(e){if(typeof e=="string"){var t=TS();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function P2(e,t,n){return t(Re(e,"EEEE",n))}function O2(e,t){return Re(e,"EEEEEE",t)}function M2(e,t){return Re(e,"EEE",t)}function jp(e,t){return Re(Lt(xe(),e),"LLLL",t)}function DS(e,t){return Re(Lt(xe(),e),"LLL",t)}function R2(e,t){return Re(Co(xe(),e),"QQQ",t)}function Jt(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,i=n.excludeDateIntervals,l=n.includeDates,s=n.includeDateIntervals,u=n.filterDate;return Hi(e,{minDate:r,maxDate:o})||a&&a.some(function(c){return c instanceof Date?pe(e,c):pe(e,c.date)})||i&&i.some(function(c){var d=c.start,f=c.end;return Ti(e,{start:d,end:f})})||l&&!l.some(function(c){return pe(e,c)})||s&&!s.some(function(c){var d=c.start,f=c.end;return Ti(e,{start:d,end:f})})||u&&!u(xe(e))||!1}function Vp(e,t){var n=t===void 0?{}:t,r=n.excludeDates,o=n.excludeDateIntervals;return o&&o.length>0?o.some(function(a){var i=a.start,l=a.end;return Ti(e,{start:i,end:l})}):r&&r.some(function(a){var i;return a instanceof Date?pe(e,a):pe(e,(i=a.date)!==null&&i!==void 0?i:new Date)})||!1}function kS(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,i=n.includeDates,l=n.filterDate;return Hi(e,{minDate:r?cS(r):void 0,maxDate:o?uS(o):void 0})||a?.some(function(s){return Et(e,s instanceof Date?s:s.date)})||i&&!i.some(function(s){return Et(e,s)})||l&&!l(xe(e))||!1}function vs(e,t,n,r){var o=le(e),a=xt(e),i=le(t),l=xt(t),s=le(r);return o===i&&o===s?a<=n&&n<=l:o<i?s===o&&a<=n||s===i&&l>=n||s<i&&s>o:!1}function N2(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,i=n.includeDates;return Hi(e,{minDate:r,maxDate:o})||a&&a.some(function(l){return Et(l instanceof Date?l:l.date,e)})||i&&!i.some(function(l){return Et(l,e)})||!1}function ys(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,i=n.includeDates,l=n.filterDate;return Hi(e,{minDate:r,maxDate:o})||a?.some(function(s){return Hl(e,s instanceof Date?s:s.date)})||i&&!i.some(function(s){return Hl(e,s)})||l&&!l(xe(e))||!1}function ws(e,t,n){if(!t||!n||!Ll(t)||!Ll(n))return!1;var r=le(t),o=le(n);return r<=e&&o>=e}function zs(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,i=n.includeDates,l=n.filterDate,s=new Date(e,0,1);return Hi(s,{minDate:r?Lu(r):void 0,maxDate:o?dS(o):void 0})||a?.some(function(u){return bn(s,u instanceof Date?u:u.date)})||i&&!i.some(function(u){return bn(s,u)})||l&&!l(xe(s))||!1}function Ss(e,t,n,r){var o=le(e),a=Jr(e),i=le(t),l=Jr(t),s=le(r);return o===i&&o===s?a<=n&&n<=l:o<i?s===o&&a<=n||s===i&&l>=n||s<i&&s>o:!1}function Hi(e,t){var n,r=t===void 0?{}:t,o=r.minDate,a=r.maxDate;return(n=o&&la(e,o)<0||a&&la(e,a)>0)!==null&&n!==void 0?n:!1}function kg(e,t){return t.some(function(n){return Nn(n)===Nn(e)&&In(n)===In(e)&&Xn(n)===Xn(e)})}function Pg(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,o=n.includeTimes,a=n.filterTime;return r&&kg(e,r)||o&&!kg(e,o)||a&&!a(e)||!1}function Og(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var o=xe();o=Us(o,Nn(e)),o=Bs(o,In(e)),o=Hs(o,Xn(e));var a=xe();a=Us(a,Nn(n)),a=Bs(a,In(n)),a=Hs(a,Xn(n));var i=xe();i=Us(i,Nn(r)),i=Bs(i,In(r)),i=Hs(i,Xn(r));var l;try{l=!Ti(o,{start:a,end:i})}catch{l=!1}return l}function Mg(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.includeDates,a=ua(e,1);return r&&Al(r,a)>0||o&&o.every(function(i){return Al(i,a)>0})||!1}function Rg(e,t){var n=t===void 0?{}:t,r=n.maxDate,o=n.includeDates,a=gn(e,1);return r&&Al(a,r)>0||o&&o.every(function(i){return Al(a,i)>0})||!1}function I2(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.includeDates,a=Lu(e),i=ES(a,1);return r&&Fl(r,i)>0||o&&o.every(function(l){return Fl(l,i)>0})||!1}function L2(e,t){var n=t===void 0?{}:t,r=n.maxDate,o=n.includeDates,a=dS(e),i=Ip(a,1);return r&&Fl(i,r)>0||o&&o.every(function(l){return Fl(i,l)>0})||!1}function Ng(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.includeDates,a=ca(e,1);return r&&$l(r,a)>0||o&&o.every(function(i){return $l(i,a)>0})||!1}function A2(e,t){var n=t===void 0?{}:t,r=n.minDate,o=n.yearItemNumber,a=o===void 0?Bi:o,i=Ha(ca(e,a)),l=Sr(i,a).endPeriod,s=r&&le(r);return s&&s>l||!1}function Ig(e,t){var n=t===void 0?{}:t,r=n.maxDate,o=n.includeDates,a=Gn(e,1);return r&&$l(a,r)>0||o&&o.every(function(i){return $l(a,i)>0})||!1}function F2(e,t){var n=t===void 0?{}:t,r=n.maxDate,o=n.yearItemNumber,a=o===void 0?Bi:o,i=Gn(e,a),l=Sr(i,a).startPeriod,s=r&&le(r);return s&&s<l||!1}function PS(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(o){return la(o,t)>=0});return pg(r)}else return n?pg(n):t}function OS(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(o){return la(o,t)<=0});return fg(r)}else return n?fg(n):t}function Lg(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,o=0,a=e.length;o<a;o++){var i=e[o];if(qn(i)){var l=Re(i,"MM.dd.yyyy"),s=r.get(l)||[];s.includes(t)||(s.push(t),r.set(l,s))}else if(typeof i=="object"){var u=Object.keys(i),c=(n=u[0])!==null&&n!==void 0?n:"",d=i[c];if(typeof c=="string"&&Array.isArray(d))for(var f=0,p=d.length;f<p;f++){var v=d[f];if(v){var l=Re(v,"MM.dd.yyyy"),s=r.get(l)||[];s.includes(c)||(s.push(c),r.set(l,s))}}}}return r}function $2(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function j2(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var o=r.date,a=r.holidayName;if(qn(o)){var i=Re(o,"MM.dd.yyyy"),l=n.get(i)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===t&&$2(l.holidayNames,[a]))){l.className=t;var s=l.holidayNames;l.holidayNames=s?kn(kn([],s,!0),[a],!1):[a],n.set(i,l)}}}),n}function V2(e,t,n,r,o){for(var a=o.length,i=[],l=0;l<a;l++){var s=e,u=o[l];u&&(s=FM(s,Nn(u)),s=ef(s,In(u)),s=VM(s,Xn(u)));var c=ef(e,(n+1)*r);Lr(s,t)&&co(s,c)&&u!=null&&i.push(u)}return i}function Ag(e){return e<10?"0".concat(e):"".concat(e)}function Sr(e,t){t===void 0&&(t=Bi);var n=Math.ceil(le(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function U2(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function Fg(e){var t=e.getSeconds(),n=e.getMilliseconds();return W(e.getTime()-t*1e3-n)}function B2(e,t){return Fg(e).getTime()===Fg(t).getTime()}function $g(e){if(!qn(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function jg(e,t){if(!qn(e)||!qn(t))throw new Error("Invalid date received");var n=$g(e),r=$g(t);return co(n,r)}function MS(e){return e.key===B.Space}var H2=function(e){ut(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=D.createRef(),r.onTimeChange=function(o){var a,i;r.setState({time:o});var l=r.props.date,s=l instanceof Date&&!isNaN(+l),u=s?l:new Date;if(o?.includes(":")){var c=o.split(":"),d=c[0],f=c[1];u.setHours(Number(d)),u.setMinutes(Number(f))}(i=(a=r.props).onChange)===null||i===void 0||i.call(a,u)},r.renderTimeInput=function(){var o=r.state.time,a=r.props,i=a.date,l=a.timeString,s=a.customTimeInput;return s?m.cloneElement(s,{date:i,value:o,onChange:r.onTimeChange}):D.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var u;(u=r.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:o,onChange:function(u){r.onTimeChange(u.target.value||l)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return D.createElement("div",{className:"react-datepicker__input-time-container"},D.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),D.createElement("div",{className:"react-datepicker-time__input-container"},D.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(m.Component),W2=function(e){ut(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=m.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var o,a,i=r.key;i===B.Space&&(r.preventDefault(),r.key=B.Enter),(a=(o=n.props).handleOnKeyDown)===null||a===void 0||a.call(o,r)},n.isSameDay=function(r){return pe(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var o=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected),a=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!o&&n.isSameDayOrWeek(n.props.preSelection)&&!a},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Jt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return Vp(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return pe(n.props.day,Pr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&pe(r,Pr(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,o=r.day,a=r.highlightDates;if(!a)return!1;var i=Re(o,"MM.dd.yyyy");return a.get(i)},n.getHolidaysClass=function(){var r,o=n.props,a=o.day,i=o.holidays;if(!i)return[void 0];var l=Re(a,"MM.dd.yyyy");return i.has(l)?[(r=i.get(l))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,o=r.day,a=r.startDate,i=r.endDate;return!a||!i?!1:Wa(o,a,i)},n.isInSelectingRange=function(){var r,o=n.props,a=o.day,i=o.selectsStart,l=o.selectsEnd,s=o.selectsRange,u=o.selectsDisabledDaysInRange,c=o.startDate,d=o.endDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(i||l||s)||!f||!u&&n.isDisabled()?!1:i&&d&&(co(f,d)||Gr(f,d))?Wa(a,f,d):l&&c&&(Lr(f,c)||Gr(f,c))||s&&c&&!d&&(Lr(f,c)||Gr(f,c))?Wa(a,c,f):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var o=n.props,a=o.day,i=o.startDate,l=o.selectsStart,s=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?pe(a,s):pe(a,i)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var o=n.props,a=o.day,i=o.endDate,l=o.selectsEnd,s=o.selectsRange,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l||s?pe(a,u):pe(a,i)},n.isRangeStart=function(){var r=n.props,o=r.day,a=r.startDate,i=r.endDate;return!a||!i?!1:pe(a,o)},n.isRangeEnd=function(){var r=n.props,o=r.day,a=r.startDate,i=r.endDate;return!a||!i?!1:pe(i,o)},n.isWeekend=function(){var r=LR(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===xt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(xt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(xe())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var o=n.props.dayClassName?n.props.dayClassName(r):void 0;return it("react-datepicker__day",o,"react-datepicker__day--"+T2(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,o=r.day,a=r.ariaLabelPrefixWhenEnabled,i=a===void 0?"Choose":a,l=r.ariaLabelPrefixWhenDisabled,s=l===void 0?"Not available":l,u=n.isDisabled()||n.isExcluded()?s:i;return"".concat(u," ").concat(Re(o,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,o=r.day,a=r.holidays,i=a===void 0?new Map:a,l=r.excludeDates,s=Re(o,"MM.dd.yyyy"),u=[];return i.has(s)&&u.push.apply(u,i.get(s).holidayNames),n.isExcluded()&&u.push(l?.filter(function(c){return c instanceof Date?pe(c,o):pe(c?.date,o)}).map(function(c){if(!(c instanceof Date))return c?.message})),u.join(", ")},n.getTabIndex=function(){var r=n.props.selected,o=n.props.preSelection,a=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&pe(o,r))?0:-1;return a},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Sg(n.props.day),n.props.day):Sg(n.props.day)},n.render=function(){return D.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&D.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,o;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(m.Component),Y2=function(e){ut(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=m.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var o,a,i=r.key;i===B.Space&&(r.preventDefault(),r.key=B.Enter),(a=(o=n.props).handleOnKeyDown)===null||a===void 0||a.call(o,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!pe(n.props.date,n.props.selected)&&pe(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||pe(n.props.date,n.props.selected)&&pe(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var o=!1;n.getTabIndex()===0&&!r?.isInputFocused&&pe(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(o=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,o=n.ariaLabelPrefix,a=o===void 0?t.defaultProps.ariaLabelPrefix:o,i=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!i,"react-datepicker__week-number--selected":!!i&&pe(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return D.createElement("div",{ref:this.weekNumberEl,className:it(l),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(m.Component),z2=function(e){ut(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Jt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,o){n.props.onDayClick&&n.props.onDayClick(r,o)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,o,a){for(var i,l,s,u=new Date(r),c=0;c<7;c++){var d=new Date(r);d.setDate(d.getDate()+c);var f=!n.isDisabled(d);if(f){u=d;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(u,o,a),n.props.showWeekPicker&&n.handleDayClick(u,a),((i=n.props.shouldCloseOnSelect)!==null&&i!==void 0?i:t.defaultProps.shouldCloseOnSelect)&&((s=(l=n.props).setOpen)===null||s===void 0||s.call(l,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):_2(r)},n.renderDays=function(){var r=n.startOfWeek(),o=[],a=n.formatWeekNumber(r);if(n.props.showWeekNumber){var i=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,a):void 0;o.push(D.createElement(Y2,he({key:"W"},t.defaultProps,n.props,{weekNumber:a,date:r,onClick:i})))}return o.concat([0,1,2,3,4,5,6].map(function(l){var s=or(r,l);return D.createElement(W2,he({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:s.valueOf(),day:s,onClick:n.handleDayClick.bind(n,s),onMouseEnter:n.handleDayMouseEnter.bind(n,s)}))}))},n.startOfWeek=function(){return Pr(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!pe(n.startOfWeek(),n.props.selected)&&pe(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":pe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return D.createElement("div",{className:it(n)},this.renderDays())},t}(m.Component),Ia,Q2=6,zo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Vc=(Ia={},Ia[zo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ia[zo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ia[zo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ia),Cs=1;function Vg(e,t){return e?zo.FOUR_COLUMNS:t?zo.TWO_COLUMNS:zo.THREE_COLUMNS}var K2=function(e){ut(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=kn([],Array(12),!0).map(function(){return m.createRef()}),n.QUARTER_REFS=kn([],Array(4),!0).map(function(){return m.createRef()}),n.isDisabled=function(r){return Jt(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return Vp(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,o){var a,i;(i=(a=n.props).onDayClick)===null||i===void 0||i.call(a,r,o,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var o,a;(a=(o=n.props).onDayMouseEnter)===null||a===void 0||a.call(o,r)},n.handleMouseLeave=function(){var r,o;(o=(r=n.props).onMouseLeave)===null||o===void 0||o.call(r)},n.isRangeStartMonth=function(r){var o=n.props,a=o.day,i=o.startDate,l=o.endDate;return!i||!l?!1:Et(Lt(a,r),i)},n.isRangeStartQuarter=function(r){var o=n.props,a=o.day,i=o.startDate,l=o.endDate;return!i||!l?!1:Hl(Co(a,r),i)},n.isRangeEndMonth=function(r){var o=n.props,a=o.day,i=o.startDate,l=o.endDate;return!i||!l?!1:Et(Lt(a,r),l)},n.isRangeEndQuarter=function(r){var o=n.props,a=o.day,i=o.startDate,l=o.endDate;return!i||!l?!1:Hl(Co(a,r),l)},n.isInSelectingRangeMonth=function(r){var o,a=n.props,i=a.day,l=a.selectsStart,s=a.selectsEnd,u=a.selectsRange,c=a.startDate,d=a.endDate,f=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(l||s||u)||!f?!1:l&&d?vs(f,d,r,i):s&&c||u&&c&&!d?vs(c,f,r,i):!1},n.isSelectingMonthRangeStart=function(r){var o;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,i=a.day,l=a.startDate,s=a.selectsStart,u=Lt(i,r),c=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return s?Et(u,c):Et(u,l)},n.isSelectingMonthRangeEnd=function(r){var o;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,i=a.day,l=a.endDate,s=a.selectsEnd,u=a.selectsRange,c=Lt(i,r),d=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return s||u?Et(c,d):Et(c,l)},n.isInSelectingRangeQuarter=function(r){var o,a=n.props,i=a.day,l=a.selectsStart,s=a.selectsEnd,u=a.selectsRange,c=a.startDate,d=a.endDate,f=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(l||s||u)||!f?!1:l&&d?Ss(f,d,r,i):s&&c||u&&c&&!d?Ss(c,f,r,i):!1},n.isWeekInMonth=function(r){var o=n.props.day,a=or(r,6);return Et(r,o)||Et(a,o)},n.isCurrentMonth=function(r,o){return le(r)===le(xe())&&o===xt(xe())},n.isCurrentQuarter=function(r,o){return le(r)===le(xe())&&o===Jr(xe())},n.isSelectedMonth=function(r,o,a){return xt(a)===o&&le(r)===le(a)},n.isSelectMonthInList=function(r,o,a){return a.some(function(i){return n.isSelectedMonth(r,o,i)})},n.isSelectedQuarter=function(r,o,a){return Jr(r)===o&&le(r)===le(a)},n.renderWeeks=function(){for(var r=[],o=n.props.fixedHeight,a=0,i=!1,l=Pr(Zn(n.props.day),n.props.locale,n.props.calendarStartDay),s=function(v){return n.props.showWeekPicker?Pr(v,n.props.locale,n.props.calendarStartDay):n.props.preSelection},u=function(v){return n.props.showWeekPicker?Pr(v,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?u(n.props.selected):void 0,d=n.props.preSelection?s(n.props.preSelection):void 0;r.push(D.createElement(z2,he({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:a,day:l,month:xt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:d,showWeekNumber:n.props.showWeekNumbers}))),!i;){a++,l=Il(l,1);var f=o&&a>=Q2,p=!o&&!n.isWeekInMonth(l);if(f||p)if(n.props.peekNextMonth)i=!0;else break}return r},n.onMonthClick=function(r,o){var a=n.isMonthDisabledForLabelDate(o),i=a.isDisabled,l=a.labelDate;i||n.handleDayClick(Zn(l),r)},n.onMonthMouseEnter=function(r){var o=n.isMonthDisabledForLabelDate(r),a=o.isDisabled,i=o.labelDate;a||n.handleDayMouseEnter(Zn(i))},n.handleMonthNavigation=function(r,o){var a,i,l,s;(i=(a=n.props).setPreSelection)===null||i===void 0||i.call(a,o),(s=(l=n.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||s===void 0||s.focus()},n.handleKeyboardNavigation=function(r,o,a){var i,l=n.props,s=l.selected,u=l.preSelection,c=l.setPreSelection,d=l.minDate,f=l.maxDate,p=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(u){var g=Vg(p,v),y=n.getVerticalOffset(g),h=(i=Vc[g])===null||i===void 0?void 0:i.grid,w=function(_,T,k){var R,O,M=T,$=k;switch(_){case B.ArrowRight:M=gn(T,Cs),$=k===11?0:k+Cs;break;case B.ArrowLeft:M=ua(T,Cs),$=k===0?11:k-Cs;break;case B.ArrowUp:M=ua(T,y),$=!((R=h?.[0])===null||R===void 0)&&R.includes(k)?k+12-y:k-y;break;case B.ArrowDown:M=gn(T,y),$=!((O=h?.[h.length-1])===null||O===void 0)&&O.includes(k)?k-12+y:k+y;break}return{newCalculatedDate:M,newCalculatedMonth:$}},S=function(_,T,k){for(var R=40,O=_,M=!1,$=0,H=w(O,T,k),j=H.newCalculatedDate,L=H.newCalculatedMonth;!M;){if($>=R){j=T,L=k;break}if(d&&j<d){O=B.ArrowRight;var U=w(O,j,L);j=U.newCalculatedDate,L=U.newCalculatedMonth}if(f&&j>f){O=B.ArrowLeft;var U=w(O,j,L);j=U.newCalculatedDate,L=U.newCalculatedMonth}if(N2(j,n.props)){var U=w(O,j,L);j=U.newCalculatedDate,L=U.newCalculatedMonth}else M=!0;$++}return{newCalculatedDate:j,newCalculatedMonth:L}};if(o===B.Enter){n.isMonthDisabled(a)||(n.onMonthClick(r,a),c?.(s));return}var E=S(o,u,a),x=E.newCalculatedDate,b=E.newCalculatedMonth;switch(o){case B.ArrowRight:case B.ArrowLeft:case B.ArrowUp:case B.ArrowDown:n.handleMonthNavigation(b,x);break}}},n.getVerticalOffset=function(r){var o,a;return(a=(o=Vc[r])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&a!==void 0?a:0},n.onMonthKeyDown=function(r,o){var a=n.props,i=a.disabledKeyboardNavigation,l=a.handleOnMonthKeyDown,s=r.key;s!==B.Tab&&r.preventDefault(),i||n.handleKeyboardNavigation(r,s,o),l&&l(r)},n.onQuarterClick=function(r,o){var a=Co(n.props.day,o);ys(a,n.props)||n.handleDayClick(_g(a),r)},n.onQuarterMouseEnter=function(r){var o=Co(n.props.day,r);ys(o,n.props)||n.handleDayMouseEnter(_g(o))},n.handleQuarterNavigation=function(r,o){var a,i,l,s;n.isDisabled(o)||n.isExcluded(o)||((i=(a=n.props).setPreSelection)===null||i===void 0||i.call(a,o),(s=(l=n.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||s===void 0||s.focus())},n.onQuarterKeyDown=function(r,o){var a,i,l=r.key;if(!n.props.disabledKeyboardNavigation)switch(l){case B.Enter:n.onQuarterClick(r,o),(i=(a=n.props).setPreSelection)===null||i===void 0||i.call(a,n.props.selected);break;case B.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(o===4?1:o+1,Ip(n.props.preSelection,1));break;case B.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(o===1?4:o-1,ES(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var o,a=n.props,i=a.day,l=a.minDate,s=a.maxDate,u=a.excludeDates,c=a.includeDates,d=Lt(i,r);return{isDisabled:(o=(l||s||u||c)&&kS(d,n.props))!==null&&o!==void 0?o:!1,labelDate:d}},n.isMonthDisabled=function(r){var o=n.isMonthDisabledForLabelDate(r).isDisabled;return o},n.getMonthClassNames=function(r){var o=n.props,a=o.day,i=o.startDate,l=o.endDate,s=o.preSelection,u=o.monthClassName,c=u?u(Lt(a,r)):void 0,d=n.getSelection();return it("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":d?n.isSelectMonthInList(a,r,d):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&s&&n.isSelectedMonth(a,r,s)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":i&&l?vs(i,l,r,a):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(a,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var o=xt(n.props.preSelection),a=n.isMonthDisabledForLabelDate(o).isDisabled,i=r===o&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return i},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var o=Jr(n.props.preSelection),a=ys(n.props.day,n.props),i=r===o&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return i},n.getAriaLabel=function(r){var o=n.props,a=o.chooseDayAriaLabelPrefix,i=a===void 0?"Choose":a,l=o.disabledDayAriaLabelPrefix,s=l===void 0?"Not available":l,u=o.day,c=o.locale,d=Lt(u,r),f=n.isDisabled(d)||n.isExcluded(d)?s:i;return"".concat(f," ").concat(Re(d,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var o=n.props,a=o.day,i=o.startDate,l=o.endDate,s=o.selected,u=o.minDate,c=o.maxDate,d=o.excludeDates,f=o.includeDates,p=o.filterDate,v=o.preSelection,g=o.disabledKeyboardNavigation,y=(u||c||d||f||p)&&ys(Co(a,r),n.props);return it("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":s?n.isSelectedQuarter(a,r,s):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&v&&n.isSelectedQuarter(a,r,v)&&!y,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":i&&l?Ss(i,l,r,a):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var o=n.props,a=o.showFullMonthYearPicker,i=o.renderMonthContent,l=o.locale,s=o.day,u=DS(r,l),c=jp(r,l);return i?i(r,u,c,s):a?c:u},n.getQuarterContent=function(r){var o,a=n.props,i=a.renderQuarterContent,l=a.locale,s=R2(r,l);return(o=i?.(r,s))!==null&&o!==void 0?o:s},n.renderMonths=function(){var r,o=n.props,a=o.showTwoColumnMonthYearPicker,i=o.showFourColumnMonthYearPicker,l=o.day,s=o.selected,u=(r=Vc[Vg(i,a)])===null||r===void 0?void 0:r.grid;return u?.map(function(c,d){return D.createElement("div",{className:"react-datepicker__month-wrapper",key:d},c.map(function(f,p){return D.createElement("div",{ref:n.MONTH_REFS[f],key:p,onClick:function(v){n.onMonthClick(v,f)},onKeyDown:function(v){MS(v)&&(v.preventDefault(),v.key=B.Enter),n.onMonthKeyDown(v,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(f)}:void 0,tabIndex:Number(n.getTabIndex(f)),className:n.getMonthClassNames(f),"aria-disabled":n.isMonthDisabled(f),role:"option","aria-label":n.getAriaLabel(f),"aria-current":n.isCurrentMonth(l,f)?"date":void 0,"aria-selected":s?n.isSelectedMonth(l,f,s):void 0},n.getMonthContent(f))}))})},n.renderQuarters=function(){var r=n.props,o=r.day,a=r.selected,i=[1,2,3,4];return D.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(l,s){return D.createElement("div",{key:s,ref:n.QUARTER_REFS[s],role:"option",onClick:function(u){n.onQuarterClick(u,l)},onKeyDown:function(u){n.onQuarterKeyDown(u,l)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(l)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(l)}:void 0,className:n.getQuarterClassNames(l),"aria-selected":a?n.isSelectedQuarter(o,l,a):void 0,tabIndex:Number(n.getQuarterTabIndex(l)),"aria-current":n.isCurrentQuarter(o,l)?"date":void 0},n.getQuarterContent(l))}))},n.getClassNames=function(){var r=n.props,o=r.selectingDate,a=r.selectsStart,i=r.selectsEnd,l=r.showMonthYearPicker,s=r.showQuarterYearPicker,u=r.showWeekPicker;return it("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(a||i)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":s},{"react-datepicker__weekPicker":u})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,o=n.selectedDates,a=n.selectsMultiple;if(a)return o;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,o=n.showQuarterYearPicker,a=n.day,i=n.ariaLabelPrefix,l=i===void 0?"Month ":i,s=l?l.trim()+" ":"";return D.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(Re(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():o?this.renderQuarters():this.renderWeeks())},t}(m.Component),G2=function(e){ut(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,o){return D.createElement("div",{className:n.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,o),"aria-selected":n.isSelectedMonth(o)?"true":void 0},n.isSelectedMonth(o)?D.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return D.createElement(Au,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(m.Component),q2=function(e){ut(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(o,a){return D.createElement("option",{key:o,value:a},o)})},n.renderSelectMode=function(r){return D.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(o){return n.onChange(parseInt(o.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,o){return D.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},D.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),D.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[n.props.month]))},n.renderDropdown=function(r){return D.createElement(G2,he({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var o=n.state.dropdownVisible,a=[n.renderReadView(!o,r)];return o&&a.unshift(n.renderDropdown(r)),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return DS(a,n.props.locale)}:function(a){return jp(a,n.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(r);break;case"select":o=this.renderSelectMode(r);break}return D.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},t}(m.Component);function X2(e,t){for(var n=[],r=Zn(e),o=Zn(t);!Lr(r,o);)n.push(xe(r)),r=gn(r,1);return n}var Z2=function(e){ut(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(o){var a=rf(o),i=bn(r.props.date,o)&&Et(r.props.date,o);return D.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":i?"true":void 0},i?D.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Re(o,r.props.dateFormat,r.props.locale))})},r.onChange=function(o){return r.props.onChange(o)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:X2(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=it({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return D.createElement(Au,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(m.Component),J2=function(e){ut(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Zn(n.props.minDate),o=Zn(n.props.maxDate),a=[];!Lr(r,o);){var i=rf(r);a.push(D.createElement("option",{key:i,value:i},Re(r,n.props.dateFormat,n.props.locale))),r=gn(r,1)}return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return D.createElement("select",{value:rf(Zn(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var o=Re(n.props.date,n.props.dateFormat,n.props.locale);return D.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},D.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),D.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},n.renderDropdown=function(){return D.createElement(Z2,he({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,o=[n.renderReadView(!r)];return r&&o.unshift(n.renderDropdown()),o},n.onChange=function(r){n.toggleDropdown();var o=xe(r);bn(n.props.date,o)&&Et(n.props.date,o)||n.props.onChange(o)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return D.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(m.Component),eI=function(e){ut(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,o,a;n.list&&(n.list.scrollTop=(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((o=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&o!==void 0?o:0):n.list.clientHeight,n.centerLi))!==null&&a!==void 0?a:0)})},n.handleClick=function(r){var o,a;(n.props.minTime||n.props.maxTime)&&Og(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Pg(r,n.props)||(a=(o=n.props).onChange)===null||a===void 0||a.call(o,r)},n.isSelectedTime=function(r){return n.props.selected&&B2(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&Og(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Pg(r,n.props)},n.liClasses=function(r){var o,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(Nn(r)*3600+In(r)*60+Xn(r))%(((o=n.props.intervals)!==null&&o!==void 0?o:t.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(r,o){var a,i;r.key===B.Space&&(r.preventDefault(),r.key=B.Enter),(r.key===B.ArrowUp||r.key===B.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===B.ArrowDown||r.key===B.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===B.Enter&&n.handleClick(o),(i=(a=n.props).handleOnKeyDown)===null||i===void 0||i.call(a,r)},n.renderTimes=function(){for(var r,o=[],a=typeof n.props.format=="string"?n.props.format:"p",i=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,l=n.props.selected||n.props.openToDate||xe(),s=Ys(l),u=n.props.injectTimes&&n.props.injectTimes.sort(function(y,h){return y.getTime()-h.getTime()}),c=60*U2(l),d=c/i,f=0;f<d;f++){var p=ef(s,f*i);if(o.push(p),u){var v=V2(s,p,f,i,u);o=o.concat(v)}}var g=o.reduce(function(y,h){return h.getTime()<=l.getTime()?h:y},o[0]);return o.map(function(y){return D.createElement("li",{key:y.valueOf(),onClick:n.handleClick.bind(n,y),className:n.liClasses(y),ref:function(h){y===g&&(n.centerLi=h)},onKeyDown:function(h){n.handleOnKeyDown(h,y)},tabIndex:y===g?0:-1,role:"option","aria-selected":n.isSelectedTime(y)?"true":void 0,"aria-disabled":n.isDisabledTime(y)?"true":void 0},Re(y,a,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?D.createElement(D.Fragment,null):D.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},D.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,o=this.state.height;return D.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),D.createElement("div",{className:"react-datepicker__time"},D.createElement("div",{className:"react-datepicker__time-box"},D.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){n.list=a},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(m.Component),Ug=3,tI=function(e){ut(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=kn([],Array(r.props.yearItemNumber),!0).map(function(){return m.createRef()}),r.isDisabled=function(o){return Jt(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(o){return Vp(o,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var o;return(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection},r.updateFocusOnPaginate=function(o){var a=function(){var i,l;(l=(i=r.YEAR_REFS[o])===null||i===void 0?void 0:i.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(o,a){r.props.onDayClick&&r.props.onDayClick(o,a)},r.handleYearNavigation=function(o,a){var i,l,s,u,c=r.props,d=c.date,f=c.yearItemNumber;if(!(d===void 0||f===void 0)){var p=Sr(d,f).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((l=(i=r.props).setPreSelection)===null||l===void 0||l.call(i,a),o-p<0?r.updateFocusOnPaginate(f-(p-o)):o-p>=f?r.updateFocusOnPaginate(Math.abs(f-(o-p))):(u=(s=r.YEAR_REFS[o-p])===null||s===void 0?void 0:s.current)===null||u===void 0||u.focus())}},r.isSameDay=function(o,a){return pe(o,a)},r.isCurrentYear=function(o){return o===le(xe())},r.isRangeStart=function(o){return r.props.startDate&&r.props.endDate&&bn(Sn(xe(),o),r.props.startDate)},r.isRangeEnd=function(o){return r.props.startDate&&r.props.endDate&&bn(Sn(xe(),o),r.props.endDate)},r.isInRange=function(o){return ws(o,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(o){var a=r.props,i=a.selectsStart,l=a.selectsEnd,s=a.selectsRange,u=a.startDate,c=a.endDate;return!(i||l||s)||!r.selectingDate()?!1:i&&c?ws(o,r.selectingDate(),c):l&&u||s&&u&&!c?ws(o,u,r.selectingDate()):!1},r.isSelectingRangeStart=function(o){var a;if(!r.isInSelectingRange(o))return!1;var i=r.props,l=i.startDate,s=i.selectsStart,u=Sn(xe(),o);return s?bn(u,(a=r.selectingDate())!==null&&a!==void 0?a:null):bn(u,l??null)},r.isSelectingRangeEnd=function(o){var a;if(!r.isInSelectingRange(o))return!1;var i=r.props,l=i.endDate,s=i.selectsEnd,u=i.selectsRange,c=Sn(xe(),o);return s||u?bn(c,(a=r.selectingDate())!==null&&a!==void 0?a:null):bn(c,l??null)},r.isKeyboardSelected=function(o){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,i=a.minDate,l=a.maxDate,s=a.excludeDates,u=a.includeDates,c=a.filterDate,d=Ha(Sn(r.props.date,o)),f=(i||l||s||u||c)&&zs(o,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!pe(d,Ha(r.props.selected))&&pe(d,Ha(r.props.preSelection))&&!f}},r.onYearClick=function(o,a){var i=r.props.date;i!==void 0&&r.handleYearClick(Ha(Sn(i,a)),o)},r.onYearKeyDown=function(o,a){var i,l,s=o.key,u=r.props,c=u.date,d=u.yearItemNumber,f=u.handleOnKeyDown;if(s!==B.Tab&&o.preventDefault(),!r.props.disabledKeyboardNavigation)switch(s){case B.Enter:if(r.props.selected==null)break;r.onYearClick(o,a),(l=(i=r.props).setPreSelection)===null||l===void 0||l.call(i,r.props.selected);break;case B.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,Gn(r.props.preSelection,1));break;case B.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,ca(r.props.preSelection,1));break;case B.ArrowUp:{if(c===void 0||d===void 0||r.props.preSelection==null)break;var p=Sr(c,d).startPeriod,v=Ug,g=a-v;if(g<p){var y=d%v;a>=p&&a<p+y?v=y:v+=y,g=a-v}r.handleYearNavigation(g,ca(r.props.preSelection,v));break}case B.ArrowDown:{if(c===void 0||d===void 0||r.props.preSelection==null)break;var h=Sr(c,d).endPeriod,v=Ug,g=a+v;if(g>h){var y=d%v;a<=h&&a>h-y?v=y:v+=y,g=a+v}r.handleYearNavigation(g,Gn(r.props.preSelection,v));break}}f&&f(o)},r.getYearClassNames=function(o){var a=r.props,i=a.date,l=a.minDate,s=a.maxDate,u=a.selected,c=a.excludeDates,d=a.includeDates,f=a.filterDate,p=a.yearClassName;return it("react-datepicker__year-text","react-datepicker__year-".concat(o),i?p?.(Sn(i,o)):void 0,{"react-datepicker__year-text--selected":u?o===le(u):void 0,"react-datepicker__year-text--disabled":(l||s||c||d||f)&&zs(o,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(o),"react-datepicker__year-text--range-start":r.isRangeStart(o),"react-datepicker__year-text--range-end":r.isRangeEnd(o),"react-datepicker__year-text--in-range":r.isInRange(o),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(o),"react-datepicker__year-text--today":r.isCurrentYear(o)})},r.getYearTabIndex=function(o){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=le(r.props.preSelection),i=zs(o,r.props);return o===a&&!i?"0":"-1"},r.getYearContainerClassNames=function(){var o=r.props,a=o.selectingDate,i=o.selectsStart,l=o.selectsEnd,s=o.selectsRange;return it("react-datepicker__year",{"react-datepicker__year--selecting-range":a&&(i||l||s)})},r.getYearContent=function(o){return r.props.renderYearContent?r.props.renderYearContent(o):o},r}return t.prototype.render=function(){var n=this,r=[],o=this.props,a=o.date,i=o.yearItemNumber,l=o.onYearMouseEnter,s=o.onYearMouseLeave;if(a===void 0)return null;for(var u=Sr(a,i),c=u.startPeriod,d=u.endPeriod,f=function(g){r.push(D.createElement("div",{ref:p.YEAR_REFS[g-c],onClick:function(y){n.onYearClick(y,g)},onKeyDown:function(y){MS(y)&&(y.preventDefault(),y.key=B.Enter),n.onYearKeyDown(y,g)},tabIndex:Number(p.getYearTabIndex(g)),className:p.getYearClassNames(g),onMouseEnter:p.props.usePointerEvent?void 0:function(y){return l(y,g)},onPointerEnter:p.props.usePointerEvent?function(y){return l(y,g)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(y){return s(y,g)},onPointerLeave:p.props.usePointerEvent?function(y){return s(y,g)}:void 0,key:g,"aria-current":p.isCurrentYear(g)?"date":void 0},p.getYearContent(g)))},p=this,v=c;v<=d;v++)f(v);return D.createElement("div",{className:this.getYearContainerClassNames()},D.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(m.Component);function nI(e,t,n,r){for(var o=[],a=0;a<2*t+1;a++){var i=e+t-a,l=!0;n&&(l=le(n)<=i),r&&l&&(l=le(r)>=i),l&&o.push(i)}return o}var rI=function(e){ut(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var l=r.props.year,s=r.state.yearsList.map(function(d){return D.createElement("div",{className:l===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":l===d?"true":void 0},l===d?D.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",d)}),u=r.props.minDate?le(r.props.minDate):null,c=r.props.maxDate?le(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(d){return d===c}))&&s.unshift(D.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},D.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(d){return d===u}))&&s.push(D.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},D.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),s},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var s=r.state.yearsList.map(function(u){return u+l});r.setState({yearsList:s})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var o=n.yearDropdownItemNumber,a=n.scrollableYearDropdown,i=o||(a?10:5);return r.state={yearsList:nI(r.props.year,i,r.props.minDate,r.props.maxDate)},r.dropdownRef=m.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,o=r?r.find(function(a){return a.ariaSelected}):null;n.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=it({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return D.createElement(Au,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(m.Component),oI=function(e){ut(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?le(n.props.minDate):1900,o=n.props.maxDate?le(n.props.maxDate):2100,a=[],i=r;i<=o;i++)a.push(D.createElement("option",{key:i,value:i},i));return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return D.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return D.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(o){return n.toggleDropdown(o)}},D.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),D.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return D.createElement(rI,he({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,o=[n.renderReadView(!r)];return r&&o.unshift(n.renderDropdown()),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,o){var a;(a=n.onSelect)===null||a===void 0||a.call(n,r,o),n.setOpen()},n.onSelect=function(r,o){var a,i;(i=(a=n.props).onSelect)===null||i===void 0||i.call(a,r,o)},n.setOpen=function(){var r,o;(o=(r=n.props).setOpen)===null||o===void 0||o.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return D.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(m.Component),aI=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],iI=function(e){var t=(e.className||"").split(/\s+/);return aI.some(function(n){return t.indexOf(n)>=0})},sI=function(e){ut(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(o){r.props.onClickOutside(o)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(o){var a,i;iI(o.target)&&((i=(a=r.props).onDropdownFocus)===null||i===void 0||i.call(a,o))},r.getDateInView=function(){var o=r.props,a=o.preSelection,i=o.selected,l=o.openToDate,s=PS(r.props),u=OS(r.props),c=xe(),d=l||i||a;return d||(s&&co(c,s)?s:u&&Lr(c,u)?u:c)},r.increaseMonth=function(){r.setState(function(o){var a=o.date;return{date:gn(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(o){var a=o.date;return{date:ua(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(o,a,i){r.props.onSelect(o,a,i),r.props.setPreSelection&&r.props.setPreSelection(o)},r.handleDayMouseEnter=function(o){r.setState({selectingDate:o}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(o)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(o,a){r.setState({selectingDate:Sn(xe(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(o,a)},r.handleYearMouseLeave=function(o,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(o,a)},r.handleYearChange=function(o){var a,i,l,s;(i=(a=r.props).onYearChange)===null||i===void 0||i.call(a,o),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(o),(s=(l=r.props).setOpen)===null||s===void 0||s.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(o)},r.getEnabledPreSelectionDateForMonth=function(o){if(!Jt(o,r.props))return o;for(var a=Zn(o),i=k2(o),l=BM(i,a),s=null,u=0;u<=l;u++){var c=or(a,u);if(!Jt(c,r.props)){s=c;break}}return s},r.handleMonthChange=function(o){var a,i,l,s=(a=r.getEnabledPreSelectionDateForMonth(o))!==null&&a!==void 0?a:o;r.handleCustomMonthChange(s),r.props.adjustDateOnChange&&(r.props.onSelect(s),(l=(i=r.props).setOpen)===null||l===void 0||l.call(i,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleCustomMonthChange=function(o){var a,i;(i=(a=r.props).onMonthChange)===null||i===void 0||i.call(a,o),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(o){r.handleYearChange(o),r.handleMonthChange(o)},r.changeYear=function(o){r.setState(function(a){var i=a.date;return{date:Sn(i,Number(o))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(o){r.setState(function(a){var i=a.date;return{date:Lt(i,Number(o))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(o){r.setState(function(a){var i=a.date;return{date:Sn(Lt(i,xt(o)),le(o))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(o){o===void 0&&(o=r.state.date);var a=Pr(o,r.props.locale,r.props.calendarStartDay),i=[];return r.props.showWeekNumbers&&i.push(D.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),i.concat([0,1,2,3,4,5,6].map(function(l){var s=or(a,l),u=r.formatWeekday(s,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(s):void 0;return D.createElement("div",{key:l,"aria-label":Re(s,"EEEE",r.props.locale),className:it("react-datepicker__day-name",c)},u)}))},r.formatWeekday=function(o,a){return r.props.formatWeekDay?P2(o,r.props.formatWeekDay,a):r.props.useWeekdaysShort?M2(o,a):O2(o,a)},r.decreaseYear=function(){r.setState(function(o){var a,i=o.date;return{date:ca(i,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var o;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=Ng(r.state.date,r.props);break;case r.props.showYearPicker:a=A2(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=I2(r.state.date,r.props);break;default:a=Mg(r.state.date,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],l=["react-datepicker__navigation","react-datepicker__navigation--previous"],s=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(s=r.decreaseYear),a&&r.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--previous--disabled"),s=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,d=c.previousMonthButtonLabel,f=d===void 0?t.defaultProps.previousMonthButtonLabel:d,p=c.previousYearButtonLabel,v=p===void 0?t.defaultProps.previousYearButtonLabel:p,g=r.props,y=g.previousMonthAriaLabel,h=y===void 0?typeof f=="string"?f:"Previous Month":y,w=g.previousYearAriaLabel,S=w===void 0?typeof v=="string"?v:"Previous Year":w;return D.createElement("button",{type:"button",className:l.join(" "),onClick:s,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?S:h},D.createElement("span",{className:i.join(" ")},u?v:f))}}},r.increaseYear=function(){r.setState(function(o){var a,i=o.date;return{date:Gn(i,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var o;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=Ig(r.state.date,r.props);break;case r.props.showYearPicker:a=F2(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=L2(r.state.date,r.props);break;default:a=Rg(r.state.date,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var s=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(s=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),s=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,d=c.nextMonthButtonLabel,f=d===void 0?t.defaultProps.nextMonthButtonLabel:d,p=c.nextYearButtonLabel,v=p===void 0?t.defaultProps.nextYearButtonLabel:p,g=r.props,y=g.nextMonthAriaLabel,h=y===void 0?typeof f=="string"?f:"Next Month":y,w=g.nextYearAriaLabel,S=w===void 0?typeof v=="string"?v:"Next Year":w;return D.createElement("button",{type:"button",className:i.join(" "),onClick:s,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?S:h},D.createElement("span",{className:l.join(" ")},u?v:f))}}},r.renderCurrentMonth=function(o){o===void 0&&(o=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),D.createElement("h2",{className:a.join(" ")},Re(o,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showYearDropdown||o))return D.createElement(oI,he({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:le(r.state.date)}))},r.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showMonthDropdown||o))return D.createElement(q2,he({},t.defaultProps,r.props,{month:xt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showMonthYearDropdown||o))return D.createElement(J2,he({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(o){r.props.onSelect(Tg(),o),r.props.setPreSelection&&r.props.setPreSelection(Tg())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return D.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(o){var a=o.monthDate,i=o.i;return D.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),D.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(i!==0),r.renderMonthYearDropdown(i!==0),r.renderYearDropdown(i!==0)),D.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(o){var a,i,l=o.monthDate,s=o.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var u=Mg(r.state.date,r.props),c=Rg(r.state.date,r.props),d=Ng(r.state.date,r.props),f=Ig(r.state.date,r.props),p=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return D.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(i=(a=r.props).renderCustomHeader)===null||i===void 0?void 0:i.call(a,he(he({},r.state),{customHeaderCount:s,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:c,prevYearButtonDisabled:d,nextYearButtonDisabled:f})),p&&D.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(o){var a=o.monthDate,i=r.props,l=i.showYearPicker,s=i.yearItemNumber,u=s===void 0?t.defaultProps.yearItemNumber:s,c=Sr(a,u),d=c.startPeriod,f=c.endPeriod;return D.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(d," - ").concat(f):le(a))},r.renderHeader=function(o){var a=o.monthDate,i=o.i,l=i===void 0?0:i,s={monthDate:a,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(s);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(s);default:return r.renderDefaultHeader(s)}},r.renderMonths=function(){var o,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var i=[],l=(o=r.props.monthsShown)!==null&&o!==void 0?o:t.defaultProps.monthsShown,s=r.props.showPreviousMonths?l-1:0,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Gn(r.state.date,s):ua(r.state.date,s),c=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:s,d=0;d<l;++d){var f=d-c+s,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Gn(u,f):gn(u,f),v="month-".concat(d),g=d<l-1,y=d>0;i.push(D.createElement("div",{key:v,ref:function(h){r.monthContainer=h??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:d}),D.createElement(K2,he({},t.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:y}))))}return i}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return D.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),D.createElement(tI,he({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return D.createElement(eI,he({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var o=r.props.selected?new Date(r.props.selected):void 0,a=o&&Hn(o)&&!!r.props.selected,i=a?"".concat(Ag(o.getHours()),":").concat(Ag(o.getMinutes())):"";if(r.props.showTimeInput)return D.createElement(H2,he({},t.defaultProps,r.props,{date:o,timeString:i,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var o,a=Sr(r.state.date,(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber),i=a.startPeriod,l=a.endPeriod,s;return r.props.showYearPicker?s="".concat(i," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?s=le(r.state.date):s="".concat(jp(xt(r.state.date),r.props.locale)," ").concat(le(r.state.date)),D.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&s)},r.renderChildren=function(){if(r.props.children)return D.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=m.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Bi}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!pe(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var o=!Et(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!pe(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||S2;return D.createElement(Au,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},D.createElement(n,{className:it("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},t}(m.Component),lI=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,o=e.onClick,a="react-datepicker__calendar-icon";return typeof t=="string"?D.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:o}):D.isValidElement(t)?D.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(a," ").concat(r),onClick:function(i){typeof t.props.onClick=="function"&&t.props.onClick(i),typeof o=="function"&&o(i)}}):D.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},D.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},RS=function(e){ut(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return wE.createPortal(this.props.children,this.el)},t}(m.Component),uI="[tabindex], a, button, input, select, textarea",cI=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},NS=function(e){ut(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var o;return Array.prototype.slice.call((o=r.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(uI),1,-1).filter(cI)},r.handleFocusStart=function(){var o=r.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},r.handleFocusEnd=function(){var o=r.getTabChildren();o&&o.length>1&&o[0].focus()},r.tabLoopRef=m.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?D.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},D.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,D.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(m.Component);function dI(e){var t=function(n){var r,o=typeof n.hidePopper=="boolean"?n.hidePopper:!0,a=m.useRef(null),i=w2(he({open:!o,whileElementsMounted:iw,placement:n.popperPlacement,middleware:kn([o2({padding:15}),r2(10),a2({element:a})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),l=he(he({},n),{hidePopper:o,popperProps:he(he({},i),{arrowRef:a})});return D.createElement(e,he({},l))};return t}var fI=function(e){ut(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,o=n.wrapperClassName,a=n.hidePopper,i=a===void 0?t.defaultProps.hidePopper:a,l=n.popperComponent,s=n.targetComponent,u=n.enableTabLoop,c=n.popperOnKeyDown,d=n.portalId,f=n.portalHost,p=n.popperProps,v=n.showArrow,g=void 0;if(!i){var y=it("react-datepicker-popper",r);g=D.createElement(NS,{enableTabLoop:u},D.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:y,"data-placement":p.placement,onKeyDown:c},l,v&&D.createElement(f2,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=m.createElement(this.props.popperContainer,{},g)),d&&!i&&(g=D.createElement(RS,{portalId:d,portalHost:f},g));var h=it("react-datepicker-wrapper",o);return D.createElement(D.Fragment,null,D.createElement("div",{ref:p.refs.setReference,className:h},s),g)},t}(m.Component),pI=dI(fI),Bg="react-datepicker-ignore-onclickoutside";function hI(e,t){return e&&t?xt(e)!==xt(t)||le(e)!==le(t):e!==t}var Uc="Date input not valid.",sf=function(e){ut(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:xe()},r.modifyHolidays=function(){var o;return(o=r.props.holidays)===null||o===void 0?void 0:o.reduce(function(a,i){var l=new Date(i.date);return Hn(l)?kn(kn([],a,!0),[he(he({},i),{date:l})],!1):a},[])},r.calcInitialState=function(){var o,a=r.getPreSelection(),i=PS(r.props),l=OS(r.props),s=i&&co(a,Ys(i))?i:l&&Lr(a,Dg(l))?l:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(o=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&o!==void 0?o:s,highlightDates:Lg(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(he(he({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(he(he({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(o,a){a===void 0&&(a=!1),r.setState({open:o,preSelection:o&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Bc},function(){o||r.setState(function(i){return{focused:a?i.focused:!1}},function(){!a&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return qn(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(o){var a,i,l=r.state.wasHidden,s=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&s&&((i=(a=r.props).onFocus)===null||i===void 0||i.call(a,o),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(o){var a,i;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((i=(a=r.props).onBlur)===null||i===void 0||i.call(a,o)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(o){var a,i;r.props.inline||r.setOpen(!1),(i=(a=r.props).onClickOutside)===null||i===void 0||i.call(a,o),r.props.withPortal&&o.preventDefault()},r.handleChange=function(){for(var o,a,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var s=i[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,i),!s||typeof s.isDefaultPrevented!="function"||s.isDefaultPrevented()))){r.setState({inputValue:s?.target instanceof HTMLInputElement?s.target.value:null,lastPreSelectChange:mI});var u=r.props,c=u.dateFormat,d=c===void 0?t.defaultProps.dateFormat:c,f=u.strictParsing,p=f===void 0?t.defaultProps.strictParsing:f,v=u.selectsRange,g=u.startDate,y=u.endDate,h=s?.target instanceof HTMLInputElement?s.target.value:"";if(v){var w=h.split("-",2).map(function(R){return R.trim()}),S=w[0],E=w[1],x=$c(S??"",d,r.props.locale,p),b=$c(E??"",d,r.props.locale,p),_=g?.getTime()!==x?.getTime(),T=y?.getTime()!==b?.getTime();if(!_&&!T||x&&Jt(x,r.props)||b&&Jt(b,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[x,b],s)}else{var k=$c(h,d,r.props.locale,p,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&k&&!pe(k,r.props.selected)&&(k=e2(r.props.selected,{hours:Nn(k),minutes:In(k),seconds:Xn(k)})),(k||!h)&&r.setSelected(k,s,!0)}}},r.handleSelect=function(o,a,i){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(o,a,!1,i),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(o);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,s=l.startDate,u=l.endDate;s&&!u&&(r.props.swapRange||!jg(o,s))&&r.setOpen(!1)}},r.setSelected=function(o,a,i,l){var s,u,c=o;if(r.props.showYearPicker){if(c!==null&&zs(le(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&kS(c,r.props))return}else if(c!==null&&Jt(c,r.props))return;var d=r.props,f=d.onChange,p=d.selectsRange,v=d.startDate,g=d.endDate,y=d.selectsMultiple,h=d.selectedDates,w=d.minTime,S=d.swapRange;if(!Gr(r.props.selected,c)||r.props.allowSameDay||p||y)if(c!==null&&(r.props.selected&&(!i||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=jc(c,{hour:Nn(r.props.selected),minute:In(r.props.selected),second:Xn(r.props.selected)})),!i&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&w&&(c=jc(c,{hour:w.getHours(),minute:w.getMinutes(),second:w.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),p){var E=!v&&!g,x=v&&!g,b=v&&g;E?f?.([c,null],a):x&&(c===null?f?.([null,null],a):jg(c,v)?f?.(S?[c,v]:[c,null],a):f?.([v,c],a)),b&&f?.([c,null],a)}else if(y){if(c!==null)if(!h?.length)f?.([c],a);else{var _=h.some(function(k){return pe(k,c)});if(_){var T=h.filter(function(k){return!pe(k,c)});f?.(T,a)}else f?.(kn(kn([],h,!0),[c],!1),a)}}else f?.(c,a);i||((u=(s=r.props).onSelect)===null||u===void 0||u.call(s,c,a),r.setState({inputValue:null}))},r.setPreSelection=function(o){var a=qn(r.props.minDate),i=qn(r.props.maxDate),l=!0;if(o){var s=Ys(o);if(a&&i)l=Wa(o,r.props.minDate,r.props.maxDate);else if(a){var u=Ys(r.props.minDate);l=Lr(o,u)||Gr(s,u)}else if(i){var c=Dg(r.props.maxDate);l=co(o,c)||Gr(s,c)}}l&&r.setState({preSelection:o})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(o){var a,i;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),s=r.props.selected?o:jc(l,{hour:Nn(o),minute:In(o)});r.setState({preSelection:s}),(i=(a=r.props).onChange)===null||i===void 0||i.call(a,s),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var o,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(o=r.props).onInputClick)===null||a===void 0||a.call(o)},r.onInputKeyDown=function(o){var a,i,l,s,u,c;(i=(a=r.props).onKeyDown)===null||i===void 0||i.call(a,o);var d=o.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(d===B.ArrowDown||d===B.ArrowUp||d===B.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(d===B.ArrowDown||d===B.ArrowUp){o.preventDefault();var f=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((s=r.calendar)===null||s===void 0?void 0:s.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(f);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var v=xe(r.state.preSelection);d===B.Enter?(o.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Bc?(r.handleSelect(v,o),!r.props.shouldCloseOnSelect&&r.setPreSelection(v)):r.setOpen(!1)):d===B.Escape?(o.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):d===B.Tab&&r.setOpen(!1),r.inputOk()||(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:Uc})}},r.onPortalKeyDown=function(o){var a=o.key;a===B.Escape&&(o.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(o){var a,i,l,s,u,c,d=r.props,f=d.minDate,p=d.maxDate,v=d.disabledKeyboardNavigation,g=d.showWeekPicker,y=d.shouldCloseOnSelect,h=d.locale,w=d.calendarStartDay,S=d.adjustDateOnChange,E=d.inline;if((i=(a=r.props).onKeyDown)===null||i===void 0||i.call(a,o),!v){var x=o.key,b=o.shiftKey,_=xe(r.state.preSelection),T=function(j,L){var U=L;switch(j){case B.ArrowRight:U=g?Il(L,1):or(L,1);break;case B.ArrowLeft:U=g?Cg(L,1):FN(L,1);break;case B.ArrowUp:U=Cg(L,1);break;case B.ArrowDown:U=Il(L,1);break;case B.PageUp:U=b?ca(L,1):ua(L,1);break;case B.PageDown:U=b?Gn(L,1):gn(L,1);break;case B.Home:U=Pr(L,h,w);break;case B.End:U=D2(L);break}return U},k=function(j,L){for(var U=40,P=j,F=!1,V=0,J=T(j,L);!F;){if(V>=U){J=L;break}f&&J<f&&(P=B.ArrowRight,J=Jt(f,r.props)?T(P,J):f),p&&J>p&&(P=B.ArrowLeft,J=Jt(p,r.props)?T(P,J):p),Jt(J,r.props)?((P===B.PageUp||P===B.Home)&&(P=B.ArrowRight),(P===B.PageDown||P===B.End)&&(P=B.ArrowLeft),J=T(P,J)):F=!0,V++}return J};if(x===B.Enter){o.preventDefault(),r.handleSelect(_,o),!y&&r.setPreSelection(_);return}else if(x===B.Escape){o.preventDefault(),r.setOpen(!1),r.inputOk()||(s=(l=r.props).onInputError)===null||s===void 0||s.call(l,{code:1,msg:Uc});return}var R=null;switch(x){case B.ArrowLeft:case B.ArrowRight:case B.ArrowUp:case B.ArrowDown:case B.PageUp:case B.PageDown:case B.Home:case B.End:R=k(x,_);break}if(!R){(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:Uc});return}if(o.preventDefault(),r.setState({lastPreSelectChange:Bc}),S&&r.setSelected(R),r.setPreSelection(R),E){var O=xt(_),M=xt(R),$=le(_),H=le(R);O!==M||$!==H?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(o){var a=o.key;a===B.Escape&&(o.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),r.sendFocusBackToInput();var a=r.props,i=a.selectsRange,l=a.onChange;l?.(i?[null,null]:null,o),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(o){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(o)&&r.setOpen(!1)},r.renderCalendar=function(){var o,a;return!r.props.inline&&!r.isCalendarOpen()?null:D.createElement(sI,he({showMonthYearDropdown:void 0,ref:function(i){r.calendar=i}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(o=r.props.dateFormatCalendar)!==null&&o!==void 0?o:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:j2(r.modifyHolidays()),outsideClickIgnoreClass:Bg,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var o=r.props,a=o.dateFormat,i=a===void 0?t.defaultProps.dateFormat:a,l=o.locale,s=r.props.showTimeInput||r.props.showTimeSelect,u=s?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(Gt(r.props.startDate,{dateFormat:u,locale:l}),". ").concat(r.props.endDate?"End date: "+Gt(r.props.endDate,{dateFormat:u,locale:l}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(Gt(r.props.selected,{dateFormat:i,locale:l})):r.props.showYearPicker?c="Selected year: ".concat(Gt(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?c="Selected month: ".concat(Gt(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(Gt(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):c="Selected date: ".concat(Gt(r.props.selected,{dateFormat:u,locale:l})),D.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var o,a,i,l=it(r.props.className,(o={},o[Bg]=r.state.open,o)),s=r.props.customInput||D.createElement("input",{type:"text"}),u=r.props.customInputRef||"ref",c=r.props,d=c.dateFormat,f=d===void 0?t.defaultProps.dateFormat:d,p=c.locale,v=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?b2(r.props.startDate,r.props.endDate,{dateFormat:f,locale:p}):r.props.selectsMultiple?x2((i=r.props.selectedDates)!==null&&i!==void 0?i:[],{dateFormat:f,locale:p}):Gt(r.props.selected,{dateFormat:f,locale:p});return m.cloneElement(s,(a={},a[u]=function(g){r.input=g},a.value=v,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=it(s.props.className,l),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var o=r.props,a=o.isClearable,i=o.disabled,l=o.selected,s=o.startDate,u=o.endDate,c=o.clearButtonTitle,d=o.clearButtonClassName,f=d===void 0?"":d,p=o.ariaLabelClose,v=p===void 0?"Close":p,g=o.selectedDates;return a&&(l!=null||s!=null||u!=null||g?.length)?D.createElement("button",{type:"button",className:it("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":v,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Bi,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var o,a,i,l;n.inline&&hI(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Lg(this.props.highlightDates)}),!r.focused&&!Gr(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(o=this.props).onCalendarOpen)===null||a===void 0||a.call(o)),r.open===!0&&this.state.open===!1&&((l=(i=this.props).onCalendarClose)===null||l===void 0||l.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,o=n.icon,a=n.calendarIconClassname,i=n.calendarIconClassName,l=n.toggleCalendarOnIconClick,s=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),D.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&D.createElement(lI,he({icon:o,className:it(i,!i&&a,s&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?D.createElement(NS,{enableTabLoop:this.props.enableTabLoop},D.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=D.createElement(RS,he({portalId:this.props.portalId},this.props),r)),D.createElement("div",null,this.renderInputContainer(),r)}return D.createElement(pI,he({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(m.Component),mI="input",Bc="navigate";function q({label:e,...t}){return C.jsxs("div",{className:"thin-border blue-bg",style:{display:"flex",justifyContent:"space-between",gap:"1em"},children:[e,C.jsx("div",{className:"number-field",children:t.children})]})}function gI(){const e=m.useContext(qe),t=e.portaCountClient.state,n=e.portaCountClient.settings,[r,o]=te(I.BAUD_RATE),[a]=te(I.ADVANCED_MODE),[i]=te(I.SHOW_REMAINING_EVENT_TIME),[l]=te(I.SHOW_ELAPSED_PARTICIPANT_TIME),[s,u]=m.useState(!1),[c,d]=m.useState("all-raw-data"),[f,p]=te(I.MINUTES_ALLOTTED_PER_PARTICIPANT),[v,g]=te(I.MASK_LIST),[y,h]=te(I.COLOR_SCHEME),[w,S]=m.useState(e.settings.eventEndTime),[,E]=m.useState({}),x=m.useCallback(()=>{E({})},[]);function b(M){d(M.target.value)}function _(){switch(c){case"all-raw-data":T();break;case"all-results-as-json":k();break;default:console.log(`unsupported data to download: ${c}`)}}async function T(){await lu.getData().then(M=>{dg(JSON.stringify(M),"fit-test-all-raw-data","json")})}function k(){on.getData().then(M=>{dg(JSON.stringify(M),"fit-test-all-results","json")})}function R(M){const $=Number(M);isNaN($)?p(H=>H):$>0?p($):console.warn(`ignoring out-of-range minutes per participant value: ${M}`)}m.useEffect(()=>{e.settings.eventEndTime=w},[w]),m.useEffect(()=>{e.settings.getActualSetting(I.EVENT_END_HHMM).then(()=>{S(e.settings.eventEndTime)});const M={stateChanged(){x()},settingsChanged(){x()}};return e.portaCountClient.addListener(M),()=>{e.portaCountClient.removeListener(M)}},[]);function O(){const M=e.portaCountClient.externalController;M.assumeManualControl(),M.requestRuntimeStatus(),M.sendCommand(de.REQUEST_VOLTAGE_INFO),M.requestSettings()}return C.jsxs("div",{id:"settings-panel",children:[C.jsx("fieldset",{children:"mftc v1.7.3 production"}),C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Settings"}),C.jsxs("section",{id:"settings",style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"stretch"},children:[C.jsx("section",{id:"basic-controls",children:C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Basic"}),C.jsx(Ze,{setting:I.KEEP_SCREEN_AWAKE}),C.jsx(sM,{}),C.jsx(Ze,{setting:I.SAY_PARTICLE_COUNT}),C.jsx(Ze,{setting:I.SAY_ESTIMATED_FIT_FACTOR}),C.jsxs("div",{className:"labeled-setting",children:[C.jsxs("select",{id:"download-file-format-selector",defaultValue:c,onChange:b,children:[C.jsx("option",{value:"all-raw-data",children:"All Raw data as JSON"}),C.jsx("option",{value:"all-results-as-json",children:"All results as JSON"})]}),C.jsx("input",{className:"button",type:"button",value:"Download!",id:"download-button",onClick:_})]})]})}),C.jsx("section",{id:"event settings",children:C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Event settings"}),C.jsx(Ze,{setting:I.SHOW_ELAPSED_PARTICIPANT_TIME}),l&&C.jsxs("div",{className:"labeled-setting",children:[C.jsx("label",{htmlFor:"minutes-per-participant-input",children:"Minutes per participant:"}),C.jsx(IM,{style:{width:"8ch"},id:"minutes-per-participant-input",value:f,onChange:R,type:"number",min:1,max:60})]}),C.jsx(Ze,{setting:I.SHOW_REMAINING_EVENT_TIME}),i&&C.jsxs("div",{className:"labeled-setting",children:[C.jsx("label",{children:"Event end time"}),C.jsx(sf,{className:"date-time-input",selected:w,showTimeSelect:!0,showTimeCaption:!0,includeDates:[new Date],showIcon:!0,dateFormat:"YYYY-MMM-dd HH:mm",timeFormat:"HH:mm",placeholderText:"Pick end time",onChange:M=>M&&S(M)})]})]})}),C.jsxs("section",{id:"advanced-controls",children:[C.jsxs("fieldset",{children:[C.jsx("legend",{children:C.jsx(Ze,{trueLabel:"Advanced settings",setting:I.ADVANCED_MODE})}),C.jsxs("div",{style:{display:a?"inline-block":"none"},children:[C.jsx(lg,{label:"Baud Rate",value:r.toString(),setValue:M=>o(Number(M)),options:[{300:"300"},{600:"600"},{1200:"1200"},{2400:"2400"},{9600:"9600"}]}),C.jsx(lg,{label:"Color Scheme",value:y,setValue:M=>h(M),options:[{Auto:"light dark"},{Dark:"dark"},{Light:"light"}]}),C.jsx(NM,{}),C.jsx(Ze,{trueLabel:"Verbose speech",setting:I.VERBOSE}),C.jsx(Ze,{setting:I.SHOW_EXTERNAL_CONTROL}),C.jsx(Ze,{setting:I.ENABLE_TEST_INSTRUCTIONS_ZOOM}),C.jsx(Ze,{setting:I.USE_COMPACT_UI}),C.jsx(Ze,{setting:I.ENABLE_WEB_SERIAL_DRIVERS}),C.jsx(Ze,{setting:I.ENABLE_PROTOCOL_EDITOR}),C.jsx(Ze,{setting:I.ENABLE_QR_CODE_SCANNER}),C.jsx(Ze,{setting:I.ENABLE_STATS}),C.jsx(Ze,{setting:I.AUTO_UPDATE_MASK_LIST}),C.jsx(Ze,{setting:I.ENABLE_AUTO_CONNECT}),C.jsx(Ze,{setting:I.SYNC_DEVICE_STATE_ON_CONNECT}),C.jsx(Ze,{setting:I.AUTO_CREATE_FAST_PROTOCOLS}),C.jsx(Ze,{setting:I.ENABLE_SIMULATOR}),C.jsx(Nw,{trueLabel:"Show Danger Zone",value:s,setValue:u})]})]}),s&&C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Danger Zone"}),C.jsx("input",{type:"button",value:"Clear Local Storage",onClick:()=>localStorage.clear()})]})]}),C.jsxs("fieldset",{id:"mask-list",children:[C.jsx("legend",{children:"Mask list"}),C.jsx("div",{style:{height:"50vh"},children:C.jsx(ta,{scrollable:!0,onChangeOnlyOnBlur:!0,initialValue:v.join(`
`),onChange:M=>{M!==void 0&&g(M.split(/\n/).map($=>$.trim()).filter($=>$.length>0))}})})]}),C.jsxs("fieldset",{id:"settings-state",children:[C.jsx("legend",{children:"Settings & State"}),C.jsx("button",{onClick:O,children:"Fetch settings & state info"}),C.jsx(q,{label:"Serial Number",children:n.serialNumber}),C.jsx(q,{label:"Last Service Date",children:n.lastServiceDate.toISOString()}),C.jsx(q,{label:"Run Time Since Service",children:Be(1e3*n.runTimeSinceFactoryServiceSeconds)}),C.jsx(q,{label:"Num Exercises",children:n.numExercises}),C.jsx(q,{label:"Ambient Purge",children:Be(1e3*n.ambientPurge)}),C.jsx(q,{label:"Ambient Sample",children:Be(1e3*n.ambientSample)}),C.jsx(q,{label:"Mask Purge",children:Be(1e3*n.maskPurge)}),[...n.maskSample.entries()].map(([M,$])=>C.jsx(q,{label:`Ex ${String(M)} sample`,children:Be(1e3*$)},M)),[...n.fitFactorPassLevel.entries()].map(([M,$])=>C.jsx(q,{label:`FF pass level ${String(M)}`,children:$},M)),C.jsx(q,{label:"Battery",children:t.batteryStatus}),C.jsx(q,{label:"Pulse",children:t.pulseStatus}),[...t.componentVoltages.entries()].map(([M,$])=>C.jsx(q,{label:`${M} voltage`,children:$},M))]})]})]})]})}function vI(){const[e,t]=m.useState(""),n=D.useRef(null),[r,o]=m.useState(""),a=D.useRef(null),[i,l]=m.useState(""),s=D.useRef(null),u=m.useContext(qe);return m.useEffect(()=>{t(()=>u.dataCollector.rawLines),o(u.dataCollector.logLines),l(u.dataCollector.processedData);const c={logRawLine(){t(()=>u.dataCollector.rawLines)},logMessage(d){o(f=>f+d)},logProcessedData(d){const f=new Date().toISOString();l(p=>p+`${f} ${d}`)}};return u.dataCollector.addListener(c),()=>{u.dataCollector.removeListener(c)}},[]),C.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[C.jsxs("section",{style:{width:"100%",display:"flex",flexGrow:1},children:[C.jsxs("fieldset",{style:{flexGrow:1},children:[C.jsx("legend",{children:"Raw Data"}),C.jsx("textarea",{id:"raw-data",ref:n,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1e3,value:e})]}),C.jsxs("fieldset",{style:{flexGrow:1},children:[C.jsx("legend",{children:"Processed Data"}),C.jsx("textarea",{id:"interpreted-data",ref:s,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1001,value:i})]})]}),C.jsx("section",{style:{width:"100%",flexGrow:1,display:"flex"},children:C.jsxs("fieldset",{style:{flexGrow:1},children:[C.jsx("legend",{children:"Log"}),C.jsx("textarea",{id:"log-text-area",ref:a,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1002,value:r})]})})]})}const yI=60*60*1e3;function wI(){const e=m.useContext(qe),[t,n]=te(I.STATS_FIRST_DATE),[r,o]=te(I.STATS_LAST_DATE),[a,i]=m.useState([]),[l,s]=m.useState(0),[u,c]=m.useState(0),[d,f]=m.useState(0),[p,v]=m.useState(0),[g,y]=m.useState(0),[h,w]=m.useState(0),[S,E]=m.useState([]),[x,b]=m.useState([]),[_,T]=m.useState(0),[k,R]=m.useState(0),[O,M]=m.useState(0),[$,H]=m.useState(0),[j,L]=m.useState(0);function U(A){return new Date(A.getTime()-A.getTimezoneOffset()*60*1e3)}function P(A){return U(A).toISOString().substring(0,10).replace(/-/g,"")}function F(A,re){return new Date(re.Time??0).getTime()-new Date(A.Time??0).getTime()}function V(A,re){return F(A,re)>1*60*60*1e3}function J(A){return A.Time?P(new Date(A.Time)):""}function ne(A){A=A.toSorted((Q,G)=>(Q.Time?U(new Date(Q.Time)).getTime():0)-(G.Time?U(new Date(G.Time)).getTime():0)),A=A.filter(Q=>!Q.Participant?.match(/zero\s+filter/i)),w(new Set(A.map(Q=>Q.Mask)).size),c(A.length),f(A.reduce((Q,G)=>Q+(G.Final?1:0),0)),s(A.reduce((Q,G,Qt,St)=>{const Vr=St[Qt-1]??{};return Q+(V(Vr,G)?1:0)},0)),v(new Set(A.map(Q=>`${J(Q)}-${Q.Participant}`)).size),y(A.reduce((Q,G,Qt,St)=>{const Vr=St[Qt-1]??{};return V(Vr,G)?Q:Q+F(Vr,G)},0));const re=new Map;A.forEach((Q,G,Qt)=>{const St=Qt[G-1]??{};if(V(St,Q))return null;const Vr=`${J(St)}-${St.Participant}`,zS=F(St,Q);re.set(Vr,zS+(re.get(Vr)||0))}),M(dc(new Array(...re.values())));const z=new Map;A.forEach(Q=>{const G=`${J(Q)}-${Q.Participant}`;z.set(G,(z.get(G)??new Set).add(Q.Mask??"unknown mask"))});const ie=[...z.values()].map(Q=>Q.size);H(dc(ie)),L(uy(ie)),R(dc(A.map((Q,G,Qt)=>{const St=Qt[G-1]??{};return V(St,Q)||!Q.Final?null:F(St,Q)}).filter(Q=>Q!==null)));const se=e.settings.getProtocolDuration(e.settings.getDefault(I.SELECTED_PROTOCOL));T(A.filter(Q=>Q.Final).reduce((Q,G)=>Q+(G.ProtocolName?e.settings.getProtocolDuration(G.ProtocolName):se),0)),E(A.toSorted((Q,G)=>(G.Final??0)-(Q.Final??0)).filter(Q=>!(!Q.Final||isNaN(Q.Final)||isNaN(Number(Q.Final))||!isFinite(Number(Q.Final)))).toSpliced(5));const Ce={};A.forEach(Q=>{const G=`${J(Q)}-${Q.Participant}-${Q.Mask}`;Ce[G]=Q});const Xe={};Object.values(Ce).forEach(Q=>{const G=Q.Mask??"";Xe[G]=1+(Xe[G]??0)}),console.debug(`mask tally: ${JSON.stringify(Xe)}`),b(Object.entries(Xe).toSorted((Q,G)=>G[1]-Q[1]).toSpliced(5))}async function ge(){return new Promise(A=>{const re=new Set;on.getData(z=>(re.add(new Date(z.Time)),!1)).then(()=>A([...re].toSorted((z,ie)=>z.getTime()-ie.getTime())))})}async function De(){const A=Number(P(t??new Date(0))),re=Number(P(r??new Date)),ie=(await lu.getData(se=>{const Ce=Number(P(new Date(se.timestamp)));return A<=Ce&&Ce<=re})).toSorted((se,Ce)=>new Date(se.timestamp).getTime()-new Date(Ce.timestamp).getTime()).reduce((se,Ce)=>{const Xe=new Date(Ce.timestamp).getTime();if(Xe>se.end+yI){const Q=P(new Date(Ce.timestamp)),G=se.longest.get(Q)||{start:Xe,end:Xe,longest:{}};G.end-G.start<se.end-se.start&&(G.start=se.start,G.end=se.end,se.longest.set(Q,G)),se.start=Xe}return se.end=Xe,se},{start:0,end:0,longest:new Map});console.debug(`event date ranges: ${JSON.stringify(ie.longest)}`,ie),ne(await on.getData(se=>{const Ce=Number(P(new Date(se.Time)));return A<=Ce&&Ce<=re}))}m.useEffect(()=>{De()},[t,r]),m.useEffect(()=>{ge().then(A=>{i(A),A.length!==0&&t.getTime()===0&&n(A[A.length-1])})},[]);function K(A){A?(r&&A>r&&o(A),n(A)):a.length>0?n(a[0]):n(new Date(0))}function oe(A){A?(t&&A<t&&n(A),o(A)):a.length>0?o(a[a.length-1]):o(new Date)}return C.jsxs("div",{id:"stats-panel",children:[C.jsxs("section",{id:"stats-date-range-selection",style:{display:"flex",justifySelf:"center"},children:["from",C.jsx(sf,{id:"stats-first-date-picker",className:"date-picker-input",selected:t,showIcon:!0,dateFormat:"YYYY-MMM-dd",placeholderText:"Start date",highlightDates:a,onChange:A=>K(A)}),"to",C.jsx(sf,{id:"stats-last-date-from",className:"date-picker-input",selected:r,showIcon:!0,dateFormat:"YYYY-MMM-dd",placeholderText:"End date",highlightDates:a,onChange:A=>oe(A)})]}),C.jsxs("section",{id:"stats-display",style:{display:"flex",flexDirection:"column",justifyContent:"stretch",width:"fit-content",justifySelf:"center"},children:[C.jsxs(q,{label:"For selected date range",children:[C.jsx(q,{label:"Num Events",children:l}),C.jsx(q,{label:"Num Participants",children:p}),C.jsx(q,{label:"Num Masks Tested",children:h}),C.jsx(q,{label:"Num Tests Started",children:u}),C.jsx(q,{label:"Num Tests Completed",children:`${d} (${(100*d/u).toFixed(1)}%)`})]}),C.jsx("hr",{}),C.jsx(q,{label:"Total time from completed tests",children:Be(_*1e3)}),C.jsx(q,{label:"Total event time (estimate)",children:Be(g)}),C.jsxs(q,{label:"Device utilization",children:[(100*_*1e3/g).toFixed(1),"%"]}),C.jsx("hr",{}),C.jsx(q,{label:"Time spent per participant",children:C.jsxs("div",{className:"inline-flex",children:[C.jsx(q,{label:"Average",children:Be(g/p)}),C.jsx(q,{label:"Median",children:Be(O)})]})}),C.jsx(q,{label:"Time spent per completed test",children:C.jsxs("div",{className:"inline-flex",children:[C.jsx(q,{label:"Average",children:Be(g/d)}),C.jsx(q,{label:"Median",children:Be(k)})]})}),C.jsx("hr",{}),C.jsx(q,{label:"Num masks tested per participant",children:C.jsxs("div",{className:"inline-flex",children:[C.jsx(q,{label:"Average",children:j.toFixed(1)}),C.jsx(q,{label:"Median",children:$.toFixed(1)})]})}),C.jsx("hr",{}),C.jsxs(q,{label:"Per Participant averages",children:[C.jsx(q,{label:"Num Tests Started",children:(u/p).toFixed(1)}),C.jsx(q,{label:"Num Tests Completed",children:(d/p).toFixed(1)})]}),C.jsx("hr",{}),C.jsx(q,{label:"popular masks",children:x.map(([A,re])=>C.jsx(q,{label:A.trim().length===0?"Unnamed mask":A,children:re},A))}),C.jsx("hr",{}),C.jsx(q,{label:"top overall scores",children:S.map(A=>C.jsx(q,{label:A.Mask??"Unnamed mask",children:A.Final},A.ID))}),C.jsx("hr",{}),C.jsx(q,{label:"top individual scores",children:"todo: look at this across all exercises"}),C.jsx("hr",{}),C.jsxs(q,{label:"Per Event averages",children:[C.jsx(q,{label:"Time Spent",children:Be(g/l)}),C.jsx(q,{label:"Num Participants",children:(p/l).toFixed(1)}),C.jsx(q,{label:"Num Masks Tested",children:"todo"}),C.jsx(q,{label:"Num Tests Started",children:(u/l).toFixed(1)}),C.jsx(q,{label:"Num Tests Completed",children:(d/l).toFixed(1)})]})]})]})}const SI=()=>{const[e]=te(I.KEEP_SCREEN_AWAKE),t=m.useRef(null);async function n(){console.debug("requestWakeLock()"),t.current=await navigator.wakeLock.request("screen")}const r=m.useCallback(()=>{t.current!==null&&document.visibilityState==="visible"&&e&&n()},[]);m.useEffect(()=>{e?(n(),document.addEventListener("visibilitychange",r)):t.current!==null&&(console.debug("removing wake lock"),document.removeEventListener("visibilitychange",r),t.current.release().then(()=>{t.current=null}))},[e])};function CI({useIcons:e=!1,...t}){const n=m.useContext(qe),[r]=te(I.MINUTES_ALLOTTED_PER_PARTICIPANT),[o,a]=m.useState("");function i(){return Date.now()-n.settings.eventEndTime.getTime()}function l(){const c=i()/60/1e3;return r-c<0?"over-time":"on-time"}function s(){a(Be(n.settings.eventEndTime.getTime()-Date.now(),!1,!1))}return sp(s),t.style={...t.style,display:"flex",gap:"0.3em"},C.jsxs("div",{...t,className:`number-field thin-border smooth-background-change svg-container no-wrap ${l()}`,children:[e?C.jsx(Ox,{}):C.jsx("span",{children:"Event Time:"}),C.jsx("span",{children:o})]})}function EI({useIcons:e=!1,...t}){const[n]=te(I.TEST_TEMPLATE),[r]=te(I.MINUTES_ALLOTTED_PER_PARTICIPANT),[o,a]=m.useState("");function i(){return!!n.Participant}function l(){return i()&&n.Time?Date.now()-new Date(n.Time).getTime():0}function s(){if(i()){if(n.Time){const d=l()/60/1e3;if(r-d<0)return"over-time"}return"on-time"}return"idle"}function u(){a(Be(l()))}return sp(u),t.style={...t.style,display:"flex",gap:"0.3em"},C.jsxs("div",{...t,className:`thin-border number-field smooth-background-change svg-container no-wrap ${s()}`,children:[e?C.jsx(Px,{}):C.jsx("span",{children:"Participant Time:"}),C.jsx("span",{children:o})]})}function bI(){const t=m.useContext(qe).portaCountClient,[n,r]=m.useState(t.state.sampleSource),[o]=te(I.USE_COMPACT_UI),[a]=te(I.SHOW_EXTERNAL_CONTROL);m.useEffect(()=>{const l={sampleSourceChanged(s){r(s)}};return t.addListener(l),()=>{t.removeListener(l)}},[]);function i(){t.externalController.sampleSource=n==Se.MASK?Se.AMBIENT:Se.MASK}return a&&o?C.jsxs("div",{id:"sample-source-widget",onClick:i,className:"svg-container",children:[n===Se.AMBIENT&&C.jsx(Oy,{}),n===Se.MASK&&C.jsx(Ry,{})]}):null}function xI(e){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(e)}function _I(e){return tt({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M9.25 14.5c0 0.415-0.335 0.75-0.75 0.75s-0.75-0.335-0.75-0.75 0.335-0.75 0.75-0.75 0.75 0.335 0.75 0.75zM16 1.5v14c0 0.827-0.625 1.5-1.392 1.5h-12.216c-0.767 0-1.392-0.673-1.392-1.5v-14c0-0.827 0.625-1.5 1.392-1.5h12.217c0.766 0 1.391 0.673 1.391 1.5zM15 1.5c0-0.271-0.179-0.5-0.392-0.5h-12.216c-0.213 0-0.392 0.229-0.392 0.5v14c0 0.271 0.179 0.5 0.392 0.5h12.217c0.212 0 0.391-0.229 0.391-0.5v-14zM3 2h11v11h-11v-11zM4 12h9v-9h-9v9z"},child:[]}]})(e)}function TI(){const t=m.useContext(qe).portaCountClient,[n,r]=m.useState(t.state.controlSource),[o]=te(I.USE_COMPACT_UI),[a]=te(I.SHOW_EXTERNAL_CONTROL);m.useEffect(()=>{const l={controlSourceChanged(s){r(s)}};return t.addListener(l),()=>{t.removeListener(l)}},[]);function i(){t.externalController.controlSource=n==fe.Internal?fe.External:fe.Internal}return a&&o?C.jsxs("div",{id:"control-source-widget",onClick:i,className:"svg-container",children:[n===fe.External&&C.jsx(xI,{}),n===fe.Internal&&C.jsx(_I,{})]}):null}function DI(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(e)}function kI(){const[e]=te(I.COLOR_SCHEME);return m.useEffect(()=>{document.querySelector('meta[name="color-scheme"]')?.setAttribute("content",e)},[e]),C.jsx(C.Fragment,{})}function PI(){const[e]=te(I.SHOW_ELAPSED_PARTICIPANT_TIME),[t]=te(I.SHOW_REMAINING_EVENT_TIME),[n]=te(I.USE_COMPACT_UI),[r]=te(I.ENABLE_PROTOCOL_EDITOR),[o]=te(I.ENABLE_STATS),[a]=te(I.ENABLE_QR_CODE_SCANNER),i=Pu(),l=sr(),s=m.useRef(null),[u,c]=m.useState("full-width"),[d,f]=m.useState(0),[p,v]=m.useState(!1),[g,y]=m.useState(!1);m.useEffect(()=>{const S=new ResizeObserver(([E])=>{w(E)});return s.current&&S.observe(s.current),()=>{S.disconnect()}},[u]),m.useEffect(()=>{const S=()=>c("full-width");return screen.orientation.addEventListener("change",S),()=>{screen.orientation.removeEventListener("change",S)}},[]),SI();const h=[{label:"Home",value:"/"},{label:"Results",value:"/view-results"},{label:"Raw Data",value:"/raw-data"},{label:"Settings",value:"/settings"}];r&&h.push({label:"Protocols",value:"/protocols"}),o&&h.push({label:"Stats",value:"/stats"}),a&&h.push({label:"QR Code",value:"/qrscanner"}),h.push({label:"Daily Checks",value:"/daily-checks"}),h.push({label:"Bookmarks",value:"/bookmarks"});function w(S){const E=window.getComputedStyle(S.target),x=Math.floor(parseFloat(E.height)/parseFloat(E.lineHeight)),b=parseFloat(E.width)-d>0;switch(u){case"full-width":x>1&&c("2-lines"),v(!1),y(!1);break;case"2-lines":x<2&&b&&c("full-width"),x>2&&c("time-icons"),v(!1),y(!1);break;case"time-icons":x<2&&b&&c("2-lines"),x>2&&c("dropdown-tabs"),v(!0),y(!1);break;case"dropdown-tabs":x<2&&b&&c("time-icons"),v(!0),y(!0);break}f(parseFloat(E.width))}return C.jsxs("div",{id:"nav-bar",ref:s,style:{display:"flex",justifyContent:"space-between",height:"100%"},children:[C.jsx(kI,{}),C.jsx(EI,{style:{visibility:e?"visible":"hidden"},useIcons:p}),C.jsxs("div",{id:"nav-links-container",className:"inline-flex",style:{gap:"0.3em",flexWrap:"wrap",justifyContent:"center"},children:[C.jsxs("div",{children:["v","1.7.3","p"]}),g?C.jsx("div",{children:C.jsx(_p,{options:h,value:l.pathname,onChange:S=>i(S),children:C.jsxs("div",{className:"blue-bg thin-border svg-container inline-flex no-wrap",children:[h.find(S=>S.value===l.pathname)?.label,C.jsx(DI,{})]})})}):C.jsx("div",{style:{gap:"0.1em",display:"flex",flexWrap:"wrap"},children:h.reduce((S,E)=>(S.length>0&&S.push("|"),S.push(C.jsx(tS,{to:E.value,className:({isActive:x,isPending:b})=>b?"nav-link-pending":x?"nav-link-active":"",children:C.jsx("div",{className:"no-wrap",children:E.label})},E.label)),S),[])}),C.jsxs("div",{id:"compact-ui",className:"inline-flex",style:{width:"fit-content",gap:"0.3em",alignItems:"center",height:"inherit",flexWrap:"wrap",justifyContent:"center"},children:[n&&C.jsx(Fw,{compact:!0}),C.jsx(TI,{}),C.jsx(bI,{}),n&&C.jsx(Rw,{compact:!0}),n&&C.jsx(Lw,{label:""}),n&&C.jsx(Aw,{label:""})]})]}),C.jsx(CI,{style:{visibility:t?"visible":"hidden"},useIcons:p})]})}function OI({children:e}){return C.jsx(qe.Provider,{value:Ty,children:e})}function MI(){const e=window.location.pathname,t=e.endsWith("old/")||e.endsWith("-old");return C.jsx(C.Fragment,{children:C.jsx(OI,{children:C.jsx("div",{className:`app-border-container ${t?"red-border":""}`,children:C.jsxs("div",{className:"app-container",style:{display:"flex",flexDirection:"column"},children:[C.jsx("div",{id:"navbar-container",style:{position:"relative",top:0,left:0},children:C.jsx(PI,{})}),C.jsx("div",{id:"main-container",style:{position:"relative",top:"0.1rem",height:"100%",overflow:"auto",backgroundColor:"var(--root-color)"},children:C.jsx(xO,{})})]})})})})}var Up={exports:{}};Up.exports;(function(e){var t=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function i(s,u){if(!a[s]){a[s]={};for(var c=0;c<s.length;c++)a[s][s.charAt(c)]=c}return a[s][u]}var l={compressToBase64:function(s){if(s==null)return"";var u=l._compress(s,6,function(c){return r.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(s){return s==null?"":s==""?null:l._decompress(s.length,32,function(u){return i(r,s.charAt(u))})},compressToUTF16:function(s){return s==null?"":l._compress(s,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(s){return s==null?"":s==""?null:l._decompress(s.length,16384,function(u){return s.charCodeAt(u)-32})},compressToUint8Array:function(s){for(var u=l.compress(s),c=new Uint8Array(u.length*2),d=0,f=u.length;d<f;d++){var p=u.charCodeAt(d);c[d*2]=p>>>8,c[d*2+1]=p%256}return c},decompressFromUint8Array:function(s){if(s==null)return l.decompress(s);for(var u=new Array(s.length/2),c=0,d=u.length;c<d;c++)u[c]=s[c*2]*256+s[c*2+1];var f=[];return u.forEach(function(p){f.push(n(p))}),l.decompress(f.join(""))},compressToEncodedURIComponent:function(s){return s==null?"":l._compress(s,6,function(u){return o.charAt(u)})},decompressFromEncodedURIComponent:function(s){return s==null?"":s==""?null:(s=s.replace(/ /g,"+"),l._decompress(s.length,32,function(u){return i(o,s.charAt(u))}))},compress:function(s){return l._compress(s,16,function(u){return n(u)})},_compress:function(s,u,c){if(s==null)return"";var d,f,p={},v={},g="",y="",h="",w=2,S=3,E=2,x=[],b=0,_=0,T;for(T=0;T<s.length;T+=1)if(g=s.charAt(T),Object.prototype.hasOwnProperty.call(p,g)||(p[g]=S++,v[g]=!0),y=h+g,Object.prototype.hasOwnProperty.call(p,y))h=y;else{if(Object.prototype.hasOwnProperty.call(v,h)){if(h.charCodeAt(0)<256){for(d=0;d<E;d++)b=b<<1,_==u-1?(_=0,x.push(c(b)),b=0):_++;for(f=h.charCodeAt(0),d=0;d<8;d++)b=b<<1|f&1,_==u-1?(_=0,x.push(c(b)),b=0):_++,f=f>>1}else{for(f=1,d=0;d<E;d++)b=b<<1|f,_==u-1?(_=0,x.push(c(b)),b=0):_++,f=0;for(f=h.charCodeAt(0),d=0;d<16;d++)b=b<<1|f&1,_==u-1?(_=0,x.push(c(b)),b=0):_++,f=f>>1}w--,w==0&&(w=Math.pow(2,E),E++),delete v[h]}else for(f=p[h],d=0;d<E;d++)b=b<<1|f&1,_==u-1?(_=0,x.push(c(b)),b=0):_++,f=f>>1;w--,w==0&&(w=Math.pow(2,E),E++),p[y]=S++,h=String(g)}if(h!==""){if(Object.prototype.hasOwnProperty.call(v,h)){if(h.charCodeAt(0)<256){for(d=0;d<E;d++)b=b<<1,_==u-1?(_=0,x.push(c(b)),b=0):_++;for(f=h.charCodeAt(0),d=0;d<8;d++)b=b<<1|f&1,_==u-1?(_=0,x.push(c(b)),b=0):_++,f=f>>1}else{for(f=1,d=0;d<E;d++)b=b<<1|f,_==u-1?(_=0,x.push(c(b)),b=0):_++,f=0;for(f=h.charCodeAt(0),d=0;d<16;d++)b=b<<1|f&1,_==u-1?(_=0,x.push(c(b)),b=0):_++,f=f>>1}w--,w==0&&(w=Math.pow(2,E),E++),delete v[h]}else for(f=p[h],d=0;d<E;d++)b=b<<1|f&1,_==u-1?(_=0,x.push(c(b)),b=0):_++,f=f>>1;w--,w==0&&(w=Math.pow(2,E),E++)}for(f=2,d=0;d<E;d++)b=b<<1|f&1,_==u-1?(_=0,x.push(c(b)),b=0):_++,f=f>>1;for(;;)if(b=b<<1,_==u-1){x.push(c(b));break}else _++;return x.join("")},decompress:function(s){return s==null?"":s==""?null:l._decompress(s.length,32768,function(u){return s.charCodeAt(u)})},_decompress:function(s,u,c){var d=[],f=4,p=4,v=3,g="",y=[],h,w,S,E,x,b,_,T={val:c(0),position:u,index:1};for(h=0;h<3;h+=1)d[h]=h;for(S=0,x=Math.pow(2,2),b=1;b!=x;)E=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),S|=(E>0?1:0)*b,b<<=1;switch(S){case 0:for(S=0,x=Math.pow(2,8),b=1;b!=x;)E=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),S|=(E>0?1:0)*b,b<<=1;_=n(S);break;case 1:for(S=0,x=Math.pow(2,16),b=1;b!=x;)E=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),S|=(E>0?1:0)*b,b<<=1;_=n(S);break;case 2:return""}for(d[3]=_,w=_,y.push(_);;){if(T.index>s)return"";for(S=0,x=Math.pow(2,v),b=1;b!=x;)E=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),S|=(E>0?1:0)*b,b<<=1;switch(_=S){case 0:for(S=0,x=Math.pow(2,8),b=1;b!=x;)E=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),S|=(E>0?1:0)*b,b<<=1;d[p++]=n(S),_=p-1,f--;break;case 1:for(S=0,x=Math.pow(2,16),b=1;b!=x;)E=T.val&T.position,T.position>>=1,T.position==0&&(T.position=u,T.val=c(T.index++)),S|=(E>0?1:0)*b,b<<=1;d[p++]=n(S),_=p-1,f--;break;case 2:return y.join("")}if(f==0&&(f=Math.pow(2,v),v++),d[_])g=d[_];else if(_===p)g=w+w.charAt(0);else return null;y.push(g),d[p++]=w+g.charAt(0),f--,w=g,f==0&&(f=Math.pow(2,v),v++)}}};return l}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(Up);var RI=Up.exports;const NI=Di(RI);function Hg(e){return $d(IS(e))}function IS(e){const t=Rr(e);return delete t.ID,delete t.source,t}async function Qs(){return await on.getData()}async function II(e){const t=await Qs(),n=t.length,r=[];for(const o of e){const a=IS(o);t.some(i=>Hg(i)===Hg(a))||(a.source="ext",r.push(a))}for(const o of r){const a=await on.addRecord(o);o.ID=a}return t.push(...r),console.log(`total records ${t.length}, new records ${r.length}, old records ${n}`),t}function LI(){const[e,t]=m.useState([]),[n]=tM(),r=Pu();async function o(){const i=n.get("data");if(i){const l=NI.decompressFromEncodedURIComponent(i);if(r("",{replace:!0}),l){console.log(`got url data: ${l}`);const s=JSON.parse(l);console.log(`data records: ${JSON.stringify(s,null,2)}`);const u=await II(s);t(u)}else console.log("no data from url"),t(await Qs())}else console.log("no data parameter"),t(await Qs())}m.useEffect(()=>{on.open().then(()=>o()).catch(i=>console.log(`error while opening db: ${i}`))},[]);async function a(i){await Promise.all(i.map(l=>on.deleteRecordById(l))),t(await Qs())}return C.jsx("div",{style:{justifySelf:"center",maxWidth:"100%",height:"100%"},children:C.jsx($w,{tableData:e,setTableData:t,deleteRowsCallback:a})})}function AI(){const i=m.useContext(qe).portaCountClient,l=i.externalController,[s,u]=m.useState(!1),[c,d]=m.useState(!1),[f,p]=m.useState(!1),[v,g]=m.useState(0),[y,h]=m.useState(0),[w,S]=m.useState(1e3),[E,x]=m.useState(qt(11e3)),[b,_]=m.useState(qt(5e3)),[T,k]=m.useState("idle"),[R,O]=m.useState("Press start to begin"),[M,$]=m.useState(0),[H,j]=m.useState(0),[L,U]=m.useState(0),[P,F]=m.useState(0),[V,J]=m.useState(0),[ne,ge]=m.useState({}),De=m.useCallback(()=>{ge({})},[]);m.useEffect(()=>{const A={particleConcentrationReceived:re=>{const z=re.concentration;switch(re.sampleSource===Se.AMBIENT?(g(ie=>ie>z?ie:z),b.push(re.timestamp,z)):(h(ie=>ie>z?ie:z),S(ie=>ie<z?ie:z),E.push(re.timestamp,z)),De(),console.debug(`state is ${T}`),T){case"idle":break;case"start":x(qt(11e3)),_(qt(5e3)),S(1e3),h(0),g(0),u(!1),d(!1),p(!1),J(0),O("Remove zero filter if attached"),l.assumeManualControl(),l.beep(),l.sampleMask(),k("initial-mask-purge"),$(Date.now());break;case"initial-mask-purge":Date.now()-M>5e3&&(k("waiting-for-particle-check"),$(Date.now()));break;case"waiting-for-particle-check":console.debug(`max mask count: ${y}`),y>1e3&&(k("waiting-for-zero-check"),O("Attach zero filter"),l.beep(),u(!0),S(1e3));break;case"waiting-for-zero-check":w===0&&(k("purge-ambient-1"),l.sampleAmbient(),O("reading from ambient"),$(Date.now()),d(!0));break;case"purge-ambient-1":Date.now()-M>5e3&&(k("waiting-for-ambient-average"),$(Date.now()),_(qt(5e3)));break;case"waiting-for-ambient-average":Date.now()-M>1e4&&(j(b.movingAverage()),k("purge-mask"),l.sampleMask(),O("reading from mask"),$(Date.now()));break;case"purge-mask":Date.now()-M>5e3&&(k("waiting-for-mask-average"),$(Date.now()),x(qt(11e3)));break;case"waiting-for-mask-average":Date.now()-M>16e3&&(F(E.movingAverage()),k("purge-ambient-2"),l.sampleAmbient(),O("reading from ambient"),$(Date.now()));break;case"purge-ambient-2":Date.now()-M>5e3&&(k("waiting-for-second-ambient-average"),$(Date.now()),_(qt(5e3)));break;case"waiting-for-second-ambient-average":if(Date.now()-M>1e4){U(b.movingAverage()),k("done"),O("done");const ie=.5*(H+L)/Math.max(.01,P);J(ie),p(ie>5e4),l.sampleMask(),l.beep(),l.beep()}break;case"done":break;default:console.error(`unhandled state ${T}`)}}};return i.addListener(A),()=>{i.removeListener(A)}},[ne]);function K(){k("start")}function oe(A){return C.jsx("div",{className:"svg-container",style:{padding:"4px"},children:A?C.jsx(_x,{color:"green"}):C.jsx(My,{color:"red"})})}return C.jsxs("div",{id:"daily-check-panel",style:{width:"fit-content",justifySelf:"center"},children:[C.jsx("div",{children:R}),C.jsx("button",{onClick:()=>K(),children:"Press to start"}),C.jsx(q,{label:"State",children:T}),C.jsx(q,{label:"Particle count check",children:oe(s)}),C.jsx(q,{label:"Zero check",children:oe(c)}),C.jsx(q,{label:"Max fit factor check",children:oe(f)}),C.jsx(q,{label:"Max ambient count",children:v}),C.jsx(q,{label:"Ambient average",children:(b.movingAverage()??0).toFixed(2)}),C.jsx(q,{label:"Max mask count",children:y}),C.jsx(q,{label:"Min mask count",children:w}),C.jsx(q,{label:"Mask average",children:(E.movingAverage()??0).toFixed(2)}),C.jsx(q,{label:"Fit factor",children:su(V)})]})}var FI=Object.defineProperty,Wl=Object.getOwnPropertySymbols,LS=Object.prototype.hasOwnProperty,AS=Object.prototype.propertyIsEnumerable,Wg=(e,t,n)=>t in e?FI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lf=(e,t)=>{for(var n in t||(t={}))LS.call(t,n)&&Wg(e,n,t[n]);if(Wl)for(var n of Wl(t))AS.call(t,n)&&Wg(e,n,t[n]);return e},uf=(e,t)=>{var n={};for(var r in e)LS.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Wl)for(var r of Wl(e))t.indexOf(r)<0&&AS.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var fo;(e=>{const t=class ue{constructor(s,u,c,d){if(this.version=s,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],s<ue.MIN_VERSION||s>ue.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=s*4+17;let f=[];for(let v=0;v<this.size;v++)f.push(!1);for(let v=0;v<this.size;v++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(c);if(this.drawCodewords(p),d==-1){let v=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const y=this.getPenaltyScore();y<v&&(d=g,v=y),this.applyMask(g)}}o(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(s,u){const c=e.QrSegment.makeSegments(s);return ue.encodeSegments(c,u)}static encodeBinary(s,u){const c=e.QrSegment.makeBytes(s);return ue.encodeSegments([c],u)}static encodeSegments(s,u,c=1,d=40,f=-1,p=!0){if(!(ue.MIN_VERSION<=c&&c<=d&&d<=ue.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let v,g;for(v=c;;v++){const S=ue.getNumDataCodewords(v,u)*8,E=i.getTotalBits(s,v);if(E<=S){g=E;break}if(v>=d)throw new RangeError("Data too long")}for(const S of[ue.Ecc.MEDIUM,ue.Ecc.QUARTILE,ue.Ecc.HIGH])p&&g<=ue.getNumDataCodewords(v,S)*8&&(u=S);let y=[];for(const S of s){n(S.mode.modeBits,4,y),n(S.numChars,S.mode.numCharCountBits(v),y);for(const E of S.getData())y.push(E)}o(y.length==g);const h=ue.getNumDataCodewords(v,u)*8;o(y.length<=h),n(0,Math.min(4,h-y.length),y),n(0,(8-y.length%8)%8,y),o(y.length%8==0);for(let S=236;y.length<h;S^=253)n(S,8,y);let w=[];for(;w.length*8<y.length;)w.push(0);return y.forEach((S,E)=>w[E>>>3]|=S<<7-(E&7)),new ue(v,u,w,f)}getModule(s,u){return 0<=s&&s<this.size&&0<=u&&u<this.size&&this.modules[u][s]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const s=this.getAlignmentPatternPositions(),u=s.length;for(let c=0;c<u;c++)for(let d=0;d<u;d++)c==0&&d==0||c==0&&d==u-1||c==u-1&&d==0||this.drawAlignmentPattern(s[c],s[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(s){const u=this.errorCorrectionLevel.formatBits<<3|s;let c=u;for(let f=0;f<10;f++)c=c<<1^(c>>>9)*1335;const d=(u<<10|c)^21522;o(d>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,r(d,f));this.setFunctionModule(8,7,r(d,6)),this.setFunctionModule(8,8,r(d,7)),this.setFunctionModule(7,8,r(d,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,r(d,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(d,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(d,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let s=this.version;for(let c=0;c<12;c++)s=s<<1^(s>>>11)*7973;const u=this.version<<12|s;o(u>>>18==0);for(let c=0;c<18;c++){const d=r(u,c),f=this.size-11+c%3,p=Math.floor(c/3);this.setFunctionModule(f,p,d),this.setFunctionModule(p,f,d)}}drawFinderPattern(s,u){for(let c=-4;c<=4;c++)for(let d=-4;d<=4;d++){const f=Math.max(Math.abs(d),Math.abs(c)),p=s+d,v=u+c;0<=p&&p<this.size&&0<=v&&v<this.size&&this.setFunctionModule(p,v,f!=2&&f!=4)}}drawAlignmentPattern(s,u){for(let c=-2;c<=2;c++)for(let d=-2;d<=2;d++)this.setFunctionModule(s+d,u+c,Math.max(Math.abs(d),Math.abs(c))!=1)}setFunctionModule(s,u,c){this.modules[u][s]=c,this.isFunction[u][s]=!0}addEccAndInterleave(s){const u=this.version,c=this.errorCorrectionLevel;if(s.length!=ue.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const d=ue.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],f=ue.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],p=Math.floor(ue.getNumRawDataModules(u)/8),v=d-p%d,g=Math.floor(p/d);let y=[];const h=ue.reedSolomonComputeDivisor(f);for(let S=0,E=0;S<d;S++){let x=s.slice(E,E+g-f+(S<v?0:1));E+=x.length;const b=ue.reedSolomonComputeRemainder(x,h);S<v&&x.push(0),y.push(x.concat(b))}let w=[];for(let S=0;S<y[0].length;S++)y.forEach((E,x)=>{(S!=g-f||x>=v)&&w.push(E[S])});return o(w.length==p),w}drawCodewords(s){if(s.length!=Math.floor(ue.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let d=0;d<this.size;d++)for(let f=0;f<2;f++){const p=c-f,g=(c+1&2)==0?this.size-1-d:d;!this.isFunction[g][p]&&u<s.length*8&&(this.modules[g][p]=r(s[u>>>3],7-(u&7)),u++)}}o(u==s.length*8)}applyMask(s){if(s<0||s>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let d;switch(s){case 0:d=(c+u)%2==0;break;case 1:d=u%2==0;break;case 2:d=c%3==0;break;case 3:d=(c+u)%3==0;break;case 4:d=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:d=c*u%2+c*u%3==0;break;case 6:d=(c*u%2+c*u%3)%2==0;break;case 7:d=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&d&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let s=0;for(let f=0;f<this.size;f++){let p=!1,v=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[f][y]==p?(v++,v==5?s+=ue.PENALTY_N1:v>5&&s++):(this.finderPenaltyAddHistory(v,g),p||(s+=this.finderPenaltyCountPatterns(g)*ue.PENALTY_N3),p=this.modules[f][y],v=1);s+=this.finderPenaltyTerminateAndCount(p,v,g)*ue.PENALTY_N3}for(let f=0;f<this.size;f++){let p=!1,v=0,g=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][f]==p?(v++,v==5?s+=ue.PENALTY_N1:v>5&&s++):(this.finderPenaltyAddHistory(v,g),p||(s+=this.finderPenaltyCountPatterns(g)*ue.PENALTY_N3),p=this.modules[y][f],v=1);s+=this.finderPenaltyTerminateAndCount(p,v,g)*ue.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let p=0;p<this.size-1;p++){const v=this.modules[f][p];v==this.modules[f][p+1]&&v==this.modules[f+1][p]&&v==this.modules[f+1][p+1]&&(s+=ue.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((p,v)=>p+(v?1:0),u);const c=this.size*this.size,d=Math.ceil(Math.abs(u*20-c*10)/c)-1;return o(0<=d&&d<=9),s+=d*ue.PENALTY_N4,o(0<=s&&s<=2568888),s}getAlignmentPatternPositions(){if(this.version==1)return[];{const s=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(s*2-2))*2;let c=[6];for(let d=this.size-7;c.length<s;d-=u)c.splice(1,0,d);return c}}static getNumRawDataModules(s){if(s<ue.MIN_VERSION||s>ue.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*s+128)*s+64;if(s>=2){const c=Math.floor(s/7)+2;u-=(25*c-10)*c-55,s>=7&&(u-=36)}return o(208<=u&&u<=29648),u}static getNumDataCodewords(s,u){return Math.floor(ue.getNumRawDataModules(s)/8)-ue.ECC_CODEWORDS_PER_BLOCK[u.ordinal][s]*ue.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][s]}static reedSolomonComputeDivisor(s){if(s<1||s>255)throw new RangeError("Degree out of range");let u=[];for(let d=0;d<s-1;d++)u.push(0);u.push(1);let c=1;for(let d=0;d<s;d++){for(let f=0;f<u.length;f++)u[f]=ue.reedSolomonMultiply(u[f],c),f+1<u.length&&(u[f]^=u[f+1]);c=ue.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(s,u){let c=u.map(d=>0);for(const d of s){const f=d^c.shift();c.push(0),u.forEach((p,v)=>c[v]^=ue.reedSolomonMultiply(p,f))}return c}static reedSolomonMultiply(s,u){if(s>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let d=7;d>=0;d--)c=c<<1^(c>>>7)*285,c^=(u>>>d&1)*s;return o(c>>>8==0),c}finderPenaltyCountPatterns(s){const u=s[1];o(u<=this.size*3);const c=u>0&&s[2]==u&&s[3]==u*3&&s[4]==u&&s[5]==u;return(c&&s[0]>=u*4&&s[6]>=u?1:0)+(c&&s[6]>=u*4&&s[0]>=u?1:0)}finderPenaltyTerminateAndCount(s,u,c){return s&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(s,u){u[0]==0&&(s+=this.size),u.pop(),u.unshift(s)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,s,u){if(s<0||s>31||l>>>s)throw new RangeError("Value out of range");for(let c=s-1;c>=0;c--)u.push(l>>>c&1)}function r(l,s){return(l>>>s&1)!=0}function o(l){if(!l)throw new Error("Assertion error")}const a=class Ve{constructor(s,u,c){if(this.mode=s,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(s){let u=[];for(const c of s)n(c,8,u);return new Ve(Ve.Mode.BYTE,s.length,u)}static makeNumeric(s){if(!Ve.isNumeric(s))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<s.length;){const d=Math.min(s.length-c,3);n(parseInt(s.substring(c,c+d),10),d*3+1,u),c+=d}return new Ve(Ve.Mode.NUMERIC,s.length,u)}static makeAlphanumeric(s){if(!Ve.isAlphanumeric(s))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=s.length;c+=2){let d=Ve.ALPHANUMERIC_CHARSET.indexOf(s.charAt(c))*45;d+=Ve.ALPHANUMERIC_CHARSET.indexOf(s.charAt(c+1)),n(d,11,u)}return c<s.length&&n(Ve.ALPHANUMERIC_CHARSET.indexOf(s.charAt(c)),6,u),new Ve(Ve.Mode.ALPHANUMERIC,s.length,u)}static makeSegments(s){return s==""?[]:Ve.isNumeric(s)?[Ve.makeNumeric(s)]:Ve.isAlphanumeric(s)?[Ve.makeAlphanumeric(s)]:[Ve.makeBytes(Ve.toUtf8ByteArray(s))]}static makeEci(s){let u=[];if(s<0)throw new RangeError("ECI assignment value out of range");if(s<128)n(s,8,u);else if(s<16384)n(2,2,u),n(s,14,u);else if(s<1e6)n(6,3,u),n(s,21,u);else throw new RangeError("ECI assignment value out of range");return new Ve(Ve.Mode.ECI,0,u)}static isNumeric(s){return Ve.NUMERIC_REGEX.test(s)}static isAlphanumeric(s){return Ve.ALPHANUMERIC_REGEX.test(s)}getData(){return this.bitData.slice()}static getTotalBits(s,u){let c=0;for(const d of s){const f=d.mode.numCharCountBits(u);if(d.numChars>=1<<f)return 1/0;c+=4+f+d.bitData.length}return c}static toUtf8ByteArray(s){s=encodeURI(s);let u=[];for(let c=0;c<s.length;c++)s.charAt(c)!="%"?u.push(s.charCodeAt(c)):(u.push(parseInt(s.substring(c+1,c+3),16)),c+=2);return u}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let i=a;e.QrSegment=a})(fo||(fo={}));(e=>{(t=>{const n=class{constructor(o,a){this.ordinal=o,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(fo||(fo={}));(e=>{(t=>{const n=class{constructor(o,a){this.modeBits=o,this.numBitsCharCount=a}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(fo||(fo={}));var Lo=fo;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var $I={L:Lo.QrCode.Ecc.LOW,M:Lo.QrCode.Ecc.MEDIUM,Q:Lo.QrCode.Ecc.QUARTILE,H:Lo.QrCode.Ecc.HIGH},FS=128,$S="L",jS="#FFFFFF",VS="#000000",US=!1,BS=1,jI=4,VI=0,UI=.1;function HS(e,t=0){const n=[];return e.forEach(function(r,o){let a=null;r.forEach(function(i,l){if(!i&&a!==null){n.push(`M${a+t} ${o+t}h${l-a}v1H${a+t}z`),a=null;return}if(l===r.length-1){if(!i)return;a===null?n.push(`M${l+t},${o+t} h1v1H${l+t}z`):n.push(`M${a+t},${o+t} h${l+1-a}v1H${a+t}z`);return}i&&a===null&&(a=l)})}),n.join("")}function WS(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((o,a)=>a<t.x||a>=t.x+t.w?o:!1))}function BI(e,t,n,r){if(r==null)return null;const o=e.length+n*2,a=Math.floor(t*UI),i=o/t,l=(r.width||a)*i,s=(r.height||a)*i,u=r.x==null?e.length/2-l/2:r.x*i,c=r.y==null?e.length/2-s/2:r.y*i,d=r.opacity==null?1:r.opacity;let f=null;if(r.excavate){let v=Math.floor(u),g=Math.floor(c),y=Math.ceil(l+u-v),h=Math.ceil(s+c-g);f={x:v,y:g,w:y,h}}const p=r.crossOrigin;return{x:u,y:c,h:s,w:l,excavation:f,opacity:d,crossOrigin:p}}function HI(e,t){return t!=null?Math.max(Math.floor(t),0):e?jI:VI}function YS({value:e,level:t,minVersion:n,includeMargin:r,marginSize:o,imageSettings:a,size:i,boostLevel:l}){let s=D.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((g,y)=>(g.push(...Lo.QrSegment.makeSegments(y)),g),[]);return Lo.QrCode.encodeSegments(v,$I[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:c,numCells:d,calculatedImageSettings:f}=D.useMemo(()=>{let p=s.getModules();const v=HI(r,o),g=p.length+v*2,y=BI(p,i,v,a);return{cells:p,margin:v,numCells:g,calculatedImageSettings:y}},[s,i,a,r,o]);return{qrcode:s,margin:c,cells:u,numCells:d,calculatedImageSettings:f}}var WI=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),YI=D.forwardRef(function(t,n){const r=t,{value:o,size:a=FS,level:i=$S,bgColor:l=jS,fgColor:s=VS,includeMargin:u=US,minVersion:c=BS,boostLevel:d,marginSize:f,imageSettings:p}=r,g=uf(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=g,h=uf(g,["style"]),w=p?.src,S=D.useRef(null),E=D.useRef(null),x=D.useCallback(H=>{S.current=H,typeof n=="function"?n(H):n&&(n.current=H)},[n]),[b,_]=D.useState(!1),{margin:T,cells:k,numCells:R,calculatedImageSettings:O}=YS({value:o,level:i,minVersion:c,boostLevel:d,includeMargin:u,marginSize:f,imageSettings:p,size:a});D.useEffect(()=>{if(S.current!=null){const H=S.current,j=H.getContext("2d");if(!j)return;let L=k;const U=E.current,P=O!=null&&U!==null&&U.complete&&U.naturalHeight!==0&&U.naturalWidth!==0;P&&O.excavation!=null&&(L=WS(k,O.excavation));const F=window.devicePixelRatio||1;H.height=H.width=a*F;const V=a/R*F;j.scale(V,V),j.fillStyle=l,j.fillRect(0,0,R,R),j.fillStyle=s,WI?j.fill(new Path2D(HS(L,T))):k.forEach(function(J,ne){J.forEach(function(ge,De){ge&&j.fillRect(De+T,ne+T,1,1)})}),O&&(j.globalAlpha=O.opacity),P&&j.drawImage(U,O.x+T,O.y+T,O.w,O.h)}}),D.useEffect(()=>{_(!1)},[w]);const M=lf({height:a,width:a},y);let $=null;return w!=null&&($=D.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{_(!0)},ref:E,crossOrigin:O?.crossOrigin})),D.createElement(D.Fragment,null,D.createElement("canvas",lf({style:M,height:a,width:a,ref:x,role:"img"},h)),$)});YI.displayName="QRCodeCanvas";var Ks=D.forwardRef(function(t,n){const r=t,{value:o,size:a=FS,level:i=$S,bgColor:l=jS,fgColor:s=VS,includeMargin:u=US,minVersion:c=BS,boostLevel:d,title:f,marginSize:p,imageSettings:v}=r,g=uf(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:h,numCells:w,calculatedImageSettings:S}=YS({value:o,level:i,minVersion:c,boostLevel:d,includeMargin:u,marginSize:p,imageSettings:v,size:a});let E=h,x=null;v!=null&&S!=null&&(S.excavation!=null&&(E=WS(h,S.excavation)),x=D.createElement("image",{href:v.src,height:S.h,width:S.w,x:S.x+y,y:S.y+y,preserveAspectRatio:"none",opacity:S.opacity,crossOrigin:S.crossOrigin}));const b=HS(E,y);return D.createElement("svg",lf({height:a,width:a,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},g),!!f&&D.createElement("title",null,f),D.createElement("path",{fill:l,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),D.createElement("path",{fill:s,d:b,shapeRendering:"crispEdges"}),x)});Ks.displayName="QRCodeSVG";function zI(){const[e,t]=m.useState(""),[n,r]=m.useState(""),[o,a]=m.useState(""),[i,l]=m.useState(""),[s,u]=te(I.BOOKMARKS),c=[["These bookmarks",window.location.href],["Fit Test for Everyone Discord","https://discord.gg/GeNhXx8Hxw"],["Fit testing resources wiki","https://github.com/emcee5601/fit-testing-resources/wiki"],["MFTC app","https://emcee5601.github.io/fit-test-console/"],["MFTC old versions","https://emcee5601.github.io/mftc-old/"],["MFTC app source","https://github.com/emcee5601/fit-test-console"],["Breathesafe","https://www.breathesafe.xyz/"]];Object.entries(s).forEach(([g,y])=>c.push([g,y]));function d(g,y){t(g),r(y)}function f(){return o&&!Object.values(s).includes(o)}function p(){if(!f())return;const g={};g[i||o]=o,Object.assign(g,s),u(g)}function v(g){const y={};Object.entries(s).filter(([h])=>h!==g).forEach(([h,w])=>y[h]=w),u(y)}return C.jsxs("div",{id:"bookmarks",style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"1em"},children:["Bookmarks",C.jsxs("div",{children:[e&&C.jsx("div",{className:"full-screen-overlay",children:C.jsxs("div",{onClick:()=>t(""),className:"qrcode-container",children:[C.jsx("span",{style:{display:"block"},children:n}),C.jsx("span",{style:{display:"block"},children:C.jsx("a",{href:e,children:e})}),C.jsx(Ks,{value:e,size:512,marginSize:4,title:n})]})}),C.jsxs("fieldset",{children:[C.jsx("legend",{children:"Add new bookmark"}),C.jsxs("div",{id:"bookmark-adder",style:{display:"flex"},children:[C.jsxs("div",{style:{textAlign:"start",height:"100%",display:"flex",flexDirection:"column",gap:"0.3em"},children:[C.jsx("div",{className:"thin-border-2",children:C.jsx(ta,{id:"bookmark-title",initialValue:i,placeholder:"Title",onChange:g=>l(g||"")})}),C.jsx("div",{className:"thin-border-2",children:C.jsx(ta,{id:"bookmark-url",initialValue:o,placeholder:"URL",onChange:g=>a(g||"")})})]}),C.jsx("div",{style:{height:"100%"},children:C.jsx(Ks,{value:o,size:128,marginSize:4,title:o,onClick:()=>d(o,i),visibility:o?"visible":"hidden"})}),C.jsx("button",{onClick:()=>p(),disabled:!f(),children:"Save bookmark"})]})]}),c.map(([g,y])=>C.jsx("div",{children:C.jsxs("fieldset",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[C.jsx("legend",{children:g}),C.jsx("a",{href:y,children:y}),C.jsx(Ks,{value:y,size:128,marginSize:4,title:g,onClick:()=>d(y,g)}),g in s&&C.jsx("button",{onClick:()=>v(g),children:"delete"})]})},g))]})]})}const QI=xP({onNeedRefresh(){confirm("A new version is available. Update to the latest version?")&&QI(!0)}});ry(document.getElementById("root")).render(C.jsx(m.StrictMode,{children:C.jsx(XO,{children:C.jsx(m.Suspense,{fallback:"...",children:C.jsx(TO,{children:C.jsxs(Kt,{path:"",element:C.jsx(MI,{}),children:[C.jsx(Kt,{index:!0,element:C.jsx(bP,{})}),C.jsx(Kt,{path:"view-results",element:C.jsx(LI,{})}),C.jsx(Kt,{path:"settings",element:C.jsx(gI,{})}),C.jsx(Kt,{path:"protocols",element:C.jsx(wP,{})}),C.jsx(Kt,{path:"raw-data",element:C.jsx(vI,{})}),C.jsx(Kt,{path:"stats",element:C.jsx(wI,{})}),C.jsx(Kt,{path:"qrscanner",element:C.jsx(SP,{})}),C.jsx(Kt,{path:"unsupported-browser",element:C.jsx(jw,{})}),C.jsx(Kt,{path:"daily-checks",element:C.jsx(AI,{})}),C.jsx(Kt,{path:"bookmarks",element:C.jsx(zI,{})})]})})})})}));export{D as A,Nw as B,fe as C,sf as D,NI as L,Rx as M,Ks as Q,ta as S,Du as _,Ni as a,qe as b,Se as c,KI as d,IM as e,qI as f,GI as g,te as h,Rr as i,C as j,I as k,Di as l,pk as m,$d as n,m as r,IS as s,sO as u};
