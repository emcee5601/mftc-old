const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ResultsTable-Cc-BE5N3.js","./ResultsTable-nVhmLYY9.css","./SimpleFitTestProtocolPanel-CC69-Wk3.js","./SimpleFitTestProtocolPanel-D541uJuR.css"])))=>i.map(i=>d[i]);
function fO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function No(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ii(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Rx={exports:{}},Jf={},Ix={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=Symbol.for("react.element"),dO=Symbol.for("react.portal"),hO=Symbol.for("react.fragment"),pO=Symbol.for("react.strict_mode"),mO=Symbol.for("react.profiler"),gO=Symbol.for("react.provider"),vO=Symbol.for("react.context"),yO=Symbol.for("react.forward_ref"),wO=Symbol.for("react.suspense"),_O=Symbol.for("react.memo"),SO=Symbol.for("react.lazy"),i1=Symbol.iterator;function xO(e){return e===null||typeof e!="object"?null:(e=i1&&e[i1]||e["@@iterator"],typeof e=="function"?e:null)}var Lx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ax=Object.assign,Fx={};function Za(e,t,n){this.props=e,this.context=t,this.refs=Fx,this.updater=n||Lx}Za.prototype.isReactComponent={};Za.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Za.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $x(){}$x.prototype=Za.prototype;function Gg(e,t,n){this.props=e,this.context=t,this.refs=Fx,this.updater=n||Lx}var Kg=Gg.prototype=new $x;Kg.constructor=Gg;Ax(Kg,Za.prototype);Kg.isPureReactComponent=!0;var o1=Array.isArray,jx=Object.prototype.hasOwnProperty,Xg={current:null},Ux={key:!0,ref:!0,__self:!0,__source:!0};function Hx(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)jx.call(t,r)&&!Ux.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Hl,type:e,key:o,ref:a,props:i,_owner:Xg.current}}function bO(e,t){return{$$typeof:Hl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hl}function EO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var a1=/\/+/g;function Lh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?EO(""+e.key):t.toString(36)}function Ju(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Hl:case dO:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Lh(a,0):r,o1(i)?(n="",e!=null&&(n=e.replace(a1,"$&/")+"/"),Ju(i,t,n,"",function(u){return u})):i!=null&&(Zg(i)&&(i=bO(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(a1,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",o1(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+Lh(o,s);a+=Ju(o,t,n,l,i)}else if(l=xO(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+Lh(o,s++),a+=Ju(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function cu(e,t,n){if(e==null)return e;var r=[],i=0;return Ju(e,r,"","",function(o){return t.call(n,o,i++)}),r}function CO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qt={current:null},ec={transition:null},TO={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:ec,ReactCurrentOwner:Xg};function Vx(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:cu,forEach:function(e,t,n){cu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cu(e,function(){t++}),t},toArray:function(e){return cu(e,function(t){return t})||[]},only:function(e){if(!Zg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Za;Se.Fragment=hO;Se.Profiler=mO;Se.PureComponent=Gg;Se.StrictMode=pO;Se.Suspense=wO;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TO;Se.act=Vx;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ax({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Xg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)jx.call(t,l)&&!Ux.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Hl,type:e.type,key:i,ref:o,props:r,_owner:a}};Se.createContext=function(e){return e={$$typeof:vO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gO,_context:e},e.Consumer=e};Se.createElement=Hx;Se.createFactory=function(e){var t=Hx.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:yO,render:e}};Se.isValidElement=Zg;Se.lazy=function(e){return{$$typeof:SO,_payload:{_status:-1,_result:e},_init:CO}};Se.memo=function(e,t){return{$$typeof:_O,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=ec.transition;ec.transition={};try{e()}finally{ec.transition=t}};Se.unstable_act=Vx;Se.useCallback=function(e,t){return Qt.current.useCallback(e,t)};Se.useContext=function(e){return Qt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Qt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Qt.current.useEffect(e,t)};Se.useId=function(){return Qt.current.useId()};Se.useImperativeHandle=function(e,t,n){return Qt.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return Qt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Qt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Qt.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return Qt.current.useReducer(e,t,n)};Se.useRef=function(e){return Qt.current.useRef(e)};Se.useState=function(e){return Qt.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return Qt.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return Qt.current.useTransition()};Se.version="18.3.1";Ix.exports=Se;var _=Ix.exports;const I=No(_),im=fO({__proto__:null,default:I},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO=_,MO=Symbol.for("react.element"),DO=Symbol.for("react.fragment"),OO=Object.prototype.hasOwnProperty,PO=kO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NO={key:!0,ref:!0,__self:!0,__source:!0};function Bx(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)OO.call(t,r)&&!NO.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:MO,type:e,key:o,ref:a,props:i,_owner:PO.current}}Jf.Fragment=DO;Jf.jsx=Bx;Jf.jsxs=Bx;Rx.exports=Jf;var S=Rx.exports,Yx={exports:{}},pn={},zx={exports:{}},Wx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,F){var B=M.length;M.push(F);e:for(;0<B;){var Q=B-1>>>1,K=M[Q];if(0<i(K,F))M[Q]=F,M[B]=K,B=Q;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],B=M.pop();if(B!==F){M[0]=B;e:for(var Q=0,K=M.length,pe=K>>>1;Q<pe;){var ce=2*(Q+1)-1,re=M[ce],me=ce+1,de=M[me];if(0>i(re,B))me<K&&0>i(de,re)?(M[Q]=de,M[me]=B,Q=me):(M[Q]=re,M[ce]=B,Q=ce);else if(me<K&&0>i(de,B))M[Q]=de,M[me]=B,Q=me;else break e}}return F}function i(M,F){var B=M.sortIndex-F.sortIndex;return B!==0?B:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=M)r(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(u)}}function x(M){if(g=!1,w(M),!m)if(n(l)!==null)m=!0,D(E);else{var F=n(u);F!==null&&$(x,F.startTime-M)}}function E(M,F){m=!1,g&&(g=!1,p(k),k=-1),h=!0;var B=d;try{for(w(F),f=n(l);f!==null&&(!(f.expirationTime>F)||M&&!O());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,d=f.priorityLevel;var K=Q(f.expirationTime<=F);F=e.unstable_now(),typeof K=="function"?f.callback=K:f===n(l)&&r(l),w(F)}else r(l);f=n(l)}if(f!==null)var pe=!0;else{var ce=n(u);ce!==null&&$(x,ce.startTime-F),pe=!1}return pe}finally{f=null,d=B,h=!1}}var b=!1,C=null,k=-1,N=5,A=-1;function O(){return!(e.unstable_now()-A<N)}function V(){if(C!==null){var M=e.unstable_now();A=M;var F=!0;try{F=C(!0,M)}finally{F?L():(b=!1,C=null)}}else b=!1}var L;if(typeof y=="function")L=function(){y(V)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,P=T.port2;T.port1.onmessage=V,L=function(){P.postMessage(null)}}else L=function(){v(V,0)};function D(M){C=M,b||(b=!0,L())}function $(M,F){k=v(function(){M(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,D(E))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var B=d;d=F;try{return M()}finally{d=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=d;d=M;try{return F()}finally{d=B}},e.unstable_scheduleCallback=function(M,F,B){var Q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,M){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=B+K,M={id:c++,callback:F,priorityLevel:M,startTime:B,expirationTime:K,sortIndex:-1},B>Q?(M.sortIndex=B,t(u,M),n(l)===null&&M===n(u)&&(g?(p(k),k=-1):g=!0,$(x,B-Q))):(M.sortIndex=K,t(l,M),m||h||(m=!0,D(E))),M},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(M){var F=d;return function(){var B=d;d=F;try{return M.apply(this,arguments)}finally{d=B}}}})(Wx);zx.exports=Wx;var RO=zx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO=_,fn=RO;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qx=new Set,ll={};function Ro(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(ll[e]=t,e=0;e<t.length;e++)qx.add(t[e])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),om=Object.prototype.hasOwnProperty,LO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s1={},l1={};function AO(e){return om.call(l1,e)?!0:om.call(s1,e)?!1:LO.test(e)?l1[e]=!0:(s1[e]=!0,!1)}function FO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $O(e,t,n,r){if(t===null||typeof t>"u"||FO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pt[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pt[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pt[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pt[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pt[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pt[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pt[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pt[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pt[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jg=/[\-:]([a-z])/g;function e0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jg,e0);Pt[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jg,e0);Pt[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jg,e0);Pt[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function t0(e,t,n,r){var i=Pt.hasOwnProperty(t)?Pt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($O(t,n,i,r)&&(n=null),r||i===null?AO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var oi=IO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fu=Symbol.for("react.element"),Go=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),Qx=Symbol.for("react.provider"),Gx=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),Kx=Symbol.for("react.offscreen"),u1=Symbol.iterator;function ds(e){return e===null||typeof e!="object"?null:(e=u1&&e[u1]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Ah;function Is(e){if(Ah===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ah=t&&t[1]||""}return`
`+Ah+e}var Fh=!1;function $h(e,t){if(!e||Fh)return"";Fh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Fh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Is(e):""}function jO(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=$h(e.type,!1),e;case 11:return e=$h(e.type.render,!1),e;case 1:return e=$h(e.type,!0),e;default:return""}}function um(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ko:return"Fragment";case Go:return"Portal";case am:return"Profiler";case n0:return"StrictMode";case sm:return"Suspense";case lm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gx:return(e.displayName||"Context")+".Consumer";case Qx:return(e._context.displayName||"Context")+".Provider";case r0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case i0:return t=e.displayName||null,t!==null?t:um(e.type)||"Memo";case fi:t=e._payload,e=e._init;try{return um(e(t))}catch{}}return null}function UO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return um(t);case 8:return t===n0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HO(e){var t=Xx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function du(e){e._valueTracker||(e._valueTracker=HO(e))}function Zx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ic(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cm(e,t){var n=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function c1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ri(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jx(e,t){t=t.checked,t!=null&&t0(e,"checked",t,!1)}function fm(e,t){Jx(e,t);var n=Ri(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dm(e,t.type,n):t.hasOwnProperty("defaultValue")&&dm(e,t.type,Ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function f1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function dm(e,t,n){(t!=="number"||Ic(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ls=Array.isArray;function ca(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ri(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function d1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(Ls(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ri(n)}}function eb(e,t){var n=Ri(t.value),r=Ri(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function h1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hu,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hu=hu||document.createElement("div"),hu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ul(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VO=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(e){VO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ks[t]=Ks[e]})});function rb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ks.hasOwnProperty(e)&&Ks[e]?(""+t).trim():t+"px"}function ib(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var BO=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mm(e,t){if(t){if(BO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function gm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vm=null;function o0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ym=null,fa=null,da=null;function p1(e){if(e=Yl(e)){if(typeof ym!="function")throw Error(z(280));var t=e.stateNode;t&&(t=id(t),ym(e.stateNode,e.type,t))}}function ob(e){fa?da?da.push(e):da=[e]:fa=e}function ab(){if(fa){var e=fa,t=da;if(da=fa=null,p1(e),t)for(e=0;e<t.length;e++)p1(t[e])}}function sb(e,t){return e(t)}function lb(){}var jh=!1;function ub(e,t,n){if(jh)return e(t,n);jh=!0;try{return sb(e,t,n)}finally{jh=!1,(fa!==null||da!==null)&&(lb(),ab())}}function cl(e,t){var n=e.stateNode;if(n===null)return null;var r=id(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var wm=!1;if(qr)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){wm=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{wm=!1}function YO(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Xs=!1,Lc=null,Ac=!1,_m=null,zO={onError:function(e){Xs=!0,Lc=e}};function WO(e,t,n,r,i,o,a,s,l){Xs=!1,Lc=null,YO.apply(zO,arguments)}function qO(e,t,n,r,i,o,a,s,l){if(WO.apply(this,arguments),Xs){if(Xs){var u=Lc;Xs=!1,Lc=null}else throw Error(z(198));Ac||(Ac=!0,_m=u)}}function Io(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m1(e){if(Io(e)!==e)throw Error(z(188))}function QO(e){var t=e.alternate;if(!t){if(t=Io(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return m1(i),e;if(o===r)return m1(i),t;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function fb(e){return e=QO(e),e!==null?db(e):null}function db(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=db(e);if(t!==null)return t;e=e.sibling}return null}var hb=fn.unstable_scheduleCallback,g1=fn.unstable_cancelCallback,GO=fn.unstable_shouldYield,KO=fn.unstable_requestPaint,ot=fn.unstable_now,XO=fn.unstable_getCurrentPriorityLevel,a0=fn.unstable_ImmediatePriority,pb=fn.unstable_UserBlockingPriority,Fc=fn.unstable_NormalPriority,ZO=fn.unstable_LowPriority,mb=fn.unstable_IdlePriority,ed=null,fr=null;function JO(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(ed,e,void 0,(e.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:nP,eP=Math.log,tP=Math.LN2;function nP(e){return e>>>=0,e===0?32:31-(eP(e)/tP|0)|0}var pu=64,mu=4194304;function As(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $c(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=As(s):(o&=a,o!==0&&(r=As(o)))}else a=n&~i,a!==0?r=As(a):o!==0&&(r=As(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Yn(t),i=1<<n,r|=e[n],t&=~i;return r}function rP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Yn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=rP(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Sm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gb(){var e=pu;return pu<<=1,!(pu&4194240)&&(pu=64),e}function Uh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yn(t),e[t]=n}function oP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Yn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function s0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Yn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $e=0;function vb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yb,l0,wb,_b,Sb,xm=!1,gu=[],xi=null,bi=null,Ei=null,fl=new Map,dl=new Map,pi=[],aP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v1(e,t){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(t.pointerId)}}function ps(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Yl(t),t!==null&&l0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function sP(e,t,n,r,i){switch(t){case"focusin":return xi=ps(xi,e,t,n,r,i),!0;case"dragenter":return bi=ps(bi,e,t,n,r,i),!0;case"mouseover":return Ei=ps(Ei,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return fl.set(o,ps(fl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dl.set(o,ps(dl.get(o)||null,e,t,n,r,i)),!0}return!1}function xb(e){var t=to(e.target);if(t!==null){var n=Io(t);if(n!==null){if(t=n.tag,t===13){if(t=cb(n),t!==null){e.blockedOn=t,Sb(e.priority,function(){wb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vm=r,n.target.dispatchEvent(r),vm=null}else return t=Yl(n),t!==null&&l0(t),e.blockedOn=n,!1;t.shift()}return!0}function y1(e,t,n){tc(e)&&n.delete(t)}function lP(){xm=!1,xi!==null&&tc(xi)&&(xi=null),bi!==null&&tc(bi)&&(bi=null),Ei!==null&&tc(Ei)&&(Ei=null),fl.forEach(y1),dl.forEach(y1)}function ms(e,t){e.blockedOn===t&&(e.blockedOn=null,xm||(xm=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,lP)))}function hl(e){function t(i){return ms(i,e)}if(0<gu.length){ms(gu[0],e);for(var n=1;n<gu.length;n++){var r=gu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xi!==null&&ms(xi,e),bi!==null&&ms(bi,e),Ei!==null&&ms(Ei,e),fl.forEach(t),dl.forEach(t),n=0;n<pi.length;n++)r=pi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)xb(n),n.blockedOn===null&&pi.shift()}var ha=oi.ReactCurrentBatchConfig,jc=!0;function uP(e,t,n,r){var i=$e,o=ha.transition;ha.transition=null;try{$e=1,u0(e,t,n,r)}finally{$e=i,ha.transition=o}}function cP(e,t,n,r){var i=$e,o=ha.transition;ha.transition=null;try{$e=4,u0(e,t,n,r)}finally{$e=i,ha.transition=o}}function u0(e,t,n,r){if(jc){var i=bm(e,t,n,r);if(i===null)Kh(e,t,r,Uc,n),v1(e,r);else if(sP(i,e,t,n,r))r.stopPropagation();else if(v1(e,r),t&4&&-1<aP.indexOf(e)){for(;i!==null;){var o=Yl(i);if(o!==null&&yb(o),o=bm(e,t,n,r),o===null&&Kh(e,t,r,Uc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Kh(e,t,r,null,n)}}var Uc=null;function bm(e,t,n,r){if(Uc=null,e=o0(r),e=to(e),e!==null)if(t=Io(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uc=e,null}function bb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XO()){case a0:return 1;case pb:return 4;case Fc:case ZO:return 16;case mb:return 536870912;default:return 16}default:return 16}}var yi=null,c0=null,nc=null;function Eb(){if(nc)return nc;var e,t=c0,n=t.length,r,i="value"in yi?yi.value:yi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return nc=i.slice(e,1<r?1-r:void 0)}function rc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vu(){return!0}function w1(){return!1}function mn(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vu:w1,this.isPropagationStopped=w1,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),t}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f0=mn(Ja),Bl=Je({},Ja,{view:0,detail:0}),fP=mn(Bl),Hh,Vh,gs,td=Je({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(Hh=e.screenX-gs.screenX,Vh=e.screenY-gs.screenY):Vh=Hh=0,gs=e),Hh)},movementY:function(e){return"movementY"in e?e.movementY:Vh}}),_1=mn(td),dP=Je({},td,{dataTransfer:0}),hP=mn(dP),pP=Je({},Bl,{relatedTarget:0}),Bh=mn(pP),mP=Je({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),gP=mn(mP),vP=Je({},Ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yP=mn(vP),wP=Je({},Ja,{data:0}),S1=mn(wP),_P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xP[e])?!!t[e]:!1}function d0(){return bP}var EP=Je({},Bl,{key:function(e){if(e.key){var t=_P[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d0,charCode:function(e){return e.type==="keypress"?rc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CP=mn(EP),TP=Je({},td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x1=mn(TP),kP=Je({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d0}),MP=mn(kP),DP=Je({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),OP=mn(DP),PP=Je({},td,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NP=mn(PP),RP=[9,13,27,32],h0=qr&&"CompositionEvent"in window,Zs=null;qr&&"documentMode"in document&&(Zs=document.documentMode);var IP=qr&&"TextEvent"in window&&!Zs,Cb=qr&&(!h0||Zs&&8<Zs&&11>=Zs),b1=" ",E1=!1;function Tb(e,t){switch(e){case"keyup":return RP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xo=!1;function LP(e,t){switch(e){case"compositionend":return kb(t);case"keypress":return t.which!==32?null:(E1=!0,b1);case"textInput":return e=t.data,e===b1&&E1?null:e;default:return null}}function AP(e,t){if(Xo)return e==="compositionend"||!h0&&Tb(e,t)?(e=Eb(),nc=c0=yi=null,Xo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cb&&t.locale!=="ko"?null:t.data;default:return null}}var FP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FP[e.type]:t==="textarea"}function Mb(e,t,n,r){ob(r),t=Hc(t,"onChange"),0<t.length&&(n=new f0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Js=null,pl=null;function $P(e){jb(e,0)}function nd(e){var t=ea(e);if(Zx(t))return e}function jP(e,t){if(e==="change")return t}var Db=!1;if(qr){var Yh;if(qr){var zh="oninput"in document;if(!zh){var T1=document.createElement("div");T1.setAttribute("oninput","return;"),zh=typeof T1.oninput=="function"}Yh=zh}else Yh=!1;Db=Yh&&(!document.documentMode||9<document.documentMode)}function k1(){Js&&(Js.detachEvent("onpropertychange",Ob),pl=Js=null)}function Ob(e){if(e.propertyName==="value"&&nd(pl)){var t=[];Mb(t,pl,e,o0(e)),ub($P,t)}}function UP(e,t,n){e==="focusin"?(k1(),Js=t,pl=n,Js.attachEvent("onpropertychange",Ob)):e==="focusout"&&k1()}function HP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nd(pl)}function VP(e,t){if(e==="click")return nd(t)}function BP(e,t){if(e==="input"||e==="change")return nd(t)}function YP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qn=typeof Object.is=="function"?Object.is:YP;function ml(e,t){if(qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!om.call(t,i)||!qn(e[i],t[i]))return!1}return!0}function M1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function D1(e,t){var n=M1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M1(n)}}function Pb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nb(){for(var e=window,t=Ic();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ic(e.document)}return t}function p0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zP(e){var t=Nb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pb(n.ownerDocument.documentElement,n)){if(r!==null&&p0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=D1(n,o);var a=D1(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WP=qr&&"documentMode"in document&&11>=document.documentMode,Zo=null,Em=null,el=null,Cm=!1;function O1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cm||Zo==null||Zo!==Ic(r)||(r=Zo,"selectionStart"in r&&p0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&ml(el,r)||(el=r,r=Hc(Em,"onSelect"),0<r.length&&(t=new f0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zo)))}function yu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jo={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},Wh={},Rb={};qr&&(Rb=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function rd(e){if(Wh[e])return Wh[e];if(!Jo[e])return e;var t=Jo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rb)return Wh[e]=t[n];return e}var Ib=rd("animationend"),Lb=rd("animationiteration"),Ab=rd("animationstart"),Fb=rd("transitionend"),$b=new Map,P1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hi(e,t){$b.set(e,t),Ro(t,[e])}for(var qh=0;qh<P1.length;qh++){var Qh=P1[qh],qP=Qh.toLowerCase(),QP=Qh[0].toUpperCase()+Qh.slice(1);Hi(qP,"on"+QP)}Hi(Ib,"onAnimationEnd");Hi(Lb,"onAnimationIteration");Hi(Ab,"onAnimationStart");Hi("dblclick","onDoubleClick");Hi("focusin","onFocus");Hi("focusout","onBlur");Hi(Fb,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function N1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qO(r,t,void 0,e),e.currentTarget=null}function jb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;N1(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;N1(i,s,u),o=l}}}if(Ac)throw e=_m,Ac=!1,_m=null,e}function Ve(e,t){var n=t[Om];n===void 0&&(n=t[Om]=new Set);var r=e+"__bubble";n.has(r)||(Ub(t,e,2,!1),n.add(r))}function Gh(e,t,n){var r=0;t&&(r|=4),Ub(n,e,r,t)}var wu="_reactListening"+Math.random().toString(36).slice(2);function gl(e){if(!e[wu]){e[wu]=!0,qx.forEach(function(n){n!=="selectionchange"&&(GP.has(n)||Gh(n,!1,e),Gh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wu]||(t[wu]=!0,Gh("selectionchange",!1,t))}}function Ub(e,t,n,r){switch(bb(t)){case 1:var i=uP;break;case 4:i=cP;break;default:i=u0}n=i.bind(null,t,n,e),i=void 0,!wm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kh(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=to(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}ub(function(){var u=o,c=o0(n),f=[];e:{var d=$b.get(e);if(d!==void 0){var h=f0,m=e;switch(e){case"keypress":if(rc(n)===0)break e;case"keydown":case"keyup":h=CP;break;case"focusin":m="focus",h=Bh;break;case"focusout":m="blur",h=Bh;break;case"beforeblur":case"afterblur":h=Bh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=_1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=hP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=MP;break;case Ib:case Lb:case Ab:h=gP;break;case Fb:h=OP;break;case"scroll":h=fP;break;case"wheel":h=NP;break;case"copy":case"cut":case"paste":h=yP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=x1}var g=(t&4)!==0,v=!g&&e==="scroll",p=g?d!==null?d+"Capture":null:d;g=[];for(var y=u,w;y!==null;){w=y;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,p!==null&&(x=cl(y,p),x!=null&&g.push(vl(y,x,w)))),v)break;y=y.return}0<g.length&&(d=new h(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==vm&&(m=n.relatedTarget||n.fromElement)&&(to(m)||m[Qr]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?to(m):null,m!==null&&(v=Io(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(g=_1,x="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=x1,x="onPointerLeave",p="onPointerEnter",y="pointer"),v=h==null?d:ea(h),w=m==null?d:ea(m),d=new g(x,y+"leave",h,n,c),d.target=v,d.relatedTarget=w,x=null,to(c)===u&&(g=new g(p,y+"enter",m,n,c),g.target=w,g.relatedTarget=v,x=g),v=x,h&&m)t:{for(g=h,p=m,y=0,w=g;w;w=Bo(w))y++;for(w=0,x=p;x;x=Bo(x))w++;for(;0<y-w;)g=Bo(g),y--;for(;0<w-y;)p=Bo(p),w--;for(;y--;){if(g===p||p!==null&&g===p.alternate)break t;g=Bo(g),p=Bo(p)}g=null}else g=null;h!==null&&R1(f,d,h,g,!1),m!==null&&v!==null&&R1(f,v,m,g,!0)}}e:{if(d=u?ea(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=jP;else if(C1(d))if(Db)E=BP;else{E=HP;var b=UP}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=VP);if(E&&(E=E(e,u))){Mb(f,E,n,c);break e}b&&b(e,d,u),e==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&dm(d,"number",d.value)}switch(b=u?ea(u):window,e){case"focusin":(C1(b)||b.contentEditable==="true")&&(Zo=b,Em=u,el=null);break;case"focusout":el=Em=Zo=null;break;case"mousedown":Cm=!0;break;case"contextmenu":case"mouseup":case"dragend":Cm=!1,O1(f,n,c);break;case"selectionchange":if(WP)break;case"keydown":case"keyup":O1(f,n,c)}var C;if(h0)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Xo?Tb(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Cb&&n.locale!=="ko"&&(Xo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Xo&&(C=Eb()):(yi=c,c0="value"in yi?yi.value:yi.textContent,Xo=!0)),b=Hc(u,k),0<b.length&&(k=new S1(k,e,null,n,c),f.push({event:k,listeners:b}),C?k.data=C:(C=kb(n),C!==null&&(k.data=C)))),(C=IP?LP(e,n):AP(e,n))&&(u=Hc(u,"onBeforeInput"),0<u.length&&(c=new S1("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=C))}jb(f,t)})}function vl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=cl(e,n),o!=null&&r.unshift(vl(e,o,i)),o=cl(e,t),o!=null&&r.push(vl(e,o,i))),e=e.return}return r}function Bo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function R1(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=cl(n,o),l!=null&&a.unshift(vl(n,l,s))):i||(l=cl(n,o),l!=null&&a.push(vl(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var KP=/\r\n?/g,XP=/\u0000|\uFFFD/g;function I1(e){return(typeof e=="string"?e:""+e).replace(KP,`
`).replace(XP,"")}function _u(e,t,n){if(t=I1(t),I1(e)!==t&&n)throw Error(z(425))}function Vc(){}var Tm=null,km=null;function Mm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dm=typeof setTimeout=="function"?setTimeout:void 0,ZP=typeof clearTimeout=="function"?clearTimeout:void 0,L1=typeof Promise=="function"?Promise:void 0,JP=typeof queueMicrotask=="function"?queueMicrotask:typeof L1<"u"?function(e){return L1.resolve(null).then(e).catch(eN)}:Dm;function eN(e){setTimeout(function(){throw e})}function Xh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),hl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hl(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function A1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),ir="__reactFiber$"+es,yl="__reactProps$"+es,Qr="__reactContainer$"+es,Om="__reactEvents$"+es,tN="__reactListeners$"+es,nN="__reactHandles$"+es;function to(e){var t=e[ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[ir]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=A1(e);e!==null;){if(n=e[ir])return n;e=A1(e)}return t}e=n,n=e.parentNode}return null}function Yl(e){return e=e[ir]||e[Qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ea(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function id(e){return e[yl]||null}var Pm=[],ta=-1;function Vi(e){return{current:e}}function Be(e){0>ta||(e.current=Pm[ta],Pm[ta]=null,ta--)}function He(e,t){ta++,Pm[ta]=e.current,e.current=t}var Ii={},Ut=Vi(Ii),Jt=Vi(!1),go=Ii;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function en(e){return e=e.childContextTypes,e!=null}function Bc(){Be(Jt),Be(Ut)}function F1(e,t,n){if(Ut.current!==Ii)throw Error(z(168));He(Ut,t),He(Jt,n)}function Hb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,UO(e)||"Unknown",i));return Je({},n,r)}function Yc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,go=Ut.current,He(Ut,e),He(Jt,Jt.current),!0}function $1(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=Hb(e,t,go),r.__reactInternalMemoizedMergedChildContext=e,Be(Jt),Be(Ut),He(Ut,e)):Be(Jt),He(Jt,n)}var Nr=null,od=!1,Zh=!1;function Vb(e){Nr===null?Nr=[e]:Nr.push(e)}function rN(e){od=!0,Vb(e)}function Bi(){if(!Zh&&Nr!==null){Zh=!0;var e=0,t=$e;try{var n=Nr;for($e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nr=null,od=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(e+1)),hb(a0,Bi),i}finally{$e=t,Zh=!1}}return null}var na=[],ra=0,zc=null,Wc=0,bn=[],En=0,vo=null,Ar=1,Fr="";function Xi(e,t){na[ra++]=Wc,na[ra++]=zc,zc=e,Wc=t}function Bb(e,t,n){bn[En++]=Ar,bn[En++]=Fr,bn[En++]=vo,vo=e;var r=Ar;e=Fr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var o=32-Yn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ar=1<<32-Yn(t)+i|n<<i|r,Fr=o+e}else Ar=1<<o|n<<i|r,Fr=e}function m0(e){e.return!==null&&(Xi(e,1),Bb(e,1,0))}function g0(e){for(;e===zc;)zc=na[--ra],na[ra]=null,Wc=na[--ra],na[ra]=null;for(;e===vo;)vo=bn[--En],bn[En]=null,Fr=bn[--En],bn[En]=null,Ar=bn[--En],bn[En]=null}var ln=null,an=null,We=!1,Vn=null;function Yb(e,t){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function j1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,an=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vo!==null?{id:Ar,overflow:Fr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ln=e,an=null,!0):!1;default:return!1}}function Nm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rm(e){if(We){var t=an;if(t){var n=t;if(!j1(e,t)){if(Nm(e))throw Error(z(418));t=Ci(n.nextSibling);var r=ln;t&&j1(e,t)?Yb(r,n):(e.flags=e.flags&-4097|2,We=!1,ln=e)}}else{if(Nm(e))throw Error(z(418));e.flags=e.flags&-4097|2,We=!1,ln=e}}}function U1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function Su(e){if(e!==ln)return!1;if(!We)return U1(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mm(e.type,e.memoizedProps)),t&&(t=an)){if(Nm(e))throw zb(),Error(z(418));for(;t;)Yb(e,t),t=Ci(t.nextSibling)}if(U1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){an=Ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}an=null}}else an=ln?Ci(e.stateNode.nextSibling):null;return!0}function zb(){for(var e=an;e;)e=Ci(e.nextSibling)}function ka(){an=ln=null,We=!1}function v0(e){Vn===null?Vn=[e]:Vn.push(e)}var iN=oi.ReactCurrentBatchConfig;function vs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function xu(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function H1(e){var t=e._init;return t(e._payload)}function Wb(e){function t(p,y){if(e){var w=p.deletions;w===null?(p.deletions=[y],p.flags|=16):w.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=Di(p,y),p.index=0,p.sibling=null,p}function o(p,y,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<y?(p.flags|=2,y):w):(p.flags|=2,y)):(p.flags|=1048576,y)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function s(p,y,w,x){return y===null||y.tag!==6?(y=op(w,p.mode,x),y.return=p,y):(y=i(y,w),y.return=p,y)}function l(p,y,w,x){var E=w.type;return E===Ko?c(p,y,w.props.children,x,w.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fi&&H1(E)===y.type)?(x=i(y,w.props),x.ref=vs(p,y,w),x.return=p,x):(x=cc(w.type,w.key,w.props,null,p.mode,x),x.ref=vs(p,y,w),x.return=p,x)}function u(p,y,w,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=ap(w,p.mode,x),y.return=p,y):(y=i(y,w.children||[]),y.return=p,y)}function c(p,y,w,x,E){return y===null||y.tag!==7?(y=uo(w,p.mode,x,E),y.return=p,y):(y=i(y,w),y.return=p,y)}function f(p,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=op(""+y,p.mode,w),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fu:return w=cc(y.type,y.key,y.props,null,p.mode,w),w.ref=vs(p,null,y),w.return=p,w;case Go:return y=ap(y,p.mode,w),y.return=p,y;case fi:var x=y._init;return f(p,x(y._payload),w)}if(Ls(y)||ds(y))return y=uo(y,p.mode,w,null),y.return=p,y;xu(p,y)}return null}function d(p,y,w,x){var E=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:s(p,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fu:return w.key===E?l(p,y,w,x):null;case Go:return w.key===E?u(p,y,w,x):null;case fi:return E=w._init,d(p,y,E(w._payload),x)}if(Ls(w)||ds(w))return E!==null?null:c(p,y,w,x,null);xu(p,w)}return null}function h(p,y,w,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(w)||null,s(y,p,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fu:return p=p.get(x.key===null?w:x.key)||null,l(y,p,x,E);case Go:return p=p.get(x.key===null?w:x.key)||null,u(y,p,x,E);case fi:var b=x._init;return h(p,y,w,b(x._payload),E)}if(Ls(x)||ds(x))return p=p.get(w)||null,c(y,p,x,E,null);xu(y,x)}return null}function m(p,y,w,x){for(var E=null,b=null,C=y,k=y=0,N=null;C!==null&&k<w.length;k++){C.index>k?(N=C,C=null):N=C.sibling;var A=d(p,C,w[k],x);if(A===null){C===null&&(C=N);break}e&&C&&A.alternate===null&&t(p,C),y=o(A,y,k),b===null?E=A:b.sibling=A,b=A,C=N}if(k===w.length)return n(p,C),We&&Xi(p,k),E;if(C===null){for(;k<w.length;k++)C=f(p,w[k],x),C!==null&&(y=o(C,y,k),b===null?E=C:b.sibling=C,b=C);return We&&Xi(p,k),E}for(C=r(p,C);k<w.length;k++)N=h(C,p,k,w[k],x),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?k:N.key),y=o(N,y,k),b===null?E=N:b.sibling=N,b=N);return e&&C.forEach(function(O){return t(p,O)}),We&&Xi(p,k),E}function g(p,y,w,x){var E=ds(w);if(typeof E!="function")throw Error(z(150));if(w=E.call(w),w==null)throw Error(z(151));for(var b=E=null,C=y,k=y=0,N=null,A=w.next();C!==null&&!A.done;k++,A=w.next()){C.index>k?(N=C,C=null):N=C.sibling;var O=d(p,C,A.value,x);if(O===null){C===null&&(C=N);break}e&&C&&O.alternate===null&&t(p,C),y=o(O,y,k),b===null?E=O:b.sibling=O,b=O,C=N}if(A.done)return n(p,C),We&&Xi(p,k),E;if(C===null){for(;!A.done;k++,A=w.next())A=f(p,A.value,x),A!==null&&(y=o(A,y,k),b===null?E=A:b.sibling=A,b=A);return We&&Xi(p,k),E}for(C=r(p,C);!A.done;k++,A=w.next())A=h(C,p,k,A.value,x),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?k:A.key),y=o(A,y,k),b===null?E=A:b.sibling=A,b=A);return e&&C.forEach(function(V){return t(p,V)}),We&&Xi(p,k),E}function v(p,y,w,x){if(typeof w=="object"&&w!==null&&w.type===Ko&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case fu:e:{for(var E=w.key,b=y;b!==null;){if(b.key===E){if(E=w.type,E===Ko){if(b.tag===7){n(p,b.sibling),y=i(b,w.props.children),y.return=p,p=y;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fi&&H1(E)===b.type){n(p,b.sibling),y=i(b,w.props),y.ref=vs(p,b,w),y.return=p,p=y;break e}n(p,b);break}else t(p,b);b=b.sibling}w.type===Ko?(y=uo(w.props.children,p.mode,x,w.key),y.return=p,p=y):(x=cc(w.type,w.key,w.props,null,p.mode,x),x.ref=vs(p,y,w),x.return=p,p=x)}return a(p);case Go:e:{for(b=w.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(p,y.sibling),y=i(y,w.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else t(p,y);y=y.sibling}y=ap(w,p.mode,x),y.return=p,p=y}return a(p);case fi:return b=w._init,v(p,y,b(w._payload),x)}if(Ls(w))return m(p,y,w,x);if(ds(w))return g(p,y,w,x);xu(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(p,y.sibling),y=i(y,w),y.return=p,p=y):(n(p,y),y=op(w,p.mode,x),y.return=p,p=y),a(p)):n(p,y)}return v}var Ma=Wb(!0),qb=Wb(!1),qc=Vi(null),Qc=null,ia=null,y0=null;function w0(){y0=ia=Qc=null}function _0(e){var t=qc.current;Be(qc),e._currentValue=t}function Im(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pa(e,t){Qc=e,y0=ia=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zt=!0),e.firstContext=null)}function Pn(e){var t=e._currentValue;if(y0!==e)if(e={context:e,memoizedValue:t,next:null},ia===null){if(Qc===null)throw Error(z(308));ia=e,Qc.dependencies={lanes:0,firstContext:e}}else ia=ia.next=e;return t}var no=null;function S0(e){no===null?no=[e]:no.push(e)}function Qb(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,S0(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gr(e,r)}function Gr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var di=!1;function x0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gr(e,n)}return i=r.interleaved,i===null?(t.next=t,S0(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gr(e,n)}function ic(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,s0(e,n)}}function V1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gc(e,t,n,r){var i=e.updateQueue;di=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(d=t,h=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=Je({},f,d);break e;case 2:di=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);wo|=a,e.lanes=a,e.memoizedState=f}}function B1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var zl={},dr=Vi(zl),wl=Vi(zl),_l=Vi(zl);function ro(e){if(e===zl)throw Error(z(174));return e}function b0(e,t){switch(He(_l,t),He(wl,e),He(dr,zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pm(t,e)}Be(dr),He(dr,t)}function Da(){Be(dr),Be(wl),Be(_l)}function Kb(e){ro(_l.current);var t=ro(dr.current),n=pm(t,e.type);t!==n&&(He(wl,e),He(dr,n))}function E0(e){wl.current===e&&(Be(dr),Be(wl))}var Qe=Vi(0);function Kc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jh=[];function C0(){for(var e=0;e<Jh.length;e++)Jh[e]._workInProgressVersionPrimary=null;Jh.length=0}var oc=oi.ReactCurrentDispatcher,ep=oi.ReactCurrentBatchConfig,yo=0,Xe=null,dt=null,gt=null,Xc=!1,tl=!1,Sl=0,oN=0;function Nt(){throw Error(z(321))}function T0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qn(e[n],t[n]))return!1;return!0}function k0(e,t,n,r,i,o){if(yo=o,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oc.current=e===null||e.memoizedState===null?uN:cN,e=n(r,i),tl){o=0;do{if(tl=!1,Sl=0,25<=o)throw Error(z(301));o+=1,gt=dt=null,t.updateQueue=null,oc.current=fN,e=n(r,i)}while(tl)}if(oc.current=Zc,t=dt!==null&&dt.next!==null,yo=0,gt=dt=Xe=null,Xc=!1,t)throw Error(z(300));return e}function M0(){var e=Sl!==0;return Sl=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Xe.memoizedState=gt=e:gt=gt.next=e,gt}function Nn(){if(dt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=gt===null?Xe.memoizedState:gt.next;if(t!==null)gt=t,dt=e;else{if(e===null)throw Error(z(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},gt===null?Xe.memoizedState=gt=e:gt=gt.next=e}return gt}function xl(e,t){return typeof t=="function"?t(e):t}function tp(e){var t=Nn(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=dt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((yo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Xe.lanes|=c,wo|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,qn(r,t.memoizedState)||(Zt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Xe.lanes|=o,wo|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function np(e){var t=Nn(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);qn(o,t.memoizedState)||(Zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Xb(){}function Zb(e,t){var n=Xe,r=Nn(),i=t(),o=!qn(r.memoizedState,i);if(o&&(r.memoizedState=i,Zt=!0),r=r.queue,D0(tE.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,bl(9,eE.bind(null,n,r,i,t),void 0,null),xt===null)throw Error(z(349));yo&30||Jb(n,t,i)}return i}function Jb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function eE(e,t,n,r){t.value=n,t.getSnapshot=r,nE(t)&&rE(e)}function tE(e,t,n){return n(function(){nE(t)&&rE(e)})}function nE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qn(e,n)}catch{return!0}}function rE(e){var t=Gr(e,1);t!==null&&zn(t,e,1,-1)}function Y1(e){var t=Zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:e},t.queue=e,e=e.dispatch=lN.bind(null,Xe,e),[t.memoizedState,e]}function bl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function iE(){return Nn().memoizedState}function ac(e,t,n,r){var i=Zn();Xe.flags|=e,i.memoizedState=bl(1|t,n,void 0,r===void 0?null:r)}function ad(e,t,n,r){var i=Nn();r=r===void 0?null:r;var o=void 0;if(dt!==null){var a=dt.memoizedState;if(o=a.destroy,r!==null&&T0(r,a.deps)){i.memoizedState=bl(t,n,o,r);return}}Xe.flags|=e,i.memoizedState=bl(1|t,n,o,r)}function z1(e,t){return ac(8390656,8,e,t)}function D0(e,t){return ad(2048,8,e,t)}function oE(e,t){return ad(4,2,e,t)}function aE(e,t){return ad(4,4,e,t)}function sE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lE(e,t,n){return n=n!=null?n.concat([e]):null,ad(4,4,sE.bind(null,t,e),n)}function O0(){}function uE(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&T0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cE(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&T0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fE(e,t,n){return yo&21?(qn(n,t)||(n=gb(),Xe.lanes|=n,wo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zt=!0),e.memoizedState=n)}function aN(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var r=ep.transition;ep.transition={};try{e(!1),t()}finally{$e=n,ep.transition=r}}function dE(){return Nn().memoizedState}function sN(e,t,n){var r=Mi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hE(e))pE(t,n);else if(n=Qb(e,t,n,r),n!==null){var i=Wt();zn(n,e,r,i),mE(n,t,r)}}function lN(e,t,n){var r=Mi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hE(e))pE(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,qn(s,a)){var l=t.interleaved;l===null?(i.next=i,S0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Qb(e,t,i,r),n!==null&&(i=Wt(),zn(n,e,r,i),mE(n,t,r))}}function hE(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function pE(e,t){tl=Xc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,s0(e,n)}}var Zc={readContext:Pn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},uN={readContext:Pn,useCallback:function(e,t){return Zn().memoizedState=[e,t===void 0?null:t],e},useContext:Pn,useEffect:z1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ac(4194308,4,sE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ac(4194308,4,e,t)},useInsertionEffect:function(e,t){return ac(4,2,e,t)},useMemo:function(e,t){var n=Zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sN.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=Zn();return e={current:e},t.memoizedState=e},useState:Y1,useDebugValue:O0,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=Y1(!1),t=e[0];return e=aN.bind(null,e[1]),Zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=Zn();if(We){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),xt===null)throw Error(z(349));yo&30||Jb(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,z1(tE.bind(null,r,o,e),[e]),r.flags|=2048,bl(9,eE.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Zn(),t=xt.identifierPrefix;if(We){var n=Fr,r=Ar;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cN={readContext:Pn,useCallback:uE,useContext:Pn,useEffect:D0,useImperativeHandle:lE,useInsertionEffect:oE,useLayoutEffect:aE,useMemo:cE,useReducer:tp,useRef:iE,useState:function(){return tp(xl)},useDebugValue:O0,useDeferredValue:function(e){var t=Nn();return fE(t,dt.memoizedState,e)},useTransition:function(){var e=tp(xl)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:Xb,useSyncExternalStore:Zb,useId:dE,unstable_isNewReconciler:!1},fN={readContext:Pn,useCallback:uE,useContext:Pn,useEffect:D0,useImperativeHandle:lE,useInsertionEffect:oE,useLayoutEffect:aE,useMemo:cE,useReducer:np,useRef:iE,useState:function(){return np(xl)},useDebugValue:O0,useDeferredValue:function(e){var t=Nn();return dt===null?t.memoizedState=e:fE(t,dt.memoizedState,e)},useTransition:function(){var e=np(xl)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:Xb,useSyncExternalStore:Zb,useId:dE,unstable_isNewReconciler:!1};function Un(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sd={isMounted:function(e){return(e=e._reactInternals)?Io(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=Mi(e),o=Ur(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ti(e,o,i),t!==null&&(zn(t,e,i,r),ic(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=Mi(e),o=Ur(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ti(e,o,i),t!==null&&(zn(t,e,i,r),ic(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wt(),r=Mi(e),i=Ur(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ti(e,i,r),t!==null&&(zn(t,e,r,n),ic(t,e,r))}};function W1(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!ml(n,r)||!ml(i,o):!0}function gE(e,t,n){var r=!1,i=Ii,o=t.contextType;return typeof o=="object"&&o!==null?o=Pn(o):(i=en(t)?go:Ut.current,r=t.contextTypes,o=(r=r!=null)?Ta(e,i):Ii),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function q1(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sd.enqueueReplaceState(t,t.state,null)}function Am(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},x0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Pn(o):(o=en(t)?go:Ut.current,i.context=Ta(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Lm(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&sd.enqueueReplaceState(i,i.state,null),Gc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Oa(e,t){try{var n="",r=t;do n+=jO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function rp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fm(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dN=typeof WeakMap=="function"?WeakMap:Map;function vE(e,t,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ef||(ef=!0,qm=r),Fm(e,t)},n}function yE(e,t,n){n=Ur(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fm(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Fm(e,t),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Q1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=TN.bind(null,e,t,n),t.then(e,e))}function G1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function K1(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ur(-1,1),t.tag=2,Ti(n,t,1))),n.lanes|=1),e)}var hN=oi.ReactCurrentOwner,Zt=!1;function Ht(e,t,n,r){t.child=e===null?qb(t,null,n,r):Ma(t,e.child,n,r)}function X1(e,t,n,r,i){n=n.render;var o=t.ref;return pa(t,i),r=k0(e,t,n,r,o,i),n=M0(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kr(e,t,i)):(We&&n&&m0(t),t.flags|=1,Ht(e,t,r,i),t.child)}function Z1(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!$0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,wE(e,t,o,r,i)):(e=cc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:ml,n(a,r)&&e.ref===t.ref)return Kr(e,t,i)}return t.flags|=1,e=Di(o,r),e.ref=t.ref,e.return=t,t.child=e}function wE(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ml(o,r)&&e.ref===t.ref)if(Zt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Zt=!0);else return t.lanes=e.lanes,Kr(e,t,i)}return $m(e,t,n,r,i)}function _E(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(aa,rn),rn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(aa,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,He(aa,rn),rn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,He(aa,rn),rn|=r;return Ht(e,t,i,n),t.child}function SE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $m(e,t,n,r,i){var o=en(n)?go:Ut.current;return o=Ta(t,o),pa(t,i),n=k0(e,t,n,r,o,i),r=M0(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kr(e,t,i)):(We&&r&&m0(t),t.flags|=1,Ht(e,t,n,i),t.child)}function J1(e,t,n,r,i){if(en(n)){var o=!0;Yc(t)}else o=!1;if(pa(t,i),t.stateNode===null)sc(e,t),gE(t,n,r),Am(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pn(u):(u=en(n)?go:Ut.current,u=Ta(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&q1(t,a,r,u),di=!1;var d=t.memoizedState;a.state=d,Gc(t,r,a,i),l=t.memoizedState,s!==r||d!==l||Jt.current||di?(typeof c=="function"&&(Lm(t,n,c,r),l=t.memoizedState),(s=di||W1(t,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Gb(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Un(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=en(n)?go:Ut.current,l=Ta(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&q1(t,a,r,l),di=!1,d=t.memoizedState,a.state=d,Gc(t,r,a,i);var m=t.memoizedState;s!==f||d!==m||Jt.current||di?(typeof h=="function"&&(Lm(t,n,h,r),m=t.memoizedState),(u=di||W1(t,n,u,r,d,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return jm(e,t,n,r,o,i)}function jm(e,t,n,r,i,o){SE(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&$1(t,n,!1),Kr(e,t,o);r=t.stateNode,hN.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ma(t,e.child,null,o),t.child=Ma(t,null,s,o)):Ht(e,t,s,o),t.memoizedState=r.state,i&&$1(t,n,!0),t.child}function xE(e){var t=e.stateNode;t.pendingContext?F1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&F1(e,t.context,!1),b0(e,t.containerInfo)}function ew(e,t,n,r,i){return ka(),v0(i),t.flags|=256,Ht(e,t,n,r),t.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function Hm(e){return{baseLanes:e,cachePool:null,transitions:null}}function bE(e,t,n){var r=t.pendingProps,i=Qe.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),He(Qe,i&1),e===null)return Rm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=cd(a,r,0,null),e=uo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Hm(n),t.memoizedState=Um,e):P0(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return pN(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Di(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Di(s,o):(o=uo(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Hm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Um,r}return o=e.child,e=o.sibling,r=Di(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function P0(e,t){return t=cd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bu(e,t,n,r){return r!==null&&v0(r),Ma(t,e.child,null,n),e=P0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pN(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=rp(Error(z(422))),bu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=cd({mode:"visible",children:r.children},i,0,null),o=uo(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ma(t,e.child,null,a),t.child.memoizedState=Hm(a),t.memoizedState=Um,o);if(!(t.mode&1))return bu(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(z(419)),r=rp(o,r,void 0),bu(e,t,a,r)}if(s=(a&e.childLanes)!==0,Zt||s){if(r=xt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gr(e,i),zn(r,e,i,-1))}return F0(),r=rp(Error(z(421))),bu(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=kN.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,an=Ci(i.nextSibling),ln=t,We=!0,Vn=null,e!==null&&(bn[En++]=Ar,bn[En++]=Fr,bn[En++]=vo,Ar=e.id,Fr=e.overflow,vo=t),t=P0(t,r.children),t.flags|=4096,t)}function tw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Im(e.return,t,n)}function ip(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function EE(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ht(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tw(e,n,t);else if(e.tag===19)tw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(He(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Kc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ip(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Kc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ip(t,!0,n,null,o);break;case"together":ip(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=Di(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Di(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mN(e,t,n){switch(t.tag){case 3:xE(t),ka();break;case 5:Kb(t);break;case 1:en(t.type)&&Yc(t);break;case 4:b0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;He(qc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(He(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?bE(e,t,n):(He(Qe,Qe.current&1),e=Kr(e,t,n),e!==null?e.sibling:null);He(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return EE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,_E(e,t,n)}return Kr(e,t,n)}var CE,Vm,TE,kE;CE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vm=function(){};TE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ro(dr.current);var o=null;switch(n){case"input":i=cm(e,i),r=cm(e,r),o=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),o=[];break;case"textarea":i=hm(e,i),r=hm(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vc)}mm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ll.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i?.[u],r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ll.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};kE=function(e,t,n,r){n!==r&&(t.flags|=4)};function ys(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gN(e,t,n){var r=t.pendingProps;switch(g0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return en(t.type)&&Bc(),Rt(t),null;case 3:return r=t.stateNode,Da(),Be(Jt),Be(Ut),C0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Su(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(Km(Vn),Vn=null))),Vm(e,t),Rt(t),null;case 5:E0(t);var i=ro(_l.current);if(n=t.type,e!==null&&t.stateNode!=null)TE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Rt(t),null}if(e=ro(dr.current),Su(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ir]=t,r[yl]=o,e=(t.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Fs.length;i++)Ve(Fs[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":c1(r,o),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",r);break;case"textarea":d1(r,o),Ve("invalid",r)}mm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&_u(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&_u(r.textContent,s,e),i=["children",""+s]):ll.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ve("scroll",r)}switch(n){case"input":du(r),f1(r,o,!0);break;case"textarea":du(r),h1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ir]=t,e[yl]=r,CE(e,t,!1,!1),t.stateNode=e;e:{switch(a=gm(n,r),n){case"dialog":Ve("cancel",e),Ve("close",e),i=r;break;case"iframe":case"object":case"embed":Ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fs.length;i++)Ve(Fs[i],e);i=r;break;case"source":Ve("error",e),i=r;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),i=r;break;case"details":Ve("toggle",e),i=r;break;case"input":c1(e,r),i=cm(e,r),Ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Ve("invalid",e);break;case"textarea":d1(e,r),i=hm(e,r),Ve("invalid",e);break;default:i=r}mm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?ib(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nb(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ul(e,l):typeof l=="number"&&ul(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ll.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ve("scroll",e):l!=null&&t0(e,o,l,a))}switch(n){case"input":du(e),f1(e,r,!1);break;case"textarea":du(e),h1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ri(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ca(e,!!r.multiple,o,!1):r.defaultValue!=null&&ca(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)kE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=ro(_l.current),ro(dr.current),Su(t)){if(r=t.stateNode,n=t.memoizedProps,r[ir]=t,(o=r.nodeValue!==n)&&(e=ln,e!==null))switch(e.tag){case 3:_u(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_u(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=t,t.stateNode=r}return Rt(t),null;case 13:if(Be(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&an!==null&&t.mode&1&&!(t.flags&128))zb(),ka(),t.flags|=98560,o=!1;else if(o=Su(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[ir]=t}else ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),o=!1}else Vn!==null&&(Km(Vn),Vn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?ht===0&&(ht=3):F0())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Da(),Vm(e,t),e===null&&gl(t.stateNode.containerInfo),Rt(t),null;case 10:return _0(t.type._context),Rt(t),null;case 17:return en(t.type)&&Bc(),Rt(t),null;case 19:if(Be(Qe),o=t.memoizedState,o===null)return Rt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ys(o,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Kc(e),a!==null){for(t.flags|=128,ys(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return He(Qe,Qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&ot()>Pa&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304)}else{if(!r)if(e=Kc(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ys(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!We)return Rt(t),null}else 2*ot()-o.renderingStartTime>Pa&&n!==1073741824&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ot(),t.sibling=null,n=Qe.current,He(Qe,r?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return A0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rn&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function vN(e,t){switch(g0(t),t.tag){case 1:return en(t.type)&&Bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Da(),Be(Jt),Be(Ut),C0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return E0(t),null;case 13:if(Be(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Qe),null;case 4:return Da(),null;case 10:return _0(t.type._context),null;case 22:case 23:return A0(),null;case 24:return null;default:return null}}var Eu=!1,Ft=!1,yN=typeof WeakSet=="function"?WeakSet:Set,ee=null;function oa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function Bm(e,t,n){try{n()}catch(r){tt(e,t,r)}}var nw=!1;function wN(e,t){if(Tm=jc,e=Nb(),p0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(km={focusedElem:e,selectionRange:n},jc=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Un(t.type,g),v);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(x){tt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return m=nw,nw=!1,m}function nl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Bm(t,n,o)}i=i.next}while(i!==r)}}function ld(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ym(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ME(e){var t=e.alternate;t!==null&&(e.alternate=null,ME(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ir],delete t[yl],delete t[Om],delete t[tN],delete t[nN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DE(e){return e.tag===5||e.tag===3||e.tag===4}function rw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vc));else if(r!==4&&(e=e.child,e!==null))for(zm(e,t,n),e=e.sibling;e!==null;)zm(e,t,n),e=e.sibling}function Wm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wm(e,t,n),e=e.sibling;e!==null;)Wm(e,t,n),e=e.sibling}var kt=null,Hn=!1;function ui(e,t,n){for(n=n.child;n!==null;)OE(e,t,n),n=n.sibling}function OE(e,t,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(ed,n)}catch{}switch(n.tag){case 5:Ft||oa(n,t);case 6:var r=kt,i=Hn;kt=null,ui(e,t,n),kt=r,Hn=i,kt!==null&&(Hn?(e=kt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(Hn?(e=kt,n=n.stateNode,e.nodeType===8?Xh(e.parentNode,n):e.nodeType===1&&Xh(e,n),hl(e)):Xh(kt,n.stateNode));break;case 4:r=kt,i=Hn,kt=n.stateNode.containerInfo,Hn=!0,ui(e,t,n),kt=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Bm(n,t,a),i=i.next}while(i!==r)}ui(e,t,n);break;case 1:if(!Ft&&(oa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){tt(n,t,s)}ui(e,t,n);break;case 21:ui(e,t,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,ui(e,t,n),Ft=r):ui(e,t,n);break;default:ui(e,t,n)}}function iw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yN),t.forEach(function(r){var i=MN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:kt=s.stateNode,Hn=!1;break e;case 3:kt=s.stateNode.containerInfo,Hn=!0;break e;case 4:kt=s.stateNode.containerInfo,Hn=!0;break e}s=s.return}if(kt===null)throw Error(z(160));OE(o,a,i),kt=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){tt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PE(t,e),t=t.sibling}function PE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),Xn(e),r&4){try{nl(3,e,e.return),ld(3,e)}catch(g){tt(e,e.return,g)}try{nl(5,e,e.return)}catch(g){tt(e,e.return,g)}}break;case 1:$n(t,e),Xn(e),r&512&&n!==null&&oa(n,n.return);break;case 5:if($n(t,e),Xn(e),r&512&&n!==null&&oa(n,n.return),e.flags&32){var i=e.stateNode;try{ul(i,"")}catch(g){tt(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Jx(i,o),gm(s,a);var u=gm(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?ib(i,f):c==="dangerouslySetInnerHTML"?nb(i,f):c==="children"?ul(i,f):t0(i,c,f,u)}switch(s){case"input":fm(i,o);break;case"textarea":eb(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ca(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?ca(i,!!o.multiple,o.defaultValue,!0):ca(i,!!o.multiple,o.multiple?[]:"",!1))}i[yl]=o}catch(g){tt(e,e.return,g)}}break;case 6:if($n(t,e),Xn(e),r&4){if(e.stateNode===null)throw Error(z(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){tt(e,e.return,g)}}break;case 3:if($n(t,e),Xn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hl(t.containerInfo)}catch(g){tt(e,e.return,g)}break;case 4:$n(t,e),Xn(e);break;case 13:$n(t,e),Xn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(I0=ot())),r&4&&iw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ft=(u=Ft)||c,$n(t,e),Ft=u):$n(t,e),Xn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(ee=e,c=e.child;c!==null;){for(f=ee=c;ee!==null;){switch(d=ee,h=d.child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:oa(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){tt(r,n,g)}}break;case 5:oa(d,d.return);break;case 22:if(d.memoizedState!==null){aw(f);continue}}h!==null?(h.return=d,ee=h):aw(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=rb("display",a))}catch(g){tt(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){tt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$n(t,e),Xn(e),r&4&&iw(e);break;case 21:break;default:$n(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(DE(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var o=rw(e);Wm(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=rw(e);zm(e,s,a);break;default:throw Error(z(161))}}catch(l){tt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _N(e,t,n){ee=e,NE(e)}function NE(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var i=ee,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Eu;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ft;s=Eu;var u=Ft;if(Eu=a,(Ft=l)&&!u)for(ee=i;ee!==null;)a=ee,l=a.child,a.tag===22&&a.memoizedState!==null?sw(i):l!==null?(l.return=a,ee=l):sw(i);for(;o!==null;)ee=o,NE(o),o=o.sibling;ee=i,Eu=s,Ft=u}ow(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ee=o):ow(e)}}function ow(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ft||ld(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Un(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&B1(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}B1(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&hl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ft||t.flags&512&&Ym(t)}catch(d){tt(t,t.return,d)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function aw(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function sw(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ld(4,t)}catch(l){tt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){tt(t,i,l)}}var o=t.return;try{Ym(t)}catch(l){tt(t,o,l)}break;case 5:var a=t.return;try{Ym(t)}catch(l){tt(t,a,l)}}}catch(l){tt(t,t.return,l)}if(t===e){ee=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ee=s;break}ee=t.return}}var SN=Math.ceil,Jc=oi.ReactCurrentDispatcher,N0=oi.ReactCurrentOwner,On=oi.ReactCurrentBatchConfig,De=0,xt=null,ut=null,Ot=0,rn=0,aa=Vi(0),ht=0,El=null,wo=0,ud=0,R0=0,rl=null,Xt=null,I0=0,Pa=1/0,Dr=null,ef=!1,qm=null,ki=null,Cu=!1,wi=null,tf=0,il=0,Qm=null,lc=-1,uc=0;function Wt(){return De&6?ot():lc!==-1?lc:lc=ot()}function Mi(e){return e.mode&1?De&2&&Ot!==0?Ot&-Ot:iN.transition!==null?(uc===0&&(uc=gb()),uc):(e=$e,e!==0||(e=window.event,e=e===void 0?16:bb(e.type)),e):1}function zn(e,t,n,r){if(50<il)throw il=0,Qm=null,Error(z(185));Vl(e,n,r),(!(De&2)||e!==xt)&&(e===xt&&(!(De&2)&&(ud|=n),ht===4&&mi(e,Ot)),tn(e,r),n===1&&De===0&&!(t.mode&1)&&(Pa=ot()+500,od&&Bi()))}function tn(e,t){var n=e.callbackNode;iP(e,t);var r=$c(e,e===xt?Ot:0);if(r===0)n!==null&&g1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&g1(n),t===1)e.tag===0?rN(lw.bind(null,e)):Vb(lw.bind(null,e)),JP(function(){!(De&6)&&Bi()}),n=null;else{switch(vb(r)){case 1:n=a0;break;case 4:n=pb;break;case 16:n=Fc;break;case 536870912:n=mb;break;default:n=Fc}n=UE(n,RE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function RE(e,t){if(lc=-1,uc=0,De&6)throw Error(z(327));var n=e.callbackNode;if(ma()&&e.callbackNode!==n)return null;var r=$c(e,e===xt?Ot:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=nf(e,r);else{t=r;var i=De;De|=2;var o=LE();(xt!==e||Ot!==t)&&(Dr=null,Pa=ot()+500,lo(e,t));do try{EN();break}catch(s){IE(e,s)}while(!0);w0(),Jc.current=o,De=i,ut!==null?t=0:(xt=null,Ot=0,t=ht)}if(t!==0){if(t===2&&(i=Sm(e),i!==0&&(r=i,t=Gm(e,i))),t===1)throw n=El,lo(e,0),mi(e,r),tn(e,ot()),n;if(t===6)mi(e,r);else{if(i=e.current.alternate,!(r&30)&&!xN(i)&&(t=nf(e,r),t===2&&(o=Sm(e),o!==0&&(r=o,t=Gm(e,o))),t===1))throw n=El,lo(e,0),mi(e,r),tn(e,ot()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:Zi(e,Xt,Dr);break;case 3:if(mi(e,r),(r&130023424)===r&&(t=I0+500-ot(),10<t)){if($c(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Wt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Dm(Zi.bind(null,e,Xt,Dr),t);break}Zi(e,Xt,Dr);break;case 4:if(mi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Yn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SN(r/1960))-r,10<r){e.timeoutHandle=Dm(Zi.bind(null,e,Xt,Dr),r);break}Zi(e,Xt,Dr);break;case 5:Zi(e,Xt,Dr);break;default:throw Error(z(329))}}}return tn(e,ot()),e.callbackNode===n?RE.bind(null,e):null}function Gm(e,t){var n=rl;return e.current.memoizedState.isDehydrated&&(lo(e,t).flags|=256),e=nf(e,t),e!==2&&(t=Xt,Xt=n,t!==null&&Km(t)),e}function Km(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function xN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!qn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mi(e,t){for(t&=~R0,t&=~ud,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yn(t),r=1<<n;e[n]=-1,t&=~r}}function lw(e){if(De&6)throw Error(z(327));ma();var t=$c(e,0);if(!(t&1))return tn(e,ot()),null;var n=nf(e,t);if(e.tag!==0&&n===2){var r=Sm(e);r!==0&&(t=r,n=Gm(e,r))}if(n===1)throw n=El,lo(e,0),mi(e,t),tn(e,ot()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zi(e,Xt,Dr),tn(e,ot()),null}function L0(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(Pa=ot()+500,od&&Bi())}}function _o(e){wi!==null&&wi.tag===0&&!(De&6)&&ma();var t=De;De|=1;var n=On.transition,r=$e;try{if(On.transition=null,$e=1,e)return e()}finally{$e=r,On.transition=n,De=t,!(De&6)&&Bi()}}function A0(){rn=aa.current,Be(aa)}function lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ZP(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(g0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bc();break;case 3:Da(),Be(Jt),Be(Ut),C0();break;case 5:E0(r);break;case 4:Da();break;case 13:Be(Qe);break;case 19:Be(Qe);break;case 10:_0(r.type._context);break;case 22:case 23:A0()}n=n.return}if(xt=e,ut=e=Di(e.current,null),Ot=rn=t,ht=0,El=null,R0=ud=wo=0,Xt=rl=null,no!==null){for(t=0;t<no.length;t++)if(n=no[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}no=null}return e}function IE(e,t){do{var n=ut;try{if(w0(),oc.current=Zc,Xc){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xc=!1}if(yo=0,gt=dt=Xe=null,tl=!1,Sl=0,N0.current=null,n===null||n.return===null){ht=1,El=t,ut=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ot,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=G1(a);if(h!==null){h.flags&=-257,K1(h,a,s,o,t),h.mode&1&&Q1(o,u,t),t=h,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){Q1(o,u,t),F0();break e}l=Error(z(426))}}else if(We&&s.mode&1){var v=G1(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),K1(v,a,s,o,t),v0(Oa(l,s));break e}}o=l=Oa(l,s),ht!==4&&(ht=2),rl===null?rl=[o]:rl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=vE(o,l,t);V1(o,p);break e;case 1:s=l;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ki===null||!ki.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=yE(o,s,t);V1(o,x);break e}}o=o.return}while(o!==null)}FE(n)}catch(E){t=E,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function LE(){var e=Jc.current;return Jc.current=Zc,e===null?Zc:e}function F0(){(ht===0||ht===3||ht===2)&&(ht=4),xt===null||!(wo&268435455)&&!(ud&268435455)||mi(xt,Ot)}function nf(e,t){var n=De;De|=2;var r=LE();(xt!==e||Ot!==t)&&(Dr=null,lo(e,t));do try{bN();break}catch(i){IE(e,i)}while(!0);if(w0(),De=n,Jc.current=r,ut!==null)throw Error(z(261));return xt=null,Ot=0,ht}function bN(){for(;ut!==null;)AE(ut)}function EN(){for(;ut!==null&&!GO();)AE(ut)}function AE(e){var t=jE(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?FE(e):ut=t,N0.current=null}function FE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vN(n,t),n!==null){n.flags&=32767,ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,ut=null;return}}else if(n=gN(n,t,rn),n!==null){ut=n;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);ht===0&&(ht=5)}function Zi(e,t,n){var r=$e,i=On.transition;try{On.transition=null,$e=1,CN(e,t,n,r)}finally{On.transition=i,$e=r}return null}function CN(e,t,n,r){do ma();while(wi!==null);if(De&6)throw Error(z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(oP(e,o),e===xt&&(ut=xt=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cu||(Cu=!0,UE(Fc,function(){return ma(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=On.transition,On.transition=null;var a=$e;$e=1;var s=De;De|=4,N0.current=null,wN(e,n),PE(n,e),zP(km),jc=!!Tm,km=Tm=null,e.current=n,_N(n),KO(),De=s,$e=a,On.transition=o}else e.current=n;if(Cu&&(Cu=!1,wi=e,tf=i),o=e.pendingLanes,o===0&&(ki=null),JO(n.stateNode),tn(e,ot()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ef)throw ef=!1,e=qm,qm=null,e;return tf&1&&e.tag!==0&&ma(),o=e.pendingLanes,o&1?e===Qm?il++:(il=0,Qm=e):il=0,Bi(),null}function ma(){if(wi!==null){var e=vb(tf),t=On.transition,n=$e;try{if(On.transition=null,$e=16>e?16:e,wi===null)var r=!1;else{if(e=wi,wi=null,tf=0,De&6)throw Error(z(331));var i=De;for(De|=4,ee=e.current;ee!==null;){var o=ee,a=o.child;if(ee.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ee=u;ee!==null;){var c=ee;switch(c.tag){case 0:case 11:case 15:nl(8,c,o)}var f=c.child;if(f!==null)f.return=c,ee=f;else for(;ee!==null;){c=ee;var d=c.sibling,h=c.return;if(ME(c),c===u){ee=null;break}if(d!==null){d.return=h,ee=d;break}ee=h}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ee=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ee=a;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,ee=p;break e}ee=o.return}}var y=e.current;for(ee=y;ee!==null;){a=ee;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ee=w;else e:for(a=y;ee!==null;){if(s=ee,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ld(9,s)}}catch(E){tt(s,s.return,E)}if(s===a){ee=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,ee=x;break e}ee=s.return}}if(De=i,Bi(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(ed,e)}catch{}r=!0}return r}finally{$e=n,On.transition=t}}return!1}function uw(e,t,n){t=Oa(n,t),t=vE(e,t,1),e=Ti(e,t,1),t=Wt(),e!==null&&(Vl(e,1,t),tn(e,t))}function tt(e,t,n){if(e.tag===3)uw(e,e,n);else for(;t!==null;){if(t.tag===3){uw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){e=Oa(n,e),e=yE(t,e,1),t=Ti(t,e,1),e=Wt(),t!==null&&(Vl(t,1,e),tn(t,e));break}}t=t.return}}function TN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&n,xt===e&&(Ot&n)===n&&(ht===4||ht===3&&(Ot&130023424)===Ot&&500>ot()-I0?lo(e,0):R0|=n),tn(e,t)}function $E(e,t){t===0&&(e.mode&1?(t=mu,mu<<=1,!(mu&130023424)&&(mu=4194304)):t=1);var n=Wt();e=Gr(e,t),e!==null&&(Vl(e,t,n),tn(e,n))}function kN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$E(e,n)}function MN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),$E(e,n)}var jE;jE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)Zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zt=!1,mN(e,t,n);Zt=!!(e.flags&131072)}else Zt=!1,We&&t.flags&1048576&&Bb(t,Wc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sc(e,t),e=t.pendingProps;var i=Ta(t,Ut.current);pa(t,n),i=k0(null,t,r,e,i,n);var o=M0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,en(r)?(o=!0,Yc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,x0(t),i.updater=sd,t.stateNode=i,i._reactInternals=t,Am(t,r,e,n),t=jm(null,t,r,!0,o,n)):(t.tag=0,We&&o&&m0(t),Ht(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ON(r),e=Un(r,e),i){case 0:t=$m(null,t,r,e,n);break e;case 1:t=J1(null,t,r,e,n);break e;case 11:t=X1(null,t,r,e,n);break e;case 14:t=Z1(null,t,r,Un(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),$m(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),J1(e,t,r,i,n);case 3:e:{if(xE(t),e===null)throw Error(z(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Gb(e,t),Gc(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Oa(Error(z(423)),t),t=ew(e,t,r,n,i);break e}else if(r!==i){i=Oa(Error(z(424)),t),t=ew(e,t,r,n,i);break e}else for(an=Ci(t.stateNode.containerInfo.firstChild),ln=t,We=!0,Vn=null,n=qb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ka(),r===i){t=Kr(e,t,n);break e}Ht(e,t,r,n)}t=t.child}return t;case 5:return Kb(t),e===null&&Rm(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Mm(r,i)?a=null:o!==null&&Mm(r,o)&&(t.flags|=32),SE(e,t),Ht(e,t,a,n),t.child;case 6:return e===null&&Rm(t),null;case 13:return bE(e,t,n);case 4:return b0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ma(t,null,r,n):Ht(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),X1(e,t,r,i,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,He(qc,r._currentValue),r._currentValue=a,o!==null)if(qn(o.value,a)){if(o.children===i.children&&!Jt.current){t=Kr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ur(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Im(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(z(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Im(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ht(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,pa(t,n),i=Pn(i),r=r(i),t.flags|=1,Ht(e,t,r,n),t.child;case 14:return r=t.type,i=Un(r,t.pendingProps),i=Un(r.type,i),Z1(e,t,r,i,n);case 15:return wE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),sc(e,t),t.tag=1,en(r)?(e=!0,Yc(t)):e=!1,pa(t,n),gE(t,r,i),Am(t,r,i,n),jm(null,t,r,!0,e,n);case 19:return EE(e,t,n);case 22:return _E(e,t,n)}throw Error(z(156,t.tag))};function UE(e,t){return hb(e,t)}function DN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,n,r){return new DN(e,t,n,r)}function $0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ON(e){if(typeof e=="function")return $0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===r0)return 11;if(e===i0)return 14}return 2}function Di(e,t){var n=e.alternate;return n===null?(n=kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cc(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")$0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ko:return uo(n.children,i,o,t);case n0:a=8,i|=8;break;case am:return e=kn(12,n,t,i|2),e.elementType=am,e.lanes=o,e;case sm:return e=kn(13,n,t,i),e.elementType=sm,e.lanes=o,e;case lm:return e=kn(19,n,t,i),e.elementType=lm,e.lanes=o,e;case Kx:return cd(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qx:a=10;break e;case Gx:a=9;break e;case r0:a=11;break e;case i0:a=14;break e;case fi:a=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=kn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function uo(e,t,n,r){return e=kn(7,e,r,t),e.lanes=n,e}function cd(e,t,n,r){return e=kn(22,e,r,t),e.elementType=Kx,e.lanes=n,e.stateNode={isHidden:!1},e}function op(e,t,n){return e=kn(6,e,null,t),e.lanes=n,e}function ap(e,t,n){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uh(0),this.expirationTimes=Uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function j0(e,t,n,r,i,o,a,s,l){return e=new PN(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=kn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},x0(o),e}function NN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Go,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function HE(e){if(!e)return Ii;e=e._reactInternals;e:{if(Io(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(en(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(en(n))return Hb(e,n,t)}return t}function VE(e,t,n,r,i,o,a,s,l){return e=j0(n,r,!0,e,i,o,a,s,l),e.context=HE(null),n=e.current,r=Wt(),i=Mi(n),o=Ur(r,i),o.callback=t??null,Ti(n,o,i),e.current.lanes=i,Vl(e,i,r),tn(e,r),e}function fd(e,t,n,r){var i=t.current,o=Wt(),a=Mi(i);return n=HE(n),t.context===null?t.context=n:t.pendingContext=n,t=Ur(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ti(i,t,a),e!==null&&(zn(e,i,a,o),ic(e,i,a)),a}function rf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function U0(e,t){cw(e,t),(e=e.alternate)&&cw(e,t)}function RN(){return null}var BE=typeof reportError=="function"?reportError:function(e){console.error(e)};function H0(e){this._internalRoot=e}dd.prototype.render=H0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));fd(e,t,null,null)};dd.prototype.unmount=H0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_o(function(){fd(null,e,null,null)}),t[Qr]=null}};function dd(e){this._internalRoot=e}dd.prototype.unstable_scheduleHydration=function(e){if(e){var t=_b();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pi.length&&t!==0&&t<pi[n].priority;n++);pi.splice(n,0,e),n===0&&xb(e)}};function V0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fw(){}function IN(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=rf(a);o.call(u)}}var a=VE(t,r,e,0,null,!1,!1,"",fw);return e._reactRootContainer=a,e[Qr]=a.current,gl(e.nodeType===8?e.parentNode:e),_o(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=rf(l);s.call(u)}}var l=j0(e,0,!1,null,null,!1,!1,"",fw);return e._reactRootContainer=l,e[Qr]=l.current,gl(e.nodeType===8?e.parentNode:e),_o(function(){fd(t,l,n,r)}),l}function pd(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=rf(a);s.call(l)}}fd(t,a,e,i)}else a=IN(n,t,e,i,r);return rf(a)}yb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=As(t.pendingLanes);n!==0&&(s0(t,n|1),tn(t,ot()),!(De&6)&&(Pa=ot()+500,Bi()))}break;case 13:_o(function(){var r=Gr(e,1);if(r!==null){var i=Wt();zn(r,e,1,i)}}),U0(e,1)}};l0=function(e){if(e.tag===13){var t=Gr(e,134217728);if(t!==null){var n=Wt();zn(t,e,134217728,n)}U0(e,134217728)}};wb=function(e){if(e.tag===13){var t=Mi(e),n=Gr(e,t);if(n!==null){var r=Wt();zn(n,e,t,r)}U0(e,t)}};_b=function(){return $e};Sb=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}};ym=function(e,t,n){switch(t){case"input":if(fm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=id(r);if(!i)throw Error(z(90));Zx(r),fm(r,i)}}}break;case"textarea":eb(e,n);break;case"select":t=n.value,t!=null&&ca(e,!!n.multiple,t,!1)}};sb=L0;lb=_o;var LN={usingClientEntryPoint:!1,Events:[Yl,ea,id,ob,ab,L0]},ws={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AN={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fb(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||RN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{ed=Tu.inject(AN),fr=Tu}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LN;pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V0(t))throw Error(z(200));return NN(e,t,null,n)};pn.createRoot=function(e,t){if(!V0(e))throw Error(z(299));var n=!1,r="",i=BE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=j0(e,1,!1,null,null,n,!1,r,i),e[Qr]=t.current,gl(e.nodeType===8?e.parentNode:e),new H0(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=fb(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return _o(e)};pn.hydrate=function(e,t,n){if(!hd(t))throw Error(z(200));return pd(null,e,t,!0,n)};pn.hydrateRoot=function(e,t,n){if(!V0(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=BE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=VE(t,null,e,1,n??null,i,!1,o,a),e[Qr]=t.current,gl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new dd(t)};pn.render=function(e,t,n){if(!hd(t))throw Error(z(200));return pd(null,e,t,!1,n)};pn.unmountComponentAtNode=function(e){if(!hd(e))throw Error(z(40));return e._reactRootContainer?(_o(function(){pd(null,null,e,!1,function(){e._reactRootContainer=null,e[Qr]=null})}),!0):!1};pn.unstable_batchedUpdates=L0;pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hd(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return pd(e,t,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function YE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YE)}catch(e){console.error(e)}}YE(),Yx.exports=pn;var Wl=Yx.exports;const FN=No(Wl);var zE,dw=Wl;zE=dw.createRoot,dw.hydrateRoot;var ve={},Na={};/**
 * @license MIT
 * doc-path <https://github.com/mrodrig/doc-path>
 * Copyright (c) 2015-present, Michael Rodrigues.
 */Object.defineProperty(Na,"__esModule",{value:!0});Na.setPath=Na.evaluatePath=void 0;function $s(e,t){if(!e)return null;const{dotIndex:n,key:r,remaining:i}=of(t),o=typeof e=="object"&&t in e?e[t]:void 0,a=typeof e=="object"&&r in e?e[r]:void 0;if(n>=0&&typeof e=="object"&&!(t in e)){const{key:s}=of(i),l=parseInt(s);return Array.isArray(a)&&isNaN(l)?a.map(u=>$s(u,i)):$s(a,i)}else if(Array.isArray(e)){const s=parseInt(r);return t===r&&n===-1&&!isNaN(s)?a:e.map(l=>$s(l,t))}else{if(n>=0&&t!==r&&typeof e=="object"&&r in e)return $s(a,i);if(n===-1&&typeof e=="object"&&r in e&&!(t in e))return a}return o}Na.evaluatePath=$s;function $N(e,t,n){if(e){if(!t)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return js(e,t,n)}Na.setPath=$N;function js(e,t,n){const{dotIndex:r,key:i,remaining:o}=of(t);if(t.startsWith("__proto__")||t.startsWith("constructor")||t.startsWith("prototype"))return e;if(r>=0){const a=parseInt(i);if(typeof e=="object"&&e!==null&&!(i in e)&&Array.isArray(e)&&!isNaN(a))return e[i]=e[i]??{},js(e[i],o,n),e;if(typeof e=="object"&&e!==null&&!(i in e)&&Array.isArray(e))return e.forEach(s=>js(s,t,n)),e;if(typeof e=="object"&&e!==null&&!(i in e)&&!Array.isArray(e)){const{key:s}=of(o),l=parseInt(s);if(!isNaN(l))e[i]=[];else{if(o==="")return e[t]=n,e;e[i]={}}}js(e[i],o,n)}else if(Array.isArray(e)){const a=parseInt(i);return t===i&&r===-1&&!isNaN(a)?(e[i]=n,e):(e.forEach(s=>js(s,o,n)),e)}else e[i]=n;return e}function of(e){const t=jN(e);return{dotIndex:t,key:e.slice(0,t>=0?t:void 0).replace(/\\./g,"."),remaining:e.slice(t+1)}}function jN(e){for(let t=0;t<e.length;t++){const n=t>0?e[t-1]:"";if(e[t]==="."&&n!=="\\")return t}return-1}var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.excelBOM=sr.defaultCsv2JsonOptions=sr.defaultJson2CsvOptions=sr.errors=void 0;sr.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}};sr.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1};sr.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1};sr.excelBOM="\uFEFF";Object.defineProperty(ve,"__esModule",{value:!0});ve.isInvalid=ve.flatten=ve.unique=ve.arrayDifference=ve.isError=XE=ve.isUndefined=GE=ve.isNull=ve.isObject=qE=ve.isString=ve.isNumber=ve.unwind=ve.getNCharacters=ve.removeEmptyFields=ve.isEmptyField=ve.computeSchemaDifferences=ve.isDateRepresentation=ve.isStringRepresentation=So=ve.deepCopy=ve.validate=ve.buildC2JOptions=ve.buildJ2COptions=void 0;const sp=Na,_i=sr,UN=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,lp=1e5;function HN(e){return{..._i.defaultJson2CsvOptions,...e,delimiter:{field:e?.delimiter?.field??_i.defaultJson2CsvOptions.delimiter.field,wrap:e?.delimiter?.wrap||_i.defaultJson2CsvOptions.delimiter.wrap,eol:e?.delimiter?.eol||_i.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:Object.create({})}}ve.buildJ2COptions=HN;function VN(e){return{..._i.defaultCsv2JsonOptions,...e,delimiter:{field:e?.delimiter?.field??_i.defaultCsv2JsonOptions.delimiter.field,wrap:e?.delimiter?.wrap||_i.defaultCsv2JsonOptions.delimiter.wrap,eol:e?.delimiter?.eol||_i.defaultCsv2JsonOptions.delimiter.eol}}}ve.buildC2JOptions=VN;function BN(e,t,n){if(!e)throw new Error(`${n.cannotCallOn} ${e}.`);if(!t(e))throw new Error(n.dataCheckFailure);return!0}ve.validate=BN;function Xm(e){return JSON.parse(JSON.stringify(e))}var So=ve.deepCopy=Xm;function YN(e,t){const n=e[0],r=e.length-1,i=e[r];return n===t.delimiter.wrap&&i===t.delimiter.wrap}ve.isStringRepresentation=YN;function zN(e){return UN.test(e)}ve.isDateRepresentation=zN;function WN(e,t){return Zm(e,t).concat(Zm(t,e))}ve.computeSchemaDifferences=WN;function WE(e){return KE(e)||QE(e)||e===""}ve.isEmptyField=WE;function qN(e){return e.filter(t=>!WE(t))}ve.removeEmptyFields=qN;function QN(e,t,n){return e.substring(t,t+n)}ve.getNCharacters=QN;function GN(e,t,n){const r=(0,sp.evaluatePath)(t,n);let i=Xm(t);Array.isArray(r)&&r.length?r.forEach(o=>{i=Xm(t),e.push((0,sp.setPath)(i,n,o))}):(Array.isArray(r)&&r.length===0&&(0,sp.setPath)(i,n,""),e.push(i))}function KN(e,t){const n=[];return e.forEach(r=>{GN(n,r,t)}),n}ve.unwind=KN;function XN(e){return!isNaN(Number(e))}ve.isNumber=XN;function ZN(e){return typeof e=="string"}var qE=ve.isString=ZN;function JN(e){return typeof e=="object"}ve.isObject=JN;function QE(e){return e===null}var GE=ve.isNull=QE;function KE(e){return typeof e>"u"}var XE=ve.isUndefined=KE;function eR(e){return Object.prototype.toString.call(e)==="[object Error]"}ve.isError=eR;function Zm(e,t){return e.filter(n=>!t.includes(n))}ve.arrayDifference=Zm;function tR(e){return[...new Set(e)]}ve.unique=tR;function nR(e){if(e.flat)return e.flat();if(e.length>lp){let t=[];for(let n=0;n<e.length;n+=lp)t=t.concat(...e.slice(n,n+lp));return t}return e.reduce((t,n)=>t.concat(n),[])}ve.flatten=nR;function rR(e){return e===1/0||e===-1/0}ve.isInvalid=rR;var Jm=(e=>(e.Paused="Paused",e.Transmitting="Transmitting",e))(Jm||{}),jt=(e=>(e.DISCONNECTED="Disconnected",e.WAITING="Waiting for PortaCount",e.RECEIVING="Receiving data",e))(jt||{}),Mt=(e=>(e.Idle="Idle",e.Testing="Testing",e.Counting="Counting",e.Disconnected="Disconnected",e))(Mt||{}),Ce=(e=>(e.MASK="mask",e.AMBIENT="ambient",e))(Ce||{}),Ee=(e=>(e.External="External",e.Internal="Internal",e.Manual="Manual",e))(Ee||{});class ZE{_connectionStatus="Disconnected";_controlSource="Internal";_sampleSource="mask";_dataTransmissionState="Transmitting";_batteryStatus="?";_pulseStatus="?";_componentVoltages=new Map;_lastLine="";_activity="Disconnected";get componentVoltages(){return this._componentVoltages}get batteryStatus(){return this._batteryStatus}set batteryStatus(t){this._batteryStatus=t}get pulseStatus(){return this._pulseStatus}set pulseStatus(t){this._pulseStatus=t}get connectionStatus(){return this._connectionStatus}set connectionStatus(t){this._connectionStatus=t}get controlSource(){return this._controlSource}set controlSource(t){this._controlSource=t}get sampleSource(){return this._sampleSource}set sampleSource(t){this._sampleSource=t}get dataTransmissionState(){return this._dataTransmissionState}set dataTransmissionState(t){this._dataTransmissionState=t}get activity(){return this._activity}set activity(t){this._activity=t}get lastLine(){return this._lastLine}set lastLine(t){this._lastLine=t}}const iR={medium:"M",small:"S",large:"L","ear loop":"earloop","head strap":"headstrap"},oR=["headstrap","earloop","adhesive"],aR=["unspecified","XXS","XS","S","M","L","XL","XXL","Kids","Adult Regular"],sR=["unknown","3M","ACI","BNX","Benehal","Blox","Bluna","Breatheteq","Champak","Drager","Envo","Flo","Gerson","Jackson","Laianzhi","Lighthouse","Omnimask","Powecom","Rackmask","Readimask","Trident","Vitacore","Vog","WellBefore","Zero","Zimi"];function iK(e){const t={},n=(e??"").replaceAll(/\s+/g," ");let i=Object.entries(iR).reduce((a,[s,l])=>a.replaceAll(new RegExp(`${s}`,"ig"),l),n),o=i.toLowerCase();return sR.find(a=>{const s=o.match(new RegExp(`\\b${a.toLowerCase()}\\b`,"i"));if(s&&s.index!==void 0){const l=s.index;return t.maker=a,o=o.slice(0,l)+o.slice(l+a.length),i=i.slice(0,l)+i.slice(l+a.length),!0}else return!1}),aR.find(a=>{const s=o.match(new RegExp(`\\b${a}\\b`,"i"));if(s&&s.index!==void 0){const l=s.index;return t.size=a,o=o.slice(0,l)+o.slice(l+a.length),i=i.slice(0,l)+i.slice(l+a.length),!0}else return!1}),oR.find(a=>{const s=o.match(new RegExp(`\\b${a}\\b`,"i"));if(s&&s.index!==void 0){const l=s.index;return t.attachmentType=a,o=o.slice(0,l)+o.slice(l+a.length),i=i.slice(0,l)+i.slice(l+a.length),!0}else return!1}),o.split(/\s+/).find(a=>CSS.supports("color",a)?(t.color=a,o=o.replace(a,""),i=i.replace(new RegExp(a,"i"),""),!0):!1),i.length>0&&(t.model=i.replaceAll(/\s+/g," ").trim(),i=""),console.debug("structuredName: ",t),`${t.maker??""} ${t.model??""} ${t.size??""} ${t.color??""} ${t.attachmentType??""} ${i}`.replaceAll(/\s+/g," ")}function Ge(e,t=!1,n=!0){const r=Math.abs(e),i=Math.round(r%1e3),o=Math.floor(r/1e3),a=o%60,s=Math.floor(o/60),l=s%60,u=Math.floor(s/60),c=n?`:${a.toString().padStart(2,"0")}`:"",f=t&&n&&i>0?`.${i.toString().padStart(3,"0")}`:"",d=u||!n;return`${e<0?"-":""}${d?`${u}:`:""}${l.toString().padStart(d?2:1,"0")}${c}${f}`}function lR(e,t=!1){return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}${t?`:${e.getSeconds().toString().padStart(2,"0")}`:""}`}function JE(e){return 100*(1-1/e)}function oK(e){const t=JE(e);return e<=100?Math.floor(Number(t)).toFixed(0):Number(t).toFixed(3)}function uR(e){switch(e){case jt.DISCONNECTED:return"connection-status status-disconnected";case jt.WAITING:return"connection-status status-waiting";case jt.RECEIVING:return"connection-status status-receiving";default:return"connection-status"}}function aK(e,t){if(!t&&!e||(e=Number(e),isNaN(e)||e<=0))return"";const n=100*(1-1/e);if(n>99)return"darkgreen";if(n>=95){const r=Math.round(100*(99-n)/4),i=100-r;return`color-mix(in oklch, yellowgreen ${r}%, darkgreen ${i}%)`}if(n>=80){const r=Math.round(100*(95-n)/15),i=100-r;return`color-mix(in oklch, darkorange ${r}%, yellowgreen ${i}%)`}if(n>0){const r=Math.round(100*(80-n)/80),i=100-r;return`color-mix(in oklch, darkred ${r}%, darkorange ${i}%)`}return console.debug("efficiency",n,"fit factor",e),"darkred"}function sK(e,t){return!t&&!e?"result-cell":(e=Number(e),isNaN(e)||e<=0?"result-cell aborted":e>=100?"result-cell very-high-fit-score":e>=33?"result-cell high-fit-score":e>=20?"result-cell moderate-fit-score":"result-cell low-fit-score")}function cR(e,t=0,n=-1){return e.slice(t,n).reduce((r,i)=>r+i,0)}function fR(...e){return eC(e)}function eC(e,t=0,n=-1){return n<0&&(n=e.length),cR(e,t,n)/(n-t)}function md(e){return isNaN(e)||XE(e)||GE(e)?"?":e<1?e.toFixed(2):e<10?e.toFixed(1):e.toFixed(0)}function up(e){if(e.length===0)return 0;const t=e.toSorted();if(t.length%2===0){const n=t.length/2;return(t[n-1]+t[n])/2}else{const n=Math.floor(t.length/2);return t[n]}}const ts=Intl.Collator("en",{sensitivity:"base"}),hw=new TextDecoder("utf-8");async function*tC(e){async function t(){const s=await e.read();return!s.done&&s.value,s}let{value:n,done:r}=await t(),i=n?hw.decode(n,{stream:!0}):"";const o=/\r\n|\n|\r/gm;let a=0;for(;;){const s=o.exec(i);if(!s){if(r)break;const u=i.substring(a);({value:n,done:r}=await t()),i=u+(n?hw.decode(n,{stream:!0}):""),a=o.lastIndex=0;continue}yield i.substring(a,s.index),a=o.lastIndex}a<i.length&&(yield i.substring(a))}function pw(e){return new ReadableStream({start(t){n().catch(r=>t.error(r));async function n(){return e.dataRequest().then(r=>r.length===0?(Cl("No data from source: closing"),t.close(),new Uint8Array):(t.enqueue(r),n()))}},cancel(){Cl("cancel() called on underlying source"),e.close()}})}class nC{_closed=!1;close(){this.closeImpl(),this._closed=!0}set closed(t){this._closed=t}get closed(){return this._closed}}class gi extends nC{static NO_MORE_DATA=new Promise(t=>t(new Uint8Array));static DEFAULT_BYTES_PER_SECOND=1200;static encoder=new TextEncoder;reader;linesSource;nextLine;lastLineTimestamp=0;buffer=new Uint8Array;bufferIndex=0;fileOrUrl;rateBytesPerSecond;lastRequestTime=0;constructor(t,n=gi.DEFAULT_BYTES_PER_SECOND){super(),this.fileOrUrl=t,this.rateBytesPerSecond=Math.max(n,1)}async dataRequest(){if(this.reader===void 0){if(typeof this.fileOrUrl=="string"?this.reader=await fetch(this.fileOrUrl).then(l=>{if(l.ok)return l.body?.getReader();throw new Error(`Failed to file: ${l.status}`)}):this.reader=this.fileOrUrl.stream().getReader(),!this.reader)return gi.NO_MORE_DATA;console.debug("simulator(file) started")}this.linesSource||(this.linesSource=tC(this.reader));let t=0;if(this.bufferIndex>=this.buffer.length){if(!this.nextLine){const c=await this.linesSource.next();if(c.done)return gi.NO_MORE_DATA;this.nextLine=c.value}const u=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)\s*(?<rest>.+)$/i.exec(this.nextLine);if(u&&u.groups){const{timestamp:c,rest:f}=u.groups,d=Date.parse(c);t=this.lastLineTimestamp?d-this.lastLineTimestamp:0,this.lastLineTimestamp=d,this.buffer=gi.encoder.encode(f+`\r
`)}else this.buffer=gi.encoder.encode(this.nextLine+`\r
`);this.bufferIndex=0,this.nextLine=void 0}let n=Date.now(),r=t;n===this.lastRequestTime&&(r+=50,n+=r,r>50&&console.debug(`simulator: next data chunk available ${Ge(r)}`));const i=n-(this.lastRequestTime||n-1e3);this.lastRequestTime=n;const o=Math.ceil(i*this.rateBytesPerSecond/1e3),a=this.bufferIndex+(this.bufferIndex+o<this.buffer.length?o:this.buffer.length),s=this.buffer?.slice(this.bufferIndex,a);return this.bufferIndex+=s.length,new Promise(l=>{r?setTimeout(()=>{l(s)},r):l(s)})}closeImpl(){}}function Cl(e){console.log(`source: ${e}`)}const vt=new class{_synth;speechEnabled=!1;_allVoices=[];selectedVoice=null;speechRate=1;constructor(){}findDefaultVoice(){const t=this.allVoices.find(n=>n.default);return t||null}findVoiceByName(e){return this.allVoices.find(t=>t.name===e)||null}ensureSynthInitialized(){this._synth||(this._synth=this.initSynth(),console.debug("init synth"))}initSynth(){const e=window.speechSynthesis;return this.updateVoiceList(e.getVoices()),e.onvoiceschanged=()=>{this.updateVoiceList(e.getVoices())},e}get synth(){return this.ensureSynthInitialized(),this._synth}updateVoiceList(e){this._allVoices=e.filter(t=>t.lang.startsWith("en")).sort((t,n)=>`${t.lang} ${t.name}`.localeCompare(`${n.lang} ${n.name}`))}setSelectedVoice(e){this.selectedVoice=e}getSelectedVoice(){return this.selectedVoice}get allVoices(){return this.ensureSynthInitialized(),this._allVoices}setSpeechEnabled(e){this.speechEnabled=e}isSayingSomething(){return this.synth.speaking}sayItLater(e){if(!this.speechEnabled)return;console.log(`say it later: ${e}`);const t=new SpeechSynthesisUtterance(e);t.voice=this.selectedVoice,t.rate=this.speechRate,this.synth.speak(t)}sayIt(e){if(!this.speechEnabled)return;console.log(`using voice ${this.selectedVoice?.name} say it ${e}`);const t=new SpeechSynthesisUtterance(e);t.voice=this.selectedVoice,t.rate=this.speechRate,this.synth.speaking?(this.synth.cancel(),setTimeout(()=>this.synth.speak(t),60)):this.synth.speak(t)}sayItPolitely(e){if(this.isSayingSomething()){console.log(`say it politely yielding. ${e}`);return}this.sayIt(e)}};class Mr{static PARTICLE_COUNT=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)?\s*(?<concentration>\d+\.\d+)\s*/;static SAMPLING_FROM_MASK=/^VF$/;static SAMPLING_FROM_AMBIENT=/^VN$/;static DATA_TRANSMISSION_DISABLED=/^ZD$/;static DATA_TRANSMISSION_ENABLED=/^ZE$/;static EXTERNAL_CONTROL=/^(OK|EJ)$/;static INTERNAL_CONTROL=/^G$/;static TURN_POWER_OFF=/^Y$/;static N95_COMPANION_PATTERN=/^Q(?<connected>[YN])/i;static SETTINGS_PATTERN=/^S.+$/}class xe{static INVOKE_EXTERNAL_CONTROL="J";static RELEASE_FROM_EXTERNAL_CONTROL="G";static TEST_TO_SEE_N95_COMPANION_IS_ATTACHED="Q";static SWITCH_VALVE_ON="VN";static SWITCH_VALVE_OFF="VF";static DISABLE_CONTINUOUS_DATA_TRANSMISSION="ZD";static ENABLE_CONTINUOUS_DATA_TRANSMISSION="ZE";static REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE="R";static REQUEST_VOLTAGE_INFO="C";static REQUEST_SETTINGS="S";static TURN_POWER_OFF="Y";static SET_MASK_SAMPLE_TIME="PTMxxvv";static SET_AMBIENT_SAMPLE_TIME="PTA00vv";static SET_MASK_SAMPLE_PURGE_TIME="PTPM0vv";static SET_AMBIENT_SAMPLE_PURGE_TIME="PTPA0vv";static SET_FIT_FACTOR_PASS_LEVEL="PPxxvvvvv";static DISPLAY_CONCENTRATION_ON_PORTACOUNT_PLUS="Dxxxxxx.xx";static DISPLAY_FIT_FACTOR_PASS_LEVEL_ON_PORTACOUNT_PLUS="Lxxxxxx";static DISPLAY_FIT_FACTOR_ON_PORTACOUNT_PLUS="Fxxxxxx.x";static DISPLAY_OVERALL_FIT_FACTOR_ON_PORTACOUNT_PLUS="Axxxxxx.x";static DISPLAY_EXERCISE_NUMBER_ON_PORTACOUNT_PLUS="Ixxxxxxxx";static CLEAR_DISPLAY_ON_PORTACOUNT_PLUS="K";static SOUND_BEEPER_INSIDE_THE_PORTACOUNT_PLUS="Bxx";static expectedCommandResponses=new Map([[xe.INVOKE_EXTERNAL_CONTROL,Mr.EXTERNAL_CONTROL]]);writer=null;encoder=new TextEncoder;verifiedToBeExternallyControllable=!1;portaCountClient;commandChain;constructor(t){this.portaCountClient=t}setWriter(t){this.writer=t}sendCommand(t,n=1){if(!this.writer){console.log("external control writer not available");return}const r=`${t}\r`,i=xe.expectedCommandResponses.get(t)||RegExp(`^${t}`),o=this.encoder.encode(r),a=()=>new Promise((s,l)=>{let u=!1,c=n,f;const d=()=>{clearTimeout(f),this.portaCountClient.removeListener(h)},h={lineReceived:p=>{(i?i.exec(p):t===p)?(u=!0,d(),s(),console.debug(`received expected response to command '${t}'`)):p.startsWith("E")&&(console.debug(`got an error response for command ${t}: ${p}`),v())}},m=()=>{console.debug(`sending command '${t}', expecting '${i}' in response, retries remaining ${c}`),this.writer.write(o)},g=()=>{f&&clearTimeout(f),f=setTimeout(v,3e3)},v=()=>{if(u){console.debug(`retry handler triggered but we've already received the expected response for command '${t}'`);return}c>0?(console.debug(`retrying command '${t}'`),c--,m(),g()):(i?l(`too many retries, giving up on command '${t}'`):(console.debug(`no explicit expected response for command '${t}', but also didn't receive any other recognized response`),s()),d())};this.portaCountClient.addListener(h),m(),c>0&&g()});this.commandChain?(console.debug(`chaining command ${t}`),this.commandChain=this.commandChain.then(a).catch(()=>{})):this.commandChain=a()}set controlSource(t){t===Ee.Internal?this.releaseManualControl():(this.assumeManualControl(),this.verifiedToBeExternallyControllable||this.verifyExternalControllability())}set sampleSource(t){t===Ce.AMBIENT?this.sampleAmbient():this.sampleMask()}assumeManualControl(){this.sendCommand(xe.INVOKE_EXTERNAL_CONTROL)}releaseManualControl(){this.sendCommand(xe.RELEASE_FROM_EXTERNAL_CONTROL)}enableDataTransmission(){this.sendCommand(xe.ENABLE_CONTINUOUS_DATA_TRANSMISSION)}disableDataTransmission(){this.sendCommand(xe.DISABLE_CONTINUOUS_DATA_TRANSMISSION)}sampleAmbient(){this.sendCommand(xe.SWITCH_VALVE_ON)}sampleMask(){this.sendCommand(xe.SWITCH_VALVE_OFF)}requestSettings(){this.sendCommand(xe.REQUEST_SETTINGS)}requestRuntimeStatus(){this.sendCommand(xe.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE)}powerOff(){this.sendCommand(xe.TURN_POWER_OFF),vt.sayItLater("Power off")}beep(t=2){this.sendCommand(`B${String(t).padStart(2,"0")}`)}verifyExternalControllability(){let t=0;const n={lineReceived(){t=Date.now()}};this.portaCountClient.addListener(n),this.beep(),this.beep(),setTimeout(()=>{this.portaCountClient.removeListener(n),Date.now()-t>3e3?console.log("Could not verify that we can externally control the device"):this.verifiedToBeExternallyControllable=!0},5e3)}}const mt=class{static PORTACOUNT_VERSION=/^PORTACOUNT\s+PLUS\S+PROM\S+(?<version>.+)/i;static COPYRIGHT=/^COPYRIGHT.+/i;static LICENSE=/^ALL\s+RIGHTS\s+RESERVED/i;static SERIAL_NUMBER=/^Serial\s+Number\s+(?<serialNumber>\d+)/i;static PASS_LEVEL=/^FF\s+pass\s+level\s+(?<passLevel>\d+)/i;static NUM_EXERCISES=/^No\.\s+of\s+exers\s*=\s*(?<num_exercises>\d+)/i;static AMBIENT_PURGE=/^Ambt\s+purge\s*=\s*(?<ambientPurgeTime>\d+)/i;static AMBIENT_SAMPLE=/^Ambt\s+sample\s*=\s*(?<ambientSampleTime>\d+)/i;static MASK_PURGE=/^Mask\s+purge\s*=\s*(?<maskPurgeTime>\d+)/i;static MASK_SAMPLE=/^Mask\s+sample\s+(?<exerciseNumber>\d+)\s*=\s*(?<maskSampleTime>\d+)/i;static DIP_SWITCH=/^DIP\s+switch\s+=\s+(?<dipSwitchBits>\d+)/i;static COUNT_READING=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)?\s*Conc\.\s+(?<concentration>[\d.]+)/i;static NEW_TEST=/^NEW\s+TEST\s+PASS\s*=\s*(?<passLevel>\d+)/i;static AMBIENT_READING=/^Ambient\s+(?<concentration>[\d.]+)/i;static MASK_READING=/^Mask\s+(?<concentration>[\d+.]+)/i;static FIT_FACTOR=/^FF\s+(?<exerciseNumber>\d+)\s+(?<fitFactor>[\d.]+)\s+(?<result>.+)/;static TEST_TERMINATED=/^Test\s+Terminated/i;static OVERALL_FIT_FACTOR=/^Overall\s+FF\s+(?<fitFactor>[\d.]+)\s+(?<result>.+)/i;static LOW_PARTICLE_COUNT=/^(?<concentration>\d+)\/cc\s+Low\s+Particle\s+Count/i;static BATTERY_AND_PULSE_STATUS=/^R(?<battery>.)(?<pulse>.)$/;static VOLTAGE_INFO=/^(?<component>C[SBTCLPD])(?<value>.+)$/;static Setting=class{static Timing=class{static AMBIENT_PURGE=/^STPA\s+(?<duration>\d+)/i;static MASK_PURGE=/^STPM\s+(?<duration>\d+)/i;static AMBIENT_SAMPLE=/^STA\s+(?<duration>\d+)/i;static MASK_SAMPLE=/^STM(?<exercise_num>\d\d)(?<duration>\d+)/i};static FF_PASS_LEVEL=/^SP\s+(?<index>\d\d)(?<score>\d+)/i;static SERIAL_NUMBER=/^SS\s+(?<serial_number>\d+)/i;static RUN_TIME_SINCE_FACTORY_SERVICE=/^SR\s+(?<runtime>\d+)/i;static LAST_SERVICE_DATE=/^SD\s+0(?<month>\d\d)(?<year>\d\d)/i}};class gn{_timestamp;constructor(){this._timestamp=Date.now()}get timestamp(){return this._timestamp}asOf(t){return this._timestamp=t,this}}class mw extends gn{line;constructor(t){super(),this.line=t}}class cp extends gn{sampleSource;constructor(t){super(),this.sampleSource=t}}class fp extends gn{dataTransmissionState;constructor(t){super(),this.dataTransmissionState=t}}class dp extends gn{source;constructor(t){super(),this.source=t}}class gw extends gn{constructor(){super()}}class sa extends gn{sampleSource;controlSource;concentration;constructor(t,n,r){super(),this.concentration=t,this.sampleSource=n,this.controlSource=r}}class hp extends gn{ff;exerciseNum;result;constructor(t,n,r){super(),this.ff=t,this.exerciseNum=n,this.result=r}}class vw extends gn{constructor(){super()}}class yw extends gn{constructor(){super()}}class ku extends gn{connectionStatus;constructor(t){super(),this.connectionStatus=t}}class ww extends gn{activity;constructor(t){super(),this.activity=t}}class jn extends gn{settings;constructor(t){super(),this.settings=t}}class pp extends gn{state;constructor(t){super(),this.state=t}}class dR{numExercises=4;ambientPurge=0;maskPurge=0;ambientSample=0;maskSample=new Map;fitFactorPassLevel=new Map;serialNumber="?";runTimeSinceFactoryServiceSeconds=0;lastServiceDate=new Date(0)}class hR{_externalController;listeners=[];_state=new ZE;_settings=new dR;_baudRate=1200;_syncOnConnect=!1;constructor(){console.log("PortaCountClient8020 constructor called"),this._externalController=new xe(this),this.addListener(this.stateUpdatingListener)}get baudRate(){return this._baudRate}set baudRate(t){this._baudRate=t}get syncOnConnect(){return this._syncOnConnect}set syncOnConnect(t){this._syncOnConnect=t}get externalController(){return this._externalController}get settings(){return this._settings}get state(){return this._state}setActivity(t){this.state.activity=t,this.dispatch(new ww(t))}stateUpdatingListener={connectionStatusChanged:t=>{this.state.connectionStatus=t},controlSourceChanged:t=>{this.state.controlSource=t},sampleSourceChanged:t=>{this.state.sampleSource=t},dataTransmissionStateChanged:t=>{this.state.dataTransmissionState=t},lineReceived:t=>{this.state.lastLine=t}};async monitor(t){this.dispatch(new ku(jt.WAITING));for await(const n of tC(t))this.state.connectionStatus===jt.WAITING&&this.dispatch(new ku(jt.RECEIVING)),n.trim().length>0&&(this.dispatch(new mw(n)),this.processLine(n));this.setActivity(Mt.Disconnected),this.dispatch(new ku(jt.DISCONNECTED)),console.log("monitor reached end of reader")}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case ww.name:{n.activityChanged&&n.activityChanged(t.activity);break}case sa.name:{n.particleConcentrationReceived&&n.particleConcentrationReceived(t);break}case vw.name:{this.setActivity(Mt.Idle),n.testTerminated&&n.testTerminated();break}case yw.name:{this.setActivity(Mt.Idle),n.testCompleted&&n.testCompleted();break}case hp.name:{n.fitFactorResultsReceived&&n.fitFactorResultsReceived(t);break}case gw.name:{n.testStarted&&n.testStarted(t.timestamp);break}case dp.name:{n.controlSourceChanged&&n.controlSourceChanged(t.source);break}case fp.name:{n.dataTransmissionStateChanged&&n.dataTransmissionStateChanged(t.dataTransmissionState);break}case mw.name:{n.lineReceived&&n.lineReceived(t.line);break}case cp.name:{n.sampleSourceChanged&&n.sampleSourceChanged(t.sampleSource);break}case ku.name:{if(n.connectionStatusChanged){const r=t;n.connectionStatusChanged(r.connectionStatus)}break}case pp.name:{n.stateChanged&&n.stateChanged(t.state);break}case jn.name:{n.settingsChanged&&n.settingsChanged(t.settings);break}default:console.error(`unsupported event: ${JSON.stringify(t)}`)}})}processConcentration(t,n){this.state.activity!==Mt.Testing&&this.setActivity(Mt.Counting);const r=Number(t.concentration),i=this.state.sampleSource,o=new sa(r,i,n),a=t.timestamp;a&&o.asOf(Date.parse(a)),this.dispatch(o)}orderedLineProcessors=[[Mr.PARTICLE_COUNT,t=>{this.processConcentration(t,Ee.External)}],[mt.COUNT_READING,t=>{this.processConcentration(t,Ee.Internal)}],[mt.AMBIENT_READING,t=>{const n=t.concentration;n&&this.dispatch(new sa(Number(n),Ce.AMBIENT,Ee.Internal))}],[mt.MASK_READING,t=>{const n=t.concentration;n&&this.dispatch(new sa(Number(n),Ce.MASK,Ee.Internal))}],[mt.FIT_FACTOR,t=>{this.setActivity(Mt.Testing);const n=Number(t.fitFactor),r=Number(t.exerciseNumber),i=t.result;this.dispatch(new hp(n,r,i)),this._settings.numExercises<r&&(this._settings.numExercises=r,this.dispatch(new jn(this._settings)))}],[mt.NEW_TEST,()=>{this.setActivity(Mt.Testing),this.dispatch(new gw)}],[mt.TEST_TERMINATED,()=>{this.setActivity(Mt.Idle),this.dispatch(new vw)}],[mt.OVERALL_FIT_FACTOR,t=>{this.setActivity(Mt.Idle);const n=Number(t.fitFactor),r=t.result;this.dispatch(new hp(n,"Final",r)),this.dispatch(new yw)}],[Mr.SAMPLING_FROM_MASK,()=>{this.dispatch(new cp(Ce.MASK))}],[Mr.SAMPLING_FROM_AMBIENT,()=>{this.dispatch(new cp(Ce.AMBIENT))}],[Mr.EXTERNAL_CONTROL,()=>{this.dispatch(new dp(Ee.External))}],[Mr.INTERNAL_CONTROL,()=>{this.dispatch(new dp(Ee.Internal))}],[Mr.DATA_TRANSMISSION_DISABLED,()=>{this.dispatch(new fp(Jm.Paused))}],[Mr.DATA_TRANSMISSION_ENABLED,()=>{this.dispatch(new fp(Jm.Transmitting))}],[mt.Setting.FF_PASS_LEVEL,t=>{this._settings.fitFactorPassLevel.set(Number(t.index),Number(t.score)),this.dispatch(new jn(this._settings))}],[mt.Setting.Timing.MASK_SAMPLE,t=>{this._settings.maskSample.set(Number(t.exercise_num),Number(t.duration)),this.dispatch(new jn(this._settings))}],[mt.VOLTAGE_INFO,t=>{this._state.componentVoltages.set(t.component,Number(t.value)),this.dispatch(new pp(this._state))}],[mt.Setting.Timing.MASK_PURGE,t=>{this._settings.maskPurge=Number(t.duration),this.dispatch(new jn(this._settings))}],[mt.Setting.Timing.AMBIENT_SAMPLE,t=>{this._settings.ambientSample=Number(t.duration),this.dispatch(new jn(this._settings))}],[mt.Setting.Timing.AMBIENT_PURGE,t=>{this._settings.ambientPurge=Number(t.duration),this.dispatch(new jn(this._settings))}],[mt.BATTERY_AND_PULSE_STATUS,t=>{this._state.batteryStatus=t.battery==="G"?"Good":"Bad",this._state.pulseStatus=t.pulse==="G"?"Good":"Bad",this.dispatch(new pp(this._state))}],[mt.Setting.SERIAL_NUMBER,t=>{this._settings.serialNumber=t.serial_number,this.dispatch(new jn(this._settings))}],[mt.Setting.LAST_SERVICE_DATE,t=>{const n=Number(t.month)-1,r=Number(t.year),i=r+(r<61?2e3:1900);this._settings.lastServiceDate=new Date(i,n),this.dispatch(new jn(this._settings))}],[mt.Setting.RUN_TIME_SINCE_FACTORY_SERVICE,t=>{this._settings.runTimeSinceFactoryServiceSeconds=10*60*Number(t.runtime),this.dispatch(new jn(this._settings))}],[mt.NUM_EXERCISES,t=>{this._settings.numExercises=Number(t.num_exercises),this.dispatch(new jn(this._settings))}]];processLine(t){if(t.length===0)return;const n=t;this.orderedLineProcessors.find(([i,o])=>{const a=i.exec(n);return a?(a.groups?o(a.groups):o({}),!0):!1})||(n.match(/^E/)?console.warn(`error: ${n}`):n.match(/^W/)?console.warn(`write protected: ${n}`):console.warn(`portacount client: no parser for line: ${n}`))}connect(t){console.debug(`portacount client connect(${JSON.stringify(t)})`),t.connected&&t.readable?(console.debug("portacount client connect, connected; setting up reader and writer"),t.readable&&this.monitor(t.readable.getReader()),t.writable&&(this.externalController.setWriter(t.writable.getWriter()),this.syncOnConnect&&(console.debug("sync on connect"),this.waitUntilPortaCountIsReady().then(()=>{this.syncState()}).catch(n=>{console.warn(n)})))):(console.debug("portacount client connect not connected, attempting to connect..."),t.open({baudRate:Number(this.baudRate)}).then(()=>{console.log(`port opened: ${JSON.stringify(t.getInfo())}`),this.connect(t)}))}async waitUntilPortaCountIsReady(){return new Promise((t,n)=>{const r=Date.now(),i=setInterval(()=>{const s=Date.now()-r;console.debug(`elapsed ${s}`),s>65e3?(clearInterval(i),n(`waited too long for PortaCount to become ready. Elapsed ${Ge(s)}.`)):this.externalController.sendCommand(xe.INVOKE_EXTERNAL_CONTROL,0)},1e3),o=()=>{this.removeListener(a),clearInterval(i),console.debug("PortaCount is ready."),t()},a={controlSourceChanged:s=>{s===Ee.External&&o()},lineReceived:s=>{Mr.N95_COMPANION_PATTERN.exec(s)&&o()}};this.addListener(a)})}syncState(){this.externalController.enableDataTransmission(),this.externalController.requestRuntimeStatus(),this.externalController.requestSettings(),this.externalController.sendCommand(xe.REQUEST_VOLTAGE_INFO),this.externalController.beep(1),this.externalController.beep(1),this.externalController.beep(1)}}var Mn=(e=>(e.SAMPLE="sample",e.PURGE="purge",e.IDLE="idle",e))(Mn||{});class ql{}class _w extends ql{newSegment;constructor(t){super(),this.newSegment=t}}class Sw extends ql{segment;constructor(t){super(),this.segment=t}}class xw extends ql{}class bw extends ql{}class Ew extends ql{}class pR{MILLIS_PER_SECOND=1e3;_portaCountClient;controller;listeners=[];_timerId;_segments=[];_currentSegment;_lastAmbientSegment;dataCollector;_protocolStartTime=null;constructor(t,n){this._portaCountClient=t,this.dataCollector=n,this.controller=t.externalController,this._portaCountClient.addListener(this.getPortaCountListener())}getPortaCountListener(){return{controlSourceChanged:n=>{n===Ee.Internal&&this.cancel()},particleConcentrationReceived:n=>{if(n.controlSource!==Ee.Internal&&this.protocolStartTime){if(!this.currentSegment){console.warn("protocol executor test is in progress but no current segment (shouldn't happen).");return}if(this.currentSegment.source!==n.sampleSource){console.debug(`segment expecting data to be from source ${this.currentSegment.source} but received data from ${n.sampleSource}. ignoring.`);return}this.currentSegment.data.length===0&&this.startSegment(this.currentSegment),this.currentSegment.data.push(n),this.dispatch(new Sw(this.currentSegment))}}}}startSegment(t){console.log(`starting segment ${JSON.stringify(t)}`),this.startTimer(()=>{this.closeSegment(t),this.executeSegment(t.index+1)},t.duration)}get segments(){return this._segments}set segments(t){this._segments=So(t)}get protocolStartTime(){return this._protocolStartTime}set protocolStartTime(t){this._protocolStartTime=t}get lastAmbientSegment(){return this._lastAmbientSegment}set lastAmbientSegment(t){this._lastAmbientSegment=t}get currentSegment(){return this._currentSegment}set currentSegment(t){t&&(t.segmentStartTimeMs=Date.now()),this._currentSegment=t,this.dispatch(new _w(t))}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}startTimer(t,n){this._timerId=setTimeout(t,n*this.MILLIS_PER_SECOND)}stopTimer(){clearTimeout(this._timerId),this._timerId=void 0}protocolIsExecuting(){return this.protocolStartTime!==null&&this._timerId!==void 0}async executeProtocol(t){if(this.protocolIsExecuting()){console.log("protocol execution in progress (can't start another protocol)");return}this.controller.assumeManualControl(),this.lastAmbientSegment=void 0,this.segments=t;const n=new Date;this.protocolStartTime=n.getTime(),await this.dataCollector.recordTestStart(Ee.External,n.toLocaleString()),this.executeSegment(0),this.controller.beep(),this.dispatch(new xw)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case Sw.name:{n.segmentDataUpdated&&n.segmentDataUpdated(t.segment);break}case _w.name:{n.segmentChanged&&n.segmentChanged(t.newSegment);break}case xw.name:{n.started&&n.started();break}case bw.name:{n.cancelled&&n.cancelled();break}case Ew.name:{n.completed&&n.completed();break}default:console.warn(`Unhandled event in dispatcher: ${t.constructor.name}`)}})}executeSegment(t){if(t>=this._segments.length){console.log("no more segments (test completed)"),this.stopTimer();const r=this.calculateFinalFitFactor();this.dataCollector.recordExerciseResult("Final",r),this.dataCollector.recordTestComplete(),this.dataCollector.setInstructions(`Test completed; final score: ${md(r)}`),this.dispatch(new Ew),this.controller.beep(),this.controller.beep();return}const n=this._segments[t];this.currentSegment=n,console.log(`staging segment ${JSON.stringify(n)}`),n.source===Ce.AMBIENT?this.controller.sampleAmbient():n.source===Ce.MASK?this.controller.sampleMask():console.warn(`executeSegment(): unexpected source: ${n.source}`),n.duration>0&&(n.exerciseNumber?this.dataCollector.setInstructions(`Perform exercise ${n.exerciseNumber}: ${n.stage.instructions}`):this.dataCollector.setInstructions("Breathe normally"))}cancel(){this.stopTimer(),this.protocolStartTime=null,console.log("cancelling protocol"),this.dataCollector.recordTestAborted(),this.dispatch(new bw),this.controller.beep()}calculateFinalFitFactor(){const t=this.segments.filter(n=>n.calculatedScore!==void 0);return t.length/t.reduce((n,r)=>n+1/r.calculatedScore,0)}closeSegment(t){if(t.source===Ce.AMBIENT){if(t.state==="sample"){const n=vi(t);if(this.dataCollector.recordParticleCount(new sa(n,t.source,Ee.External)),this.lastAmbientSegment){const r=fR(vi(this.lastAmbientSegment),n);for(let i=t.index-1;i>this.lastAmbientSegment.index;i--){const o=this.segments[i];if(o.state==="sample"){const a=r/vi(o);console.debug(`updating ex ${o.exerciseNumber} score from ${o.calculatedScore} to ${a}`),o.calculatedScore=a,this.dataCollector.recordExerciseResult(o.exerciseNumber??0,o.calculatedScore)}}}this.lastAmbientSegment=t}}else if(t.source===Ce.MASK&&t.state==="sample"){const n=vi(t);this.dataCollector.recordParticleCount(new sa(n,t.source,Ee.External)),this.lastAmbientSegment?(t.calculatedScore=vi(this.lastAmbientSegment)/n,this.dataCollector.recordExerciseResult(t.exerciseNumber??0,t.calculatedScore),this.controller.beep()):console.error("mask segment completed, but there was no last ambient segment.")}}}function vi(e){return Math.max(.01,e.data.reduce((t,n)=>t+n.concentration,0)/e.data.length)}const yt={defaultAmbientPurgeDuration:4,defaultAmbientSampleDuration:5,defaultMaskPurgeDuration:4,defaultMaskSampleDuration:40};function mR(e){return typeof e=="string"?e:e.instructions??e.i??e.instructions??e.i??"oops no instructions?!"}function gR(e){return typeof e=="string"?yt.defaultAmbientSampleDuration:e.ambient_sample??e.as??e.ambient_duration??e.a??yt.defaultAmbientSampleDuration}function vR(e){return typeof e=="string"?yt.defaultMaskSampleDuration:e.mask_sample??e.ms??e.sample_duration??e.s??yt.defaultMaskSampleDuration}function yR(e){if(typeof e=="string")return yt.defaultAmbientPurgeDuration;let t;return(t=e.ambient_purge)!==void 0||(t=e.ap)!==void 0||(t=e.purge_duration)!==void 0||(t=e.p)!==void 0?t:e.ambient_duration===0||e.a===0?0:yt.defaultAmbientPurgeDuration}function wR(e){if(typeof e=="string")return yt.defaultMaskPurgeDuration;let t;return(t=e.mask_purge)!==void 0||(t=e.mp)!==void 0||(t=e.purge_duration)!==void 0||(t=e.p)!==void 0?t:e.sample_duration===0||e.s===0?0:yt.defaultMaskPurgeDuration}function _R(e){return e.some(t=>typeof t!="string")}function SR(e){const t={};return Object.entries(e).forEach(([n,r])=>{const i=[];t[n]=i,r.forEach(o=>{i.push({instructions:mR(o),ambient_sample:gR(o),mask_sample:vR(o),ambient_purge:yR(o),mask_purge:wR(o)})}),_R(r)||i.push({instructions:"Finalizing",ambient_purge:yt.defaultAmbientPurgeDuration,ambient_sample:yt.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0})}),t}var qe=(e=>(e.NotInitialized="NotInitialized",e.Simulator="Simulator",e.SimulatorFile="Simulator-file",e.WebSerial="WebSerial",e.WebUsbSerial="WebUsbSerial",e.Manual="Manual",e))(qe||{}),xR={space:"",cycles:!1,replacer:(e,t)=>t,stringify:JSON.stringify},Lo={isArray:Array.isArray,assign:Object.assign,isObject:e=>typeof e=="object",isFunction:e=>typeof e=="function",isBoolean:e=>typeof e=="boolean",isRegex:e=>e instanceof RegExp,keys:Object.keys};const _s=xR,bR=Lo.isFunction,ER=Lo.isBoolean,CR=Lo.isObject,TR=Lo.isArray,kR=Lo.isRegex,MR=Lo.assign,DR=Lo.keys;function OR(e){return e==null?e:kR(e)?e.toString():e.toJSON?e.toJSON():e}function PR(e,t){t=t||MR({},_s),bR(t)&&(t={compare:t});const n=t.space||_s.space,r=ER(t.cycles)?t.cycles:_s.cycles,i=t.replacer||_s.replacer,o=t.stringify||_s.stringify,a=t.compare&&function(l){return function(u){return function(c,f){const d={key:c,value:u[c]},h={key:f,value:u[f]};return l(d,h)}}}(t.compare);r||o(e);const s=[];return function l(u,c,f,d){const h=n?`
`+new Array(d+1).join(n):"",m=n?": ":":";if(f=OR(f),f=i.call(u,c,f),f!==void 0){if(!CR(f)||f===null)return o(f);if(TR(f)){const g=[];for(let v=0;v<f.length;v++){const p=l(f,v,f[v],d+1)||o(null);g.push(h+n+p)}return"["+g.join(",")+h+"]"}else{if(r){if(s.indexOf(f)!==-1)return o("[Circular]");s.push(f)}const g=DR(f).sort(a&&a(f)),v=[];for(let p=0;p<g.length;p++){const y=g[p],w=l(f,y,f[y],d+1);if(!w)continue;const x=o(y)+m+w;v.push(h+n+x)}return s.splice(s.indexOf(f),1),"{"+v.join(",")+h+"}"}}}({"":e},"",e,0)}var NR=PR;const RR=No(NR);class IR{cache=new Map;defaults=new Map;listeners=[];getStorageKey(t){return`config-${t}`}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners=this.listeners.filter(n=>t!==n)}setDefaults(t){t.forEach(n=>{this.setDefault(n.name,n.value)})}setDefault(t,n){this.defaults.set(t,n)}getConfig(t,n={}){const r=this.getStorageKey(t);if(!this.cache.has(t)){const i=localStorage.getItem(r),o=i===null?this.getDefaultValue(t,n):JSON.parse(i);this.cache.set(t,o)}return this.cache.get(t)}getDefaultValue(t,n={}){const r=this.defaults.has(t)?this.defaults.get(t):n;return r===void 0&&console.warn(`No default value for ${t}, using ""`),r}setConfig(t,n){this.cache.get(t)!==n&&(this.cache.set(t,n),localStorage.setItem(this.getStorageKey(t),RR(n)),this.dispatch(t,n))}dispatch(t,n){this.listeners.forEach(r=>{r.subscriptions().includes(t)&&(async()=>r.configChanged(t,n))()})}}const la=new IR,LR=_.createContext(la);var j=(e=>(e.SPEECH_ENABLED="speech-enabled",e.ADVANCED_MODE="advanced-mode",e.SPEECH_VOICE="speech-voice",e.VERBOSE="verbose",e.SAY_PARTICLE_COUNT="say-particle-count",e.RESULTS_TABLE_SORT="results-table-sort",e.PARTICIPANT_RESULTS_TABLE_SORT="participant-results-table-sort",e.SAY_ESTIMATED_FIT_FACTOR="say-estimated-fit-factor",e.SHOW_EXTERNAL_CONTROL="show-external-control",e.BAUD_RATE="baud-rate",e.PROTOCOL_INSTRUCTION_SETS="protocol-instruction-sets",e.SELECTED_PROTOCOL="selected-protocol",e.KEEP_SCREEN_AWAKE="keep-screen-awake",e.TEST_TEMPLATE="test-template",e.ENABLE_SIMULATOR="enable-simulator",e.ENABLE_AUTO_CONNECT="enable-auto-connect",e.SIMULATOR_FILE_SPEED="simulator-file-speed",e.SELECTED_DATA_SOURCE="selected-data-source",e.SYNC_DEVICE_STATE_ON_CONNECT="sync-device-state-on-connect",e.MINUTES_ALLOTTED_PER_PARTICIPANT="minutes-allotted-per-participant",e.EVENT_END_HHMM="event-end-hhmm",e.SHOW_ELAPSED_PARTICIPANT_TIME="show-elapsed-participant-time",e.SHOW_REMAINING_EVENT_TIME="show-remaining-event-time",e.AUTO_CREATE_FAST_PROTOCOLS="auto-create-fast-protocols",e.LAST_KNOWN_SETTINGS_KEYS_HASH="last-known-settings-keys-hash",e.USE_COMPACT_UI="use-compact-ui",e.ENABLE_WEB_SERIAL_DRIVERS="enable-webserial-drivers",e.ENABLE_PROTOCOL_EDITOR="enable-protocol-editor",e.ENABLE_QR_CODE_SCANNER="enable-qr-code-scanner",e.ENABLE_STATS="enable-stats",e.ENABLE_TEST_INSTRUCTIONS_ZOOM="enable-test-instructions-zoom",e.BOOKMARKS="bookmarks",e.MASK_LIST="mask-list",e.PARTICIPANT_LIST="participant-list",e.AUTO_UPDATE_MASK_LIST="auto-update-mask-list",e.COLOR_SCHEME="color-scheme",e.STATS_FIRST_DATE="so-stats-first-date",e.STATS_LAST_DATE="so-stats-last-date",e.RESULTS_TABLE_FILTER="so-results-table-filter",e.PARTICIPANT_RESULTS_TABLE_FILTER="so-participant-results-table-filter",e.COMBINED_MASK_LIST="so-combined-mask-list",e.COMBINED_PARTICIPANT_LIST="so-combined-participant-list",e.TEST_NOTES="so-test-notes",e.CONTROL_SOURCE_IN_VIEW="so-control-source-in-view",e.SAMPLE_SOURCE_IN_VIEW="so-sample-source-in-view",e.CONNECTION_STATUS_IN_VIEW="so-connection-status-in-view",e.ACTIVITY="so-activity",e.ZOOM_INSTRUCTIONS="so-zoom-instructions",e.DEFAULT_TO_PREVIOUS_PARTICIPANT="default-to-previous-participant",e.AUTO_ESTIMATE_FIT_FACTOR="auto-estimate-fit-factor",e.SHOW_PROTOCOL_EDITOR="show-protocol-editor",e.SHOW_SIMPLE_PROTOCOL_EDITOR="show-simple-protocol-editor",e.SHOW_SETTINGS="show-settings",e.SHOW_LOG_PANELS="show-log-panels",e.SHOW_HISTORICAL_TESTS="show-historical-tests",e.SHOW_CURRENT_TEST_PANEL="show-current-test-panel",e))(j||{});const eg={"speech-enabled":!1,"advanced-mode":!1,"speech-voice":"default",verbose:!1,"say-particle-count":!1,"results-table-sort":[{id:"ID",desc:!0}],"participant-results-table-sort":[{id:"ID",desc:!0}],"auto-estimate-fit-factor":!1,"say-estimated-fit-factor":!1,"show-external-control":!1,"baud-rate":1200,"protocol-instruction-sets":{json:{w1:["Normal breathing. Breathe normally","Heavy breathing. Take deep breaths.",["Jaw movement.","Read the rainbow passage:","When the sunlight strikes raindrops in the air, they act as a prism and form a rainbow.","The rainbow is a division of white light into many beautiful colors.","These take the shape of a long round arch, with its path high above,","and its two ends apparently beyond the horizon.","There is, according to legend, a boiling pot of gold at one end.","People look, but no one ever finds it.","When a man looks for something beyond his reach,","his friends say he is looking for the pot of gold at the end of the rainbow."].join(" "),"Head movement. Look up, down, left, and right. Repeat."],"Modified CNC Fit Protocol (B)":[{instructions:"prep",ambient_purge:4,ambient_sample:20,mask_purge:0,mask_sample:0},{instructions:"Bending over. Bend at the waist as if going to touch your toes. Inhale 2 times at the bottom.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:["Talking.","Talk out loud slowly and loud enough to be head by the test administrator.","Count backwards from 100,","or read the Rainbow Passage:","When the sunlight strikes raindrops in the air, they act as a prism and form a rainbow.","The rainbow is a division of white light into many beautiful colors.","These take the shape of a long round arch, with its path high above,","and its two ends apparently beyond the horizon.","There is, according to legend, a boiling pot of gold at one end.","People look, but no one ever finds it.","When a man looks for something beyond his reach,","his friends say he is looking for the pot of gold at the end of the rainbow."].join(" "),ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"Head side-to-side. Slowly turn head from side to side. Inhale 2 times at each extreme.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"Head up-and-down. Slowly move head up and down. Inhale 2 times at each extreme.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"finalize",ambient_purge:4,ambient_sample:9,mask_purge:0,mask_sample:0}],osha:["Normal breathing. In a normal standing position, without talking, the subject shall breathe normally","Deep breathing. In a normal standing position, the subject shall breathe slowly and deeply, taking caution so as not to hyperventilate","Turning head side to side. Standing in place, the subject shall slowly turn his/her head from side to side between the extreme positions on each side. The head shall be held at each extreme momentarily so the subject can inhale at each side.","Moving head up and down. Standing in place, the subject shall slowly move his/her head up and down. The subject shall be instructed to inhale in the up position (i.e., when looking toward the ceiling).","Talking. The subject shall talk out loud slowly and loud enough so as to be heard clearly by the test conductor. The subject can read from a prepared text such as the Rainbow Passage, count backward from 100, or recite a memorized poem or song.","Grimace. The test subject shall grimace by smiling or frowning. (This applies only to QNFT testing; it is not performed for QLFT)","Bending over. The test subject shall bend at the waist as if he/she were to touch his/her toes. Jogging in place shall be substituted for this exercise in those test environments such as shroud type QNFT or QLFT units that do not permit bending over at the waist.","Normal breathing. Same as exercise (1)."],Singing:[{ambient_purge:4,ambient_sample:20,instructions:"prep",mask_purge:0,mask_sample:0},{ambient_purge:0,ambient_sample:0,instructions:"Sing!",mask_purge:4,mask_sample:240},{ambient_purge:4,ambient_sample:9,instructions:"finalize",mask_purge:0,mask_sample:0}]}},"selected-protocol":"w1","keep-screen-awake":!0,"test-template":{},"enable-simulator":!1,"enable-auto-connect":!0,"simulator-file-speed":300,"selected-data-source":qe.WebSerial,"sync-device-state-on-connect":!1,"minutes-allotted-per-participant":20,"event-end-hhmm":"13:30","show-elapsed-participant-time":!1,"show-remaining-event-time":!1,"auto-create-fast-protocols":!1,"last-known-settings-keys-hash":"","use-compact-ui":!0,"enable-webserial-drivers":!1,"enable-protocol-editor":!1,"enable-qr-code-scanner":!1,"enable-stats":!1,"enable-test-instructions-zoom":!1,bookmarks:{},"mask-list":[],"participant-list":[],"auto-update-mask-list":!0,"color-scheme":"auto","so-stats-first-date":new Date(0),"so-stats-last-date":new Date,"so-results-table-filter":[],"so-participant-results-table-filter":[],"so-combined-mask-list":[],"so-combined-participant-list":[],"so-test-notes":[],"so-control-source-in-view":!0,"so-sample-source-in-view":!0,"so-connection-status-in-view":!0,"so-activity":Mt.Disconnected,"so-zoom-instructions":!1,"default-to-previous-participant":!1,"show-protocol-editor":!1,"show-simple-protocol-editor":!1,"show-settings":!1,"show-log-panels":!1,"show-historical-tests":!1,"show-current-test-panel":!1};function rC(e){return e.source===Ce.MASK&&e.state===Mn.SAMPLE}function iC(e){return af(e).reduce((t,n)=>t+(rC(n)?1:0),0)}class AR{_protocolStages=[];_protocolSegments=[];numExercisesForProtocol={};_listenerMap=new Map;constructor(){this.addListener({subscriptions:()=>[j.SELECTED_PROTOCOL],settingsChanged:(t,n)=>{t===j.SELECTED_PROTOCOL&&this.updateProtocolStages(n)}}),this.addListener({subscriptions:()=>[j.ENABLE_SIMULATOR],settingsChanged:(t,n)=>{t===j.ENABLE_SIMULATOR&&!n&&[qe.Simulator,qe.SimulatorFile].includes(this.getSetting(j.SELECTED_DATA_SOURCE))&&this.saveSetting(j.SELECTED_DATA_SOURCE,eg[j.SELECTED_DATA_SOURCE])}}),this.addListener({subscriptions:()=>[j.SHOW_EXTERNAL_CONTROL],settingsChanged:(t,n)=>{t===j.SHOW_EXTERNAL_CONTROL&&(n||this.saveSetting(j.SYNC_DEVICE_STATE_ON_CONNECT,!1))}}),this.addListener({subscriptions:()=>[j.SYNC_DEVICE_STATE_ON_CONNECT],settingsChanged:(t,n)=>{t===j.SYNC_DEVICE_STATE_ON_CONNECT&&n&&!this.getSetting(j.SHOW_EXTERNAL_CONTROL)&&setTimeout(()=>{this.saveSetting(j.SYNC_DEVICE_STATE_ON_CONNECT,!1)},200)}})}addListener(t){const n={subscriptions:()=>t.subscriptions?t.subscriptions():[],configChanged(r,i){t.settingsChanged&&t.settingsChanged(r,i)}};this._listenerMap.set(t,n),la.addListener(n)}removeListener(t){const n=this._listenerMap.get(t);n&&la.removeListener(n)}getDefault(t){return eg[t]}get selectedProtocol(){return this.getSetting(j.SELECTED_PROTOCOL)}set selectedProtocol(t){console.log(`set selected protocol ${t}`),t in this.protocolDefinitions?this.saveSetting(j.SELECTED_PROTOCOL,t):console.log(`trying to set an invalid protocol name: ${t}, ignoring`)}get protocolStages(){return this._protocolStages}set protocolStages(t){this._protocolStages=t}get protocolSegments(){return this._protocolSegments}get eventEndTime(){const t=new Date,[n,r]=this.getSetting(j.EVENT_END_HHMM).split(":");return t.setHours(Number(n),Number(r),0,0),t}set eventEndTime(t){const n=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`;this.saveSetting(j.EVENT_END_HHMM,n)}get numExercises(){return Math.max(...this.protocolSegments.map(t=>t.exerciseNumber??0),0)}set protocolSegments(t){this._protocolSegments=t}get sayEstimatedFitFactor(){return this.getSetting(j.SAY_ESTIMATED_FIT_FACTOR)}set sayEstimatedFitFactor(t){this.saveSetting(j.SAY_ESTIMATED_FIT_FACTOR,t)}get verboseSpeech(){return this.getSetting(j.VERBOSE)}set verboseSpeech(t){this.saveSetting(j.VERBOSE,t)}get sayParticleCount(){return this.getSetting(j.SAY_PARTICLE_COUNT)}set sayParticleCount(t){this.saveSetting(j.SAY_PARTICLE_COUNT,t)}get speechEnabled(){return this.getSetting(j.SPEECH_ENABLED)}set speechEnabled(t){this.saveSetting(j.SPEECH_ENABLED,t)}getProtocolDefinition(t){return this.protocolDefinitions[t]||[]}getProtocolNames(){return Object.keys(this.protocolDefinitions)}get protocolDefinitions(){const t=SR(this.getSetting(j.PROTOCOL_INSTRUCTION_SETS).json);if(this.getSetting(j.AUTO_CREATE_FAST_PROTOCOLS)){const n=this.createFastProtocols(t);Object.assign(t,n)}return t}createFastProtocols(t){const n={},r=Object.keys(t).map(i=>i.toLowerCase());return Object.entries(t).forEach(([i,o])=>{const a=`fast-${i} (*)`;if(!i.toLowerCase().startsWith("fast-")){if(!r.includes(a.toLowerCase())){const s=[],l=o[0];s.push({instructions:"Prep",ambient_purge:l.ambient_purge||yt.defaultAmbientPurgeDuration,ambient_sample:l.ambient_sample||yt.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0}),o.forEach(c=>{c.mask_sample>0&&s.push({instructions:c.instructions,ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:Math.min(c.mask_sample,Math.max(20,c.mask_sample*.75))})});const u=o[o.length-1];s.push({instructions:"Finalize",ambient_purge:u.ambient_purge===0?0:yt.defaultAmbientPurgeDuration,ambient_sample:u.ambient_sample||yt.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0}),n[a]=s}}}),n}set protocolDefinitions(t){this.saveSetting(j.PROTOCOL_INSTRUCTION_SETS,{json:t})}getTestTemplate(){return this.getSetting(j.TEST_TEMPLATE)}setTestTemplate(t){this.saveSetting(j.TEST_TEMPLATE,t)}async getActualSetting(t){return this.getSetting(t)}getSetting(t){return la.getConfig(t)}async loadAllSettings(){const t=this.protocolDefinitions;for(const n of Object.keys(t)){const r=t[n];this.numExercisesForProtocol[n]=iC(r)}}saveSetting(t,n){la.setConfig(t,n)}updateProtocolStages(t){console.debug(`updateProtocolStages ${t}`);const n=this.protocolDefinitions[t];n&&(this.protocolSegments=af(n),this.protocolStages=n)}getProtocolDuration(t){const n=this.protocolDefinitions[t]??[],r=af(n);return aC(r)}}const oC=new AR;function aC(e){return e.reduce((t,n)=>t+n.duration,0)}function af(e){const t=[];let n=null,r=0;return e.forEach((i,o)=>{let a=0;i.mask_sample>0&&(n=(n??0)+1);const s=i.mask_sample>0?n:null;if(i.ambient_purge>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:Ce.AMBIENT,state:Mn.PURGE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.ambient_purge,data:[]};t.push(l),r+=l.duration,a+=l.duration}if(i.ambient_sample>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:Ce.AMBIENT,state:Mn.SAMPLE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.ambient_sample,data:[]};t.push(l),r+=l.duration,a+=l.duration}if(i.mask_purge>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:Ce.MASK,state:Mn.PURGE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.mask_purge,data:[]};t.push(l),r+=l.duration,a+=l.duration}if(i.mask_sample>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:Ce.MASK,state:Mn.SAMPLE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.mask_sample,data:[]};t.push(l),r+=l.duration}}),t}class sC{db;dbName;version;defaultDataStores;openPromise;constructor(t,n=[],r=1){this.dbName=t,this.version=r,this.defaultDataStores=n}async getDataFromDataSource(t,n=()=>!0){return new Promise((r,i)=>{const o=this.openTransactionClassic("readonly"),a=[];if(!o){console.debug(`${this.dbName} database not ready`),i(`${this.dbName} database not ready`);return}const s=o.objectStore(t).openCursor(null,"next");s.onerror=l=>{console.error(`getAllDataFromDataSource openCursor request error ${l}`),i(`error ${l}`)},s.onsuccess=l=>{const u=s.result;u?(n(u.value)&&a.push(u.value),u.continue()):(console.debug(`${this.dbName} cursor done ${l}. got ${a.length} records`),r(a))}})}onOpenSuccess(t){this.db=t.result,console.debug(`${this.dbName} Database Opened`,this.db)}onOpenError(t){console.error(`${this.dbName} Database error: ${t.error?.message}`)}openTransactionClassic(t,n=this.defaultDataStores){if(!this.db){console.log(`${this.dbName} database not ready`);return}try{const r=this.db.transaction(n,t);return r.oncomplete=()=>{},r.onerror=i=>{console.warn(`${this.dbName} transaction error ${i}`)},r}catch(r){console.error(`${this.dbName} error opening transaction: ${r}`);return}}async openTransaction(t,n=this.defaultDataStores){return new Promise((r,i)=>{if(!this.db){console.debug(`${this.dbName} database not ready`),i(`${this.dbName} database not ready`);return}const o=this.db.transaction(n,t);o.oncomplete=()=>{},o.onerror=a=>{console.error(`${this.dbName} transaction error ${JSON.stringify(a)}`)},r(o)})}async get(t,n){return new Promise((r,i)=>{this.openTransaction("readonly").then(o=>{const a=o.objectStore(t).get(n);a.onsuccess=()=>{r(a.result)},a.onerror=s=>{const l=`${this.dbName} get(${n}) failed; error: ${s}`;console.error(l),i(l)}})})}async put(t,n){return new Promise((r,i)=>{this.openTransaction("readwrite").then(o=>{try{const a=o.objectStore(t).put(n);a.onsuccess=()=>{r(a.result)},a.onerror=s=>{const l=`${this.dbName} put(${JSON.stringify(n)}) failed; error: ${s}`;console.error(l),i(l)}}catch(a){i(`${a} value: ${JSON.stringify(n)}`)}})})}async delete(t,n){return new Promise((r,i)=>{this.openTransaction("readwrite").then(o=>{try{const a=o.objectStore(t).delete(n);a.onsuccess=()=>{r(a.result)},a.onerror=s=>{const l=`${this.dbName} delete(${n}) failed; error: ${s}`;console.error(l),i(l)}}catch(a){i(`${a}, key: ${n}`)}})})}async open(){return console.debug(`open called on ${this.dbName}`),this.openPromise?this.openPromise:this.db?this.db:(this.openPromise=new Promise((t,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.onsuccess=()=>{this.onOpenSuccess(r),t(r.result)},r.onerror=()=>{this.onOpenError(r),n(r.error?.message)},r.onupgradeneeded=()=>{this.onUpgradeNeeded(r)}}),this.openPromise)}close(){this.db?.close(),console.debug(`${this.dbName} closed`)}}class Jn extends sC{static DEFAULT_DB_NAME="fit-test-data-db";static TEST_RESULTS_OBJECT_STORE="test-results-table-data";constructor(t=Jn.DEFAULT_DB_NAME){super(t,[Jn.TEST_RESULTS_OBJECT_STORE],2)}onUpgradeNeeded(t){const n=t.result;console.warn(`${this.dbName} Database upgrade needed: ${n.name}`),n.createObjectStore(Jn.TEST_RESULTS_OBJECT_STORE,{autoIncrement:!0,keyPath:"ID"})}keepRecords=[];async getData(t){return this.getDataFromDataSource(Jn.TEST_RESULTS_OBJECT_STORE,t)}async createNewTest(t,n,r,i){const o=this.openTransactionClassic("readwrite");if(!o)return console.log("database not ready"),new Promise((l,u)=>u(`${this.dbName} database not ready`));const a={Time:t,ProtocolName:n,TestController:r,DataSource:i},s=o?.objectStore(Jn.TEST_RESULTS_OBJECT_STORE).add(a);return new Promise((l,u)=>{s.onerror=c=>{const f=`createNewTest request error ${c}`;console.log(f),u(f)},s.onsuccess=c=>{console.log(`createNewTest request complete: ${c}, new key is ${s.result}`),l({...a,ID:Number(s.result)})}})}async updateTest(t){return new Promise((n,r)=>{const i=this.openTransactionClassic("readwrite");if(!i){console.log("database not ready"),r(`${this.dbName} database not ready`);return}t.ID=Number(t.ID);const o=i.objectStore(Jn.TEST_RESULTS_OBJECT_STORE).put(t);o.onerror=a=>{const s=`updateTest request error ${a}`;console.log(s),r(s)},o.onsuccess=()=>{n({ID:o.result})}})}async addRecord(t){const n=t;return delete n.ID,this.put(Jn.TEST_RESULTS_OBJECT_STORE,n)}async addRecords(t){for(const n of t)await this.addRecord(n)}async deleteRecord(t){return this.deleteRecordById(t.ID)}async deleteRecordById(t){return this.delete(Jn.TEST_RESULTS_OBJECT_STORE,t)}}const Rn=new Jn;var lC={exports:{}};(function(e,t){const n=Math.exp;e.exports=function(i){if(typeof i!="number")throw new Error("must provide a timespan to the moving average constructor");if(i<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let o,a=0,s=0,l=0,u,c={};function f(d,h){return 1-n(-(d-h)/i)}return c.push=function(h,m){if(u){const g=f(h,u),v=m-o,p=g*v;o=g*m+(1-g)*o,a=(1-g)*(a+v*p),s=Math.sqrt(a),l=o+g*v}else o=m;u=h},c.movingAverage=function(){return o},c.variance=function(){return a},c.deviation=function(){return s},c.forecast=function(){return l},c}})(lC);var FR=lC.exports;const xn=No(FR);class Yi{}class Cw extends Yi{instructions;constructor(t){super(),this.instructions=t}}class B0 extends Yi{estimate;constructor(t){super(),this.estimate=t}}class uC extends B0{constructor(t){super(t)}}class cC extends B0{constructor(t){super(t)}}class tg extends B0{constructor(t){super(t)}}class Tw extends Yi{line;constructor(t){super(),this.line=t}}class kw extends Yi{message;constructor(t){super(),this.message=t}}class Mw extends Yi{data;constructor(t){super(),this.data=t}}class Dw extends Yi{record;constructor(t){super(),this.record=So(t)}}class mp extends Yi{record;constructor(t){super(),this.record=So(t)}}class fC extends Yi{}const Ow=5*1e3,gp=20*1e3,$R={emaConcentration:void 0,emaConcentrationStdDev:void 0,guestimatedAmbient:void 0,sampleZone:"unknown",emaConcentrationInZone:void 0,estimatedFitFactor:void 0,estimatedFitFactorBand:void 0,estimatedFitFactorBandLower:void 0,zoneFF:void 0};class jR{guestimatedAmbientConcentration=0;maCount5s=xn(Ow);maZoneConcentration20s=xn(gp);nextChartUpdateTime=0;_chartOptions;_fullConcentrationHistory=[];dataCollector;constructor(t){this.dataCollector=t}get chartOptions(){return this._chartOptions}set chartOptions(t){this._chartOptions=t}get fullConcentrationHistory(){return this._fullConcentrationHistory}set fullConcentrationHistory(t){this._fullConcentrationHistory=t}resetChart(){this.fullConcentrationHistory=[],this.guestimatedAmbientConcentration=0,this.maCount5s=xn(Ow),this.maZoneConcentration20s=xn(gp),this.nextChartUpdateTime=0;const t={axisPointer:{link:[{xAxisIndex:"all"}]},tooltip:{trigger:"axis",axisPointer:{type:"cross"},valueFormatter:md,position:function(n,r,i,o,a){return n[0]<a.viewSize[0]/2?{bottom:10,right:30}:{bottom:10,left:30}}},grid:[{top:"10%",left:"4%",right:"3%",bottom:"55%",containLabel:!0},{top:"60%",left:"4%",right:"3%",containLabel:!0}],xAxis:[{type:"time",gridIndex:0},{type:"time",gridIndex:1}],yAxis:[{name:"concentration",position:"left",type:"value",gridIndex:0,splitLine:{show:!0},minorSplitLine:{show:!0}},{name:"estimated fit factor",position:"left",type:"value",gridIndex:1}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0,1],filterMode:"filter"},{id:"dataZoomY0",type:"slider",yAxisIndex:[0],filterMode:"empty"},{id:"dataZoomY1",type:"slider",yAxisIndex:[1],filterMode:"empty"}],series:[{name:"concentration",type:"line",encode:{x:["timestamp"],y:["concentration"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{type:"dotted",width:3,opacity:0},markArea:{data:[]}},{name:"guestimated ambient level",type:"line",encode:{x:["timestamp"],y:["guestimatedAmbient"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"gray",width:3},itemStyle:{color:"gray"},showSymbol:!1},{name:"EMA concentration",type:"line",encode:{x:["timestamp"],y:["emaConcentration"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"blue",width:3},itemStyle:{color:"blue"},showSymbol:!1},{name:"EMA concentration in zone",type:"line",encode:{x:["timestamp"],y:["emaConcentrationInZone"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"blue",width:1},itemStyle:{color:"blue"},showSymbol:!1},{name:"Zone FF",type:"line",encode:{x:["timestamp"],y:["zoneFF"]},yAxisIndex:1,xAxisIndex:1,lineStyle:{width:1},itemStyle:{opacity:0},showSymbol:!1}]};this.chartOptions=t}processConcentration(t,n=new Date){if(isNaN(t))return;const r=n.getTime(),i=this.fullConcentrationHistory.length>0?this.fullConcentrationHistory[this.fullConcentrationHistory.length-1]:void 0;let o;this.guestimatedAmbientConcentration?t>this.guestimatedAmbientConcentration?o="ambient":this.maCount5s.movingAverage()<.5*this.guestimatedAmbientConcentration?i?.sampleZone!=="mask"&&this.maCount5s.deviation()>1.5*this.maCount5s.movingAverage()?o="purge":o="mask":this.maCount5s.deviation()<.3*this.guestimatedAmbientConcentration?o="ambient":o="unknown":o="ambient",o==="ambient"&&(this.guestimatedAmbientConcentration=this.maCount5s.movingAverage());let a=NaN;if(i&&i.sampleZone==="mask"){let l=0,u=this.fullConcentrationHistory.length-1,c=0;for(;u>=0&&this.fullConcentrationHistory[u].sampleZone==="mask";u--)this.fullConcentrationHistory.length-u>5&&(l+=this.fullConcentrationHistory[u].concentration,c++);l&&(a=c*this.guestimatedAmbientConcentration/l,i&&(i.zoneFF=a))}this.dataCollector.dispatch(new uC(a)),this.dataCollector.dispatch(new cC(this.guestimatedAmbientConcentration)),o==="mask"?this.dataCollector.dispatch(new tg(t)):this.dataCollector.dispatch(new tg(-1));const s={...$R,timestamp:n,concentration:t,guestimatedAmbient:this.guestimatedAmbientConcentration,emaConcentration:this.maCount5s.movingAverage(),emaConcentrationStdDev:this.maCount5s.deviation(),sampleZone:o,zoneFF:a};if(o==="mask")if(i&&i.sampleZone===o){s.emaConcentrationInZone=this.maZoneConcentration20s.movingAverage();const l=Math.min(.3*s.emaConcentrationInZone,this.maZoneConcentration20s.deviation()),u=s.guestimatedAmbient||0;s.estimatedFitFactor=u/s.emaConcentrationInZone,s.estimatedFitFactorBand=u/(s.emaConcentrationInZone-l)-u/(s.emaConcentrationInZone+l),s.estimatedFitFactorBandLower=u/(s.emaConcentrationInZone+l)}else this.maZoneConcentration20s=xn(gp);if(this.fullConcentrationHistory.push(s),this.maCount5s.push(r,t),this.maZoneConcentration20s.push(r,t),this.chartOptions.dataset={dimensions:["timestamp","concentration","guestimatedAmbient","emaConcentration","emaConcentrationStdDev","sampleZone","emaConcentrationInZone","estimatedFitFactor","estimatedFitFactorBand","estimatedFitFactorBandLower","zoneFF"],source:this.fullConcentrationHistory},this.chartOptions.yAxis[0].type="log",this.chartOptions.yAxis[0].min=Math.min(...this.chartOptions.dataset.source.map(l=>l.concentration)),this.chartOptions.yAxis[0].max=Math.max(...this.chartOptions.dataset.source.map(l=>l.concentration)),this.chartOptions.yAxis[1].type="value",this.chartOptions.dataZoom[0].endValue=s.timestamp,this.chartOptions.dataZoom[0].startValue=s.timestamp.getTime()-15*60*1e3,this.guestimatedAmbientConcentration>0){const l={type:"piecewise",show:!1,seriesIndex:[0],dimension:"",pieces:[{gte:100,lt:1e5,color:"green"},{gte:20,lt:100,color:"darkorange"},{gte:0,lt:20,color:"darkred"}],outOfRange:{color:"#999"}},u=So(l);u.dimension="estimatedFitFactor",u.seriesIndex=this.chartOptions.series.findIndex(f=>f.name==="estimated fit factor");const c=So(l);c.dimension="zoneFF",c.seriesIndex=this.chartOptions.series.findIndex(f=>f.name==="Zone FF"),this.chartOptions.visualMap=[u,c]}this.updateMarkArea(this.chartOptions,s),Date.now()>this.nextChartUpdateTime&&(this.nextChartUpdateTime=Date.now()+1e3,this.dataCollector.dispatch(new fC))}updateMarkArea(t,n){const r=n.sampleZone,i=t.series[0].markArea.data,[o,a]=i.length>0?i[i.length-1]:[{},{}];if(o.name===r)a.xAxis=n.timestamp;else{const s=[{xAxis:n.timestamp,name:r,itemStyle:{color:n.sampleZone==="mask"?"wheat":n.sampleZone==="ambient"?"powderblue":"black",opacity:.2}},{xAxis:n.timestamp}];i.push(s)}}}class hi extends sC{static DEFAULT_DB_NAME="raw-serial-line-data-db";static SERIAL_LINE_OBJECT_STORE="serial-line-data";constructor(t=hi.DEFAULT_DB_NAME){super(t,[hi.SERIAL_LINE_OBJECT_STORE],1)}onUpgradeNeeded(t){const n=t.result;console.warn(`Database upgrade needed: ${this.dbName}`),n.createObjectStore(hi.SERIAL_LINE_OBJECT_STORE,{autoIncrement:!0,keyPath:"index"})}keepRecords=[];now=new Date;async getData(t){return this.getDataFromDataSource(hi.SERIAL_LINE_OBJECT_STORE,t)}getSomeRecentLines(t){const n=this.openTransactionClassic("readonly");if(!n){console.debug(`${this.dbName} database not ready`);return}const r=n.objectStore(hi.SERIAL_LINE_OBJECT_STORE).openCursor(null,"prev");let i=!1;r.onerror=o=>{console.log(`getSomeRecentLines openCursor request error ${o}`)},r.onsuccess=o=>{console.log(`getSomeRecentLines openCursor request complete: ${o}`);const a=r.result;if(a?(this.keepRecords.push(a.value),a.continue()):(console.log(`${this.dbName} cursor done`),i=!0),i)for(console.log(`collected ${this.keepRecords.length} records`);this.keepRecords.length>0;){const s=this.keepRecords.pop();s&&t(s)}}}addLine(t){const n=this.openTransactionClassic("readwrite");if(!n)return console.log(`${this.dbName} database not ready`),{};const r={timestamp:new Date().toISOString(),data:t},i=n.objectStore(hi.SERIAL_LINE_OBJECT_STORE).add(r);i.onerror=o=>{console.error(`addRecord request error ${o}`)},i.onsuccess=()=>{}}}const gd=new hi;class UR{listeners=[];resultsDatabase;previousTestData=null;currentTestData=null;lastExerciseNum=0;sampleSource=Ce.MASK;setResults;inProgressTestPromiseChain;controlSource=Ee.Internal;settings;_rawLines="";_processedData="";_logLines="";_fitFactorEstimator;_dataSource=qe.NotInitialized;constructor(){this.settings=oC,this.resultsDatabase=Rn,this._fitFactorEstimator=new jR(this),this.fitFactorEstimator.resetChart()}get saveLinesToDb(){return this._dataSource!==qe.Simulator}set dataSource(t){this._dataSource=t}get dataSource(){return this._dataSource}get fitFactorEstimator(){return this._fitFactorEstimator}set fitFactorEstimator(t){this._fitFactorEstimator=t}get rawLines(){return this._rawLines}get logLines(){return this._logLines}get processedData(){return this._processedData}appendToRaw(t){this._rawLines+=t+`
`,this.dispatch(new Tw(t))}appendToLog(t){this._logLines+=t,this.dispatch(new kw(t))}appendToProcessedData(t){this._processedData+=t,this.dispatch(new Mw(t))}setInstructions(t){this.dispatch(new Cw(t))}setInstructionsForExercise(t){if(!this.settings.selectedProtocol)return;const n=this.settings.selectedProtocol,i=this.settings.getProtocolDefinition(n)[t-1],o=typeof i=="object"?"instructions"in i?i.instructions:i.i:i;o&&this.setInstructions(`Perform exercise ${t}: ${o}`)}recordTestComplete(){const t=()=>{console.log(`test complete, id ${this.currentTestData?.ID}`),this.previousTestData=this.currentTestData,this.currentTestData=null};this.chain(t)}recordTestAborted(){const t=()=>{if(!this.currentTestData){console.log("no current row, ignoring");return}this.currentTestData[`Ex ${this.lastExerciseNum+1}`]="aborted",this.setInstructions("Test cancelled."),this.updateCurrentRowInDatabase(),console.log("test aborted")};this.chain(t)}chain(t){this.inProgressTestPromiseChain?this.inProgressTestPromiseChain=this.inProgressTestPromiseChain.then(t):t()}async recordTestStart(t,n=new Date().toLocaleString()){if(!this.resultsDatabase){console.log("database not ready");return}if(!this.settings.selectedProtocol){console.log("protocols not loaded (not ready)");return}this.lastExerciseNum=0;const r=await this.resultsDatabase.createNewTest(n,this.settings.selectedProtocol,t,this.dataSource);this.currentTestData=r;const i=this.settings.getTestTemplate();for(const o in i)o in r||o.startsWith("Ex ")||o.startsWith("Final")||typeof i[o]=="string"&&(this.currentTestData[o]=i[o]);this.updateCurrentRowInDatabase(),console.log(`new test added: ${JSON.stringify(this.currentTestData)}`),this.dispatch(new Dw(r)),this.dispatch(new mp(r))}recordExerciseResult(t,n){const r=()=>{if(!this.currentTestData){console.log("no current row! ignoring");return}typeof t=="number"?(this.currentTestData[`Ex ${t}`]=`${Math.floor(n)}`,this.lastExerciseNum=t):this.currentTestData[`${t}`]=`${Math.floor(n)}`,this.updateCurrentRowInDatabase()};this.chain(r)}updateTest(t){if(t.ID){if(t.ID===this.currentTestData?.ID){const n=this.currentTestData;this.currentTestData=t,Object.entries(n).forEach(([r,i])=>{typeof i=="number"&&this.currentTestData&&this.currentTestData[r]!==i&&(this.currentTestData[r]=i,this.setResults&&this.setResults(o=>[...o]))})}else t.ID===this.previousTestData?.ID&&(this.previousTestData=t);this.resultsDatabase.updateTest(t)}else console.log(`updateTest() unexpected record with no ID: ${t}`)}updateCurrentRowInDatabase(){this.currentTestData&&(this.resultsDatabase.updateTest(this.currentTestData),this.dispatch(new mp(this.currentTestData)))}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case Dw.name:{n.newTestStarted&&n.newTestStarted(t.record);break}case mp.name:{n.currentTestUpdated&&n.currentTestUpdated(t.record);break}case fC.name:{n.tick&&n.tick();break}case Tw.name:{n.logRawLine&&n.logRawLine(t.line);break}case kw.name:{if(n.logMessage){const r=t;n.logMessage(r.message)}break}case Mw.name:{if(n.logProcessedData){const r=t;n.logProcessedData(r.data)}break}case uC.name:{if(n.estimatedFitFactorChanged){const r=t;n.estimatedFitFactorChanged(r.estimate)}break}case tg.name:{n.estimatedMaskConcentrationChanged&&n.estimatedMaskConcentrationChanged(t.estimate);break}case cC.name:{n.estimatedAmbientConcentrationChanged&&n.estimatedAmbientConcentrationChanged(t.estimate);break}case Cw.name:{if(n.instructionsChanged){const r=t;n.instructionsChanged(r.instructions)}break}}})}portaCountListener={lineReceived:t=>{t.trim().length>0&&(this.appendToRaw(t),this.saveLinesToDb&&gd.addLine(t))},sampleSourceChanged:t=>{console.log(`sampling from ${t}`),this.appendToLog(`sampling from ${t}
`),this.sampleSource=t},dataTransmissionStateChanged:t=>{this.appendToLog(`data transmission state: ${t}`)},testStarted:t=>{this.appendToProcessedData(`
Starting a new test. ${new Date(t).toLocaleString()}
`),this.setInstructionsForExercise(1),this.inProgressTestPromiseChain=this.recordTestStart(Ee.Internal,new Date(t).toLocaleString())},controlSourceChanged:t=>{this.controlSource=t},fitFactorResultsReceived:t=>{const n=t.ff,r=t.exerciseNum,i=t.result;this.recordExerciseResult(r,n),typeof r=="number"?(this.appendToProcessedData(`Exercise ${r}: Fit factor is ${n}. Result: ${i}
`),this.setInstructionsForExercise(r+1),vt.sayItLater(`Score was ${n}`)):(this.appendToProcessedData(`
Test complete. ${i} with FF of ${n}
`),this.setInstructions(`Test complete. Score: ${n}`),this.appendToLog(JSON.stringify(this.currentTestData)+`
`),this.recordTestComplete(),vt.sayItLater(`Final score was ${n}`))},testTerminated:()=>{this.appendToProcessedData(`
Test aborted
`),this.recordTestAborted(),this.recordTestComplete()},particleConcentrationReceived:t=>{const n=()=>{if(this.currentTestData){t.controlSource===Ee.Internal&&this.recordParticleCount(t);return}const r=t.concentration,i=t.timestamp;this.controlSource===Ee.External&&this.appendToProcessedData(`${this.sampleSource}: ${r}
`),this.fitFactorEstimator.processConcentration(r,i?new Date(i):new Date)};this.chain(n)}};recordParticleCount(t){this.currentTestData&&(this.currentTestData.ParticleCounts||(this.currentTestData.ParticleCounts=[]),this.currentTestData.ParticleCounts.push({type:t.sampleSource,count:t.concentration}),this.updateCurrentRowInDatabase())}setPortaCountClient(t){t.addListener(this.portaCountListener)}}class HR{readable;writable;connected=!1;constructor(t,n){this.readable=t,this.writable=n}getInfo(){return{usbVendorId:-1337}}open(t){return console.debug(`todo: set simulator baud rate to ${t.baudRate}`),this.connected=!0,Promise.resolve()}}class VR{reader;_readerController;writer;_port;_portaCountState=new ZE;encoder=new TextEncoder;_started=!1;bias=0;baseConcentration=0;lastCommandTimeMs=0;targetMaskFF=100;constructor(){this.reader=this.createReader(),this.writer=this.createWriter(),this._port=new HR(this.reader,this.writer)}get port(){return this._started=!0,this._port}stop(){this.reader.cancel("stop")}sendResponse(t){const n=this.encoder.encode(t);this._readerController?.enqueue(n)}createReader(){let t,n=!1;return new ReadableStream({pull:r=>{n=!0},start:r=>{console.debug("PortaCountSimulator started"),this._readerController=r,t=setInterval(()=>{if(this._started){const o=this.generateConcentration();console.debug(`simulator loop: ${o}, isPulling? ${n}`),n&&(n=!1,r.enqueue(this.encoder.encode(`${o}
`)))}},1e3)},cancel(){Cl("cancel() called on underlying source"),t&&clearInterval(t)}})}createWriter(){const t=new CountQueuingStrategy({highWaterMark:1}),n=new TextDecoder,r=this,i=/\r\n|\n|\r/gm;let o="";return new WritableStream({write:a=>{const s=n.decode(a);console.debug(`writer got ${s}`),o+=s;const l=i.exec(o);if(l){const u=o.substring(0,l.index);o=o.substring(i.lastIndex),i.lastIndex=0,r.executeCommand(u)}},close(){},abort(a){console.debug(`abort: ${a}`)}},t)}random(){return Date.now()-this.lastCommandTimeMs>3*60*1e3&&(this.baseConcentration=(1+5*Math.random())*1e3,this.targetMaskFF=10+300*Math.random(),console.debug(`simulator resetting baseConcentration to ${this.baseConcentration}, targetMaskFF to ${this.targetMaskFF}`)),this.baseConcentration+=Math.round(Math.random()*200),this.baseConcentration}randomize(){this.bias=(Math.random()*30-30/2)/100,this.lastCommandTimeMs=Date.now()}executeCommand(t){switch(this.randomize(),t){case xe.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE:{this.sendResponse(`RGG
`);break}case xe.REQUEST_VOLTAGE_INFO:{["CS191","CB483","CT236","CC065","CL614","CP255","CD068"].forEach(n=>{this.sendResponse(`${n}
`)});break}case xe.REQUEST_SETTINGS:{["STPA 00004","STA  00005","STPM 00011","STM0100040","STM0200040","STM0300040","STM0400040","STM0500040","STM0600040","STM0700040","STM0800040","STM0900040","STM1000040","STM1100040","STM1200040","STM1300040","SP 0100100","SP 0200250","SP 0300500","SP 0401000","SP 0501250","SP 0601667","SP 0702000","SP 0804000","SP 0905000","SP 1006667","SP 1110000","SP 1200000","SS   17754","SR   00722","SD   00519"].forEach(n=>{this.sendResponse(`${n}
`)});break}case xe.SWITCH_VALVE_OFF:{this._portaCountState.sampleSource=Ce.MASK,this.sendResponse(xe.SWITCH_VALVE_OFF),this.sendResponse(`
`);break}case xe.SWITCH_VALVE_ON:{this._portaCountState.sampleSource=Ce.AMBIENT,this.sendResponse(xe.SWITCH_VALVE_ON),this.sendResponse(`
`);break}case xe.INVOKE_EXTERNAL_CONTROL:{this._portaCountState.controlSource===Ee.External?this.sendResponse(`EJ
`):(this._portaCountState.controlSource=Ee.External,this.sendResponse(`OK
`));break}case xe.RELEASE_FROM_EXTERNAL_CONTROL:{this._portaCountState.controlSource=Ee.Internal,this.sendResponse(`G
`);break}default:console.debug(`echoing back: ${t}`),this.sendResponse(`${t}
`)}}generateConcentration(){let t;this._portaCountState.sampleSource===Ce.MASK?t=this.random()/this.targetMaskFF:t=this.random(),t=(1-this.bias)*t;let n;return this._portaCountState.controlSource===Ee.External?n=`${t.toFixed(2).padStart(9,"0")}`:n=`Conc.${t.toFixed(t<10?2:0).padStart(10," ")} #/cc`,n}}const BR=48e6,YR=e=>new Promise(t=>setTimeout(t,e)),zR=257,WR=256,qR=514,QR=512,GR=0,KR=1,XR=0;function ZR(e,t,n){const r=[0,3,2,4,1,5,6,7];let i=0,o,a,s;return e>=t/n?(s=0,i=t/dlkDiv):e>=t/(n+n/2)?(s=1,i=t/(n+n/2)):e>=t/(2*n)?(s=2,i=t/(2*n)):(o=t*16/n/e,o&1?a=o/2+1:a=o/2,a>131072&&(a=131071),i=t*16/n/a,i&1?i=i/2+1:i=i/2,s=a>>3|r[a&7]<<14),[i,s]}function JR(e){let t,n,r,i;if(e<=0)throw new Error("Baud rate must be > 0");return[t,n]=ZR(e,BR,16),r=n&65535,i=n>>16,[t,r,i]}class eI extends EventTarget{dtr=!0;rts=!0;constructor(t,n){super();const r=this;(async()=>{if(t==null)throw new Error("Could not find device");await t.open(),console.log("Opened:",t.opened),t.configuration===null&&(console.log("selectConfiguration"),await t.selectConfiguration(1)),await t.claimInterface(0),await t.selectConfiguration(1),await t.selectAlternateInterface(0,0);const[i,o,a]=JR(n.baudRate);console.log("Setting baud rate to",i),await t.controlTransferOut({requestType:"vendor",recipient:"device",request:3,value:o,index:a}),r.device=t,r.isClosing=!1;const s=await t.controlTransferOut({requestType:"vendor",recipient:"device",request:GR,value:XR,index:1});console.debug("reset result: ",s);const l=await t.controlTransferOut({requestType:"vendor",recipient:"device",request:KR,value:(this.dtr?zR:WR)|(this.rts?qR:QR),index:1});console.debug("set control lines result: ",l),this.device.transferIn(1,64),r.readLoop(),r.dispatchEvent(new Event("ready"))})().catch(i=>{console.log("Error during FTDI setup:",i),r.dispatchEvent(new CustomEvent("error",{detail:i}))})}async readLoop(){let t;try{t=await this.device.transferIn(1,64)}catch(n){n.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.log("Device disconnected"),this.isClosing=!0,this.dispatchEvent(new Event("disconnected"))):console.log("Error reading data:",n)}if(t&&t.data&&t.data.byteLength&&t.data.byteLength>2){console.log(`Received ${t.data.byteLength-2} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(2)}))}!this.isClosing&&this.device.opened&&this.readLoop()}async read(){const{data:{buffer:t,byteLength:n}}=await this.device.transferIn(1,64),r=new Uint8Array(t);return n===2?this.read():{bytesRead:n-2,data:r.slice(2)}}async writeAsync(t){return await this.device.transferOut(2,t)}write(t,n){this.writeAsync(t).then(()=>{n()},r=>n(r))}async closeAsync(){this.isClosing=!0,this.dispatchEvent(new Event("disconnected"));try{console.log("Sending EOT"),await this.writeAsync([4]),await YR(2e3),await this.device.releaseInterface(0),await this.device.close(),console.log("Closed device")}catch(t){console.log("Error:",t)}}close(t){(async()=>(await this.closeAsync(),t()))()}}const tI=[75,150,300,600,1200,1800,2400,3600,4800,7200,9600,14400,19200,28800,38400,57600,115200,230400,460800,614400,921600,1228800,2457600,3e6,6e6],nI=1e3,rI=5e3,iI=34,vp=1,yp=2,oI=1,aI=1,Pw=129,sI=128,lI=7,uI=8,cI=9,fI=1,dI=2;class hI extends EventTarget{constructor(t,n){super(),this.isClosing=!1,this.bitrate=9600,this.deviceType=2,this.currentFlowControl=0,this.currentControlLinesValue=yp|vp,this.bitrate=n.baudRate,this.device=t}async controlTransferInWithTimeout({requestType:t,recipient:n,request:r,value:i,index:o},a,s=nI){return new Promise((l,u)=>{const c=new AbortController,f=d=>{c.signal.removeEventListener("abort",f),u(d.target)};c.signal.addEventListener("abort",f),setTimeout(()=>{c.abort("controlTransferIn timed out")},s),this.device.controlTransferIn({requestType:t,recipient:n,request:r,value:i,index:o},a).then(d=>{c.signal.aborted?u(`aborted, but we finally got our result: ${JSON.stringify(d)}`):d.data?.byteLength===a?l(d.data.buffer):u("controlTransferIn succeeded, but did not receive expected number of bytes")}).catch(u)})}async controlTransferOutWithTimeout({requestType:t,recipient:n,request:r,value:i,index:o,data:a},s=rI){return new Promise((l,u)=>{const c=new AbortController,f=d=>{c.signal.removeEventListener("abort",f),u(d.target)};c.signal.addEventListener("abort",f),setTimeout(()=>{c.abort("controlTransferOut timed out")},s),this.device.controlTransferOut({requestType:t,recipient:n,request:r,value:i,index:o},a).then(d=>{c.signal.aborted?u(`aborted, but we finally got our result: ${JSON.stringify(d)}`):d.bytesWritten===(a?a.byteLength:0)?l(d.status):u("controlTransferOut succeeded, but did not write expected number of bytes")}).catch(u)})}async testHxStatus(){return this.controlTransferInWithTimeout({requestType:"vendor",recipient:"device",request:oI,value:32896,index:0},1).then(()=>!0).catch(()=>!1)}async vendorRead(t,n){const r=(this.deviceType===3,Pw);return(await this.device.controlTransferIn({requestType:"vendor",recipient:"device",request:r,value:t,index:n},1)).data?.buffer}async vendorWrite(t,n){const r=this.deviceType===3?sI:aI;await this.device.controlTransferOut({requestType:"class",recipient:"device",request:r,value:t,index:n}).then(i=>{console.log(`vendorWrite success ${JSON.stringify(i)}`)}).catch(i=>{console.warn(`vendorWrite failed ${i}`)})}async setBaudRate(t){const r=tI.slice().sort((a,s)=>Math.abs(a-t)-Math.abs(s-t))[0];await this.device.controlTransferIn({requestType:"class",recipient:"interface",request:33,value:0,index:0},7),console.log("Setting baud rate to",r);const i=new ArrayBuffer(7),o=new DataView(i);o.setInt32(0,r,!0),o.setUint8(4,0),o.setUint8(5,0),o.setUint8(6,8),await this.device.controlTransferOut({requestType:"class",recipient:"interface",request:32,value:0,index:0},o)}async purgeHwBuffers(t,n){if(this.deviceType===3){let r=0;t&&(r|=fI),n&&(r|=dI),r!==0&&await this.vendorWrite(lI,r)}else t&&await this.vendorWrite(uI,0),n&&await this.vendorWrite(cI,0)}async resetDevice(){return this.purgeHwBuffers(!0,!0)}async open(){(async()=>{await this.device.open(),[this.iface]=this.device.configuration?this.device.configuration.interfaces:[],console.log("Claiming interface",this.iface.interfaceNumber),await this.device.claimInterface(this.iface.interfaceNumber),this.iface.alternate.endpoints.forEach(a=>{switch(a.direction){case"in":this.readEndpoint=a;break;case"out":this.writeEndpoint=a;break;default:console.error(`endpoint ${a.endpointNumber} has unexpected direction: ${a.direction}`);break}});const n=(await this.device.controlTransferIn({requestType:"standard",recipient:"device",request:6,value:256,index:0},255)).data;if(!n||n.byteLength<14)throw"Could not get device descriptors.";const r=this.device.usbVersionMajor,i=this.device.deviceVersionMajor,o=n.getInt8(7);if(this.device.deviceClass===2||o!=64)this.deviceType=0;else if(r===512){const a=await this.testHxStatus();a&&i===768?this.deviceType=1:a&&i===1280?this.deviceType=1:this.deviceType=3}else this.deviceType=2;await this.resetDevice(),await this.doBlackMagic(),await this.setControlLines(this.currentControlLinesValue),await this.setFlowControl(this.currentFlowControl),await this.setBaudRate(this.bitrate),this.isClosing=!1,await this.readLoop(),await this.setFlowControl(1),await this.setControlLines(255),this.dispatchEvent(new Event("ready"))})().catch(t=>{console.log("Error during PL2303 setup:",t),this.dispatchEvent(new CustomEvent("error",{detail:t}))})}async readLoop(){if(!this.readEndpoint){console.error("no read endpoint, aborting readLoop()"),await this.close();return}this.device.transferIn(this.readEndpoint.endpointNumber,64).then(t=>{if(t&&t.data&&t.data.byteLength){console.log(`Received ${t.data.byteLength} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(0)}))}else console.log("transferIn got no result, no result data, or data was empty")}).catch(t=>{t.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.warn("Device disconnected"),this.dispatchEvent(new Event("disconnected")),this.isClosing=!0):console.error("Error reading data:",t)}).finally(async()=>{!this.isClosing&&this.device.opened&&await this.readLoop()})}async close(){return this.isClosing=!0,this.dispatchEvent(new Event("disconnected")),new Promise((t,n)=>{setTimeout(async()=>{try{await this.device.releaseInterface(0),await this.device.close(),t()}catch(r){console.error("Error while closing:",r),n(r)}},2e3)})}async write(t){return new Promise((n,r)=>{if(!this.writeEndpoint){r("no writeEndpoint");return}this.device.transferOut(this.writeEndpoint?.endpointNumber,t).then(()=>{n({status:"ok",bytesWritten:t.byteLength})}).catch(i=>{console.error(`error writing to ${this.device.constructor.name}: ${i}`),r(i)})})}async doBlackMagic(){this.deviceType!==3&&(await this.vendorRead(33924,0),await this.vendorWrite(1028,0),await this.vendorRead(33924,0),await this.vendorRead(33667,0),await this.vendorRead(33924,0),await this.vendorWrite(1028,1),await this.vendorRead(33924,0),await this.vendorRead(33667,0),await this.vendorWrite(0,1),await this.vendorWrite(1,0),this.deviceType===0?await this.vendorWrite(2,36):await this.vendorWrite(2,68))}async setFlowControl(t){switch(console.log(`setFlowControl ${t}`),t){case 0:this.deviceType===3?await this.vendorWrite(10,255):await this.vendorWrite(0,0);break;case 1:this.deviceType==3?await this.vendorWrite(10,250):await this.vendorWrite(0,97);break;case 4:this.deviceType==3?await this.vendorWrite(10,238):await this.vendorWrite(0,193);break;default:throw`Unsupported flow control: ${t}`}this.currentFlowControl=t}async setDTR(t){let n;t?n=this.currentControlLinesValue|vp:n=this.currentControlLinesValue&~vp,await this.setControlLines(n)}async setRTS(t){let n;t?n=this.currentControlLinesValue|yp:n=this.currentControlLinesValue&~yp,await this.setControlLines(n)}async setControlLines(t){await this.controlTransferOutWithTimeout({requestType:"class",recipient:"interface",request:iI,value:t,index:0,data:void 0}),this.currentControlLinesValue=t}}const pI=95,wp=149,_p=154,Nw=161,mI=164,gI=4882,vI=3884,Rw=9496,yI=128,wI=64,_I=3,SI=32,xI=64,Iw=6790,bI=29987,EI=21795;class CI extends EventTarget{constructor(t,n){super(),this.isClosing=!1,this.bitrate=9600,this.dtr=!0,this.rts=!0,this.bitrate=n.baudRate,this.device=t}async vendorOut(t,n,r=0){await this.device.controlTransferOut({requestType:"vendor",recipient:"device",request:t,value:n,index:r}).then(i=>{console.log("vendorOut success ",i)}).catch(i=>{console.warn(`vendorOut failed ${i}`)})}async vendorIn(t,n,r,i){return this.device.controlTransferIn({requestType:"vendor",recipient:"device",request:t,value:n,index:r},i)}async checkState(t,n,r,i){const o=await this.vendorIn(n,r,0,i.byteLength);return o.status!=="ok"||!o.data?(console.error(`failed to send ${t}, status ${o.status}, data:`,o.data),!1):o.data.byteLength!==i.byteLength?(console.error(`error sending command ${t}, expected ${i.byteLength}, got ${o.data.byteLength} instead`),!1):o.data.buffer!==i?(console.error(`error sending command ${t}, expected `,i," got ",o.data.buffer),!1):!0}async setBaudRate(t){let n,r;if(t===921600)r=7,n=62208;else{for(n=1532620800/t,r=3;n>65520&&r>0;)n>>=3,r--;if(n>65520)throw console.error(`unsupported baud rate ${t}`),new Error(`unsupported baud rate ${t}`);n=65536-n}r|=128;const i=n&65280|r,o=n&255;console.debug(`set baud rate ${t}, v1=${i}, v2=${o}`),await this.vendorOut(_p,gI,i),await this.vendorOut(_p,vI,o)}async open(){(async()=>{await this.device.open();const t=this.device.configuration?this.device.configuration.interfaces:[];await Promise.all(t.map(async r=>{console.log("Claiming interface",r.interfaceNumber);try{return await this.device.claimInterface(r.interfaceNumber)}catch(i){return console.error("error claiming interface ",r,`;, reason: ${i}`)}})),t[t.length-1].alternate.endpoints.forEach(r=>{if(r.type==="bulk")switch(r.direction){case"in":this.readEndpoint=r;break;case"out":this.writeEndpoint=r;break;default:console.error(`endpoint ${r.endpointNumber} has unexpected direction: ${r.direction}`);break}else console.debug("ignoring non-bulk endpoint: ",r)}),await this.init(),await this.setBaudRate(this.bitrate),this.isClosing=!1,await this.readLoop(),this.dispatchEvent(new Event("ready"))})().catch(t=>{console.log("Error during CH34x setup:",t),this.dispatchEvent(new CustomEvent("error",{detail:t}))})}async readLoop(){if(!this.readEndpoint){console.error("no read endpoint, aborting readLoop()"),await this.close();return}this.device.transferIn(this.readEndpoint.endpointNumber,this.readEndpoint.packetSize).then(t=>{if(t&&t.data&&t.data.byteLength){console.log(`Received ${t.data.byteLength} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(0)}))}else console.log("transferIn got no result, no result data, or data was empty")}).catch(t=>{t.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.warn("Device disconnected"),this.dispatchEvent(new Event("disconnected")),this.isClosing=!0):console.error("Error reading data:",t)}).finally(async()=>{!this.isClosing&&this.device.opened&&await this.readLoop()})}async close(){return this.isClosing=!0,this.dispatchEvent(new Event("disconnected")),new Promise((t,n)=>{setTimeout(async()=>{try{await this.device.releaseInterface(0),await this.device.close(),t()}catch(r){console.error("Error while closing:",r),n(r)}},2e3)})}async write(t){return new Promise((n,r)=>{if(!this.writeEndpoint){r("no writeEndpoint");return}this.device.transferOut(this.writeEndpoint?.endpointNumber,t).then(()=>{n({status:"ok",bytesWritten:t.byteLength})}).catch(i=>{console.error(`error writing to ${this.device.constructor.name}: ${i}`),r(i)})})}async setControlLines(){return this.vendorOut(mI,~((this.dtr?SI:0)|(this.rts?xI:0)),0)}async init(){await this.checkState("init 1",pI,0,new Uint8Array([-1,0])),await this.vendorOut(Nw,0,0),await this.setBaudRate(9600),await this.checkState("init 4",wp,Rw,new Uint8Array([-1,0])),await this.vendorOut(_p,Rw,wI|yI|_I),await this.checkState("init 6",wp,1798,new Uint8Array([-1,-1])),await this.vendorOut(Nw,20511,55562),await this.setBaudRate(9600),await this.setControlLines(),await this.checkState("init 10",wp,1798,new Uint8Array([-1,-1]))}}class Lw{device;driver;connected=!1;readable;writable;constructor(t,n){this.device=t,this.driver=n,this.readable=n.getReadableStreamFromDataSource(),this.writable=n.getWritableStreamFromDataSink()}getInfo(){return{usbVendorId:this.device.vendorId,usbProductId:this.device.productId}}async open(t){return new Promise((n,r)=>{this.driver.open(this.device,t).then(()=>{this.connected=!0,n(),console.log(`${this.driver.name} opened`)}).catch(r)})}}class Y0 extends nC{options;name;noDataWaitTimeMs=300;readable;writable;inboundDataQueue=[];constructor(t){super(),this.name=this.constructor.name,this.options=t}getReadableStreamFromDataSource(){const t=this;return new ReadableStream({start(n){r().catch(i=>n.error(i));async function r(){return t.dataRequest().then(i=>i.length===0?(Cl("No data from source: closing"),n.close(),new Uint8Array):(n.enqueue(i),r()))}},cancel(){Cl("cancel() called on underlying source"),t.closeImpl()}})}getWritableStreamFromDataSink(){const t=new CountQueuingStrategy({highWaterMark:1}),n=new TextDecoder,r=this;return new WritableStream({write(i){const o=n.decode(i);return console.log(`sending to ${r.name}: ${o}`),new Promise((a,s)=>{r.write(i).then(l=>{console.log(`successfully sent to ${r.name}: ${l.status}, bytesWritten: ${l.bytesWritten}`),a()}).catch(l=>{console.log(`error sending to ${r.name}: ${l.toString()}`),s(l)})})},close(){console.log(`${r.name} sink closed`)},abort(i){console.log(`${r.name} Sink error:`,i)}},t)}async dataRequest(){if(this.inboundDataQueue.length===0)return console.debug(`dataRequest() called, closed? ${this.closed}`),this.closed?Promise.resolve(new Uint8Array):new Promise(n=>{setTimeout(()=>{this.dataRequest().then(r=>{n(r)})},this.noDataWaitTimeMs)});const t=this.inboundDataQueue.splice(0,this.inboundDataQueue.length);return new Promise(n=>{const r=t.reduce((o,a)=>o+a.length,0),i=new Uint8Array(r);t.reduce((o,a)=>(i.set(a,o),o+a.length),0),n(i)})}}class TI extends Y0{delegate;constructor(){super([{filters:[{vendorId:Iw,productId:bI},{vendorId:Iw,productId:EI}]}])}async open(t,n){return new Promise((r,i)=>{this.delegate=new CI(t,n),this.delegate.addEventListener("data",o=>{const a=o.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",o=>{i(o)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0}),this.delegate.open()})}async closeImpl(){return this.delegate?.close()}async write(t){return this.delegate?this.delegate.write(t):new Promise((n,r)=>{r("not yet initialized")})}}class kI extends Y0{delegate;constructor(){super([{filters:[{vendorId:1659,productId:9123},{vendorId:1659,productId:8963}]}])}async open(t,n){return new Promise((r,i)=>{this.delegate=new hI(t,n),this.delegate.addEventListener("data",o=>{const a=o.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",o=>{i(o)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0}),this.delegate.open()})}async closeImpl(){return this.delegate?.close()}async write(t){return this.delegate?this.delegate.write(t):new Promise((n,r)=>{r("not yet initialized")})}}class MI extends Y0{delegate;constructor(){super([{filters:[{vendorId:1027,productId:24577}]}])}async open(t,n){return new Promise((r,i)=>{this.delegate=new eI(t,n),this.delegate.addEventListener("data",o=>{const a=o.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",o=>{i(o.detail)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0})})}async closeImpl(){return this.delegate.closeAsync()}async write(t){return this.delegate.writeAsync(t)}}class ga{static supportedDrivers=[new MI,new kI,new TI];static async getPorts(){const t=[];return navigator.usb&&(await navigator.usb.getDevices()).forEach(r=>{const i=ga.findDriverForDevice(r);i&&t.push(new Lw(r,i))}),t}async requestPort(){return new Promise((t,n)=>{const r=ga.supportedDrivers.flatMap(i=>i.options.flatMap(o=>o.filters));navigator.usb.requestDevice({filters:r}).then(i=>{const o=ga.findDriverForDevice(i);o?t(new Lw(i,o)):n(`could not find driver for device ${JSON.stringify(i)}`)})})}static findDriverForDevice(t){return this.supportedDrivers.find(n=>n.options.flatMap(i=>i.filters).find(i=>i.vendorId==t.vendorId&&i.productId===t.productId))}}class DI{listeners=[];intervalMs;intervalId;constructor(t=1e3){this.intervalMs=t}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}tick(){const t=Date.now();this.listeners.forEach(n=>{n.tick(t)})}start(){this.intervalId=setInterval(()=>{this.tick()},this.intervalMs)}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}}const dC=new DI;function z0(e){const t=_.useContext(bt),n=()=>{},r=_.useRef(n);_.useEffect(()=>{r.current=e},[e]),_.useEffect(()=>{const i={tick:()=>{r.current()}};return t.timingSignal.addListener(i),()=>t.timingSignal.removeListener(i)},[])}const Me=oC,ns=new UR,Xr=new hR,hC=new pR(Xr,ns),OI=new VR;function PI(){ns.setPortaCountClient(Xr)}function NI(){vt.synth.getVoices(),vt.setSpeechEnabled(Me.getSetting(j.SPEECH_ENABLED));const e=vt.findVoiceByName(Me.getSetting(j.SPEECH_VOICE));e&&vt.setSelectedVoice(e),Xr.addListener({particleConcentrationReceived(r){if(!vt.isSayingSomething()&&Me.speechEnabled&&Me.sayParticleCount){const i=r.concentration,o=Math.ceil(i),a=o<20?(Math.ceil(i*10)/10).toFixed(1):o,s=Me.verboseSpeech?`Particle count is ${a}`:a.toString();vt.sayIt(s)}}});let t="";const n={instructionsChanged(r){const i=r.split(".",2)[0];t!==r&&(t=r,vt.sayItLater(i))},estimatedFitFactorChanged(r){Me.sayEstimatedFitFactor&&vt.sayItPolitely(`Estimated Fit Factor is ${r.toFixed(0)}`)}};ns.addListener(n)}function RI(e){const t=Me.getProtocolDefinition(e),n=iC(t),r=Xr.settings,i=r.numExercises||n;i!==n&&console.warn(`numExercises (${i} does not match num exercise for protocol ${e} (${n})`);const o=[];let a=0;return t.forEach(s=>{if(s.mask_sample){a++;const l={instructions:s.instructions,ambient_purge:r.ambientPurge||yt.defaultAmbientPurgeDuration,ambient_sample:r.ambientSample||yt.defaultAmbientSampleDuration,mask_purge:r.maskPurge||yt.defaultMaskPurgeDuration,mask_sample:r.maskSample.get(a)||yt.defaultMaskSampleDuration};a>i?console.log(`Ignoring extra exercises. Device is configured for ${i}. Ignoring exercise ${a}`):o.push(l)}}),o.push({instructions:"finalize",ambient_purge:r.ambientPurge,ambient_sample:r.ambientSample,mask_purge:0,mask_sample:0}),o}async function pC(){const e=navigator.serial?(await navigator.serial.getPorts()).filter(a=>a.getInfo().usbVendorId):[],t=await ga.getPorts(),n=t.length>0?t[0]:null,r=e.length>0?e[0]:null,i=Me.getSetting(j.SELECTED_DATA_SOURCE);let o=null;i===qe.WebUsbSerial&&n?o=n:i===qe.WebSerial&&r?o=r:n?(o=n,Me.saveSetting(j.SELECTED_DATA_SOURCE,qe.WebUsbSerial)):r&&(o=r,Me.saveSetting(j.SELECTED_DATA_SOURCE,qe.WebSerial)),o?(console.debug(`auto-connecting to port ${JSON.stringify(o)}`),Xr.connect(o)):Me.getSetting(j.ENABLE_AUTO_CONNECT)&&setTimeout(()=>pC(),1500)}async function II(){const e=new Date,t=new Date(e.getTime()-e.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);function n(r){const i=new Date(r);try{return new Date(i.getTime()-i.getTimezoneOffset()*60*1e3).toISOString().substring(0,10)===t}catch{return!1}}return Rn.getData().then(r=>{const i=ol(r.map(s=>s.Mask)),o=ol(r.map(s=>s.Notes)),a=ol(r.filter(s=>n(s.Time)).map(s=>s.Participant));Me.saveSetting(j.COMBINED_MASK_LIST,i),Me.saveSetting(j.TEST_NOTES,[...o].sort(ts.compare)),Me.saveSetting(j.COMBINED_PARTICIPANT_LIST,a)})}function LI(){Xr.baudRate=Me.getSetting(j.BAUD_RATE),Xr.syncOnConnect=Me.getSetting(j.SYNC_DEVICE_STATE_ON_CONNECT)}function AI(){let e=!1,t=Mt.Disconnected;function n({executorRunning:i,activity:o}){i!==void 0&&(e=i),o!==void 0&&(t=o),Me.saveSetting(j.ACTIVITY,e?Mt.Testing:t)}const r={started(){n({executorRunning:!0})},cancelled(){n({executorRunning:!1})},completed(){n({executorRunning:!1})},activityChanged(i){n({activity:i})},connectionStatusChanged(i){switch(i){case jt.DISCONNECTED:n({activity:Mt.Disconnected});break;default:n({activity:Mt.Idle});break}}};Xr.addListener(r),hC.addListener(r)}function FI(){const e={newTestStarted(n){const r=W0(n.Mask);if(!r)return;const i=Me.getSetting(j.COMBINED_MASK_LIST);new Set(i.map(a=>a.toLowerCase())).has(r.toLowerCase())||Me.saveSetting(j.COMBINED_MASK_LIST,[...i,r].toSorted(ts.compare))}};ns.addListener(e);const t=ol([...Me.getSetting(j.MASK_LIST),...Me.getSetting(j.COMBINED_MASK_LIST)]);Me.saveSetting(j.COMBINED_MASK_LIST,t),Me.getSetting(j.AUTO_UPDATE_MASK_LIST)&&Me.saveSetting(j.MASK_LIST,t)}function $I(){const e={newTestStarted(n){const r=W0(n.Participant);if(!r)return;const i=Me.getSetting(j.COMBINED_PARTICIPANT_LIST);new Set(i.map(a=>a.toLowerCase())).has(r.toLowerCase())||Me.saveSetting(j.COMBINED_PARTICIPANT_LIST,[...i,r].toSorted(ts.compare))}};ns.addListener(e);const t=ol([...Me.getSetting(j.PARTICIPANT_LIST),...Me.getSetting(j.COMBINED_PARTICIPANT_LIST)]);Me.saveSetting(j.COMBINED_PARTICIPANT_LIST,t),Me.saveSetting(j.PARTICIPANT_LIST,t)}function jI(){Object.entries(eg).forEach(([e,t])=>{la.setDefault(e,t)})}async function UI(){jI(),await Me.loadAllSettings(),await Rn.open(),await gd.open(),LI(),NI(),PI(),await II(),AI(),FI(),$I(),dC.start(),Me.getSetting(j.ENABLE_AUTO_CONNECT)&&await pC()}function W0(e){return(e??"").replaceAll(/\s+/g," ")}function ol(e){const t=new Set;return[...e.reduce((r,i)=>{const o=W0(i),a=o.toLowerCase();return a&&!t.has(a)&&(t.add(a),r.add(o)),r},new Set)].toSorted(ts.compare)}await UI();const mC={portaCountClient:Xr,settings:Me,dataCollector:ns,protocolExecutor:hC,portaCountSimulator:OI,timingSignal:dC},bt=_.createContext(mC);function HI(e,t){const n=_.useRef(),r=_.useRef(),i=o=>{r.current===void 0&&(r.current=o),e({frameCurrentTime:o}),n.current=requestAnimationFrame(i)};_.useEffect(()=>(n.current=requestAnimationFrame(i),()=>{n.current&&cancelAnimationFrame(n.current)}),t)}function VI(e,t={}){const n=_.useContext(LR),[r,i]=_.useState(n.getConfig(e,t));return _.useEffect(()=>{const s={subscriptions:()=>[e],configChanged(l,u){i(u)}};return n.addListener(s),()=>n.removeListener(s)},[]),[r,s=>{const l=typeof s=="function"?s(n.getConfig(e,t)):s;n.setConfig(e,l),i(l)},()=>n.getConfig(e)]}function se(e){return VI(e)}function BI(){const e=_.useContext(bt),t=e.settings.getProtocolNames(),[n,r]=se(j.SELECTED_PROTOCOL),i=o=>{const a=n;r(o),a!==o&&e.protocolExecutor.protocolIsExecuting()&&e.protocolExecutor.cancel()};return S.jsx("select",{id:"protocol-select",onChange:o=>i(o.target.value),value:n,children:t.map(o=>S.jsx("option",{value:o,children:o},o))})}var gC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Aw=I.createContext&&I.createContext(gC),YI=["attr","size","title"];function zI(e,t){if(e==null)return{};var n=WI(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WI(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sf.apply(this,arguments)}function Fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(n),!0).forEach(function(r){qI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qI(e,t,n){return t=QI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QI(e){var t=GI(e,"string");return typeof t=="symbol"?t:t+""}function GI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vC(e){return e&&e.map((t,n)=>I.createElement(t.tag,lf({key:n},t.attr),vC(t.child)))}function it(e){return t=>I.createElement(KI,sf({attr:lf({},e.attr)},t),vC(e.child))}function KI(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=zI(e,YI),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),I.createElement("svg",sf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:lf(lf({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&I.createElement("title",null,o),e.children)};return Aw!==void 0?I.createElement(Aw.Consumer,null,n=>t(n)):t(gC)}function XI(e){return it({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zM6 4.5l6 3.5-6 3.5z"},child:[]}]})(e)}function ZI(e){return it({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zM5 5h6v6h-6z"},child:[]}]})(e)}function JI(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707m0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707m-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707"},child:[]}]})(e)}function eL(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"},child:[]}]})(e)}function $w(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 4v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2m4.271 1.055a.5.5 0 0 1 .52.038L8 7.386V5.5a.5.5 0 0 1 .79-.407l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 8 10.5V8.614l-3.21 2.293A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .271-.445"},child:[]}]})(e)}function tL(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 9a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3A.5.5 0 0 1 6 9M3.854 4.146a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708z"},child:[]},{tag:"path",attr:{d:"M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"},child:[]}]})(e)}function yC(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 2A2.5 2.5 0 0 0 10 4.5a.5.5 0 0 1-1 0A3.5 3.5 0 1 1 12.5 8H.5a.5.5 0 0 1 0-1h12a2.5 2.5 0 0 0 0-5m-7 1a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 1 1 2 2h-5a.5.5 0 0 1 0-1h5a1 1 0 0 0 0-2M0 9.5A.5.5 0 0 1 .5 9h10.042a3 3 0 1 1-3 3 .5.5 0 0 1 1 0 2 2 0 1 0 2-2H.5a.5.5 0 0 1-.5-.5"},child:[]}]})(e)}function wC(e){return it({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"},child:[]}]})(e)}function _C(e){return it({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,104a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,104Zm-8,24H88a8,8,0,0,0,0,16h80a8,8,0,0,0,0-16Zm88-24v24a32,32,0,0,1-32,32h-5.19c-7.19,15.8-21.79,29.43-43.23,40.16a191.16,191.16,0,0,1-46.15,15.71,7.93,7.93,0,0,1-2.86,0,191.16,191.16,0,0,1-46.15-15.71C59,189.43,44.38,175.8,37.19,160H32A32,32,0,0,1,0,128V104A32,32,0,0,1,32,72h.85a16,16,0,0,1,9.68-10l80-29.09a16.06,16.06,0,0,1,10.94,0l80,29.09a16,16,0,0,1,9.68,10H224A32,32,0,0,1,256,104ZM32.55,144a58.74,58.74,0,0,1-.55-8V88a16,16,0,0,0-16,16v24a16,16,0,0,0,16,16ZM208,136V77.09L128,48,48,77.09V136c0,45,69.09,61.52,80,63.84C138.89,197.52,208,181,208,136Zm32-32a16,16,0,0,0-16-16v48a58.74,58.74,0,0,1-.55,8H224a16,16,0,0,0,16-16Z"},child:[]}]})(e)}function nL(e){return it({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,128a79.94,79.94,0,0,0-32.7-64.47l-6.24-34.38A16,16,0,0,0,153.32,16H102.68A16,16,0,0,0,86.94,29.15L80.7,63.53a79.9,79.9,0,0,0,0,128.94l6.24,34.38A16,16,0,0,0,102.68,240h50.64a16,16,0,0,0,15.74-13.15l6.24-34.38A79.94,79.94,0,0,0,208,128ZM102.68,32h50.64l3.91,21.55a79.75,79.75,0,0,0-58.46,0ZM64,128a64,64,0,1,1,64,64A64.07,64.07,0,0,1,64,128Zm89.32,96H102.68l-3.91-21.55a79.75,79.75,0,0,0,58.46,0ZM120,128V88a8,8,0,0,1,16,0v32h32a8,8,0,0,1,0,16H128A8,8,0,0,1,120,128Z"},child:[]}]})(e)}function rL(e){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M224 232a32 32 0 0 1 64 0m160-32h16m-400 0H48m16 0c0 96 16 128 80 128s80-32 80-128c0 0-16-16-80-16s-80 16-80 16zm384 0c0 96-16 128-80 128s-80-32-80-128c0 0 16-16 80-16s80 16 80 16z"},child:[]}]})(e)}function iL(e){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 256a112 112 0 1 0-112-112 112 112 0 0 0 112 112zm0 32c-69.42 0-208 42.88-208 128v64h416v-64c0-85.12-138.58-128-208-128z"},child:[]}]})(e)}function oL(e){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 112 48v16H96a64 64 0 0 0-64 64v12a4 4 0 0 0 4 4h440a4 4 0 0 0 4-4v-12a64 64 0 0 0-64-64zm61 112H35a3 3 0 0 0-3 3v237a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V179a3 3 0 0 0-3-3zM224 307.43A28.57 28.57 0 0 1 195.43 336h-70.86A28.57 28.57 0 0 1 96 307.43v-70.86A28.57 28.57 0 0 1 124.57 208h70.86A28.57 28.57 0 0 1 224 236.57z"},child:[]}]})(e)}function Mu({duration:e,source:t,state:n,override:r}){return S.jsxs("div",{className:`${t}-${n}-segment`,style:{flexBasis:`${e}px`,flexGrow:e,minWidth:"0px"},children:[t===Ce.MASK&&n===Mn.SAMPLE&&Ge(1e3*e),r&&` (${r})`]})}function aL({stage:e,elementRef:t,currentTestResults:n,exerciseNum:r,currentEstimate:i}){const o=e.ambient_purge+e.ambient_sample+e.mask_purge+e.mask_sample,a=i!==void 0?i:r&&n?n[`Ex ${r}`]:void 0;return S.jsxs("div",{className:"protocol-stage-element",ref:t,style:{flexBasis:`${o}px`,flexGrow:o,overflow:"hidden"},children:[S.jsx("div",{className:"stage-instructions",children:e.instructions.split(".")[0]}),S.jsxs("div",{className:"stage-segments",children:[S.jsx(Mu,{duration:e.ambient_purge,source:Ce.AMBIENT,state:Mn.PURGE}),S.jsx(Mu,{duration:e.ambient_sample,source:Ce.AMBIENT,state:Mn.SAMPLE}),S.jsx(Mu,{duration:e.mask_purge,source:Ce.MASK,state:Mn.PURGE}),S.jsx(Mu,{duration:e.mask_sample,source:Ce.MASK,state:Mn.SAMPLE,override:a})]})]})}function sL(e){return it({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"},child:[]}]})(e)}function lL(e){return it({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},child:[]}]})(e)}function uL(){const t=_.useContext(bt),[n]=_.useState(t.dataCollector),[r,i]=_.useState(""),o=_.useRef(null),[a,s]=_.useState([0,0]),l=_.useMemo(()=>o.current?o.current.clientHeight:30*1.5,[o.current]);function u(h){if(o.current){const m=f(h);o.current.style.fontSize=m+"px"}}function c(h,m,g){const v=m.split(/\s+/);let p=0,y=0;return v.forEach(w=>{const x=w.length*h;y+x<g?y+=x+h:(p++,y=x)}),p}function f(h){let m=1;if(o.current){const g=o.current.clientHeight>window.innerHeight*.7?o.current.clientHeight:l;console.debug(`calculateFontSize max height ${g}`);const v=o.current.clientWidth,p=h.length,y=v/p,w=Math.sqrt(v*g/p);for(let x=y;x<w&&!(c(x,h,v)*x>g);x++)m=x}return Math.max(m,30)}const d={instructionsChanged(h){i(h.replace(/\./,`.
`))}};return _.useEffect(()=>{n.addListener(d);const h=new ResizeObserver(([m])=>{s([m.target.clientWidth,m.target.clientHeight])});return o.current&&h.observe(o.current),()=>{n.removeListener(d),h.disconnect()}},[]),_.useEffect(()=>{u(r)},[r,a]),S.jsxs("fieldset",{style:{display:"inline-block",flexGrow:1,height:"inherit"},className:"info-box-compact",children:[S.jsx("legend",{children:"Test Instructions"}),S.jsx("textarea",{id:"test-instructions",ref:o,style:{width:"100%",minHeight:"1em",height:"inherit",overflow:"auto",resize:"none",border:"none",alignContent:"center",textAlign:"center",textWrap:"wrap",whiteSpaceCollapse:"collapse"},readOnly:!0,value:r,onChange:()=>null})]})}function cL(e){return it({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2 22 3.41zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59 3.41 22z"},child:[]}]})(e)}function fL(e){return it({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"circle",attr:{cx:"7",cy:"12",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17",cy:"12",r:"1.5"},child:[]}]})(e)}function Du({icon:e,text:t,children:n}){return S.jsxs("div",{className:"icon-text svg-container thin-border blue-bg number-field",style:{display:"inline-flex",gap:"0.2em"},children:[S.jsx("div",{className:"wide-display",children:t}),S.jsx("div",{className:"narrow-display",children:e?e({}):null}),n]})}function dL({...e}){const t=_.useContext(bt),n=t.protocolExecutor,r=t.portaCountClient,i=t.dataCollector,[o,a]=_.useState(),[s,l]=_.useState(Date.now()),[u,c]=_.useState(!1),[f]=se(j.SELECTED_PROTOCOL),[d,h]=_.useState({}),[m,g]=_.useState(!0),[v,p]=_.useState([]),[y,w]=_.useState([]),[x,E]=_.useState(!1),[b,C]=_.useState(0),[k,N]=_.useState(Ge(0)),A=_.useRef(null),O=_.useRef(null),V=_.useRef(null),L=n.lastAmbientSegment?vi(n.lastAmbientSegment):void 0,T=o?vi(o):void 0,P=L&&T?md(L/T):"?",[D]=se(j.ENABLE_TEST_INSTRUCTIONS_ZOOM),[$]=se(j.ACTIVITY),[M,F]=se(j.ZOOM_INSTRUCTIONS),[B]=se(j.SHOW_EXTERNAL_CONTROL);_.useEffect(()=>{o&&Q(o)},[o]),_.useEffect(()=>{F(D&&$===Mt.Testing)},[D,$]);function Q(G){const W=rC(G),J=G.index===o?.index,Te=G.duration*1e3-(Date.now()-s);if(!W)return"";const ct=d[`Ex ${G.exerciseNumber}`];return ct?`done - ${ct}`:J?Te>0?`${Ge(Te)} (${P})`:`${Ge(Te)} (${P})`:Ge(1e3*G.duration)}function K(){const G={},W={},J=aC(v);v.forEach(Te=>{W[Te.index]=Te.duration,G[Te.stageIndex]=(G[Te.stageIndex]??0)+Te.duration}),C(J)}function pe(G){G.index===0&&K(),a(G),l(G.segmentStartTimeMs||Date.now()),c(!0)}function ce(){n.currentSegment&&a(n.currentSegment)}_.useEffect(()=>{const G={testStarted(W){E(!0),a(v[0]),l(W),re({source:Ee.Internal})},testTerminated(){E(!1),a(void 0)},fitFactorResultsReceived(W){if(W.exerciseNum==="Final")E(!1),a(void 0);else{const J=v.reduce((Te,ct,Tr,Ih)=>Te||(ct.exerciseNumber===W.exerciseNum+1?Ih[Tr]:null),null);a(J||void 0),l(W.timestamp)}}};return r.addListener(G),()=>{r.removeListener(G)}},[v]),_.useEffect(()=>{const G={started(){c(!0)},segmentDataUpdated(){},segmentChanged(J){pe(J)},cancelled(){A.current&&A.current.classList.replace("in-progress","paused"),c(!1),a(void 0)},completed(){c(!1),a(void 0)}},W={currentTestUpdated(J){h(J),g(!0)}};return n.addListener(G),i.addListener(W),re({}),ce(),()=>{n.removeListener(G),i.removeListener(W)}},[]),_.useEffect(()=>{h({}),re({}),g(!0)},[f]),_.useEffect(()=>{u?O.current?.classList.replace("idle","in-progress"):O.current?.classList.replace("in-progress","idle")},[u]),z0(me);function re({protocolName:G=f,source:W=Ee.External}){const J=W===Ee.External?t.settings.getProtocolDefinition(G):RI(G);w(J),p(af(J)),g(!0)}function me(){(m||o&&o.state&&o.state!==Mn.IDLE)&&(N(Ge(de(1e3*(o?.duration??0)))),K(),g(!1))}function de(G,W=!0){const J=Date.now()-s,Te=Math.min(J,G);return o?o.protocolStartTimeOffsetSeconds*1e3+(W?Te:J):0}HI(()=>{if(!(!u&&!x)&&A.current){const G=1e3*(o?.duration??0),W=de(G,!x);Date.now()-s>=G?A.current.classList.replace("in-progress","paused"):A.current.classList.replace("paused","in-progress"),o&&(A.current.style.right=`calc(${100-.1*W/b}% - 12px)`)}},[u,x,o]);function Y(){n.cancel()}function R(){return o&&o.source===Ce.MASK&&T&&!isNaN(T)?T.toFixed(T<100?1:0):"?"}function q(){if(!o)return"?";if(o.source===Ce.AMBIENT){const G=vi(o);if(G)return G.toFixed(0)}return L?L.toFixed(0):"?"}function ie(){i.recordTestStart(Ee.Manual)}_.useEffect(()=>{F(D&&$===Mt.Testing)},[$,D]);function H(){F(G=>!G)}function ge(){const G=[];let W=0;return y.forEach((J,Te)=>{J.mask_sample&&W++,G.push(S.jsx(aL,{elementRef:V,stage:J,exerciseNum:W,currentTestResults:d,currentEstimate:o&&o.stageIndex===Te?P:void 0},Te))}),G}return S.jsxs("section",{id:"custom-control-panel",...e,style:{paddingTop:"0.5em",height:M?"inherit":"auto",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[S.jsxs("fieldset",{id:"protocol-executor-panel-main",ref:O,className:"idle",style:{minWidth:0,overflow:"auto",paddingBottom:"0.2em"},children:[S.jsxs("legend",{style:{textAlign:"start",display:"inline-flex",flexWrap:"wrap",paddingInline:"0.5rem"},children:["Protocol ",S.jsx(BI,{}),B&&S.jsxs("button",{disabled:u||r.state.connectionStatus!==jt.RECEIVING,className:"icon-button start",onClick:()=>n.executeProtocol(v),children:["Start ",S.jsx("div",{className:"svg-container",children:S.jsx(XI,{})})]}),B&&S.jsxs("button",{disabled:!u,onClick:()=>Y(),className:"icon-button stop",children:["Stop ",S.jsx("div",{className:"svg-container",children:S.jsx(ZI,{})})]}),S.jsxs("button",{disabled:u,onClick:()=>ie(),className:"icon-button",children:["Manual ",S.jsx("div",{className:"svg-container",children:S.jsx(lL,{})})]}),S.jsxs("div",{style:{display:"inline-flex"},children:[S.jsxs(Du,{icon:nL,text:"Time:",children:[k," / ",Ge(b*1e3)]}),S.jsx(Du,{icon:yC,text:"Ambient:",children:q()}),S.jsx(Du,{icon:_C,text:"Mask:",children:R()}),S.jsx(Du,{icon:rL,text:"Estimate:",children:P})]})]}),S.jsxs("section",{id:"protocol-visualizer",style:{position:"relative"},children:[S.jsx("div",{id:"protocol-pos-pointer",ref:A,className:"protocol-position-pointer paused",style:{float:"inline-start",zIndex:1}}),S.jsx("div",{id:"new-protocol-visualizer-container",style:{display:"flex",flexDirection:"row"},children:ge()})]})]}),S.jsxs("div",{id:"testing-mode-container",className:`test-instructions-container ${M&&"test-in-progress"}`,children:[S.jsx("div",{style:{padding:"0.2em",position:"absolute",right:0,backgroundColor:"inherit",aspectRatio:1,zIndex:10},onClick:()=>H(),children:M?S.jsx(cL,{}):S.jsx(JI,{})}),S.jsx(uL,{})]})]})}function hL(e){return it({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 14 4 9l5-5"},child:[]},{tag:"path",attr:{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11"},child:[]}]})(e)}function xo({debounce:e=!0,debounceDelay:t=500,resize:n=!0,onChange:r,initialValue:i,label:o,placeholder:a,autocompleteOptions:s=[],id:l,oneLine:u=!1,scrollable:c=!1,onChangeOnlyOnBlur:f,className:d}){const[h,m]=I.useState(i),g=_.useRef(null),v=_.useRef(null),[p,y]=_.useState(null),[w,x]=_.useState(!1),[E,b]=_.useState(!0),[C,k]=_.useState(!0),[N,A]=_.useState(0),O=_.useRef(null),V=_.useRef(null),L=_.useMemo(()=>{const R=Array.isArray(s)?s:s();if((h??"").trim().length===0||!C)return R;function ie(H){const ge=H.value.toLowerCase();return(h??"").toLowerCase().split(/\s+/).every(G=>ge.includes(G))}return R.filter(H=>ie(H))},[s,h,C]),T=_.useCallback(R=>{const q=L.length;switch(R.ctrlKey?`Ctrl-${R.key.toUpperCase()}`:R.code){case"Escape":if(h!==i){ce();break}if(C&&q<N){k(!1);break}M();break;case"Ctrl-N":case"Ctrl-F":case"ArrowDown":if(!q)break;y(H=>(H===null?0:H+1)%q),x(!0);break;case"Ctrl-P":case"Ctrl-B":case"ArrowUp":if(!q)break;y(H=>(q+(H===null?q-1:H-1))%q),x(!0);break;case"Enter":if(!w||!q||p===null)break;q===1&&L[0].value.toLowerCase()===(h??"").toLowerCase()?(R.preventDefault(),re(h)):q>0&&(R.preventDefault(),re(L[p].value)),M();break;case"Tab":w&&q?p===null||q===1&&L[0].value.toLowerCase()===(h??"").toLowerCase()?re(h):q>0?re(L[p].value):console.debug("tab fallthrough"):re(h),M();break;default:k(!0),x(!0);break}},[L,p,h,w]);_.useEffect(()=>{P(h)},[]),_.useEffect(()=>{m(i)},[i]),_.useEffect(()=>{if(P(h),h||y(null),!f&&r)if(e){const R=setTimeout(()=>{i!==h&&r(h)},t);return()=>clearTimeout(R)}else r(h)},[h]),_.useEffect(()=>{if(V.current&&p!==null){const R=V.current.children.item(p);R&&R.scrollIntoView({block:"center"}),b(!1)}},[p]),_.useEffect(()=>{y(R=>R===null||L.length===0?null:Math.min(R,L.length-1))},[L]),_.useEffect(()=>{if(w){let R=function(){document.removeEventListener("click",q),document.removeEventListener("focusin",ie),document.removeEventListener("mousemove",H)};const q=ge=>{if(console.debug("global click listener:",ge),ge.target!==V.current){if(O.current){const G=O.current.getBoundingClientRect();if(ge.clientX>=G.left&&ge.clientX<=G.right&&ge.clientY>=G.top&&ge.clientY<=G.bottom)return}v.current&&(console.debug("clicked outside component, value is",h,"event value is",v.current.value),re(v.current.value),M(),R())}},ie=ge=>{E&&ge.target!==v.current&&v.current&&(console.debug("focusIn different element, value is",v.current.value),re(v.current.value),M(),R())},H=ge=>{ge.type==="mousemove"&&b(!0)};return document.addEventListener("click",q),document.addEventListener("focusin",ie),document.addEventListener("mousemove",H),()=>{R()}}},[w,E]),_.useEffect(()=>{const R=Array.isArray(s)?s:s();A(R.length)},[s]);function P(R){n&&g.current&&(g.current.dataset.value=R)}function D(R){console.debug("textarea onchange",R.target.value),m(R.target.value)}function $(){E&&y(null)}function M(){y(null),x(!1),k(!0),v.current&&v.current.blur()}function F(R){re(R.value),M()}function B(R){L.length>1&&R.type==="mousedown"&&document.activeElement===v.current&&x(q=>!q)}function Q(){L.length>1&&x(!0)}const K=_.useCallback(()=>L.map(R=>{const q=p!==null&&L[p]===R;return S.jsx("li",{className:`autocomplete-option ${q&&"selected"}`,onMouseEnter:()=>$(),onClick:()=>F(R),children:R.label},R.value)}),[L,p]);function pe(){m("")}function ce(){m(i)}function re(R){if(console.debug(`updateValue '${i}' => '${R}'`),R===i){console.debug("no change");return}m(R),r&&r(R)}function me(R){if(console.debug("onBlur handler",h,"autocomplete visible?",w),w){console.debug("let autocomplete handle update"),R.preventDefault();return}re(h)}const de=v.current?.getBoundingClientRect(),Y=`smart-text-area-${l}-textarea`;return S.jsxs("label",{id:`smart-text-area-${l}-container`,className:`smart-text-area-container ${d}`,ref:O,children:[o&&(qE(o)?S.jsx("label",{id:`smart-text-area-${l}-label`,htmlFor:Y,className:"smart-text-area-label",children:o}):o),S.jsx("label",{id:`smart-text-area-${l}-textarea-resizer`,className:"textarea-resizer",ref:g,children:S.jsx("textarea",{id:Y,className:`smart-text-area-textarea ${u?"one-line":""} ${c?"scrollable":""}`,placeholder:a,value:h,ref:v,onChange:D,onFocus:Q,onBlur:R=>me(R),onMouseDown:B,onKeyDown:R=>T(R)})}),S.jsx("div",{className:"clear-content-icon svg-container",children:h===i||!i?S.jsx(wC,{onClick:()=>pe()}):S.jsx(hL,{onClick:()=>ce()})}),w&&Wl.createPortal(S.jsx("div",{id:`smart-text-area-${l}-autocomplete-options`,className:`smart-text-area-autocomplete-container ${L.length<N&&"some-options-filtered"}`,ref:V,style:{top:de?.bottom,left:de?.left,width:de?.width},children:K()}),document.body)]})}function pL(e){const[t]=se(j.COMBINED_MASK_LIST);function n(i){e.onChange&&e.onChange(i)}const r=_.useCallback(()=>t.toSorted(ts.compare).map(i=>({label:i,value:i})),[t]);return S.jsx(xo,{id:`mask-${e.id}`,className:e.className,onChangeOnlyOnBlur:!0,label:e.label,initialValue:e.value,autocompleteOptions:r,placeholder:e.placeholder||"Click to add mask",onChange:i=>n(i||"")})}function mL(e){const[t]=se(j.COMBINED_PARTICIPANT_LIST);function n(r){e.onChange&&e.onChange(r)}return S.jsx(xo,{id:"participant",label:e.label,initialValue:e.value,onChangeOnlyOnBlur:!0,autocompleteOptions:t.map(r=>({label:r,value:r})),placeholder:"Click to add participant",onChange:r=>n(r||"")})}function gL(e){const[t,n]=se(j.TEST_NOTES);function r(i){e.onChange&&e.onChange(i),n(o=>[...new Set([...o,i])].filter(a=>a&&a.trim().length>0).toSorted(ts.compare))}return S.jsx(xo,{id:"notes",onChangeOnlyOnBlur:!0,label:e.label,initialValue:e.value,autocompleteOptions:t.map(i=>({label:i,value:i})),placeholder:"Click to add notes",onChange:i=>r(i||"")})}function vL(){const[e,t,n]=se(j.TEST_TEMPLATE);function r(u){u=u.trim(),a({Participant:u,Time:e.Participant!==u?new Date().toISOString():e.Time})}function i(u){a({Mask:u})}function o(u){a({Notes:u})}function a(u){const c={};Object.assign(c,n()),Object.assign(c,u),console.debug(`updateTestTemplate -> ${JSON.stringify(c)}`),t(c)}function s(){a({Participant:"",Mask:"",Notes:""})}function l(){a({Mask:"",Notes:""})}return S.jsx("div",{id:"current-participant-panel",children:S.jsx("div",{children:S.jsxs("div",{id:"participant-parameters",style:{display:"flex",textAlign:"start",flexDirection:"row",flexWrap:"wrap",gap:"2px"},children:[S.jsx("div",{className:"thin-border-2 participant-info",children:S.jsx(mL,{value:e.Participant,onChange:u=>r(u||""),label:S.jsxs("span",{id:"smart-text-area-participant-label",className:"smart-text-area-label",children:["Name ",S.jsx("div",{className:"svg-container",children:S.jsx($w,{onClick:()=>s()})})]})})}),S.jsx("div",{className:"thin-border-2 participant-info",children:S.jsx(pL,{value:e.Mask,id:"mask",onChange:u=>i(u||""),label:S.jsxs("span",{id:"smart-text-area-mask-label",className:"smart-text-area-label",children:["Mask ",S.jsx("div",{className:"svg-container",children:S.jsx($w,{onClick:()=>l()})})]})})}),S.jsx("div",{className:"thin-border-2 participant-info remainder",style:{flexGrow:1},children:S.jsx(gL,{value:e.Notes,label:"Notes",onChange:u=>o(u||"")})})]})})})}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(null,arguments)}function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function yL(e,t){if(bo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SC(e){var t=yL(e,"string");return bo(t)=="symbol"?t:t+""}function Us(e,t,n){return(t=SC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(n),!0).forEach(function(r){Us(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SC(r.key),r)}}function _L(e,t,n){return t&&Uw(e.prototype,t),n&&Uw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ng(e,t){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ng(e,t)}function SL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ng(e,t)}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uf(e)}function xC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xC=function(){return!!e})()}function xL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bL(e,t){if(t&&(bo(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xL(e)}function EL(e){var t=xC();return function(){var n,r=uf(e);if(t){var i=uf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bL(this,n)}}function rg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function CL(e){if(Array.isArray(e))return rg(e)}function TL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bC(e,t){if(e){if(typeof e=="string")return rg(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rg(e,t):void 0}}function kL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function va(e){return CL(e)||TL(e)||bC(e)||kL()}var ML=!1;function DL(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function OL(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var PL=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!ML:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=DL(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Lt="-ms-",cf="-moz-",Pe="-webkit-",EC="comm",q0="rule",Q0="decl",NL="@import",CC="@keyframes",RL="@layer",IL=Math.abs,vd=String.fromCharCode,LL=Object.assign;function AL(e,t){return Dt(e,0)^45?(((t<<2^Dt(e,0))<<2^Dt(e,1))<<2^Dt(e,2))<<2^Dt(e,3):0}function TC(e){return e.trim()}function FL(e,t){return(e=t.exec(e))?e[0]:e}function Ne(e,t,n){return e.replace(t,n)}function ig(e,t){return e.indexOf(t)}function Dt(e,t){return e.charCodeAt(t)|0}function Tl(e,t,n){return e.slice(t,n)}function tr(e){return e.length}function G0(e){return e.length}function Ou(e,t){return t.push(e),e}function $L(e,t){return e.map(t).join("")}var yd=1,Ra=1,kC=0,nn=0,lt=0,rs="";function wd(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:yd,column:Ra,length:a,return:""}}function Ss(e,t){return LL(wd("",null,null,"",null,null,0),e,{length:-e.length},t)}function jL(){return lt}function UL(){return lt=nn>0?Dt(rs,--nn):0,Ra--,lt===10&&(Ra=1,yd--),lt}function un(){return lt=nn<kC?Dt(rs,nn++):0,Ra++,lt===10&&(Ra=1,yd++),lt}function hr(){return Dt(rs,nn)}function fc(){return nn}function Ql(e,t){return Tl(rs,e,t)}function kl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function MC(e){return yd=Ra=1,kC=tr(rs=e),nn=0,[]}function DC(e){return rs="",e}function dc(e){return TC(Ql(nn-1,og(e===91?e+2:e===40?e+1:e)))}function HL(e){for(;(lt=hr())&&lt<33;)un();return kl(e)>2||kl(lt)>3?"":" "}function VL(e,t){for(;--t&&un()&&!(lt<48||lt>102||lt>57&&lt<65||lt>70&&lt<97););return Ql(e,fc()+(t<6&&hr()==32&&un()==32))}function og(e){for(;un();)switch(lt){case e:return nn;case 34:case 39:e!==34&&e!==39&&og(lt);break;case 40:e===41&&og(e);break;case 92:un();break}return nn}function BL(e,t){for(;un()&&e+lt!==57;)if(e+lt===84&&hr()===47)break;return"/*"+Ql(t,nn-1)+"*"+vd(e===47?e:un())}function YL(e){for(;!kl(hr());)un();return Ql(e,nn)}function zL(e){return DC(hc("",null,null,null,[""],e=MC(e),0,[0],e))}function hc(e,t,n,r,i,o,a,s,l){for(var u=0,c=0,f=a,d=0,h=0,m=0,g=1,v=1,p=1,y=0,w="",x=i,E=o,b=r,C=w;v;)switch(m=y,y=un()){case 40:if(m!=108&&Dt(C,f-1)==58){ig(C+=Ne(dc(y),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:C+=dc(y);break;case 9:case 10:case 13:case 32:C+=HL(m);break;case 92:C+=VL(fc()-1,7);continue;case 47:switch(hr()){case 42:case 47:Ou(WL(BL(un(),fc()),t,n),l);break;default:C+="/"}break;case 123*g:s[u++]=tr(C)*p;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:p==-1&&(C=Ne(C,/\f/g,"")),h>0&&tr(C)-f&&Ou(h>32?Vw(C+";",r,n,f-1):Vw(Ne(C," ","")+";",r,n,f-2),l);break;case 59:C+=";";default:if(Ou(b=Hw(C,t,n,u,c,i,s,w,x=[],E=[],f),o),y===123)if(c===0)hc(C,t,b,b,x,o,f,s,E);else switch(d===99&&Dt(C,3)===110?100:d){case 100:case 108:case 109:case 115:hc(e,b,b,r&&Ou(Hw(e,b,b,0,0,i,s,w,i,x=[],f),E),i,E,f,s,r?x:E);break;default:hc(C,b,b,b,[""],E,0,s,E)}}u=c=h=0,g=p=1,w=C="",f=a;break;case 58:f=1+tr(C),h=m;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&UL()==125)continue}switch(C+=vd(y),y*g){case 38:p=c>0?1:(C+="\f",-1);break;case 44:s[u++]=(tr(C)-1)*p,p=1;break;case 64:hr()===45&&(C+=dc(un())),d=hr(),c=f=tr(w=C+=YL(fc())),y++;break;case 45:m===45&&tr(C)==2&&(g=0)}}return o}function Hw(e,t,n,r,i,o,a,s,l,u,c){for(var f=i-1,d=i===0?o:[""],h=G0(d),m=0,g=0,v=0;m<r;++m)for(var p=0,y=Tl(e,f+1,f=IL(g=a[m])),w=e;p<h;++p)(w=TC(g>0?d[p]+" "+y:Ne(y,/&\f/g,d[p])))&&(l[v++]=w);return wd(e,t,n,i===0?q0:s,l,u,c)}function WL(e,t,n){return wd(e,t,n,EC,vd(jL()),Tl(e,2,-2),0)}function Vw(e,t,n,r){return wd(e,t,n,Q0,Tl(e,0,r),Tl(e,r+1,-1),r)}function ya(e,t){for(var n="",r=G0(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function qL(e,t,n,r){switch(e.type){case RL:if(e.children.length)break;case NL:case Q0:return e.return=e.return||e.value;case EC:return"";case CC:return e.return=e.value+"{"+ya(e.children,r)+"}";case q0:e.value=e.props.join(",")}return tr(n=ya(e.children,r))?e.return=e.value+"{"+n+"}":""}function QL(e){var t=G0(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function GL(e){return function(t){t.root||(t=t.return)&&e(t)}}function KL(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var XL=function(t,n,r){for(var i=0,o=0;i=o,o=hr(),i===38&&o===12&&(n[r]=1),!kl(o);)un();return Ql(t,nn)},ZL=function(t,n){var r=-1,i=44;do switch(kl(i)){case 0:i===38&&hr()===12&&(n[r]=1),t[r]+=XL(nn-1,n,r);break;case 2:t[r]+=dc(i);break;case 4:if(i===44){t[++r]=hr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=vd(i)}while(i=un());return t},JL=function(t,n){return DC(ZL(MC(t),n))},Bw=new WeakMap,eA=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Bw.get(r))&&!i){Bw.set(t,!0);for(var o=[],a=JL(n,o),s=r.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)t.props[u]=o[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},tA=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function OC(e,t){switch(AL(e,t)){case 5103:return Pe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+e+cf+e+Lt+e+e;case 6828:case 4268:return Pe+e+Lt+e+e;case 6165:return Pe+e+Lt+"flex-"+e+e;case 5187:return Pe+e+Ne(e,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+Lt+"flex-$1$2")+e;case 5443:return Pe+e+Lt+"flex-item-"+Ne(e,/flex-|-self/,"")+e;case 4675:return Pe+e+Lt+"flex-line-pack"+Ne(e,/align-content|flex-|-self/,"")+e;case 5548:return Pe+e+Lt+Ne(e,"shrink","negative")+e;case 5292:return Pe+e+Lt+Ne(e,"basis","preferred-size")+e;case 6060:return Pe+"box-"+Ne(e,"-grow","")+Pe+e+Lt+Ne(e,"grow","positive")+e;case 4554:return Pe+Ne(e,/([^-])(transform)/g,"$1"+Pe+"$2")+e;case 6187:return Ne(Ne(Ne(e,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),e,"")+e;case 5495:case 3959:return Ne(e,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return Ne(Ne(e,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+Lt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+e+e;case 4095:case 3583:case 4068:case 2532:return Ne(e,/(.+)-inline(.+)/,Pe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tr(e)-1-t>6)switch(Dt(e,t+1)){case 109:if(Dt(e,t+4)!==45)break;case 102:return Ne(e,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+cf+(Dt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ig(e,"stretch")?OC(Ne(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Dt(e,t+1)!==115)break;case 6444:switch(Dt(e,tr(e)-3-(~ig(e,"!important")&&10))){case 107:return Ne(e,":",":"+Pe)+e;case 101:return Ne(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pe+(Dt(e,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+Lt+"$2box$3")+e}break;case 5936:switch(Dt(e,t+11)){case 114:return Pe+e+Lt+Ne(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Pe+e+Lt+Ne(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Pe+e+Lt+Ne(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Pe+e+Lt+e+e}return e}var nA=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case Q0:t.return=OC(t.value,t.length);break;case CC:return ya([Ss(t,{value:Ne(t.value,"@","@"+Pe)})],i);case q0:if(t.length)return $L(t.props,function(o){switch(FL(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ya([Ss(t,{props:[Ne(o,/:(read-\w+)/,":"+cf+"$1")]})],i);case"::placeholder":return ya([Ss(t,{props:[Ne(o,/:(plac\w+)/,":"+Pe+"input-$1")]}),Ss(t,{props:[Ne(o,/:(plac\w+)/,":"+cf+"$1")]}),Ss(t,{props:[Ne(o,/:(plac\w+)/,Lt+"input-$1")]})],i)}return""})}},rA=[nA],iA=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||rA,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),p=1;p<v.length;p++)o[v[p]]=!0;s.push(g)});var l,u=[eA,tA];{var c,f=[qL,GL(function(g){c.insert(g)})],d=QL(u.concat(i,f)),h=function(v){return ya(zL(v),d)};l=function(v,p,y,w){c=y,h(v?v+"{"+p.styles+"}":p.styles),w&&(m.inserted[p.name]=!0)}}var m={key:n,sheet:new PL({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(s),m},PC={exports:{}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Et=typeof Symbol=="function"&&Symbol.for,K0=Et?Symbol.for("react.element"):60103,X0=Et?Symbol.for("react.portal"):60106,_d=Et?Symbol.for("react.fragment"):60107,Sd=Et?Symbol.for("react.strict_mode"):60108,xd=Et?Symbol.for("react.profiler"):60114,bd=Et?Symbol.for("react.provider"):60109,Ed=Et?Symbol.for("react.context"):60110,Z0=Et?Symbol.for("react.async_mode"):60111,Cd=Et?Symbol.for("react.concurrent_mode"):60111,Td=Et?Symbol.for("react.forward_ref"):60112,kd=Et?Symbol.for("react.suspense"):60113,oA=Et?Symbol.for("react.suspense_list"):60120,Md=Et?Symbol.for("react.memo"):60115,Dd=Et?Symbol.for("react.lazy"):60116,aA=Et?Symbol.for("react.block"):60121,sA=Et?Symbol.for("react.fundamental"):60117,lA=Et?Symbol.for("react.responder"):60118,uA=Et?Symbol.for("react.scope"):60119;function vn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case K0:switch(e=e.type,e){case Z0:case Cd:case _d:case xd:case Sd:case kd:return e;default:switch(e=e&&e.$$typeof,e){case Ed:case Td:case Dd:case Md:case bd:return e;default:return t}}case X0:return t}}}function NC(e){return vn(e)===Cd}je.AsyncMode=Z0;je.ConcurrentMode=Cd;je.ContextConsumer=Ed;je.ContextProvider=bd;je.Element=K0;je.ForwardRef=Td;je.Fragment=_d;je.Lazy=Dd;je.Memo=Md;je.Portal=X0;je.Profiler=xd;je.StrictMode=Sd;je.Suspense=kd;je.isAsyncMode=function(e){return NC(e)||vn(e)===Z0};je.isConcurrentMode=NC;je.isContextConsumer=function(e){return vn(e)===Ed};je.isContextProvider=function(e){return vn(e)===bd};je.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===K0};je.isForwardRef=function(e){return vn(e)===Td};je.isFragment=function(e){return vn(e)===_d};je.isLazy=function(e){return vn(e)===Dd};je.isMemo=function(e){return vn(e)===Md};je.isPortal=function(e){return vn(e)===X0};je.isProfiler=function(e){return vn(e)===xd};je.isStrictMode=function(e){return vn(e)===Sd};je.isSuspense=function(e){return vn(e)===kd};je.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_d||e===Cd||e===xd||e===Sd||e===kd||e===oA||typeof e=="object"&&e!==null&&(e.$$typeof===Dd||e.$$typeof===Md||e.$$typeof===bd||e.$$typeof===Ed||e.$$typeof===Td||e.$$typeof===sA||e.$$typeof===lA||e.$$typeof===uA||e.$$typeof===aA)};je.typeOf=vn;PC.exports=je;var cA=PC.exports,RC=cA,fA={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},IC={};IC[RC.ForwardRef]=fA;IC[RC.Memo]=dA;var hA=!0;function pA(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var LC=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||hA===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},mA=function(t,n,r){LC(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function gA(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var vA={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},yA=!1,wA=/[A-Z]|^ms/g,_A=/_EMO_([^_]+?)_([^]*?)_EMO_/g,AC=function(t){return t.charCodeAt(1)===45},Yw=function(t){return t!=null&&typeof t!="boolean"},Sp=KL(function(e){return AC(e)?e:e.replace(wA,"-$&").toLowerCase()}),zw=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(_A,function(r,i,o){return nr={name:i,styles:o,next:nr},i})}return vA[t]!==1&&!AC(t)&&typeof n=="number"&&n!==0?n+"px":n},SA="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ml(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return nr={name:i.name,styles:i.styles,next:nr},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)nr={name:a.name,styles:a.styles,next:nr},a=a.next;var s=o.styles+";";return s}return xA(e,t,n)}case"function":{if(e!==void 0){var l=nr,u=n(e);return nr=l,Ml(e,t,u)}break}}var c=n;return c}function xA(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ml(e,t,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var s=a;Yw(s)&&(r+=Sp(o)+":"+zw(o,s)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&yA)throw new Error(SA);if(Array.isArray(a)&&typeof a[0]=="string"&&t==null)for(var l=0;l<a.length;l++)Yw(a[l])&&(r+=Sp(o)+":"+zw(o,a[l])+";");else{var u=Ml(e,t,a);switch(o){case"animation":case"animationName":{r+=Sp(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var Ww=/label:\s*([^\s;{]+)\s*(;|$)/g,nr;function FC(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";nr=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=Ml(n,t,o);else{var a=o;i+=a[0]}for(var s=1;s<e.length;s++)if(i+=Ml(n,t,e[s]),r){var l=o;i+=l[s]}Ww.lastIndex=0;for(var u="",c;(c=Ww.exec(i))!==null;)u+="-"+c[1];var f=gA(i)+u;return{name:f,styles:i,next:nr}}var bA=function(t){return t()},EA=im.useInsertionEffect?im.useInsertionEffect:!1,CA=EA||bA,TA=!1,$C=_.createContext(typeof HTMLElement<"u"?iA({key:"css"}):null);$C.Provider;var kA=function(t){return _.forwardRef(function(n,r){var i=_.useContext($C);return t(n,i,r)})},MA=_.createContext({}),J0={}.hasOwnProperty,ag="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",DA=function(t,n){var r={};for(var i in n)J0.call(n,i)&&(r[i]=n[i]);return r[ag]=t,r},OA=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return LC(n,r,i),CA(function(){return mA(n,r,i)}),null},PA=kA(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[ag],o=[r],a="";typeof e.className=="string"?a=pA(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var s=FC(o,void 0,_.useContext(MA));a+=t.key+"-"+s.name;var l={};for(var u in e)J0.call(e,u)&&u!=="css"&&u!==ag&&!TA&&(l[u]=e[u]);return l.className=a,n&&(l.ref=n),_.createElement(_.Fragment,null,_.createElement(OA,{cache:t,serialized:s,isStringTag:typeof i=="string"}),_.createElement(i,l))}),NA=PA,ue=function(t,n){var r=arguments;if(n==null||!J0.call(n,"css"))return _.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=NA,o[1]=DA(t,n);for(var a=2;a<i;a++)o[a]=r[a];return _.createElement.apply(null,o)};function ev(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return FC(t)}var RA=function(){var t=ev.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function IA(e){if(Array.isArray(e))return e}function LA(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function AA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hr(e,t){return IA(e)||LA(e,t)||bC(e,t)||AA()}function FA(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function wr(e,t){if(e==null)return{};var n,r,i=FA(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $A(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Ia=Math.min,co=Math.max,ff=Math.round,Pu=Math.floor,pr=e=>({x:e,y:e}),jA={left:"right",right:"left",bottom:"top",top:"bottom"},UA={start:"end",end:"start"};function HA(e,t,n){return co(e,Ia(t,n))}function Od(e,t){return typeof e=="function"?e(t):e}function La(e){return e.split("-")[0]}function Gl(e){return e.split("-")[1]}function VA(e){return e==="x"?"y":"x"}function tv(e){return e==="y"?"height":"width"}function Dl(e){return["top","bottom"].includes(La(e))?"y":"x"}function nv(e){return VA(Dl(e))}function BA(e,t,n){n===void 0&&(n=!1);const r=Gl(e),i=nv(e),o=tv(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=df(a)),[a,df(a)]}function YA(e){const t=df(e);return[sg(e),t,sg(t)]}function sg(e){return e.replace(/start|end/g,t=>UA[t])}function zA(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function WA(e,t,n,r){const i=Gl(e);let o=zA(La(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(sg)))),o}function df(e){return e.replace(/left|right|bottom|top/g,t=>jA[t])}function qA(e){return{top:0,right:0,bottom:0,left:0,...e}}function jC(e){return typeof e!="number"?qA(e):{top:e,right:e,bottom:e,left:e}}function hf(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function qw(e,t,n){let{reference:r,floating:i}=e;const o=Dl(t),a=nv(t),s=tv(a),l=La(t),u=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Gl(t)){case"start":h[a]-=d*(n&&u?-1:1);break;case"end":h[a]+=d*(n&&u?-1:1);break}return h}const QA=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=qw(u,r,l),d=r,h={},m=0;for(let g=0;g<s.length;g++){const{name:v,fn:p}=s[g],{x:y,y:w,data:x,reset:E}=await p({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:e,floating:t}});c=y??c,f=w??f,h={...h,[v]:{...h[v],...x}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(u=E.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:c,y:f}=qw(u,d,l)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function GA(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Od(t,e),m=jC(h),v=s[d?f==="floating"?"reference":"floating":f],p=hf(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),x=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},E=hf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:w,strategy:l}):y);return{top:(p.top-E.top+m.top)/x.y,bottom:(E.bottom-p.bottom+m.bottom)/x.y,left:(p.left-E.left+m.left)/x.x,right:(E.right-p.right+m.right)/x.x}}const KA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=Od(e,t)||{};if(u==null)return{};const f=jC(c),d={x:n,y:r},h=nv(i),m=tv(h),g=await a.getDimensions(u),v=h==="y",p=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",x=o.reference[m]+o.reference[h]-d[h]-o.floating[m],E=d[h]-o.reference[h],b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=b?b[w]:0;(!C||!await(a.isElement==null?void 0:a.isElement(b)))&&(C=s.floating[w]||o.floating[m]);const k=x/2-E/2,N=C/2-g[m]/2-1,A=Ia(f[p],N),O=Ia(f[y],N),V=A,L=C-g[m]-O,T=C/2-g[m]/2+k,P=HA(V,T,L),D=!l.arrow&&Gl(i)!=null&&T!==P&&o.reference[m]/2-(T<V?A:O)-g[m]/2<0,$=D?T<V?T-V:T-L:0;return{[h]:d[h]+$,data:{[h]:P,centerOffset:T-P-$,...D&&{alignmentOffset:$}},reset:D}}}),XA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Od(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const p=La(i),y=Dl(s),w=La(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=d||(w||!g?[df(s)]:YA(s)),b=m!=="none";!d&&b&&E.push(...WA(s,g,m,x));const C=[s,...E],k=await GA(t,v),N=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&N.push(k[p]),f){const T=BA(i,a,x);N.push(k[T[0]],k[T[1]])}if(A=[...A,{placement:i,overflows:N}],!N.every(T=>T<=0)){var O,V;const T=(((O=o.flip)==null?void 0:O.index)||0)+1,P=C[T];if(P)return{data:{index:T,overflows:A},reset:{placement:P}};let D=(V=A.filter($=>$.overflows[0]<=0).sort(($,M)=>$.overflows[1]-M.overflows[1])[0])==null?void 0:V.placement;if(!D)switch(h){case"bestFit":{var L;const $=(L=A.filter(M=>{if(b){const F=Dl(M.placement);return F===y||F==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(F=>F>0).reduce((F,B)=>F+B,0)]).sort((M,F)=>M[1]-F[1])[0])==null?void 0:L[0];$&&(D=$);break}case"initialPlacement":D=s;break}if(i!==D)return{reset:{placement:D}}}return{}}}};async function ZA(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=La(n),s=Gl(n),l=Dl(n)==="y",u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,f=Od(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof m=="number"&&(h=s==="end"?m*-1:m),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const JA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await ZA(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}};function Pd(){return typeof window<"u"}function is(e){return UC(e)?(e.nodeName||"").toLowerCase():"#document"}function cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _r(e){var t;return(t=(UC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function UC(e){return Pd()?e instanceof Node||e instanceof cn(e).Node:!1}function Bt(e){return Pd()?e instanceof Element||e instanceof cn(e).Element:!1}function yr(e){return Pd()?e instanceof HTMLElement||e instanceof cn(e).HTMLElement:!1}function Qw(e){return!Pd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cn(e).ShadowRoot}function Kl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=In(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function e3(e){return["table","td","th"].includes(is(e))}function Nd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function rv(e){const t=iv(),n=Bt(e)?In(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function t3(e){let t=Li(e);for(;yr(t)&&!Aa(t);){if(rv(t))return t;if(Nd(t))return null;t=Li(t)}return null}function iv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Aa(e){return["html","body","#document"].includes(is(e))}function In(e){return cn(e).getComputedStyle(e)}function Rd(e){return Bt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Li(e){if(is(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Qw(e)&&e.host||_r(e);return Qw(t)?t.host:t}function HC(e){const t=Li(e);return Aa(t)?e.ownerDocument?e.ownerDocument.body:e.body:yr(t)&&Kl(t)?t:HC(t)}function Ol(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=HC(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=cn(i);if(o){const s=lg(a);return t.concat(a,a.visualViewport||[],Kl(i)?i:[],s&&n?Ol(s):[])}return t.concat(i,Ol(i,[],n))}function lg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function VC(e){const t=In(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=yr(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=ff(n)!==o||ff(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function ov(e){return Bt(e)?e:e.contextElement}function wa(e){const t=ov(e);if(!yr(t))return pr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=VC(t);let a=(o?ff(n.width):n.width)/r,s=(o?ff(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const n3=pr(0);function BC(e){const t=cn(e);return!iv()||!t.visualViewport?n3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function r3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==cn(e)?!1:t}function Eo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=ov(e);let a=pr(1);t&&(r?Bt(r)&&(a=wa(r)):a=wa(e));const s=r3(o,n,r)?BC(o):pr(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,f=i.height/a.y;if(o){const d=cn(o),h=r&&Bt(r)?cn(r):r;let m=d,g=lg(m);for(;g&&r&&h!==m;){const v=wa(g),p=g.getBoundingClientRect(),y=In(g),w=p.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,x=p.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,u*=v.y,c*=v.x,f*=v.y,l+=w,u+=x,m=cn(g),g=lg(m)}}return hf({width:c,height:f,x:l,y:u})}function av(e,t){const n=Rd(e).scrollLeft;return t?t.left+n:Eo(_r(e)).left+n}function YC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:av(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function i3(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=_r(r),s=t?Nd(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=pr(1);const c=pr(0),f=yr(r);if((f||!f&&!o)&&((is(r)!=="body"||Kl(a))&&(l=Rd(r)),yr(r))){const h=Eo(r);u=wa(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const d=a&&!f&&!o?YC(a,l,!0):pr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function o3(e){return Array.from(e.getClientRects())}function a3(e){const t=_r(e),n=Rd(e),r=e.ownerDocument.body,i=co(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=co(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+av(e);const s=-n.scrollTop;return In(r).direction==="rtl"&&(a+=co(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function s3(e,t){const n=cn(e),r=_r(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=iv();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function l3(e,t){const n=Eo(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=yr(e)?wa(e):pr(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:a,height:s,x:l,y:u}}function Gw(e,t,n){let r;if(t==="viewport")r=s3(e,n);else if(t==="document")r=a3(_r(e));else if(Bt(t))r=l3(t,n);else{const i=BC(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return hf(r)}function zC(e,t){const n=Li(e);return n===t||!Bt(n)||Aa(n)?!1:In(n).position==="fixed"||zC(n,t)}function u3(e,t){const n=t.get(e);if(n)return n;let r=Ol(e,[],!1).filter(s=>Bt(s)&&is(s)!=="body"),i=null;const o=In(e).position==="fixed";let a=o?Li(e):e;for(;Bt(a)&&!Aa(a);){const s=In(a),l=rv(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Kl(a)&&!l&&zC(e,a))?r=r.filter(c=>c!==a):i=s,a=Li(a)}return t.set(e,r),r}function c3(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Nd(t)?[]:u3(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((u,c)=>{const f=Gw(t,c,i);return u.top=co(f.top,u.top),u.right=Ia(f.right,u.right),u.bottom=Ia(f.bottom,u.bottom),u.left=co(f.left,u.left),u},Gw(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function f3(e){const{width:t,height:n}=VC(e);return{width:t,height:n}}function d3(e,t,n){const r=yr(t),i=_r(t),o=n==="fixed",a=Eo(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=pr(0);if(r||!r&&!o)if((is(t)!=="body"||Kl(i))&&(s=Rd(t)),r){const d=Eo(t,!0,o,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=av(i));const u=i&&!r&&!o?YC(i,s):pr(0),c=a.left+s.scrollLeft-l.x-u.x,f=a.top+s.scrollTop-l.y-u.y;return{x:c,y:f,width:a.width,height:a.height}}function xp(e){return In(e).position==="static"}function Kw(e,t){if(!yr(e)||In(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _r(e)===n&&(n=n.ownerDocument.body),n}function WC(e,t){const n=cn(e);if(Nd(e))return n;if(!yr(e)){let i=Li(e);for(;i&&!Aa(i);){if(Bt(i)&&!xp(i))return i;i=Li(i)}return n}let r=Kw(e,t);for(;r&&e3(r)&&xp(r);)r=Kw(r,t);return r&&Aa(r)&&xp(r)&&!rv(r)?n:r||t3(e)||n}const h3=async function(e){const t=this.getOffsetParent||WC,n=this.getDimensions,r=await n(e.floating);return{reference:d3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function p3(e){return In(e).direction==="rtl"}const m3={convertOffsetParentRelativeRectToViewportRelativeRect:i3,getDocumentElement:_r,getClippingRect:c3,getOffsetParent:WC,getElementRects:h3,getClientRects:o3,getDimensions:f3,getScale:wa,isElement:Bt,isRTL:p3};function g3(e,t){let n=null,r;const i=_r(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const h=Pu(c),m=Pu(i.clientWidth-(u+f)),g=Pu(i.clientHeight-(c+d)),v=Pu(u),y={rootMargin:-h+"px "+-m+"px "+-g+"px "+-v+"px",threshold:co(0,Ia(1,l))||1};let w=!0;function x(E){const b=E[0].intersectionRatio;if(b!==l){if(!w)return a();b?a(!1,b):r=setTimeout(()=>{a(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(x,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,y)}n.observe(e)}return a(!0),o}function qC(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ov(e),c=i||o?[...u?Ol(u):[],...Ol(t)]:[];c.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),o&&p.addEventListener("resize",n)});const f=u&&s?g3(u,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(p=>{let[y]=p;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m,g=l?Eo(e):null;l&&v();function v(){const p=Eo(e);g&&(p.x!==g.x||p.y!==g.y||p.width!==g.width||p.height!==g.height)&&n(),g=p,m=requestAnimationFrame(v)}return n(),()=>{var p;c.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f?.(),(p=h)==null||p.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const v3=JA,y3=XA,Xw=KA,w3=(e,t,n)=>{const r=new Map,i={platform:m3,...n},o={...i.platform,_c:r};return QA(e,t,{...i,platform:o})};var ug=_.useLayoutEffect,_3=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],pf=function(){};function S3(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function x3(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(S3(e,a)));return o.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var mf=function(t){return P3(t)?t.filter(Boolean):bo(t)==="object"&&t!==null?[t]:[]},QC=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=wr(t,_3);return ae({},n)},nt=function(t,n,r){var i=t.cx,o=t.getStyles,a=t.getClassNames,s=t.className;return{css:o(n,t),className:i(r??{},a(n,t),s)}};function Id(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function b3(e){return Id(e)?window.innerHeight:e.clientHeight}function GC(e){return Id(e)?window.pageYOffset:e.scrollTop}function gf(e,t){if(Id(e)){window.scrollTo(0,t);return}e.scrollTop=t}function E3(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function C3(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Nu(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:pf,i=GC(e),o=t-i,a=10,s=0;function l(){s+=a;var u=C3(s,i,o,n);gf(e,u),s<n?window.requestAnimationFrame(l):r(e)}l()}function Zw(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?gf(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&gf(e,Math.max(t.offsetTop-i,0))}function T3(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Jw(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function k3(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var KC=!1,M3={get passive(){return KC=!0}},Ru=typeof window<"u"?window:{};Ru.addEventListener&&Ru.removeEventListener&&(Ru.addEventListener("p",pf,M3),Ru.removeEventListener("p",pf,!1));var D3=KC;function O3(e){return e!=null}function P3(e){return Array.isArray(e)}function Hs(e,t,n){return e?t:n}var N3=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(t).filter(function(a){var s=Hr(a,1),l=s[0];return!r.includes(l)});return o.reduce(function(a,s){var l=Hr(s,2),u=l[0],c=l[1];return a[u]=c,a},{})},R3=["children","innerProps"],I3=["children","innerProps"];function L3(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,l=E3(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),f=c.height,d=n.getBoundingClientRect(),h=d.bottom,m=d.height,g=d.top,v=n.offsetParent.getBoundingClientRect(),p=v.top,y=a?window.innerHeight:b3(l),w=GC(l),x=parseInt(getComputedStyle(n).marginBottom,10),E=parseInt(getComputedStyle(n).marginTop,10),b=p-E,C=y-g,k=b+w,N=f-w-g,A=h-y+w+x,O=w+g-E,V=160;switch(i){case"auto":case"bottom":if(C>=m)return{placement:"bottom",maxHeight:t};if(N>=m&&!a)return o&&Nu(l,A,V),{placement:"bottom",maxHeight:t};if(!a&&N>=r||a&&C>=r){o&&Nu(l,A,V);var L=a?C-x:N-x;return{placement:"bottom",maxHeight:L}}if(i==="auto"||a){var T=t,P=a?b:k;return P>=r&&(T=Math.min(P-x-s,t)),{placement:"top",maxHeight:T}}if(i==="bottom")return o&&gf(l,A),{placement:"bottom",maxHeight:t};break;case"top":if(b>=m)return{placement:"top",maxHeight:t};if(k>=m&&!a)return o&&Nu(l,O,V),{placement:"top",maxHeight:t};if(!a&&k>=r||a&&b>=r){var D=t;return(!a&&k>=r||a&&b>=r)&&(D=a?b-E:k-E),o&&Nu(l,O,V),{placement:"top",maxHeight:D}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function A3(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var XC=function(t){return t==="auto"?"bottom":t},F3=function(t,n){var r,i=t.placement,o=t.theme,a=o.borderRadius,s=o.spacing,l=o.colors;return ae((r={label:"menu"},Us(r,A3(i),"100%"),Us(r,"position","absolute"),Us(r,"width","100%"),Us(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},ZC=_.createContext(null),$3=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,u=_.useContext(ZC)||{},c=u.setPortalPlacement,f=_.useRef(null),d=_.useState(i),h=Hr(d,2),m=h[0],g=h[1],v=_.useState(null),p=Hr(v,2),y=p[0],w=p[1],x=l.spacing.controlHeight;return ug(function(){var E=f.current;if(E){var b=a==="fixed",C=s&&!b,k=L3({maxHeight:i,menuEl:E,minHeight:r,placement:o,shouldScroll:C,isFixedPosition:b,controlHeight:x});g(k.maxHeight),w(k.placement),c?.(k.placement)}},[i,o,a,s,r,c,x]),n({ref:f,placerProps:ae(ae({},t),{},{placement:y||XC(o),maxHeight:m})})},j3=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return ue("div",fe({},nt(t,"menu",{menu:!0}),{ref:r},i),n)},U3=j3,H3=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return ae({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},V3=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,o=t.isMulti;return ue("div",fe({},nt(t,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},JC=function(t,n){var r=t.theme,i=r.spacing.baseUnit,o=r.colors;return ae({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},B3=JC,Y3=JC,z3=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,o=wr(t,R3);return ue("div",fe({},nt(ae(ae({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},W3=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,o=wr(t,I3);return ue("div",fe({},nt(ae(ae({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},q3=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},Q3=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,o=t.innerProps,a=t.menuPlacement,s=t.menuPosition,l=_.useRef(null),u=_.useRef(null),c=_.useState(XC(a)),f=Hr(c,2),d=f[0],h=f[1],m=_.useMemo(function(){return{setPortalPlacement:h}},[]),g=_.useState(null),v=Hr(g,2),p=v[0],y=v[1],w=_.useCallback(function(){if(i){var C=T3(i),k=s==="fixed"?0:window.pageYOffset,N=C[d]+k;(N!==p?.offset||C.left!==p?.rect.left||C.width!==p?.rect.width)&&y({offset:N,rect:C})}},[i,s,d,p?.offset,p?.rect.left,p?.rect.width]);ug(function(){w()},[w]);var x=_.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=qC(i,l.current,w,{elementResize:"ResizeObserver"in window}))},[i,w]);ug(function(){x()},[x]);var E=_.useCallback(function(C){l.current=C,x()},[x]);if(!n&&s!=="fixed"||!p)return null;var b=ue("div",fe({ref:E},nt(ae(ae({},t),{},{offset:p.offset,position:s,rect:p.rect}),"menuPortal",{"menu-portal":!0}),o),r);return ue(ZC.Provider,{value:m},n?Wl.createPortal(b,n):b)},G3=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},K3=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,o=t.isRtl;return ue("div",fe({},nt(t,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},X3=function(t,n){var r=t.theme.spacing,i=t.isMulti,o=t.hasValue,a=t.selectProps.controlShouldRenderValue;return ae({alignItems:"center",display:i&&o&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Z3=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,o=t.hasValue;return ue("div",fe({},nt(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},J3=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},eF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},nt(t,"indicatorsContainer",{indicators:!0}),r),n)},e_,tF=["size"],nF=["innerProps","isRtl","size"],rF={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},eT=function(t){var n=t.size,r=wr(t,tF);return ue("svg",fe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:rF},r))},sv=function(t){return ue(eT,fe({size:20},t),ue("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},tT=function(t){return ue(eT,fe({size:20},t),ue("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},nT=function(t,n){var r=t.isFocused,i=t.theme,o=i.spacing.baseUnit,a=i.colors;return ae({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:o*2,":hover":{color:r?a.neutral80:a.neutral40}})},iF=nT,oF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},nt(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ue(tT,null))},aF=nT,sF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},nt(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ue(sv,null))},lF=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing.baseUnit,a=i.colors;return ae({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:o*2,marginTop:o*2})},uF=function(t){var n=t.innerProps;return ue("span",fe({},n,nt(t,"indicatorSeparator",{"indicator-separator":!0})))},cF=RA(e_||(e_=$A([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),fF=function(t,n){var r=t.isFocused,i=t.size,o=t.theme,a=o.colors,s=o.spacing.baseUnit;return ae({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:s*2})},bp=function(t){var n=t.delay,r=t.offset;return ue("span",{css:ev({animation:"".concat(cF," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},dF=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,o=i===void 0?4:i,a=wr(t,nF);return ue("div",fe({},nt(ae(ae({},a),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ue(bp,{delay:0,offset:r}),ue(bp,{delay:160,offset:!0}),ue(bp,{delay:320,offset:!r}))},hF=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.theme,a=o.colors,s=o.borderRadius,l=o.spacing;return ae({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},pF=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.innerRef,a=t.innerProps,s=t.menuIsOpen;return ue("div",fe({ref:o},nt(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":s}),a,{"aria-disabled":r||void 0}),n)},mF=pF,gF=["data"],vF=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},yF=function(t){var n=t.children,r=t.cx,i=t.getStyles,o=t.getClassNames,a=t.Heading,s=t.headingProps,l=t.innerProps,u=t.label,c=t.theme,f=t.selectProps;return ue("div",fe({},nt(t,"group",{group:!0}),l),ue(a,fe({},s,{selectProps:f,theme:c,getStyles:i,getClassNames:o,cx:r}),u),ue("div",null,n))},wF=function(t,n){var r=t.theme,i=r.colors,o=r.spacing;return ae({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},_F=function(t){var n=QC(t);n.data;var r=wr(n,gF);return ue("div",fe({},nt(t,"groupHeading",{"group-heading":!0}),r))},SF=yF,xF=["innerRef","isDisabled","isHidden","inputClassName"],bF=function(t,n){var r=t.isDisabled,i=t.value,o=t.theme,a=o.spacing,s=o.colors;return ae(ae({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},EF),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:s.neutral80})},rT={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},EF={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ae({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},rT)},CF=function(t){return ae({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},rT)},TF=function(t){var n=t.cx,r=t.value,i=QC(t),o=i.innerRef,a=i.isDisabled,s=i.isHidden,l=i.inputClassName,u=wr(i,xF);return ue("div",fe({},nt(t,"input",{"input-container":!0}),{"data-value":r||""}),ue("input",fe({className:n({input:!0},l),ref:o,style:CF(s),disabled:a},u)))},kF=TF,MF=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,a=r.colors;return ae({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},DF=function(t,n){var r=t.theme,i=r.borderRadius,o=r.colors,a=t.cropWithEllipsis;return ae({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},OF=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,a=r.colors,s=t.isFocused;return ae({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:s?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},iT=function(t){var n=t.children,r=t.innerProps;return ue("div",r,n)},PF=iT,NF=iT;function RF(e){var t=e.children,n=e.innerProps;return ue("div",fe({role:"button"},n),t||ue(sv,{size:14}))}var IF=function(t){var n=t.children,r=t.components,i=t.data,o=t.innerProps,a=t.isDisabled,s=t.removeProps,l=t.selectProps,u=r.Container,c=r.Label,f=r.Remove;return ue(u,{data:i,innerProps:ae(ae({},nt(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),o),selectProps:l},ue(c,{data:i,innerProps:ae({},nt(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),ue(f,{data:i,innerProps:ae(ae({},nt(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:l}))},LF=IF,AF=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.isSelected,a=t.theme,s=a.spacing,l=a.colors;return ae({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?l.primary:l.primary50}})},FF=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.isSelected,a=t.innerRef,s=t.innerProps;return ue("div",fe({},nt(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:a,"aria-disabled":r},s),n)},$F=FF,jF=function(t,n){var r=t.theme,i=r.spacing,o=r.colors;return ae({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},UF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},nt(t,"placeholder",{placeholder:!0}),r),n)},HF=UF,VF=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing,a=i.colors;return ae({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},BF=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return ue("div",fe({},nt(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},YF=BF,oT={ClearIndicator:sF,Control:mF,DropdownIndicator:oF,DownChevron:tT,CrossIcon:sv,Group:SF,GroupHeading:_F,IndicatorsContainer:eF,IndicatorSeparator:uF,Input:kF,LoadingIndicator:dF,Menu:U3,MenuList:V3,MenuPortal:Q3,LoadingMessage:W3,NoOptionsMessage:z3,MultiValue:LF,MultiValueContainer:PF,MultiValueLabel:NF,MultiValueRemove:RF,Option:$F,Placeholder:HF,SelectContainer:K3,SingleValue:YF,ValueContainer:Z3},zF=function(t){return ae(ae({},oT),t.components)},t_=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function WF(e,t){return!!(e===t||t_(e)&&t_(t))}function qF(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!WF(e[n],t[n]))return!1;return!0}function QF(e,t){t===void 0&&(t=qF);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var GF={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},KF=function(t){return ue("span",fe({css:GF},t))},n_=KF,XF={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,o=t.context,a=t.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,o=t.labels,a=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,o=t.label,a=o===void 0?"":o,s=t.selectValue,l=t.isDisabled,u=t.isSelected,c=t.isAppleDevice,f=function(g,v){return g&&g.length?"".concat(g.indexOf(v)+1," of ").concat(g.length):""};if(n==="value"&&s)return"value ".concat(a," focused, ").concat(f(s,r),".");if(n==="menu"&&c){var d=l?" disabled":"",h="".concat(u?" selected":"").concat(d);return"".concat(a).concat(h,", ").concat(f(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},ZF=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.focusableOptions,a=t.isFocused,s=t.selectValue,l=t.selectProps,u=t.id,c=t.isAppleDevice,f=l.ariaLiveMessages,d=l.getOptionLabel,h=l.inputValue,m=l.isMulti,g=l.isOptionDisabled,v=l.isSearchable,p=l.menuIsOpen,y=l.options,w=l.screenReaderStatus,x=l.tabSelectsValue,E=l.isLoading,b=l["aria-label"],C=l["aria-live"],k=_.useMemo(function(){return ae(ae({},XF),f||{})},[f]),N=_.useMemo(function(){var P="";if(n&&k.onChange){var D=n.option,$=n.options,M=n.removedValue,F=n.removedValues,B=n.value,Q=function(Y){return Array.isArray(Y)?null:Y},K=M||D||Q(B),pe=K?d(K):"",ce=$||F||void 0,re=ce?ce.map(d):[],me=ae({isDisabled:K&&g(K,s),label:pe,labels:re},n);P=k.onChange(me)}return P},[n,k,g,s,d]),A=_.useMemo(function(){var P="",D=r||i,$=!!(r&&s&&s.includes(r));if(D&&k.onFocus){var M={focused:D,label:d(D),isDisabled:g(D,s),isSelected:$,options:o,context:D===r?"menu":"value",selectValue:s,isAppleDevice:c};P=k.onFocus(M)}return P},[r,i,d,g,k,o,s,c]),O=_.useMemo(function(){var P="";if(p&&y.length&&!E&&k.onFilter){var D=w({count:o.length});P=k.onFilter({inputValue:h,resultsMessage:D})}return P},[o,h,p,k,y,w,E]),V=n?.action==="initial-input-focus",L=_.useMemo(function(){var P="";if(k.guidance){var D=i?"value":p?"menu":"input";P=k.guidance({"aria-label":b,context:D,isDisabled:r&&g(r,s),isMulti:m,isSearchable:v,tabSelectsValue:x,isInitialFocus:V})}return P},[b,r,i,m,g,v,p,k,s,x,V]),T=ue(_.Fragment,null,ue("span",{id:"aria-selection"},N),ue("span",{id:"aria-focused"},A),ue("span",{id:"aria-results"},O),ue("span",{id:"aria-guidance"},L));return ue(_.Fragment,null,ue(n_,{id:u},V&&T),ue(n_,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!V&&T))},JF=ZF,cg=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],e$=new RegExp("["+cg.map(function(e){return e.letters}).join("")+"]","g"),aT={};for(var Ep=0;Ep<cg.length;Ep++)for(var Cp=cg[Ep],Tp=0;Tp<Cp.letters.length;Tp++)aT[Cp.letters[Tp]]=Cp.base;var sT=function(t){return t.replace(e$,function(n){return aT[n]})},t$=QF(sT),r_=function(t){return t.replace(/^\s+|\s+$/g,"")},n$=function(t){return"".concat(t.label," ").concat(t.value)},r$=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=ae({ignoreCase:!0,ignoreAccents:!0,stringify:n$,trim:!0,matchFrom:"any"},t),o=i.ignoreCase,a=i.ignoreAccents,s=i.stringify,l=i.trim,u=i.matchFrom,c=l?r_(r):r,f=l?r_(s(n)):s(n);return o&&(c=c.toLowerCase(),f=f.toLowerCase()),a&&(c=t$(c),f=sT(f)),u==="start"?f.substr(0,c.length)===c:f.indexOf(c)>-1}},i$=["innerRef"];function o$(e){var t=e.innerRef,n=wr(e,i$),r=N3(n,"onExited","in","enter","exit","appear");return ue("input",fe({ref:t},r,{css:ev({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var a$=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function s$(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,a=_.useRef(!1),s=_.useRef(!1),l=_.useRef(0),u=_.useRef(null),c=_.useCallback(function(v,p){if(u.current!==null){var y=u.current,w=y.scrollTop,x=y.scrollHeight,E=y.clientHeight,b=u.current,C=p>0,k=x-E-w,N=!1;k>p&&a.current&&(r&&r(v),a.current=!1),C&&s.current&&(o&&o(v),s.current=!1),C&&p>k?(n&&!a.current&&n(v),b.scrollTop=x,N=!0,a.current=!0):!C&&-p>w&&(i&&!s.current&&i(v),b.scrollTop=0,N=!0,s.current=!0),N&&a$(v)}},[n,r,i,o]),f=_.useCallback(function(v){c(v,v.deltaY)},[c]),d=_.useCallback(function(v){l.current=v.changedTouches[0].clientY},[]),h=_.useCallback(function(v){var p=l.current-v.changedTouches[0].clientY;c(v,p)},[c]),m=_.useCallback(function(v){if(v){var p=D3?{passive:!1}:!1;v.addEventListener("wheel",f,p),v.addEventListener("touchstart",d,p),v.addEventListener("touchmove",h,p)}},[h,d,f]),g=_.useCallback(function(v){v&&(v.removeEventListener("wheel",f,!1),v.removeEventListener("touchstart",d,!1),v.removeEventListener("touchmove",h,!1))},[h,d,f]);return _.useEffect(function(){if(t){var v=u.current;return m(v),function(){g(v)}}},[t,m,g]),function(v){u.current=v}}var i_=["boxSizing","height","overflow","paddingRight","position"],o_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function a_(e){e.cancelable&&e.preventDefault()}function s_(e){e.stopPropagation()}function l_(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function u_(){return"ontouchstart"in window||navigator.maxTouchPoints}var c_=!!(typeof window<"u"&&window.document&&window.document.createElement),xs=0,Yo={capture:!1,passive:!1};function l$(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=_.useRef({}),o=_.useRef(null),a=_.useCallback(function(l){if(c_){var u=document.body,c=u&&u.style;if(r&&i_.forEach(function(m){var g=c&&c[m];i.current[m]=g}),r&&xs<1){var f=parseInt(i.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,h=window.innerWidth-d+f||0;Object.keys(o_).forEach(function(m){var g=o_[m];c&&(c[m]=g)}),c&&(c.paddingRight="".concat(h,"px"))}u&&u_()&&(u.addEventListener("touchmove",a_,Yo),l&&(l.addEventListener("touchstart",l_,Yo),l.addEventListener("touchmove",s_,Yo))),xs+=1}},[r]),s=_.useCallback(function(l){if(c_){var u=document.body,c=u&&u.style;xs=Math.max(xs-1,0),r&&xs<1&&i_.forEach(function(f){var d=i.current[f];c&&(c[f]=d)}),u&&u_()&&(u.removeEventListener("touchmove",a_,Yo),l&&(l.removeEventListener("touchstart",l_,Yo),l.removeEventListener("touchmove",s_,Yo)))}},[r]);return _.useEffect(function(){if(t){var l=o.current;return a(l),function(){s(l)}}},[t,a,s]),function(l){o.current=l}}var u$=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},c$={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function f$(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,o=e.onBottomArrive,a=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,u=s$({isEnabled:i,onBottomArrive:o,onBottomLeave:a,onTopArrive:s,onTopLeave:l}),c=l$({isEnabled:n}),f=function(h){u(h),c(h)};return ue(_.Fragment,null,n&&ue("div",{onClick:u$,css:c$}),t(f))}var d$={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},h$=function(t){var n=t.name,r=t.onFocus;return ue("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:d$,value:"",onChange:function(){}})},p$=h$;function lv(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function m$(){return lv(/^iPhone/i)}function lT(){return lv(/^Mac/i)}function g$(){return lv(/^iPad/i)||lT()&&navigator.maxTouchPoints>1}function v$(){return m$()||g$()}function y$(){return lT()||v$()}var w$=function(t){return t.label},uT=function(t){return t.label},cT=function(t){return t.value},_$=function(t){return!!t.isDisabled},S$={clearIndicator:aF,container:G3,control:hF,dropdownIndicator:iF,group:vF,groupHeading:wF,indicatorsContainer:J3,indicatorSeparator:lF,input:bF,loadingIndicator:fF,loadingMessage:Y3,menu:F3,menuList:H3,menuPortal:q3,multiValue:MF,multiValueLabel:DF,multiValueRemove:OF,noOptionsMessage:B3,option:AF,placeholder:jF,singleValue:VF,valueContainer:X3},x$={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},b$=4,fT=4,E$=38,C$=fT*2,T$={baseUnit:fT,controlHeight:E$,menuGutter:C$},kp={borderRadius:b$,colors:x$,spacing:T$},k$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Jw(),captureMenuScroll:!Jw(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:r$(),formatGroupLabel:w$,getOptionLabel:uT,getOptionValue:cT,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:_$,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!k3(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function f_(e,t,n,r){var i=pT(e,t,n),o=mT(e,t,n),a=hT(e,t),s=vf(e,t);return{type:"option",data:t,isDisabled:i,isSelected:o,label:a,value:s,index:r}}function pc(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,s){return f_(e,a,t,s)}).filter(function(a){return h_(e,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=f_(e,n,t,r);return h_(e,o)?o:void 0}).filter(O3)}function dT(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,va(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function d_(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,va(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function M$(e,t){return dT(pc(e,t))}function h_(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!vT(e)||!o)&&gT(e,{label:a,value:s,data:i},r)}function D$(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var o=t.indexOf(n);if(o>-1)return n;if(i<t.length)return t[i]}return null}function O$(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var Mp=function(t,n){var r,i=(r=t.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},hT=function(t,n){return t.getOptionLabel(n)},vf=function(t,n){return t.getOptionValue(n)};function pT(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function mT(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=vf(e,t);return n.some(function(i){return vf(e,i)===r})}function gT(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var vT=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},P$=1,uv=function(e){SL(n,e);var t=EL(n);function n(r){var i;if(wL(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=y$(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,u){var c=i.props,f=c.onChange,d=c.name;u.name=d,i.ariaOnChange(l,u),f(l,u)},i.setValue=function(l,u,c){var f=i.props,d=f.closeMenuOnSelect,h=f.isMulti,m=f.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),d&&(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:u,option:c})},i.selectOption=function(l){var u=i.props,c=u.blurInputOnSelect,f=u.isMulti,d=u.name,h=i.state.selectValue,m=f&&i.isOptionSelected(l,h),g=i.isOptionDisabled(l,h);if(m){var v=i.getOptionValue(l);i.setValue(h.filter(function(p){return i.getOptionValue(p)!==v}),"deselect-option",l)}else if(!g)f?i.setValue([].concat(va(h),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:d});return}c&&i.blurInput()},i.removeValue=function(l){var u=i.props.isMulti,c=i.state.selectValue,f=i.getOptionValue(l),d=c.filter(function(m){return i.getOptionValue(m)!==f}),h=Hs(u,d,d[0]||null);i.onChange(h,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Hs(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,u=i.state.selectValue,c=u[u.length-1],f=u.slice(0,u.length-1),d=Hs(l,f,f[0]||null);c&&i.onChange(d,{action:"pop-value",removedValue:c})},i.getFocusedOptionId=function(l){return Mp(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return d_(pc(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return x3.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(l){return hT(i.props,l)},i.getOptionValue=function(l){return vf(i.props,l)},i.getStyles=function(l,u){var c=i.props.unstyled,f=S$[l](u,c);f.boxSizing="border-box";var d=i.props.styles[l];return d?d(f,u):f},i.getClassNames=function(l,u){var c,f;return(c=(f=i.props.classNames)[l])===null||c===void 0?void 0:c.call(f,u)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return zF(i.props)},i.buildCategorizedOptions=function(){return pc(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return dT(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,u){i.setState({ariaSelection:ae({value:l},u)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var u=i.props,c=u.isMulti,f=u.menuIsOpen;i.focusInput(),f?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Id(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var u=l.touches,c=u&&u.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var u=l.touches,c=u&&u.item(0);if(c){var f=Math.abs(c.clientX-i.initialTouchX),d=Math.abs(c.clientY-i.initialTouchY),h=5;i.userIsDragging=f>h||d>h}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var u=i.props.inputValue,c=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var u=i.getFocusableOptions(),c=u.indexOf(l);i.setState({focusedOption:l,focusedOptionId:c>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return vT(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var u=i.props,c=u.isMulti,f=u.backspaceRemovesValue,d=u.escapeClearsValue,h=u.inputValue,m=u.isClearable,g=u.isDisabled,v=u.menuIsOpen,p=u.onKeyDown,y=u.tabSelectsValue,w=u.openMenuOnFocus,x=i.state,E=x.focusedOption,b=x.focusedValue,C=x.selectValue;if(!g&&!(typeof p=="function"&&(p(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!c||h)return;i.focusValue("previous");break;case"ArrowRight":if(!c||h)return;i.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(b)i.removeValue(b);else{if(!f)return;c?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!v||!y||!E||w&&i.isOptionSelected(E,C))return;i.selectOption(E);break;case"Enter":if(l.keyCode===229)break;if(v){if(!E||i.isComposing)return;i.selectOption(E);break}return;case"Escape":v?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:h}),i.onMenuClose()):m&&d&&i.clearValue();break;case" ":if(h)return;if(!v){i.openMenu("first");break}if(!E)return;i.selectOption(E);break;case"ArrowUp":v?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":v?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!v)return;i.focusOption("pageup");break;case"PageDown":if(!v)return;i.focusOption("pagedown");break;case"Home":if(!v)return;i.focusOption("first");break;case"End":if(!v)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++P$),i.state.selectValue=mf(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),s=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=a[s],i.state.focusedOptionId=Mp(o,a[s])}return i}return _L(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Zw(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isDisabled,s=o.menuIsOpen,l=this.state.isFocused;(l&&!a&&i.isDisabled||l&&s&&!i.menuIsOpen)&&this.focusInput(),l&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Zw(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,a=this.state,s=a.selectValue,l=a.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(s[0]);f>-1&&(c=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c],focusedOptionId:this.getFocusedOptionId(u[c])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,a=o.selectValue,s=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(s);s||(l=-1);var u=a.length-1,c=-1;if(a.length){switch(i){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:a[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,a=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,u=s.indexOf(a);a||(u=-1),i==="up"?l=u>0?u-1:s.length-1:i==="down"?l=(u+1)%s.length:i==="pageup"?(l=u-o,l<0&&(l=0)):i==="pagedown"?(l=u+o,l>s.length-1&&(l=s.length-1)):i==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(kp):ae(ae({},kp),this.props.theme):kp}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,a=this.getStyles,s=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,f=this.props,d=f.isMulti,h=f.isRtl,m=f.options,g=this.hasValue();return{clearValue:i,cx:o,getStyles:a,getClassNames:s,getValue:l,hasValue:g,isMulti:d,isRtl:h,options:m,selectOption:u,selectProps:f,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,a=i.isMulti;return o===void 0?a:o}},{key:"isOptionDisabled",value:function(i,o){return pT(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return mT(this.props,i,o)}},{key:"filterOption",value:function(i,o){return gT(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:a,selectValue:s})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,a=i.isSearchable,s=i.inputId,l=i.inputValue,u=i.tabIndex,c=i.form,f=i.menuIsOpen,d=i.required,h=this.getComponents(),m=h.Input,g=this.state,v=g.inputIsHidden,p=g.ariaSelection,y=this.commonProps,w=s||this.getElementId("input"),x=ae(ae(ae({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?p?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?_.createElement(m,fe({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:o,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},x)):_.createElement(o$,fe({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:pf,onFocus:this.onInputFocus,disabled:o,tabIndex:u,inputMode:"none",form:c,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),a=o.MultiValue,s=o.MultiValueContainer,l=o.MultiValueLabel,u=o.MultiValueRemove,c=o.SingleValue,f=o.Placeholder,d=this.commonProps,h=this.props,m=h.controlShouldRenderValue,g=h.isDisabled,v=h.isMulti,p=h.inputValue,y=h.placeholder,w=this.state,x=w.selectValue,E=w.focusedValue,b=w.isFocused;if(!this.hasValue()||!m)return p?null:_.createElement(f,fe({},d,{key:"placeholder",isDisabled:g,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),y);if(v)return x.map(function(k,N){var A=k===E,O="".concat(i.getOptionLabel(k),"-").concat(i.getOptionValue(k));return _.createElement(a,fe({},d,{components:{Container:s,Label:l,Remove:u},isFocused:A,isDisabled:g,key:O,index:N,removeProps:{onClick:function(){return i.removeValue(k)},onTouchEnd:function(){return i.removeValue(k)},onMouseDown:function(L){L.preventDefault()}},data:k}),i.formatOptionLabel(k,"value"))});if(p)return null;var C=x[0];return _.createElement(c,fe({},d,{data:C,isDisabled:g}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(o,fe({},a,{innerProps:f,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!o||!u)return null;var f={"aria-hidden":"true"};return _.createElement(o,fe({},a,{innerProps:f,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,a=i.IndicatorSeparator;if(!o||!a)return null;var s=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return _.createElement(a,fe({},s,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var a=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(o,fe({},a,{innerProps:u,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),a=o.Group,s=o.GroupHeading,l=o.Menu,u=o.MenuList,c=o.MenuPortal,f=o.LoadingMessage,d=o.NoOptionsMessage,h=o.Option,m=this.commonProps,g=this.state.focusedOption,v=this.props,p=v.captureMenuScroll,y=v.inputValue,w=v.isLoading,x=v.loadingMessage,E=v.minMenuHeight,b=v.maxMenuHeight,C=v.menuIsOpen,k=v.menuPlacement,N=v.menuPosition,A=v.menuPortalTarget,O=v.menuShouldBlockScroll,V=v.menuShouldScrollIntoView,L=v.noOptionsMessage,T=v.onMenuScrollToTop,P=v.onMenuScrollToBottom;if(!C)return null;var D=function(pe,ce){var re=pe.type,me=pe.data,de=pe.isDisabled,Y=pe.isSelected,R=pe.label,q=pe.value,ie=g===me,H=de?void 0:function(){return i.onOptionHover(me)},ge=de?void 0:function(){return i.selectOption(me)},G="".concat(i.getElementId("option"),"-").concat(ce),W={id:G,onClick:ge,onMouseMove:H,onMouseOver:H,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Y};return _.createElement(h,fe({},m,{innerProps:W,data:me,isDisabled:de,isSelected:Y,key:G,label:R,type:re,value:q,isFocused:ie,innerRef:ie?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(pe.data,"menu"))},$;if(this.hasOptions())$=this.getCategorizedOptions().map(function(K){if(K.type==="group"){var pe=K.data,ce=K.options,re=K.index,me="".concat(i.getElementId("group"),"-").concat(re),de="".concat(me,"-heading");return _.createElement(a,fe({},m,{key:me,data:pe,options:ce,Heading:s,headingProps:{id:de,data:K.data},label:i.formatGroupLabel(K.data)}),K.options.map(function(Y){return D(Y,"".concat(re,"-").concat(Y.index))}))}else if(K.type==="option")return D(K,"".concat(K.index))});else if(w){var M=x({inputValue:y});if(M===null)return null;$=_.createElement(f,m,M)}else{var F=L({inputValue:y});if(F===null)return null;$=_.createElement(d,m,F)}var B={minMenuHeight:E,maxMenuHeight:b,menuPlacement:k,menuPosition:N,menuShouldScrollIntoView:V},Q=_.createElement($3,fe({},m,B),function(K){var pe=K.ref,ce=K.placerProps,re=ce.placement,me=ce.maxHeight;return _.createElement(l,fe({},m,B,{innerRef:pe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:w,placement:re}),_.createElement(f$,{captureEnabled:p,onTopArrive:T,onBottomArrive:P,lockEnabled:O},function(de){return _.createElement(u,fe({},m,{innerRef:function(R){i.getMenuListRef(R),de(R)},innerProps:{role:"listbox","aria-multiselectable":m.isMulti,id:i.getElementId("listbox")},isLoading:w,maxHeight:me,focusedOption:g}),$)}))});return A||N==="fixed"?_.createElement(c,fe({},m,{appendTo:A,controlElement:this.controlRef,menuPlacement:k,menuPosition:N}),Q):Q}},{key:"renderFormField",value:function(){var i=this,o=this.props,a=o.delimiter,s=o.isDisabled,l=o.isMulti,u=o.name,c=o.required,f=this.state.selectValue;if(c&&!this.hasValue()&&!s)return _.createElement(p$,{name:u,onFocus:this.onValueInputFocus});if(!(!u||s))if(l)if(a){var d=f.map(function(g){return i.getOptionValue(g)}).join(a);return _.createElement("input",{name:u,type:"hidden",value:d})}else{var h=f.length>0?f.map(function(g,v){return _.createElement("input",{key:"i-".concat(v),name:u,type:"hidden",value:i.getOptionValue(g)})}):_.createElement("input",{name:u,type:"hidden",value:""});return _.createElement("div",null,h)}else{var m=f[0]?this.getOptionValue(f[0]):"";return _.createElement("input",{name:u,type:"hidden",value:m})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,a=o.ariaSelection,s=o.focusedOption,l=o.focusedValue,u=o.isFocused,c=o.selectValue,f=this.getFocusableOptions();return _.createElement(JF,fe({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:s,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,a=i.IndicatorsContainer,s=i.SelectContainer,l=i.ValueContainer,u=this.props,c=u.className,f=u.id,d=u.isDisabled,h=u.menuIsOpen,m=this.state.isFocused,g=this.commonProps=this.getCommonProps();return _.createElement(s,fe({},g,{className:c,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:m}),this.renderLiveRegion(),_.createElement(o,fe({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:m,menuIsOpen:h}),_.createElement(l,fe({},g,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),_.createElement(a,fe({},g,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var a=o.prevProps,s=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,u=o.ariaSelection,c=o.isFocused,f=o.prevWasFocused,d=o.instancePrefix,h=i.options,m=i.value,g=i.menuIsOpen,v=i.inputValue,p=i.isMulti,y=mf(m),w={};if(a&&(m!==a.value||h!==a.options||g!==a.menuIsOpen||v!==a.inputValue)){var x=g?M$(i,y):[],E=g?d_(pc(i,y),"".concat(d,"-option")):[],b=s?D$(o,y):null,C=O$(o,x),k=Mp(E,C);w={selectValue:y,focusedOption:C,focusedOptionId:k,focusableOptionsWithIds:E,focusedValue:b,clearFocusValueOnUpdate:!1}}var N=l!=null&&i!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},A=u,O=c&&f;return c&&!O&&(A={value:Hs(p,y,y[0]||null),options:y,action:"initial-input-focus"},O=!f),u?.action==="initial-input-focus"&&(A=null),ae(ae(ae({},w),N),{},{prevProps:i,ariaSelection:A,prevWasFocused:O})}}]),n}(_.Component);uv.defaultProps=k$;var N$=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function yT(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,o=e.defaultValue,a=o===void 0?null:o,s=e.inputValue,l=e.menuIsOpen,u=e.onChange,c=e.onInputChange,f=e.onMenuClose,d=e.onMenuOpen,h=e.value,m=wr(e,N$),g=_.useState(s!==void 0?s:n),v=Hr(g,2),p=v[0],y=v[1],w=_.useState(l!==void 0?l:i),x=Hr(w,2),E=x[0],b=x[1],C=_.useState(h!==void 0?h:a),k=Hr(C,2),N=k[0],A=k[1],O=_.useCallback(function(M,F){typeof u=="function"&&u(M,F),A(M)},[u]),V=_.useCallback(function(M,F){var B;typeof c=="function"&&(B=c(M,F)),y(B!==void 0?B:M)},[c]),L=_.useCallback(function(){typeof d=="function"&&d(),b(!0)},[d]),T=_.useCallback(function(){typeof f=="function"&&f(),b(!1)},[f]),P=s!==void 0?s:p,D=l!==void 0?l:E,$=h!==void 0?h:N;return ae(ae({},m),{},{inputValue:P,menuIsOpen:D,onChange:O,onInputChange:V,onMenuClose:T,onMenuOpen:L,value:$})}var R$=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],p_=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(t).toLowerCase(),o=String(r.getOptionValue(n)).toLowerCase(),a=String(r.getOptionLabel(n)).toLowerCase();return o===i||a===i},Dp={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,r,i){return!(!t||n.some(function(o){return p_(t,o,i)})||r.some(function(o){return p_(t,o,i)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function I$(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,r=e.createOptionPosition,i=r===void 0?"last":r,o=e.formatCreateLabel,a=o===void 0?Dp.formatCreateLabel:o,s=e.isValidNewOption,l=s===void 0?Dp.isValidNewOption:s,u=e.getNewOptionData,c=u===void 0?Dp.getNewOptionData:u,f=e.onCreateOption,d=e.options,h=d===void 0?[]:d,m=e.onChange,g=wr(e,R$),v=g.getOptionValue,p=v===void 0?cT:v,y=g.getOptionLabel,w=y===void 0?uT:y,x=g.inputValue,E=g.isLoading,b=g.isMulti,C=g.value,k=g.name,N=_.useMemo(function(){return l(x,mf(C),h,{getOptionValue:p,getOptionLabel:w})?c(x,a(x)):void 0},[a,c,w,p,x,l,h,C]),A=_.useMemo(function(){return(n||!E)&&N?i==="first"?[N].concat(va(h)):[].concat(va(h),[N]):h},[n,i,E,N,h]),O=_.useCallback(function(V,L){if(L.action!=="select-option")return m(V,L);var T=Array.isArray(V)?V:[V];if(T[T.length-1]===N){if(f)f(x);else{var P=c(x,x),D={action:"create-option",name:k,option:P};m(Hs(b,[].concat(va(mf(C)),[P]),P),D)}return}m(V,L)},[c,x,b,k,N,f,m,C]);return ae(ae({},g),{},{options:A,onChange:O})}var L$=_.forwardRef(function(e,t){var n=yT(e),r=I$(n);return _.createElement(uv,fe({ref:t},r))}),A$=L$,F$=_.forwardRef(function(e,t){var n=yT(e);return _.createElement(uv,fe({ref:t},n))}),$$=F$;function cv({options:e,children:t,onChange:n,value:r,id:i}){const o=a=>S.jsx("div",{id:i,style:{width:"100%",height:"100%"},children:S.jsx(oT.DropdownIndicator,{...a,children:t})});return S.jsx("div",{className:"svg-container",children:S.jsx($$,{components:{DropdownIndicator:o},options:e,value:r?{value:r,label:r}:null,styles:{control:()=>({height:"inherit"}),container:()=>({aspectRatio:"1/1",height:"inherit"}),valueContainer:()=>({height:0,width:0,overflow:"hidden"}),indicatorsContainer:()=>({height:"inherit"}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:()=>({padding:0,height:"inherit"}),menu:a=>({...a,zIndex:10,width:"max-content",textAlign:"left"})},tabSelectsValue:!1,isSearchable:!1,onChange:a=>{n(a?.value)}})})}function wT({compact:e=!1}){const n=_.useContext(bt).portaCountClient.externalController,[r,i]=_.useState(""),[o]=se(j.SHOW_EXTERNAL_CONTROL);function a(){n.sendCommand(r),i("")}const s={"":"","Switch to App Control":xe.INVOKE_EXTERNAL_CONTROL,"Switch to PortaCount Control":xe.RELEASE_FROM_EXTERNAL_CONTROL,"Request Settings":xe.REQUEST_SETTINGS,"Request Runtime Status":xe.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE,"Request Voltage Status":xe.REQUEST_VOLTAGE_INFO,"Sample from Ambient":xe.SWITCH_VALVE_ON,"Sample from Mask":xe.SWITCH_VALVE_OFF,"Disable data transmission":xe.DISABLE_CONTINUOUS_DATA_TRANSMISSION,"Enable data transmission":xe.ENABLE_CONTINUOUS_DATA_TRANSMISSION,"Beep!":xe.SOUND_BEEPER_INSIDE_THE_PORTACOUNT_PLUS.replace("xx","02"),"Power Off":xe.TURN_POWER_OFF},l=Object.entries(s).map(([c,f])=>({value:f,label:c})),u=o?S.jsx(cv,{options:l,onChange:c=>n.sendCommand(c),children:S.jsx(tL,{})}):null;return S.jsx(S.Fragment,{children:e?u:S.jsxs("div",{style:{display:"inline-flex",height:"fit-content"},children:[S.jsx(A$,{name:"Mask",options:l,value:r?{value:r,label:r}:null,styles:{menu:c=>({...c,zIndex:2,width:"max-content",textAlign:"left"}),singleValue:c=>({...c,whiteSpace:"normal",width:"9rem"}),input:c=>({...c,width:"9rem"})},tabSelectsValue:!1,onChange:c=>i(c?.value),allowCreateWhileLoading:!0,isSearchable:!0,placeholder:"Type command..."}),S.jsx("input",{type:"button",value:"Send",id:"send-command-button",onClick:a})]})})}function ft({trueLabel:e,falseLabel:t,setting:n}){const[r,i]=se(n);function o(l){return l.toString().replace(/^(.)/,(u,c)=>`${c[0].toUpperCase()}`).replace(/(-(.))/g,(u,c)=>` ${c[1].toUpperCase()}`)}const a=e??o(n),s=`${a.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`;return S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{className:"setting-name",htmlFor:s,children:r?a:t||a}),S.jsxs("label",{className:"switch",children:[S.jsx("input",{type:"checkbox",id:s,onChange:l=>i(l.target.checked),checked:r}),S.jsx("span",{className:"slider round"})]})]})}function _T({trueLabel:e,falseLabel:t,value:n,setValue:r}){const i=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`;return S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{className:"setting-name",htmlFor:i,children:n?e:t||e}),S.jsxs("label",{className:"switch",children:[S.jsx("input",{type:"checkbox",id:i,onChange:o=>r(o.target.checked),checked:n}),S.jsx("span",{className:"slider round"})]})]})}function ST({trueLabel:e,falseLabel:t,trueValue:n,value:r,setValue:i,...o}){const a=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`,s=t??e,l=n??e,u=o.disabled?"disabled":"";return S.jsxs("div",{style:{display:"inline-flex"},children:[S.jsx("label",{className:`setting-name ${u}`,htmlFor:a,children:r}),S.jsxs("label",{className:"switch",children:[S.jsx("input",{...o,type:"checkbox",id:a,onChange:c=>i(c.target.checked?e:s),checked:r===l}),S.jsx("span",{className:`slider round ${u}`})]})]})}function j$(){const t=_.useContext(bt).portaCountClient,[n]=se(j.SHOW_EXTERNAL_CONTROL),[r,i]=_.useState(t.state.controlSource);function o(l){return l!==jt.RECEIVING}const[a,s]=_.useState(o(t.state.connectionStatus));return _.useEffect(()=>{const l={controlSourceChanged(u){i(u)},connectionStatusChanged(u){s(o(u))}};return t.addListener(l),()=>{t.removeListener(l)}},[]),S.jsxs("fieldset",{className:"info-box-compact",children:[S.jsx("legend",{children:"Control"}),n?S.jsx(ST,{trueLabel:Ee.External,falseLabel:Ee.Internal,value:r,setValue:l=>t.externalController.controlSource=l,disabled:a}):r]})}function U$(){const t=_.useContext(bt).portaCountClient,[n]=se(j.SHOW_EXTERNAL_CONTROL),[r,i]=_.useState(t.state.sampleSource);function o(l){return l===Ee.Internal}const[a,s]=_.useState(o(t.state.controlSource));return _.useEffect(()=>{const l={sampleSourceChanged(u){i(u)},controlSourceChanged(u){s(o(u))}};return t.addListener(l),()=>{t.removeListener(l)}},[]),S.jsxs("fieldset",{id:"portacount-sample-source-widget",className:"info-box-compact",children:[S.jsx("legend",{children:"Source"}),n?S.jsx(ST,{trueLabel:Ce.MASK,falseLabel:Ce.AMBIENT,value:r,setValue:l=>t.externalController.sampleSource=l,disabled:a}):r]})}function xT({label:e="Activity",border:t=!0}){const[n]=se(j.ACTIVITY);return e?S.jsxs("fieldset",{className:"info-box-compact",children:[S.jsx("legend",{children:"Activity"}),n]}):S.jsx("div",{className:t?"thin-border":"",children:n})}function bT({label:e="Last line",border:t=!0}){const r=_.useContext(bt).portaCountClient,[i,o]=_.useState(r.state.lastLine);_.useEffect(()=>{const s={lineReceived(l){o(l)}};return r.addListener(s),()=>{r.removeListener(s)}},[]),_.useEffect(()=>{const s=setTimeout(()=>{o(""),console.debug("last line timeout expired")},3e3);return()=>clearTimeout(s)},[i]);const a=S.jsx(S.Fragment,{children:i.trim().length==0?"":i});return e?S.jsxs("fieldset",{className:"info-box-compact",style:{width:"8rem"},children:[S.jsxs("legend",{className:"number-field no-wrap",children:[e," ",i.trim().length>0?lR(new Date,!0):""]}),S.jsx("div",{className:"console-8020",children:a})]}):S.jsx("div",{className:`console-8020 ${t&&"thin-border"}`,children:a})}var fg=new Map,Iu=new WeakMap,m_=0,H$=void 0;function V$(e){return e?(Iu.has(e)||(m_+=1,Iu.set(e,m_.toString())),Iu.get(e)):"0"}function B$(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?V$(e.root):e[t]}`).toString()}function Y$(e){const t=B$(e);let n=fg.get(t);if(!n){const r=new Map;let i;const o=new IntersectionObserver(a=>{a.forEach(s=>{var l;const u=s.isIntersecting&&i.some(c=>s.intersectionRatio>=c);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(l=r.get(s.target))==null||l.forEach(c=>{c(u,s)})})},e);i=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:r},fg.set(t,n)}return n}function z$(e,t,n={},r=H$){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:o,elements:a}=Y$(n),s=a.get(e)||[];return a.has(e)||a.set(e,s),s.push(t),o.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(a.delete(e),o.unobserve(e)),a.size===0&&(o.disconnect(),fg.delete(i))}}function W$({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:o,skip:a,initialInView:s,fallbackInView:l,onChange:u}={}){var c;const[f,d]=_.useState(null),h=_.useRef(),[m,g]=_.useState({inView:!!s,entry:void 0});h.current=u,_.useEffect(()=>{if(a||!f)return;let w;return w=z$(f,(x,E)=>{g({inView:x,entry:E}),h.current&&h.current(x,E),E.isIntersecting&&o&&w&&(w(),w=void 0)},{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},l),()=>{w&&w()}},[Array.isArray(e)?e.toString():e,f,i,r,o,a,n,l,t]);const v=(c=m.entry)==null?void 0:c.target,p=_.useRef();!f&&v&&!o&&!a&&p.current!==v&&(p.current=v,g({inView:!!s,entry:void 0}));const y=[d,m.inView,m.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}function q$(e){return it({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M19.892 4.09a3.75 3.75 0 0 0-5.303 0l-4.5 4.5c-.074.074-.144.15-.21.229l4.965 4.966a3.75 3.75 0 0 0-1.986-4.428.75.75 0 0 1 .646-1.353 5.253 5.253 0 0 1 2.502 6.944l5.515 5.515a.75.75 0 0 1-1.061 1.06l-18-18.001A.75.75 0 0 1 3.521 2.46l5.294 5.295a5.31 5.31 0 0 1 .213-.227l4.5-4.5a5.25 5.25 0 1 1 7.425 7.425l-1.757 1.757a.75.75 0 1 1-1.06-1.06l1.756-1.757a3.75 3.75 0 0 0 0-5.304ZM5.846 11.773a.75.75 0 0 1 0 1.06l-1.757 1.758a3.75 3.75 0 0 0 5.303 5.304l3.129-3.13a.75.75 0 1 1 1.06 1.061l-3.128 3.13a5.25 5.25 0 1 1-7.425-7.426l1.757-1.757a.75.75 0 0 1 1.061 0Zm2.401.26a.75.75 0 0 1 .957.458c.18.512.474.992.885 1.403.31.311.661.555 1.035.733a.75.75 0 0 1-.647 1.354 5.244 5.244 0 0 1-1.449-1.026 5.232 5.232 0 0 1-1.24-1.965.75.75 0 0 1 .46-.957Z",clipRule:"evenodd"},child:[]}]})(e)}function ET({compact:e=!1}){const t=_.useContext(bt),[n]=_.useState(t.dataCollector),[r]=_.useState(t.portaCountClient),[i]=se(j.ENABLE_SIMULATOR),[o]=se(j.BAUD_RATE),a=[3,30,300,1200,14400,28800,56760],[s,l]=se(j.SIMULATOR_FILE_SPEED),[u,c]=se(j.SELECTED_DATA_SOURCE),[f,d]=_.useState(r.state.connectionStatus),[,h]=se(j.CONNECTION_STATUS_IN_VIEW),[m]=se(j.ENABLE_WEB_SERIAL_DRIVERS),{ref:g,inView:v}=W$();_.useEffect(()=>{const O={connectionStatusChanged(V){d(V)}};return r.addListener(O),()=>{r.removeListener(O)}},[]),_.useEffect(()=>{h(v)},[v]);function p(){n.dataSource=qe.WebUsbSerial,new ga().requestPort().then(y)}function y(O){console.log(`got serial port ${O.toLocaleString()}, using baud rate ${o}`),r.connect(O)}function w(){n.dataSource=qe.WebSerial,"serial"in navigator?(console.log("webserial supported!"),navigator.serial.requestPort().then(y)):console.log("no serial support. As of this writing, web serial is only supported on desktop chrome.")}function x(){n.dataSource=qe.Simulator,y(t.portaCountSimulator.port)}function E(){n.dataSource=qe.Simulator;function O(V,L=null){return{readable:V,writable:L,connected:!1,getInfo(){return{}},open(){return this.connected=!0,Promise.resolve()}}}if("showOpenFilePicker"in window)window.showOpenFilePicker({id:"simulator-files"}).then(V=>{V[0].getFile().then(L=>{const T=pw(new gi(L,s)),P=O(T,null);y(P)})});else{const V=pw(new gi("./fit-test-console/simulator-data/test-data.txt",s)),L=O(V,null);y(L)}}function b(){C(u)}function C(O){switch(O){case qe.WebUsbSerial:p();break;case qe.WebSerial:w();break;case qe.Simulator:n.fitFactorEstimator.resetChart(),x();break;case qe.SimulatorFile:n.fitFactorEstimator.resetChart(),E();break;default:console.log(`unexpected dataSource : ${O}`);break}}function k(O){C(O)}const N=[{value:qe.WebUsbSerial,label:"App drivers (webusb serial)"}];m&&N.push({value:qe.WebSerial,label:"Computer drivers (webserial)"}),i&&N.push({value:qe.SimulatorFile,label:"Simulator (file)"},{value:qe.Simulator,label:"Simulator"});const A=S.jsxs(cv,{id:"compact-driver-selector-widget",options:N,onChange:O=>k(O),children:[f===jt.DISCONNECTED&&S.jsx(q$,{color:"red"}),f===jt.WAITING&&S.jsx(fL,{color:"orange"}),f===jt.RECEIVING&&S.jsx(sL,{color:"green"})]});return e?A:S.jsxs("fieldset",{id:"driver-selector-widget",className:"info-box-compact",ref:g,children:[S.jsxs("legend",{children:["Data Source ",S.jsx("span",{className:uR(f),children:f})]}),S.jsxs("div",{style:{display:"inline-block"},children:[S.jsx("select",{id:"data-source-selector",value:u,onChange:O=>c(O.target.value),disabled:r.state.connectionStatus!==jt.DISCONNECTED,children:N.map(O=>S.jsx("option",{value:O.value,children:O.label},O.value))}),u===qe.SimulatorFile&&S.jsxs("div",{style:{display:"inline-block"},children:[S.jsx("label",{htmlFor:"simulation-speed-select"}),S.jsx("select",{id:"simulation-speed-select",value:s,onChange:O=>l(Number(O.target.value)),children:a.map(O=>S.jsxs("option",{value:O,children:[O," bps"]},O))})]})]}),S.jsx("input",{className:"button",type:"button",value:"Connect",id:"connect-button",disabled:r.state.connectionStatus!==jt.DISCONNECTED,onClick:b})]})}function Q$({...e}){return S.jsx("fieldset",{style:{borderBottom:"none",borderInline:"none",paddingInline:0,minWidth:0},children:e.children})}const G$="modulepreload",K$=function(e,t){return new URL(e,t).href},g_={},Ld=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(n.map(u=>{if(u=K$(u,r),u in g_)return;g_[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let m=a.length-1;m>=0;m--){const g=a[m];if(g.href===u&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":G$,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})},CT=_.lazy(()=>Ld(()=>import("./ResultsTable-Cc-BE5N3.js"),__vite__mapDeps([0,1]),import.meta.url)),X$=_.lazy(()=>Ld(()=>import("./SimpleFitTestProtocolPanel-CC69-Wk3.js"),__vite__mapDeps([2,3]),import.meta.url)),Z$=_.lazy(()=>Ld(()=>import("./QRScanner-CipIpeef.js"),[],import.meta.url));function J$(){const e=_.useContext(bt),[,t]=_.useState({}),n=_.useCallback(()=>{t({})},[]),[r]=se(j.TEST_TEMPLATE),[i,o]=_.useState([]),[a]=se(j.SELECTED_PROTOCOL);_.useEffect(()=>{const u={subscriptions:()=>[j.TEST_TEMPLATE],settingsChanged(c,f){console.log(`setting ${c} changed to ${JSON.stringify(f)}`),s(f.Participant)}};return e.settings.addListener(u),s(r.Participant),()=>{e.settings.removeListener(u)}},[]),_.useEffect(()=>{console.debug(`selectedProtocolChanged, num exercises is ${e.settings.numExercises}`),n()},[a]);function s(u){const c=new Date;u=(u??"").trim();const f=new Date(c.getTime()-c.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);Rn.getData(d=>{const h=new Date(d.Time),m=new Date(h.getTime()-h.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);return(d.Participant??"").trim()===u&&m.startsWith(f)}).then(o)}async function l(u){await Promise.all(u.map(c=>Rn.deleteRecordById(c))),s(r.Participant)}return S.jsx("div",{id:"current-participant-info",children:S.jsxs(Q$,{children:[S.jsxs("legend",{children:["Results",r.Participant?` for ${r.Participant}`:""]}),S.jsx("div",{style:{justifySelf:"center",maxWidth:"100%"},children:S.jsx(CT,{tableData:i,setTableData:o,searchableColumns:[],hideColumns:["Participant","Time"],minExercisesToShow:e.settings.numExercises,columnSortingSettingKey:j.PARTICIPANT_RESULTS_TABLE_SORT,columnFilterSettingKey:j.PARTICIPANT_RESULTS_TABLE_FILTER,deleteRowsCallback:l})})]})})}function TT(){return S.jsxs("div",{style:{display:"block"},children:["This app requires Chrome browser for some features. Get it here: ",S.jsx("a",{href:"https://www.google.com/chrome/",children:"https://www.google.com/chrome/"})]})}function e5(){const e=navigator.userAgent.includes("Chrome");return S.jsx(S.Fragment,{children:!e&&S.jsx(TT,{})})}function t5(){const[e]=se(j.SHOW_EXTERNAL_CONTROL),[t]=se(j.USE_COMPACT_UI),[n]=se(j.ZOOM_INSTRUCTIONS);return S.jsxs(S.Fragment,{children:[S.jsx(e5,{}),!n&&S.jsxs("section",{id:"control-widgets",style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifySelf:"center"},children:[!t&&S.jsx(ET,{}),!t&&e&&S.jsx(j$,{}),!t&&e&&S.jsx(U$,{}),!t&&S.jsx(xT,{}),!t&&S.jsx(bT,{}),!t&&e&&S.jsx(wT,{})]}),!n&&S.jsx(vL,{}),S.jsx(dL,{}),!n&&S.jsx(J$,{})]})}function n5(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:a}=e;let s,l,u;const c=async(d=!0)=>{await l,await u?.()};async function f(){if("serviceWorker"in navigator){if(s=await Ld(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[],import.meta.url).then(({Workbox:d})=>new d("./sw.js",{scope:"./",type:"classic"})).catch(d=>{a?.(d)}),!s)return;u=async()=>{await s?.messageSkipWaiting()};{let d=!1;const h=()=>{d=!0,s?.addEventListener("controlling",m=>{m.isUpdate&&window.location.reload()}),n?.()};s.addEventListener("installed",m=>{typeof m.isUpdate>"u"?typeof m.isExternal<"u"?m.isExternal?h():!d&&r?.():m.isExternal?window.location.reload():!d&&r?.():m.isUpdate||r?.()}),s.addEventListener("waiting",h),s.addEventListener("externalwaiting",h)}s.register({immediate:t}).then(d=>{o?o("./sw.js",d):i?.(d)}).catch(d=>{a?.(d)})}}return l=f(),c}var fv={};Object.defineProperty(fv,"__esModule",{value:!0});fv.parse=u5;fv.serialize=c5;const r5=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i5=/^[\u0021-\u003A\u003C-\u007E]*$/,o5=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a5=/^[\u0020-\u003A\u003D-\u007E]*$/,s5=Object.prototype.toString,l5=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function u5(e,t){const n=new l5,r=e.length;if(r<2)return n;const i=t?.decode||f5;let o=0;do{const a=e.indexOf("=",o);if(a===-1)break;const s=e.indexOf(";",o),l=s===-1?r:s;if(a>l){o=e.lastIndexOf(";",a-1)+1;continue}const u=v_(e,o,a),c=y_(e,a,u),f=e.slice(u,c);if(n[f]===void 0){let d=v_(e,a+1,l),h=y_(e,l,d);const m=i(e.slice(d,h));n[f]=m}o=l+1}while(o<r);return n}function v_(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function y_(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function c5(e,t,n){const r=n?.encode||encodeURIComponent;if(!r5.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!i5.test(i))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!o5.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!a5.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!d5(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function f5(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function d5(e){return s5.call(e)==="[object Date]"}/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w_="popstate";function h5(e={}){function t(i,o){let{pathname:a="/",search:s="",hash:l=""}=Ao(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),dg("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:Pl(o))}function r(i,o){Ln(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return m5(t,n,r,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ln(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function p5(){return Math.random().toString(36).substring(2,10)}function __(e,t){return{usr:e.state,key:e.key,idx:t}}function dg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ao(t):t,state:n,key:t&&t.key||r||p5()}}function Pl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ao(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function m5(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,u=c();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function c(){return(a.state||{idx:null}).idx}function f(){s="POP";let v=c(),p=v==null?null:v-u;u=v,l&&l({action:s,location:g.location,delta:p})}function d(v,p){s="PUSH";let y=dg(g.location,v,p);n&&n(y,v),u=c()+1;let w=__(y,u),x=g.createHref(y);try{a.pushState(w,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(x)}o&&l&&l({action:s,location:g.location,delta:1})}function h(v,p){s="REPLACE";let y=dg(g.location,v,p);n&&n(y,v),u=c();let w=__(y,u),x=g.createHref(y);a.replaceState(w,"",x),o&&l&&l({action:s,location:g.location,delta:0})}function m(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Pl(v);return y=y.replace(/ $/,"%20"),Ze(p,`No window.location.(origin|href) available to create URL for href: ${y}`),new URL(y,p)}let g={get action(){return s},get location(){return e(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(w_,f),l=v,()=>{i.removeEventListener(w_,f),l=null}},createHref(v){return t(i,v)},createURL:m,encodeLocation(v){let p=m(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:h,go(v){return a.go(v)}};return g}function kT(e,t,n="/"){return g5(e,t,n,!1)}function g5(e,t,n,r){let i=typeof t=="string"?Ao(t):t,o=Ai(i.pathname||"/",n);if(o==null)return null;let a=MT(e);v5(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=M5(o);s=T5(a[l],u,r)}return s}function MT(e,t=[],n=[],r=""){let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Vr([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),MT(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:E5(u,o.index),routesMeta:c})};return e.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))i(o,a);else for(let s of DT(o.path))i(o,a,s)}),t}function DT(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=DT(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function v5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:C5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var y5=/^:[\w-]+$/,w5=3,_5=2,S5=1,x5=10,b5=-2,S_=e=>e==="*";function E5(e,t){let n=e.split("/"),r=n.length;return n.some(S_)&&(r+=b5),t&&(r+=_5),n.filter(i=>!S_(i)).reduce((i,o)=>i+(y5.test(o)?w5:o===""?S5:x5),r)}function C5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function T5(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",f=yf({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=yf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Vr([o,f.pathname]),pathnameBase:N5(Vr([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Vr([o,f.pathnameBase]))}return a}function yf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=k5(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},d)=>{if(c==="*"){let m=s[d]||"";a=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const h=s[d];return f&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function k5(e,t=!1,n=!0){Ln(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function M5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ln(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ai(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function D5(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ao(e):e;return{pathname:n?n.startsWith("/")?n:O5(n,t):t,search:R5(r),hash:I5(i)}}function O5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Op(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function OT(e){let t=P5(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function PT(e,t,n,r=!1){let i;typeof e=="string"?i=Ao(e):(i={...e},Ze(!i.pathname||!i.pathname.includes("?"),Op("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Op("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Op("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?t[f]:"/"}let l=D5(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Vr=e=>e.join("/").replace(/\/\/+/g,"/"),N5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,I5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function L5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var NT=["POST","PUT","PATCH","DELETE"];new Set(NT);var A5=["GET",...NT];new Set(A5);var os=_.createContext(null);os.displayName="DataRouter";var Ad=_.createContext(null);Ad.displayName="DataRouterState";var RT=_.createContext({isTransitioning:!1});RT.displayName="ViewTransition";var F5=_.createContext(new Map);F5.displayName="Fetchers";var $5=_.createContext(null);$5.displayName="Await";var Sr=_.createContext(null);Sr.displayName="Navigation";var Xl=_.createContext(null);Xl.displayName="Location";var xr=_.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var dv=_.createContext(null);dv.displayName="RouteError";function j5(e,{relative:t}={}){Ze(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Sr),{hash:i,pathname:o,search:a}=Jl(e,{relative:t}),s=o;return n!=="/"&&(s=o==="/"?n:Vr([n,o])),r.createHref({pathname:s,search:a,hash:i})}function Zl(){return _.useContext(Xl)!=null}function ai(){return Ze(Zl(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Xl).location}var IT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(e){_.useContext(Sr).static||_.useLayoutEffect(e)}function Fd(){let{isDataRoute:e}=_.useContext(xr);return e?e4():U5()}function U5(){Ze(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(os),{basename:t,navigator:n}=_.useContext(Sr),{matches:r}=_.useContext(xr),{pathname:i}=ai(),o=JSON.stringify(OT(r)),a=_.useRef(!1);return LT(()=>{a.current=!0}),_.useCallback((l,u={})=>{if(Ln(a.current,IT),!a.current)return;if(typeof l=="number"){n.go(l);return}let c=PT(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Vr([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}var H5=_.createContext(null);function V5(e){let t=_.useContext(xr).outlet;return t&&_.createElement(H5.Provider,{value:e},t)}function Jl(e,{relative:t}={}){let{matches:n}=_.useContext(xr),{pathname:r}=ai(),i=JSON.stringify(OT(n));return _.useMemo(()=>PT(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function B5(e,t){return AT(e,t)}function AT(e,t,n,r){Ze(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(Sr),{matches:o}=_.useContext(xr),a=o[o.length-1],s=a?a.params:{},l=a?a.pathname:"/",u=a?a.pathnameBase:"/",c=a&&a.route;{let p=c&&c.path||"";FT(l,!c||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let f=ai(),d;if(t){let p=typeof t=="string"?Ao(t):t;Ze(u==="/"||p.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${p.pathname}" was given in the \`location\` prop.`),d=p}else d=f;let h=d.pathname||"/",m=h;if(u!=="/"){let p=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let g=kT(e,{pathname:m});Ln(c||g!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Ln(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Q5(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},s,p.params),pathname:Vr([u,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Vr([u,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n,r);return t&&v?_.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},v):v}function Y5(){let e=J5(),t=L5(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,a)}var z5=_.createElement(Y5,null),W5=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(xr.Provider,{value:this.props.routeContext},_.createElement(dv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function q5({routeContext:e,match:t,children:n}){let r=_.useContext(os);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(xr.Provider,{value:e},n)}function Q5(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n?.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&o?.[u.route.id]!==void 0);Ze(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,s=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(s=l),u.route.id){let{loaderData:c,errors:f}=n,d=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||d){a=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let f,d=!1,h=null,m=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,h=u.route.errorElement||z5,a&&(s<0&&c===0?(FT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,m=null):s===c&&(d=!0,m=u.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,c+1)),v=()=>{let p;return f?p=h:d?p=m:u.route.Component?p=_.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=l,_.createElement(q5,{match:u,routeContext:{outlet:l,matches:g,isDataRoute:n!=null},children:p})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?_.createElement(W5,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}function hv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G5(e){let t=_.useContext(os);return Ze(t,hv(e)),t}function K5(e){let t=_.useContext(Ad);return Ze(t,hv(e)),t}function X5(e){let t=_.useContext(xr);return Ze(t,hv(e)),t}function pv(e){let t=X5(e),n=t.matches[t.matches.length-1];return Ze(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Z5(){return pv("useRouteId")}function J5(){let e=_.useContext(dv),t=K5("useRouteError"),n=pv("useRouteError");return e!==void 0?e:t.errors?.[n]}function e4(){let{router:e}=G5("useNavigate"),t=pv("useNavigate"),n=_.useRef(!1);return LT(()=>{n.current=!0}),_.useCallback(async(i,o={})=>{Ln(n.current,IT),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var x_={};function FT(e,t,n){!t&&!x_[e]&&(x_[e]=!0,Ln(!1,n))}_.memo(t4);function t4({routes:e,future:t,state:n}){return AT(e,void 0,n,t)}function n4(e){return V5(e.context)}function _n(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r4({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ze(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),s=_.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=Ao(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:d="default"}=n,h=_.useMemo(()=>{let m=Ai(l,a);return m==null?null:{location:{pathname:m,search:u,hash:c,state:f,key:d},navigationType:r}},[a,l,u,c,f,d,r]);return Ln(h!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:_.createElement(Sr.Provider,{value:s},_.createElement(Xl.Provider,{children:t,value:h}))}function i4({children:e,location:t}){return B5(hg(e),t)}function hg(e,t=[]){let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let o=[...t,i];if(r.type===_.Fragment){n.push.apply(n,hg(r.props.children,o));return}Ze(r.type===_n,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=hg(r.props.children,o)),n.push(a)}),n}var mc="get",gc="application/x-www-form-urlencoded";function $d(e){return e!=null&&typeof e.tagName=="string"}function o4(e){return $d(e)&&e.tagName.toLowerCase()==="button"}function a4(e){return $d(e)&&e.tagName.toLowerCase()==="form"}function s4(e){return $d(e)&&e.tagName.toLowerCase()==="input"}function l4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u4(e,t){return e.button===0&&(!t||t==="_self")&&!l4(e)}function pg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function c4(e,t){let n=pg(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var Lu=null;function f4(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var d4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pp(e){return e!=null&&!d4.has(e)?(Ln(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gc}"`),null):e}function h4(e,t){let n,r,i,o,a;if(a4(e)){let s=e.getAttribute("action");r=s?Ai(s,t):null,n=e.getAttribute("method")||mc,i=Pp(e.getAttribute("enctype"))||gc,o=new FormData(e)}else if(o4(e)||s4(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(r=l?Ai(l,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||mc,i=Pp(e.getAttribute("formenctype"))||Pp(s.getAttribute("enctype"))||gc,o=new FormData(s,e),!f4()){let{name:u,type:c,value:f}=e;if(c==="image"){let d=u?`${u}.`:"";o.append(`${d}x`,"0"),o.append(`${d}y`,"0")}else u&&o.append(u,f)}}else{if($d(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mc,r=null,i=gc,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function mv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function p4(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function g4(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await p4(o,n);return a.links?a.links():[]}return[]}));return _4(r.flat(1).filter(m4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function b_(e,t,n,r,i,o){let a=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,s=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return o==="assets"?t.filter((l,u)=>a(l,u)||s(l,u)):o==="data"?t.filter((l,u)=>{let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(a(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function v4(e,t){return y4(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function y4(e){return[...new Set(e)]}function w4(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function _4(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(w4(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function S4(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function x4(){let e=_.useContext(os);return mv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function b4(){let e=_.useContext(Ad);return mv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gv=_.createContext(void 0);gv.displayName="FrameworkContext";function $T(){let e=_.useContext(gv);return mv(e,"You must render this element inside a <HydratedRouter> element"),e}function E4(e,t){let n=_.useContext(gv),[r,i]=_.useState(!1),[o,a]=_.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,d=_.useRef(null);_.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let g=p=>{p.forEach(y=>{a(y.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return d.current&&v.observe(d.current),()=>{v.disconnect()}}},[e]),_.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let h=()=>{i(!0)},m=()=>{i(!1),a(!1)};return n?e!=="intent"?[o,d,{}]:[o,d,{onFocus:bs(s,h),onBlur:bs(l,m),onMouseEnter:bs(u,h),onMouseLeave:bs(c,m),onTouchStart:bs(f,h)}]:[!1,d,{}]}function bs(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function C4({page:e,...t}){let{router:n}=x4(),r=_.useMemo(()=>kT(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(k4,{page:e,matches:r,...t}):null}function T4(e){let{manifest:t,routeModules:n}=$T(),[r,i]=_.useState([]);return _.useEffect(()=>{let o=!1;return g4(e,t,n).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,n]),r}function k4({page:e,matches:t,...n}){let r=ai(),{manifest:i,routeModules:o}=$T(),{loaderData:a,matches:s}=b4(),l=_.useMemo(()=>b_(e,t,s,i,r,"data"),[e,t,s,i,r]),u=_.useMemo(()=>b_(e,t,s,i,r,"assets"),[e,t,s,i,r]),c=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let h=new Set,m=!1;if(t.forEach(v=>{let p=i.routes[v.route.id];!p||!p.hasLoader||(!l.some(y=>y.route.id===v.route.id)&&v.route.id in a&&o[v.route.id]?.shouldRevalidate||p.hasClientLoader?m=!0:h.add(v.route.id))}),h.size===0)return[];let g=S4(e);return m&&h.size>0&&g.searchParams.set("_routes",t.filter(v=>h.has(v.route.id)).map(v=>v.route.id).join(",")),[g.pathname+g.search]},[a,r,i,l,t,e,o]),f=_.useMemo(()=>v4(u,i),[u,i]),d=T4(u);return _.createElement(_.Fragment,null,c.map(h=>_.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...n})),f.map(h=>_.createElement("link",{key:h,rel:"modulepreload",href:h,...n})),d.map(({key:h,link:m})=>_.createElement("link",{key:h,...m})))}function M4(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var jT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jT&&(window.__reactRouterVersion="7.1.3")}catch{}function D4({basename:e,children:t,window:n}){let r=_.useRef();r.current==null&&(r.current=h5({window:n,v5Compat:!0}));let i=r.current,[o,a]=_.useState({action:i.action,location:i.location}),s=_.useCallback(l=>{_.startTransition(()=>a(l))},[a]);return _.useLayoutEffect(()=>i.listen(s),[i,s]),_.createElement(r4,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var UT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HT=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f,...d},h){let{basename:m}=_.useContext(Sr),g=typeof u=="string"&&UT.test(u),v,p=!1;if(typeof u=="string"&&g&&(v=u,jT))try{let N=new URL(window.location.href),A=u.startsWith("//")?new URL(N.protocol+u):new URL(u),O=Ai(A.pathname,m);A.origin===N.origin&&O!=null?u=O+A.search+A.hash:p=!0}catch{Ln(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=j5(u,{relative:i}),[w,x,E]=E4(r,d),b=N4(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function C(N){t&&t(N),N.defaultPrevented||b(N)}let k=_.createElement("a",{...d,...E,href:v||y,onClick:p||o?t:C,ref:M4(h,x),target:l,"data-discover":!g&&n==="render"?"true":void 0});return w&&!g?_.createElement(_.Fragment,null,k,_.createElement(C4,{page:y})):k});HT.displayName="Link";var VT=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...u},c){let f=Jl(a,{relative:u.relative}),d=ai(),h=_.useContext(Ad),{navigator:m,basename:g}=_.useContext(Sr),v=h!=null&&$4(f)&&s===!0,p=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,y=d.pathname,w=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&g&&(w=Ai(w,g)||w);const x=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=y===p||!i&&y.startsWith(p)&&y.charAt(x)==="/",b=w!=null&&(w===p||!i&&w.startsWith(p)&&w.charAt(p.length)==="/"),C={isActive:E,isPending:b,isTransitioning:v},k=E?t:void 0,N;typeof r=="function"?N=r(C):N=[r,E?"active":null,b?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(C):o;return _.createElement(HT,{...u,"aria-current":k,className:N,ref:c,style:A,to:a,viewTransition:s},typeof l=="function"?l(C):l)});VT.displayName="NavLink";var O4=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:a=mc,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...d},h)=>{let m=A4(),g=F4(s,{relative:u}),v=a.toLowerCase()==="get"?"get":"post",p=typeof s=="string"&&UT.test(s),y=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let x=w.nativeEvent.submitter,E=x?.getAttribute("formmethod")||a;m(x||w.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:f})};return _.createElement("form",{ref:h,method:v,action:g,onSubmit:r?l:y,...d,"data-discover":!p&&e==="render"?"true":void 0})});O4.displayName="Form";function P4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BT(e){let t=_.useContext(os);return Ze(t,P4(e)),t}function N4(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let s=Fd(),l=ai(),u=Jl(e,{relative:o});return _.useCallback(c=>{if(u4(c,t)){c.preventDefault();let f=n!==void 0?n:Pl(l)===Pl(u);s(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[l,s,u,n,r,t,e,i,o,a])}function R4(e){Ln(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(pg(e)),n=_.useRef(!1),r=ai(),i=_.useMemo(()=>c4(r.search,n.current?null:t.current),[r.search]),o=Fd(),a=_.useCallback((s,l)=>{const u=pg(typeof s=="function"?s(i):s);n.current=!0,o("?"+u,l)},[o,i]);return[i,a]}var I4=0,L4=()=>`__${String(++I4)}__`;function A4(){let{router:e}=BT("useSubmit"),{basename:t}=_.useContext(Sr),n=Z5();return _.useCallback(async(r,i={})=>{let{action:o,method:a,encType:s,formData:l,body:u}=h4(r,t);if(i.navigate===!1){let c=i.fetcherKey||L4();await e.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function F4(e,{relative:t}={}){let{basename:n}=_.useContext(Sr),r=_.useContext(xr);Ze(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Jl(e||".",{relative:t})},a=ai();if(e==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(c=>c==="")){s.delete("index"),l.filter(f=>f).forEach(f=>s.append("index",f));let c=s.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Vr([n,o.pathname])),Pl(o)}function $4(e,t={}){let n=_.useContext(RT);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BT("useViewTransitionState"),i=Jl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Ai(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ai(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yf(i.pathname,a)!=null||yf(i.pathname,o)!=null}new TextEncoder;function E_({label:e,value:t,setValue:n,options:r}){const i=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-select`;return S.jsx(S.Fragment,{children:S.jsxs("div",{className:"labeled-setting",children:[S.jsxs("label",{htmlFor:i,children:[e,": "]}),S.jsx("select",{id:i,value:t,onChange:o=>n(o.target.value),children:r.map(o=>Object.entries(o).map(([a,s])=>S.jsx("option",{value:s,children:a},s)))})]})})}function j4(){const[e,t]=se(j.SPEECH_ENABLED);return _.useEffect(()=>{vt.setSpeechEnabled(e)},[e]),S.jsx(_T,{trueLabel:"Enable speech",value:e,setValue:t})}var mg;(function(e){e.csv="text/csv",e.tsv="text/tab-separated-values",e.plain="text/plain"})(mg||(mg={}));var as=e=>e,dn=e=>e,al=as,jd=as,Fa=as,C_=as,T_=as,U4={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,fileExtension:"csv",mediaType:mg.csv,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},H4=`\r
`,V4="\uFEFF",Ud=e=>Object.assign({},U4,e);let B4=class extends Error{constructor(t){super(t),this.name="CsvGenerationError"}},Y4=class extends Error{constructor(t){super(t),this.name="EmptyHeadersError"}};class z4 extends Error{constructor(t){super(t),this.name="CsvDownloadEnvironmentError"}}class W4 extends Error{constructor(t){super(t),this.name="UnsupportedDataFormatError"}}var q4=function(e,t){return t=='"'&&e.indexOf('"')>-1?e.replace(/"/g,'""'):e},Q4=e=>C_(typeof e=="object"?e.key:e),G4=e=>T_(typeof e=="object"?e.displayLabel:e),K4=(e,...t)=>t.reduce((n,r)=>r(n),e),X4=e=>t=>e.useBom?jd(dn(t)+V4):t,Z4=e=>t=>e.showTitle?vv(jd(dn(t)+e.title))(Fa("")):t,vv=e=>t=>jd(dn(e)+dn(t)+H4),YT=e=>(t,n)=>J4(e)(Fa(dn(t)+dn(n))),J4=e=>t=>as(dn(t)+e.fieldSeparator),e6=(e,t)=>n=>{if(!e.showColumnHeaders)return n;if(t.length<1)throw new Y4("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let r=Fa("");for(let i=0;i<t.length;i++){const o=G4(t[i]);r=YT(e)(r,zT(e,dn(o)))}return r=Fa(dn(r).slice(0,-1)),vv(n)(r)},t6=(e,t,n)=>r=>{let i=r;for(var o=0;o<n.length;o++){let a=Fa("");for(let s=0;s<t.length;s++){const l=Q4(t[s]),u=n[o][dn(l)];a=YT(e)(a,zT(e,u))}a=Fa(dn(a).slice(0,-1)),i=vv(i)(a)}return i},n6=e=>+e===e&&(!isFinite(e)||!!(e%1)),r6=(e,t)=>{if(n6(t)){if(e.decimalSeparator==="locale")return al(t.toLocaleString());if(e.decimalSeparator)return al(t.toString().replace(".",e.decimalSeparator))}return al(t.toString())},vc=(e,t)=>{let n=t;return(e.quoteStrings||e.fieldSeparator&&t.indexOf(e.fieldSeparator)>-1||e.quoteCharacter&&t.indexOf(e.quoteCharacter)>-1||t.indexOf(`
`)>-1||t.indexOf("\r")>-1)&&(n=e.quoteCharacter+q4(t,e.quoteCharacter)+e.quoteCharacter),al(n)},i6=(e,t)=>{const n=t?"true":"false";return al(e.boolDisplay[n])},o6=(e,t)=>typeof t>"u"&&e.replaceUndefinedWith!==void 0?vc(e,e.replaceUndefinedWith+""):t===null?vc(e,"null"):vc(e,""),zT=(e,t)=>{if(typeof t=="number")return r6(e,t);if(typeof t=="string")return vc(e,t);if(typeof t=="boolean"&&e.boolDisplay)return i6(e,t);if(t===null||typeof t>"u")return o6(e,t);throw new W4(`
    typeof ${typeof t} isn't supported. Only number, string, boolean, null and undefined are supported.
    Please convert the data in your object to one of those before generating the CSV.
    `)},a6=e=>t=>{const n=Ud(e),r=n.useKeysAsHeaders?Object.keys(t[0]):n.columnHeaders;let i=K4(jd(""),X4(n),Z4(n),e6(n,r),t6(n,r,t));if(dn(i).length<1)throw new B4("Output is empty. Is your data formatted correctly?");return i},s6=e=>t=>{const n=Ud(e),r=dn(t),i=n.useTextFile?"text/plain":n.mediaType;return new Blob([r],{type:`${i};charset=utf8;`})},l6=e=>t=>{if(!window)throw new z4("Downloading only supported in a browser environment.");const n=s6(e)(t),r=Ud(e),i=r.useTextFile?"txt":r.fileExtension,o=`${r.filename}.${i}`,a=document.createElement("a");a.download=o,a.href=URL.createObjectURL(n),a.setAttribute("visibility","hidden"),document.body.appendChild(a),a.click(),document.body.removeChild(a)};function u6(e,t){const n=URL.createObjectURL(new Blob([new TextEncoder().encode(t).buffer],{type:"text/plain"})),r=document.createElement("a");return r.download=e,r.href=n,r}function gg(e,t="data",n="txt"){u6(`${t}_${new Date().toISOString().replace(/[:.]/g,"_")}.${n}`,e).click()}function c6(e){const t=Ud({fieldSeparator:",",filename:`fit-test-results-${new Date().toISOString().replace(/[:.]/g,"_")}`,decimalSeparator:".",columnHeaders:e.getAllColumns().map(o=>o.id)}),r=e.getSortedRowModel().rows.map(o=>o.original),i=a6(t)(r);return{csvConfig:t,csv:i}}function cK(e){const{csvConfig:t,csv:n}=c6(e);l6(t)(n)}function f6(){const[e,t]=se(j.SPEECH_VOICE),n=_.useCallback(r=>{const i=vt.findVoiceByName(r);console.log(`looking for voice '${r}'; found voice ${i?.name}`);const o=vt.getSelectedVoice();i&&(!o||o.name!==i.name)&&(vt.setSelectedVoice(i),t(r),vt.sayItLater(`This is ${i.name} speaking.`))},[t]);return _.useEffect(()=>{const r=vt.findDefaultVoice();r&&t(r.name)},[]),_.useEffect(()=>{n(e)},[e,n]),S.jsx(S.Fragment,{children:S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{htmlFor:"speech-voice-select",children:"Voice: "}),S.jsx("select",{id:"speech-voice-select",value:e,onChange:r=>t(r.target.value),style:{textOverflow:"ellipsis",width:"15em"},children:vt.allVoices.map(r=>S.jsx("option",{value:r.name,children:`${r.name} (${r.lang}) ${r.default?" DEFAULT":""}`},r.name))})]})})}function d6({value:e,onChange:t,debounce:n=500,inputRef:r,id:i,...o}){const[a,s]=I.useState(e);return I.useEffect(()=>{s(e)},[e]),I.useEffect(()=>{const l=setTimeout(()=>{t(a)},n);return()=>clearTimeout(l)},[a]),S.jsx("input",{id:`debounced-input-${i}`,ref:r,...o,value:a,onChange:l=>s(l.target.value)})}function WT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=WT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function wt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=WT(e))&&(r&&(r+=" "),r+=t);return r}function Z(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ae(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Zr(e,t){const n=Z(e);return isNaN(t)?Ae(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Qn(e,t){const n=Z(e);if(isNaN(t))return Ae(e,NaN);if(!t)return n;const r=n.getDate(),i=Ae(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function yv(e,t){const n=+Z(e);return Ae(e,n+t)}const qT=6048e5,h6=864e5,Hd=6e4,Vd=36e5,p6=1e3;function m6(e,t){return yv(e,t*Vd)}let g6={};function Fo(){return g6}function Jr(e,t){const n=Fo(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Z(e),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function $a(e){return Jr(e,{weekStartsOn:1})}function QT(e){const t=Z(e),n=t.getFullYear(),r=Ae(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=$a(r),o=Ae(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=$a(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Co(e){const t=Z(e);return t.setHours(0,0,0,0),t}function wf(e){const t=Z(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ja(e,t){const n=Co(e),r=Co(t),i=+n-wf(n),o=+r-wf(r);return Math.round((i-o)/h6)}function v6(e){const t=QT(e),n=Ae(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),$a(n)}function vg(e,t){return yv(e,t*Hd)}function wv(e,t){const n=t*3;return Qn(e,n)}function y6(e,t){return yv(e,t*1e3)}function _f(e,t){const n=t*7;return Zr(e,n)}function Br(e,t){return Qn(e,t*12)}function k_(e){let t;return e.forEach(function(n){const r=Z(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function M_(e){let t;return e.forEach(n=>{const r=Z(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function w6(e,t){const n=Co(e),r=Co(t);return+n==+r}function Yr(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Sf(e){if(!Yr(e)&&typeof e!="number")return!1;const t=Z(e);return!isNaN(Number(t))}function xf(e,t){const n=Z(e),r=Z(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function fo(e){const t=Z(e);return Math.trunc(t.getMonth()/3)+1}function bf(e,t){const n=Z(e),r=Z(t),i=n.getFullYear()-r.getFullYear(),o=fo(n)-fo(r);return i*4+o}function Ef(e,t){const n=Z(e),r=Z(t);return n.getFullYear()-r.getFullYear()}function _6(e,t){const n=Z(e),r=Z(t),i=D_(n,r),o=Math.abs(ja(n,r));n.setDate(n.getDate()-i*o);const a=+(D_(n,r)===-i),s=i*(o-a);return s===0?0:s}function D_(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function GT(e){const t=Z(e);return t.setHours(23,59,59,999),t}function KT(e){const t=Z(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function yg(e){const t=Z(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function XT(e){const t=Z(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ZT(e){const t=Z(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Bd(e){const t=Z(e),n=Ae(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function S6(e,t){const n=Fo(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Z(e),o=i.getDay(),a=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const x6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b6=(e,t,n)=>{let r;const i=x6[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Np(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const E6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},C6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},T6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k6={date:Np({formats:E6,defaultWidth:"full"}),time:Np({formats:C6,defaultWidth:"full"}),dateTime:Np({formats:T6,defaultWidth:"full"})},M6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D6=(e,t,n,r)=>M6[e];function Es(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,s=n?.width?String(n.width):a;i=e.formattingValues[s]||e.formattingValues[a]}else{const a=e.defaultWidth,s=n?.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const O6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},P6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},N6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},R6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},L6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},A6=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},F6={ordinalNumber:A6,era:Es({values:O6,defaultWidth:"wide"}),quarter:Es({values:P6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Es({values:N6,defaultWidth:"wide"}),day:Es({values:R6,defaultWidth:"wide"}),dayPeriod:Es({values:I6,defaultWidth:"wide",formattingValues:L6,defaultFormattingWidth:"wide"})};function Cs(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?j6(s,f=>f.test(a)):$6(s,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(a.length);return{value:u,rest:c}}}function $6(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function j6(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function U6(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=t.slice(i.length);return{value:a,rest:s}}}const H6=/^(\d+)(th|st|nd|rd)?/i,V6=/\d+/i,B6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Y6={any:[/^b/i,/^(a|c)/i]},z6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W6={any:[/1/i,/2/i,/3/i,/4/i]},q6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Q6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},G6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},X6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Z6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},J6={ordinalNumber:U6({matchPattern:H6,parsePattern:V6,valueCallback:e=>parseInt(e,10)}),era:Cs({matchPatterns:B6,defaultMatchWidth:"wide",parsePatterns:Y6,defaultParseWidth:"any"}),quarter:Cs({matchPatterns:z6,defaultMatchWidth:"wide",parsePatterns:W6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cs({matchPatterns:q6,defaultMatchWidth:"wide",parsePatterns:Q6,defaultParseWidth:"any"}),day:Cs({matchPatterns:G6,defaultMatchWidth:"wide",parsePatterns:K6,defaultParseWidth:"any"}),dayPeriod:Cs({matchPatterns:X6,defaultMatchWidth:"any",parsePatterns:Z6,defaultParseWidth:"any"})},JT={code:"en-US",formatDistance:b6,formatLong:k6,formatRelative:D6,localize:F6,match:J6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function e8(e){const t=Z(e);return ja(t,Bd(t))+1}function _v(e){const t=Z(e),n=+$a(t)-+v6(t);return Math.round(n/qT)+1}function Sv(e,t){const n=Z(e),r=n.getFullYear(),i=Fo(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Ae(e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=Jr(a,t),l=Ae(e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Jr(l,t);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function t8(e,t){const n=Fo(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Sv(e,t),o=Ae(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Jr(o,t)}function ek(e,t){const n=Z(e),r=+Jr(n,t)-+t8(n,t);return Math.round(r/qT)+1}function Le(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ci={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Le(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Le(n+1,2)},d(e,t){return Le(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Le(e.getHours()%12||12,t.length)},H(e,t){return Le(e.getHours(),t.length)},m(e,t){return Le(e.getMinutes(),t.length)},s(e,t){return Le(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Le(i,t.length)}},zo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},O_={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ci.y(e,t)},Y:function(e,t,n,r){const i=Sv(e,r),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return Le(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Le(o,t.length)},R:function(e,t){const n=QT(e);return Le(n,t.length)},u:function(e,t){const n=e.getFullYear();return Le(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Le(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Le(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ci.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Le(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=ek(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Le(i,t.length)},I:function(e,t,n){const r=_v(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Le(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ci.d(e,t)},D:function(e,t,n){const r=e8(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Le(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Le(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Le(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Le(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=zo.noon:r===0?i=zo.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=zo.evening:r>=12?i=zo.afternoon:r>=4?i=zo.morning:i=zo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ci.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ci.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Le(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Le(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ci.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ci.s(e,t)},S:function(e,t){return ci.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return N_(r);case"XXXX":case"XX":return Ji(r);case"XXXXX":case"XXX":default:return Ji(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return N_(r);case"xxxx":case"xx":return Ji(r);case"xxxxx":case"xxx":default:return Ji(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+P_(r,":");case"OOOO":default:return"GMT"+Ji(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+P_(r,":");case"zzzz":default:return"GMT"+Ji(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Le(r,t.length)},T:function(e,t,n){const r=e.getTime();return Le(r,t.length)}};function P_(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+Le(o,2)}function N_(e,t){return e%60===0?(e>0?"-":"+")+Le(Math.abs(e)/60,2):Ji(e,t)}function Ji(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Le(Math.trunc(r/60),2),o=Le(r%60,2);return n+i+t+o}const R_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},tk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},n8=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return R_(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",R_(r,t)).replace("{{time}}",tk(i,t))},Cf={p:tk,P:n8},r8=/^D+$/,i8=/^Y+$/,o8=["D","DD","YY","YYYY"];function nk(e){return r8.test(e)}function rk(e){return i8.test(e)}function wg(e,t,n){const r=a8(e,t,n);if(console.warn(r),o8.includes(e))throw new RangeError(r)}function a8(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const s8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u8=/^'([^]*?)'?$/,c8=/''/g,f8=/[a-zA-Z]/;function I_(e,t,n){const r=Fo(),i=n?.locale??r.locale??JT,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Z(e);if(!Sf(s))throw new RangeError("Invalid time value");let l=t.match(l8).map(c=>{const f=c[0];if(f==="p"||f==="P"){const d=Cf[f];return d(c,i.formatLong)}return c}).join("").match(s8).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const f=c[0];if(f==="'")return{isToken:!1,value:d8(c)};if(O_[f])return{isToken:!0,value:c};if(f.match(f8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:c}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(c=>{if(!c.isToken)return c.value;const f=c.value;(!n?.useAdditionalWeekYearTokens&&rk(f)||!n?.useAdditionalDayOfYearTokens&&nk(f))&&wg(f,t,String(e));const d=O_[f[0]];return d(s,f,i.localize,u)}).join("")}function d8(e){const t=e.match(u8);return t?t[1].replace(c8,"'"):e}function L_(e){return Z(e).getDate()}function h8(e){return Z(e).getDay()}function p8(e){const t=Z(e),n=t.getFullYear(),r=t.getMonth(),i=Ae(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function m8(){return Object.assign({},Fo())}function mr(e){return Z(e).getHours()}function g8(e){let n=Z(e).getDay();return n===0&&(n=7),n}function gr(e){return Z(e).getMinutes()}function Yt(e){return Z(e).getMonth()}function zr(e){return Z(e).getSeconds()}function _g(e){return Z(e).getTime()}function we(e){return Z(e).getFullYear()}function Fi(e,t){const n=Z(e),r=Z(t);return n.getTime()>r.getTime()}function To(e,t){const n=Z(e),r=Z(t);return+n<+r}function v8(e,t){const n=Z(e),r=Z(t);return+n==+r}function y8(e,t){const n=t instanceof Date?Ae(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const w8=10;class ik{subPriority=0;validate(t,n){return!0}}class _8 extends ik{constructor(t,n,r,i,o){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class S8 extends ik{priority=w8;subPriority=-1;set(t,n){return n.timestampIsSet?t:Ae(t,y8(t,Date))}}let Re=class{run(t,n,r,i){const o=this.parse(t,n,r,i);return o?{setter:new _8(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,n,r){return!0}};class x8 extends Re{priority=140;parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const at={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},or={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function st(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ke(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ar(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*Vd+o*Hd+a*p6),rest:t.slice(n[0].length)}}function ok(e){return Ke(at.anyDigitsSigned,e)}function rt(e,t){switch(e){case 1:return Ke(at.singleDigit,t);case 2:return Ke(at.twoDigits,t);case 3:return Ke(at.threeDigits,t);case 4:return Ke(at.fourDigits,t);default:return Ke(new RegExp("^\\d{1,"+e+"}"),t)}}function Tf(e,t){switch(e){case 1:return Ke(at.singleDigitSigned,t);case 2:return Ke(at.twoDigitsSigned,t);case 3:return Ke(at.threeDigitsSigned,t);case 4:return Ke(at.fourDigitsSigned,t);default:return Ke(new RegExp("^-?\\d{1,"+e+"}"),t)}}function xv(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ak(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const o=r+50,a=Math.trunc(o/100)*100,s=e>=o%100;i=e+a-(s?100:0)}return n?i:1-i}function sk(e){return e%400===0||e%4===0&&e%100!==0}class b8 extends Re{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,r){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return st(rt(4,t),i);case"yo":return st(r.ordinalNumber(t,{unit:"year"}),i);default:return st(rt(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const i=t.getFullYear();if(r.isTwoDigitYear){const a=ak(r.year,i);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const o=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class E8 extends Re{priority=130;parse(t,n,r){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return st(rt(4,t),i);case"Yo":return st(r.ordinalNumber(t,{unit:"year"}),i);default:return st(rt(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,i){const o=Sv(t,i);if(r.isTwoDigitYear){const s=ak(r.year,o);return t.setFullYear(s,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Jr(t,i)}const a=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(a,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Jr(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class C8 extends Re{priority=130;parse(t,n){return Tf(n==="R"?4:n.length,t)}set(t,n,r){const i=Ae(t,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),$a(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class T8 extends Re{priority=130;parse(t,n){return Tf(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class k8 extends Re{priority=120;parse(t,n,r){switch(n){case"Q":case"QQ":return rt(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class M8 extends Re{priority=120;parse(t,n,r){switch(n){case"q":case"qq":return rt(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class D8 extends Re{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,r){const i=o=>o-1;switch(n){case"M":return st(Ke(at.month,t),i);case"MM":return st(rt(2,t),i);case"Mo":return st(r.ordinalNumber(t,{unit:"month"}),i);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class O8 extends Re{priority=110;parse(t,n,r){const i=o=>o-1;switch(n){case"L":return st(Ke(at.month,t),i);case"LL":return st(rt(2,t),i);case"Lo":return st(r.ordinalNumber(t,{unit:"month"}),i);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function P8(e,t,n){const r=Z(e),i=ek(r,n)-t;return r.setDate(r.getDate()-i*7),r}class N8 extends Re{priority=100;parse(t,n,r){switch(n){case"w":return Ke(at.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return rt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,i){return Jr(P8(t,r,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function R8(e,t){const n=Z(e),r=_v(n)-t;return n.setDate(n.getDate()-r*7),n}class I8 extends Re{priority=100;parse(t,n,r){switch(n){case"I":return Ke(at.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return rt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return $a(R8(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const L8=[31,28,31,30,31,30,31,31,30,31,30,31],A8=[31,29,31,30,31,30,31,31,30,31,30,31];class F8 extends Re{priority=90;subPriority=1;parse(t,n,r){switch(n){case"d":return Ke(at.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return rt(n.length,t)}}validate(t,n){const r=t.getFullYear(),i=sk(r),o=t.getMonth();return i?n>=1&&n<=A8[o]:n>=1&&n<=L8[o]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class $8 extends Re{priority=90;subpriority=1;parse(t,n,r){switch(n){case"D":case"DD":return Ke(at.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return rt(n.length,t)}}validate(t,n){const r=t.getFullYear();return sk(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function bv(e,t,n){const r=Fo(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Z(e),a=o.getDay(),l=(t%7+7)%7,u=7-i,c=t<0||t>6?t-(a+u)%7:(l+u)%7-(a+u)%7;return Zr(o,c)}class j8 extends Re{priority=90;parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=bv(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class U8 extends Re{priority=90;parse(t,n,r,i){const o=a=>{const s=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+s};switch(n){case"e":case"ee":return st(rt(n.length,t),o);case"eo":return st(r.ordinalNumber(t,{unit:"day"}),o);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=bv(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class H8 extends Re{priority=90;parse(t,n,r,i){const o=a=>{const s=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+s};switch(n){case"c":case"cc":return st(rt(n.length,t),o);case"co":return st(r.ordinalNumber(t,{unit:"day"}),o);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=bv(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function V8(e,t){const n=Z(e),r=g8(n),i=t-r;return Zr(n,i)}class B8 extends Re{priority=90;parse(t,n,r){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return rt(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return st(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return st(r.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return st(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return st(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=V8(t,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Y8 extends Re{priority=80;parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(xv(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class z8 extends Re{priority=80;parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(xv(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class W8 extends Re{priority=80;parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(xv(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class q8 extends Re{priority=70;parse(t,n,r){switch(n){case"h":return Ke(at.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return rt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const i=t.getHours()>=12;return i&&r<12?t.setHours(r+12,0,0,0):!i&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class Q8 extends Re{priority=70;parse(t,n,r){switch(n){case"H":return Ke(at.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return rt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class G8 extends Re{priority=70;parse(t,n,r){switch(n){case"K":return Ke(at.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return rt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class K8 extends Re{priority=70;parse(t,n,r){switch(n){case"k":return Ke(at.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return rt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const i=r<=24?r%24:r;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class X8 extends Re{priority=60;parse(t,n,r){switch(n){case"m":return Ke(at.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return rt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]}class Z8 extends Re{priority=50;parse(t,n,r){switch(n){case"s":return Ke(at.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return rt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]}class J8 extends Re{priority=30;parse(t,n){const r=i=>Math.trunc(i*Math.pow(10,-n.length+3));return st(rt(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]}class ej extends Re{priority=10;parse(t,n){switch(n){case"X":return ar(or.basicOptionalMinutes,t);case"XX":return ar(or.basic,t);case"XXXX":return ar(or.basicOptionalSeconds,t);case"XXXXX":return ar(or.extendedOptionalSeconds,t);case"XXX":default:return ar(or.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Ae(t,t.getTime()-wf(t)-r)}incompatibleTokens=["t","T","x"]}class tj extends Re{priority=10;parse(t,n){switch(n){case"x":return ar(or.basicOptionalMinutes,t);case"xx":return ar(or.basic,t);case"xxxx":return ar(or.basicOptionalSeconds,t);case"xxxxx":return ar(or.extendedOptionalSeconds,t);case"xxx":default:return ar(or.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Ae(t,t.getTime()-wf(t)-r)}incompatibleTokens=["t","T","X"]}class nj extends Re{priority=40;parse(t){return ok(t)}set(t,n,r){return[Ae(t,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class rj extends Re{priority=20;parse(t){return ok(t)}set(t,n,r){return[Ae(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const ij={G:new x8,y:new b8,Y:new E8,R:new C8,u:new T8,Q:new k8,q:new M8,M:new D8,L:new O8,w:new N8,I:new I8,d:new F8,D:new $8,E:new j8,e:new U8,c:new H8,i:new B8,a:new Y8,b:new z8,B:new W8,h:new q8,H:new Q8,K:new G8,k:new K8,m:new X8,s:new Z8,S:new J8,X:new ej,x:new tj,t:new nj,T:new rj},oj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sj=/^'([^]*?)'?$/,lj=/''/g,uj=/\S/,cj=/[a-zA-Z]/;function Rp(e,t,n,r){const i=m8(),o=r?.locale??i.locale??JT,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(t==="")return e===""?Z(n):Ae(n,NaN);const l={firstWeekContainsDate:a,weekStartsOn:s,locale:o},u=[new S8],c=t.match(aj).map(g=>{const v=g[0];if(v in Cf){const p=Cf[v];return p(g,o.formatLong)}return g}).join("").match(oj),f=[];for(let g of c){!r?.useAdditionalWeekYearTokens&&rk(g)&&wg(g,t,e),!r?.useAdditionalDayOfYearTokens&&nk(g)&&wg(g,t,e);const v=g[0],p=ij[v];if(p){const{incompatibleTokens:y}=p;if(Array.isArray(y)){const x=f.find(E=>y.includes(E.token)||E.token===v);if(x)throw new RangeError(`The format string mustn't contain \`${x.fullToken}\` and \`${g}\` at the same time`)}else if(p.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);f.push({token:v,fullToken:g});const w=p.run(e,g,o.match,l);if(!w)return Ae(n,NaN);u.push(w.setter),e=w.rest}else{if(v.match(cj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");if(g==="''"?g="'":v==="'"&&(g=fj(g)),e.indexOf(g)===0)e=e.slice(g.length);else return Ae(n,NaN)}}if(e.length>0&&uj.test(e))return Ae(n,NaN);const d=u.map(g=>g.priority).sort((g,v)=>v-g).filter((g,v,p)=>p.indexOf(g)===v).map(g=>u.filter(v=>v.priority===g).sort((v,p)=>p.subPriority-v.subPriority)).map(g=>g[0]);let h=Z(n);if(isNaN(h.getTime()))return Ae(n,NaN);const m={};for(const g of d){if(!g.validate(h,l))return Ae(n,NaN);const v=g.set(h,m,l);Array.isArray(v)?(h=v[0],Object.assign(m,v[1])):h=v}return Ae(n,h)}function fj(e){return e.match(sj)[1].replace(lj,"'")}function dj(e,t){const n=Z(e),r=Z(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function hj(e,t){const n=yg(e),r=yg(t);return+n==+r}function pj(e,t){const n=Z(e),r=Z(t);return n.getFullYear()===r.getFullYear()}function Nl(e,t){const n=+Z(e),[r,i]=[+Z(t.start),+Z(t.end)].sort((o,a)=>o-a);return n>=r&&n<=i}function mj(e,t){return Zr(e,-t)}function gj(e,t){const r=_j(e);let i;if(r.date){const l=Sj(r.date,2);i=xj(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let a=0,s;if(r.time&&(a=bj(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(s=Ej(r.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(o+a),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(o+a+s)}const Au={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vj=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,yj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _j(e){const t={},n=e.split(Au.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Au.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Au.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=Au.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function Sj(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function xj(e,t){if(t===null)return new Date(NaN);const n=e.match(vj);if(!n)return new Date(NaN);const r=!!n[4],i=Ts(n[1]),o=Ts(n[2])-1,a=Ts(n[3]),s=Ts(n[4]),l=Ts(n[5])-1;if(r)return Dj(t,s,l)?Cj(t,s,l):new Date(NaN);{const u=new Date(0);return!kj(t,o,a)||!Mj(t,i)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(i,a)),u)}}function Ts(e){return e?parseInt(e):1}function bj(e){const t=e.match(yj);if(!t)return NaN;const n=Ip(t[1]),r=Ip(t[2]),i=Ip(t[3]);return Oj(n,r,i)?n*Vd+r*Hd+i*1e3:NaN}function Ip(e){return e&&parseFloat(e.replace(",","."))||0}function Ej(e){if(e==="Z")return 0;const t=e.match(wj);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Pj(r,i)?n*(r*Vd+i*Hd):NaN}function Cj(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const Tj=[31,null,31,30,31,30,31,31,30,31,30,31];function lk(e){return e%400===0||e%4===0&&e%100!==0}function kj(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Tj[t]||(lk(e)?29:28))}function Mj(e,t){return t>=1&&t<=(lk(e)?366:365)}function Dj(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Oj(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Pj(e,t){return t>=0&&t<=59}function on(e,t){const n=Z(e),r=n.getFullYear(),i=n.getDate(),o=Ae(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const a=p8(o);return n.setMonth(t,Math.min(i,a)),n}function Nj(e,t){let n=Z(e);return isNaN(+n)?Ae(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=on(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function yc(e,t){const n=Z(e);return n.setHours(t),n}function wc(e,t){const n=Z(e);return n.setMinutes(t),n}function Qo(e,t){const n=Z(e),r=Math.trunc(n.getMonth()/3)+1,i=t-r;return on(n,n.getMonth()+i*3)}function _c(e,t){const n=Z(e);return n.setSeconds(t),n}function er(e,t){const n=Z(e);return isNaN(+n)?Ae(e,NaN):(n.setFullYear(t),n)}function Ua(e,t){return Qn(e,-t)}function uk(e,t){return wv(e,-t)}function A_(e,t){return _f(e,-t)}function Ha(e,t){return Br(e,-t)}var Sc=typeof document<"u"?_.useLayoutEffect:_.useEffect;function kf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!kf(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!kf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function ck(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function F_(e,t){const n=ck(e);return Math.round(t*n)/n}function Lp(e){const t=_.useRef(e);return Sc(()=>{t.current=e}),t}function Rj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[c,f]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=_.useState(r);kf(d,r)||h(r);const[m,g]=_.useState(null),[v,p]=_.useState(null),y=_.useCallback(M=>{M!==b.current&&(b.current=M,g(M))},[]),w=_.useCallback(M=>{M!==C.current&&(C.current=M,p(M))},[]),x=o||m,E=a||v,b=_.useRef(null),C=_.useRef(null),k=_.useRef(c),N=l!=null,A=Lp(l),O=Lp(i),V=Lp(u),L=_.useCallback(()=>{if(!b.current||!C.current)return;const M={placement:t,strategy:n,middleware:d};O.current&&(M.platform=O.current),w3(b.current,C.current,M).then(F=>{const B={...F,isPositioned:V.current!==!1};T.current&&!kf(k.current,B)&&(k.current=B,Wl.flushSync(()=>{f(B)}))})},[d,t,n,O,V]);Sc(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const T=_.useRef(!1);Sc(()=>(T.current=!0,()=>{T.current=!1}),[]),Sc(()=>{if(x&&(b.current=x),E&&(C.current=E),x&&E){if(A.current)return A.current(x,E,L);L()}},[x,E,L,A,N]);const P=_.useMemo(()=>({reference:b,floating:C,setReference:y,setFloating:w}),[y,w]),D=_.useMemo(()=>({reference:x,floating:E}),[x,E]),$=_.useMemo(()=>{const M={position:n,left:0,top:0};if(!D.floating)return M;const F=F_(D.floating,c.x),B=F_(D.floating,c.y);return s?{...M,transform:"translate("+F+"px, "+B+"px)",...ck(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:B}},[n,s,D.floating,c.x,c.y]);return _.useMemo(()=>({...c,update:L,refs:P,elements:D,floatingStyles:$}),[c,L,P,D,$])}const Ij=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Xw({element:r.current,padding:i}).fn(n):{}:r?Xw({element:r,padding:i}).fn(n):{}}}},Lj=(e,t)=>({...v3(e),options:[e,t]}),Aj=(e,t)=>({...y3(e),options:[e,t]}),Fj=(e,t)=>({...Ij(e),options:[e,t]}),fk={...im},$j=fk.useInsertionEffect,jj=$j||(e=>e());function Uj(e){const t=_.useRef(()=>{});return jj(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Mf=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg.apply(this,arguments)}let $_=!1,Hj=0;const j_=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Hj++;function Vj(){const[e,t]=_.useState(()=>$_?j_():void 0);return Mf(()=>{e==null&&t(j_())},[]),_.useEffect(()=>{$_=!0},[]),e}const Bj=fk.useId,dk=Bj||Vj,Yj=_.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:a}},width:s=14,height:l=7,tipRadius:u=0,strokeWidth:c=0,staticOffset:f,stroke:d,d:h,style:{transform:m,...g}={},...v}=t,p=dk(),[y,w]=_.useState(!1);if(Mf(()=>{if(!i)return;In(i).direction==="rtl"&&w(!0)},[i]),!i)return null;const[x,E]=r.split("-"),b=x==="top"||x==="bottom";let C=f;(b&&a!=null&&a.x||!b&&a!=null&&a.y)&&(C=null);const k=c*2,N=k/2,A=s/2*(u/-8+1),O=l/2*u/4,V=!!h,L=C&&E==="end"?"bottom":"top";let T=C&&E==="end"?"right":"left";C&&y&&(T=E==="end"?"left":"right");const P=o?.x!=null?C||o.x:"",D=o?.y!=null?C||o.y:"",$=h||"M0,0"+(" H"+s)+(" L"+(s-A)+","+(l-O))+(" Q"+s/2+","+l+" "+A+","+(l-O))+" Z",M={top:V?"rotate(180deg)":"",left:V?"rotate(90deg)":"rotate(-90deg)",bottom:V?"":"rotate(180deg)",right:V?"rotate(-90deg)":"rotate(90deg)"}[x];return _.createElement("svg",Sg({},v,{"aria-hidden":!0,ref:n,width:V?s:s+k,height:s,viewBox:"0 0 "+s+" "+(l>s?l:s),style:{position:"absolute",pointerEvents:"none",[T]:P,[L]:D,[x]:b||V?"100%":"calc(100% - "+k/2+"px)",transform:[M,m].filter(F=>!!F).join(" "),...g}}),k>0&&_.createElement("path",{clipPath:"url(#"+p+")",fill:"none",stroke:d,strokeWidth:k+(h?0:1),d:$}),_.createElement("path",{stroke:k&&!h?v.fill:"none",d:$}),_.createElement("clipPath",{id:p},_.createElement("rect",{x:-N,y:N*(V?-1:1),width:s+k,height:s})))});function zj(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const Wj=_.createContext(null),qj=_.createContext(null),Qj=()=>{var e;return((e=_.useContext(Wj))==null?void 0:e.id)||null},Gj=()=>_.useContext(qj);function Kj(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=dk(),o=_.useRef({}),[a]=_.useState(()=>zj()),s=Qj()!=null,[l,u]=_.useState(r.reference),c=Uj((h,m,g)=>{o.current.openEvent=h?m:void 0,a.emit("openchange",{open:h,event:m,reason:g,nested:s}),n?.(h,m,g)}),f=_.useMemo(()=>({setPositionReference:u}),[]),d=_.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return _.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:d,events:a,floatingId:i,refs:f}),[t,c,d,a,i,f])}function Xj(e){e===void 0&&(e={});const{nodeId:t}=e,n=Kj({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,a]=_.useState(null),[s,l]=_.useState(null),c=i?.domReference||o,f=_.useRef(null),d=Gj();Mf(()=>{c&&(f.current=c)},[c]);const h=Rj({...e,elements:{...i,...s&&{reference:s}}}),m=_.useCallback(w=>{const x=Bt(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(x),h.refs.setReference(x)},[h.refs]),g=_.useCallback(w=>{(Bt(w)||w===null)&&(f.current=w,a(w)),(Bt(h.refs.reference.current)||h.refs.reference.current===null||w!==null&&!Bt(w))&&h.refs.setReference(w)},[h.refs]),v=_.useMemo(()=>({...h.refs,setReference:g,setPositionReference:m,domReference:f}),[h.refs,g,m]),p=_.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),y=_.useMemo(()=>({...h,...r,refs:v,elements:p,nodeId:t}),[h,v,p,t,r]);return Mf(()=>{r.dataRef.current.floatingContext=y;const w=d?.nodesRef.current.find(x=>x.id===t);w&&(w.context=y)}),_.useMemo(()=>({...h,context:y,refs:v,elements:p}),[h,v,p,y])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var xg=function(t,n){return xg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},xg(t,n)};function Ct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");xg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ke=function(){return ke=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},ke.apply(this,arguments)};function lr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Zj=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,o=e.className,a=e.children,s=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return I.createElement("div",{className:o,role:"dialog","aria-label":s,"aria-modal":"true"},a)},Jj=function(e,t){var n=_.useRef(null),r=_.useRef(e);r.current=e;var i=_.useCallback(function(o){var a;n.current&&!n.current.contains(o.target)&&(t&&o.target instanceof HTMLElement&&o.target.classList.contains(t)||(a=r.current)===null||a===void 0||a.call(r,o))},[t]);return _.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},Yd=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,o=e.style,a=e.ignoreClass,s=Jj(n,a);return I.createElement("div",{className:r,style:o,ref:function(l){s.current=l,i&&(i.current=l)}},t)},X;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(X||(X={}));function hk(){var e=typeof window<"u"?window:globalThis;return e}var eu=12,eU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Fe(e){if(e==null)return new Date;var t=typeof e=="string"?gj(e):Z(e);return Rr(t)?t:new Date}function Ap(e,t,n,r,i){var o,a=null,s=ho(n)||ho(sl()),l=!0;if(Array.isArray(t))return t.forEach(function(c){var f=Rp(e,c,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=Rr(f,i)&&e===Ye(f,c,n)),Rr(f,i)&&l&&(a=f)}),a;if(a=Rp(e,t,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=Rr(a)&&e===Ye(a,t,n);else if(!Rr(a)){var u=((o=t.match(eU))!==null&&o!==void 0?o:[]).map(function(c){var f=c[0];if(f==="p"||f==="P"){var d=Cf[f];return s?d(c,s.formatLong):f}return c}).join("");e.length>0&&(a=Rp(e,u.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Rr(a)||(a=new Date(e))}return Rr(a)&&l?a:null}function Rr(e,t){return Sf(e)&&!To(e,t??new Date("1/1/1800"))}function Ye(e,t,n){if(n==="en")return I_(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?ho(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&sl()&&ho(sl())&&(r=ho(sl())),I_(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Sn(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Ye(e,i,r)||""}function tU(e,t,n){if(!e)return"";var r=Sn(e,n),i=t?Sn(t,n):"";return"".concat(r," - ").concat(i)}function nU(e,t){if(!e?.length)return"";var n=e[0]?Sn(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=Sn(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}function Fp(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,o=i===void 0?0:i,a=t.second,s=a===void 0?0:a;return yc(wc(_c(e,s),o),r)}function rU(e){return _v(e)}function iU(e,t){return Ye(e,"ddd",t)}function xc(e){return Co(e)}function Oi(e,t,n){var r=ho(t||sl());return Jr(e,{locale:r,weekStartsOn:n})}function Wr(e){return XT(e)}function Vs(e){return Bd(e)}function U_(e){return yg(e)}function H_(){return Co(Fe())}function V_(e){return GT(e)}function oU(e){return S6(e)}function aU(e){return KT(e)}function rr(e,t){return e&&t?pj(e,t):!e&&!t}function Vt(e,t){return e&&t?dj(e,t):!e&&!t}function Df(e,t){return e&&t?hj(e,t):!e&&!t}function be(e,t){return e&&t?w6(e,t):!e&&!t}function io(e,t){return e&&t?v8(e,t):!e&&!t}function Bs(e,t,n){var r,i=Co(t),o=GT(n);try{r=Nl(e,{start:i,end:o})}catch{r=!1}return r}function sl(){var e=hk();return e.__localeId__}function ho(e){if(typeof e=="string"){var t=hk();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function sU(e,t,n){return t(Ye(e,"EEEE",n))}function lU(e,t){return Ye(e,"EEEEEE",t)}function uU(e,t){return Ye(e,"EEE",t)}function Ev(e,t){return Ye(on(Fe(),e),"LLLL",t)}function pk(e,t){return Ye(on(Fe(),e),"LLL",t)}function cU(e,t){return Ye(Qo(Fe(),e),"QQQ",t)}function Cn(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.excludeDateIntervals,s=n.includeDates,l=n.includeDateIntervals,u=n.filterDate;return tu(e,{minDate:r,maxDate:i})||o&&o.some(function(c){return c instanceof Date?be(e,c):be(e,c.date)})||a&&a.some(function(c){var f=c.start,d=c.end;return Nl(e,{start:f,end:d})})||s&&!s.some(function(c){return be(e,c)})||l&&!l.some(function(c){var f=c.start,d=c.end;return Nl(e,{start:f,end:d})})||u&&!u(Fe(e))||!1}function Cv(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var a=o.start,s=o.end;return Nl(e,{start:a,end:s})}):r&&r.some(function(o){var a;return o instanceof Date?be(e,o):be(e,(a=o.date)!==null&&a!==void 0?a:new Date)})||!1}function mk(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate;return tu(e,{minDate:r?XT(r):void 0,maxDate:i?KT(i):void 0})||o?.some(function(l){return Vt(e,l instanceof Date?l:l.date)})||a&&!a.some(function(l){return Vt(e,l)})||s&&!s(Fe(e))||!1}function Fu(e,t,n,r){var i=we(e),o=Yt(e),a=we(t),s=Yt(t),l=we(r);return i===a&&i===l?o<=n&&n<=s:i<a?l===i&&o<=n||l===a&&s>=n||l<a&&l>i:!1}function fU(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates;return tu(e,{minDate:r,maxDate:i})||o&&o.some(function(s){return Vt(s instanceof Date?s:s.date,e)})||a&&!a.some(function(s){return Vt(s,e)})||!1}function $u(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate;return tu(e,{minDate:r,maxDate:i})||o?.some(function(l){return Df(e,l instanceof Date?l:l.date)})||a&&!a.some(function(l){return Df(e,l)})||s&&!s(Fe(e))||!1}function ju(e,t,n){if(!t||!n||!Sf(t)||!Sf(n))return!1;var r=we(t),i=we(n);return r<=e&&i>=e}function bc(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate,l=new Date(e,0,1);return tu(l,{minDate:r?Bd(r):void 0,maxDate:i?ZT(i):void 0})||o?.some(function(u){return rr(l,u instanceof Date?u:u.date)})||a&&!a.some(function(u){return rr(l,u)})||s&&!s(Fe(l))||!1}function Uu(e,t,n,r){var i=we(e),o=fo(e),a=we(t),s=fo(t),l=we(r);return i===a&&i===l?o<=n&&n<=s:i<a?l===i&&o<=n||l===a&&s>=n||l<a&&l>i:!1}function tu(e,t){var n,r=t===void 0?{}:t,i=r.minDate,o=r.maxDate;return(n=i&&ja(e,i)<0||o&&ja(e,o)>0)!==null&&n!==void 0?n:!1}function B_(e,t){return t.some(function(n){return mr(n)===mr(e)&&gr(n)===gr(e)&&zr(n)===zr(e)})}function Y_(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&B_(e,r)||i&&!B_(e,i)||o&&!o(e)||!1}function z_(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Fe();i=yc(i,mr(e)),i=wc(i,gr(e)),i=_c(i,zr(e));var o=Fe();o=yc(o,mr(n)),o=wc(o,gr(n)),o=_c(o,zr(n));var a=Fe();a=yc(a,mr(r)),a=wc(a,gr(r)),a=_c(a,zr(r));var s;try{s=!Nl(i,{start:o,end:a})}catch{s=!1}return s}function W_(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=Ua(e,1);return r&&xf(r,o)>0||i&&i.every(function(a){return xf(a,o)>0})||!1}function q_(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=Qn(e,1);return r&&xf(o,r)>0||i&&i.every(function(a){return xf(o,a)>0})||!1}function dU(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=Bd(e),a=uk(o,1);return r&&bf(r,a)>0||i&&i.every(function(s){return bf(s,a)>0})||!1}function hU(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=ZT(e),a=wv(o,1);return r&&bf(a,r)>0||i&&i.every(function(s){return bf(a,s)>0})||!1}function Q_(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=Ha(e,1);return r&&Ef(r,o)>0||i&&i.every(function(a){return Ef(a,o)>0})||!1}function pU(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,o=i===void 0?eu:i,a=Vs(Ha(e,o)),s=Si(a,o).endPeriod,l=r&&we(r);return l&&l>s||!1}function G_(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=Br(e,1);return r&&Ef(o,r)>0||i&&i.every(function(a){return Ef(o,a)>0})||!1}function mU(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,o=i===void 0?eu:i,a=Br(e,o),s=Si(a,o).startPeriod,l=r&&we(r);return l&&l<s||!1}function gk(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return ja(i,t)>=0});return M_(r)}else return n?M_(n):t}function vk(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return ja(i,t)<=0});return k_(r)}else return n?k_(n):t}function K_(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=e.length;i<o;i++){var a=e[i];if(Yr(a)){var s=Ye(a,"MM.dd.yyyy"),l=r.get(s)||[];l.includes(t)||(l.push(t),r.set(s,l))}else if(typeof a=="object"){var u=Object.keys(a),c=(n=u[0])!==null&&n!==void 0?n:"",f=a[c];if(typeof c=="string"&&Array.isArray(f))for(var d=0,h=f.length;d<h;d++){var m=f[d];if(m){var s=Ye(m,"MM.dd.yyyy"),l=r.get(s)||[];l.includes(c)||(l.push(c),r.set(s,l))}}}}return r}function gU(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function vU(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var i=r.date,o=r.holidayName;if(Yr(i)){var a=Ye(i,"MM.dd.yyyy"),s=n.get(a)||{className:"",holidayNames:[]};if(!("className"in s&&s.className===t&&gU(s.holidayNames,[o]))){s.className=t;var l=s.holidayNames;s.holidayNames=l?lr(lr([],l,!0),[o],!1):[o],n.set(a,s)}}}),n}function yU(e,t,n,r,i){for(var o=i.length,a=[],s=0;s<o;s++){var l=e,u=i[s];u&&(l=m6(l,mr(u)),l=vg(l,gr(u)),l=y6(l,zr(u)));var c=vg(e,(n+1)*r);Fi(l,t)&&To(l,c)&&u!=null&&a.push(u)}return a}function X_(e){return e<10?"0".concat(e):"".concat(e)}function Si(e,t){t===void 0&&(t=eu);var n=Math.ceil(we(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function wU(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function Z_(e){var t=e.getSeconds(),n=e.getMilliseconds();return Z(e.getTime()-t*1e3-n)}function _U(e,t){return Z_(e).getTime()===Z_(t).getTime()}function J_(e){if(!Yr(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function eS(e,t){if(!Yr(e)||!Yr(t))throw new Error("Invalid date received");var n=J_(e),r=J_(t);return To(n,r)}function yk(e){return e.key===X.Space}var SU=function(e){Ct(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=I.createRef(),r.onTimeChange=function(i){var o,a;r.setState({time:i});var s=r.props.date,l=s instanceof Date&&!isNaN(+s),u=l?s:new Date;if(i?.includes(":")){var c=i.split(":"),f=c[0],d=c[1];u.setHours(Number(f)),u.setMinutes(Number(d))}(a=(o=r.props).onChange)===null||a===void 0||a.call(o,u)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,a=o.date,s=o.timeString,l=o.customTimeInput;return l?_.cloneElement(l,{date:a,value:i,onChange:r.onTimeChange}):I.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var u;(u=r.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:i,onChange:function(u){r.onTimeChange(u.target.value||s)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return I.createElement("div",{className:"react-datepicker__input-time-container"},I.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),I.createElement("div",{className:"react-datepicker-time__input-container"},I.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(_.Component),xU=function(e){Ct(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=_.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,o,a=r.key;a===X.Space&&(r.preventDefault(),r.key=X.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isSameDay=function(r){return be(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Cn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return Cv(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return be(n.props.day,Oi(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&be(r,Oi(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,o=r.highlightDates;if(!o)return!1;var a=Ye(i,"MM.dd.yyyy");return o.get(a)},n.getHolidaysClass=function(){var r,i=n.props,o=i.day,a=i.holidays;if(!a)return[void 0];var s=Ye(o,"MM.dd.yyyy");return a.has(s)?[(r=a.get(s))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Bs(i,o,a)},n.isInSelectingRange=function(){var r,i=n.props,o=i.day,a=i.selectsStart,s=i.selectsEnd,l=i.selectsRange,u=i.selectsDisabledDaysInRange,c=i.startDate,f=i.endDate,d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(a||s||l)||!d||!u&&n.isDisabled()?!1:a&&f&&(To(d,f)||io(d,f))?Bs(o,d,f):s&&c&&(Fi(d,c)||io(d,c))||l&&c&&!f&&(Fi(d,c)||io(d,c))?Bs(o,c,d):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,a=i.startDate,s=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return s?be(o,l):be(o,a)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,a=i.endDate,s=i.selectsEnd,l=i.selectsRange,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return s||l?be(o,u):be(o,a)},n.isRangeStart=function(){var r=n.props,i=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:be(o,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:be(a,i)},n.isWeekend=function(){var r=h8(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Yt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Yt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Fe())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return wt("react-datepicker__day",i,"react-datepicker__day--"+iU(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,a=o===void 0?"Choose":o,s=r.ariaLabelPrefixWhenDisabled,l=s===void 0?"Not available":s,u=n.isDisabled()||n.isExcluded()?l:a;return"".concat(u," ").concat(Ye(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,o=r.holidays,a=o===void 0?new Map:o,s=r.excludeDates,l=Ye(i,"MM.dd.yyyy"),u=[];return a.has(l)&&u.push.apply(u,a.get(l).holidayNames),n.isExcluded()&&u.push(s?.filter(function(c){return c instanceof Date?be(c,i):be(c?.date,i)}).map(function(c){if(!(c instanceof Date))return c?.message})),u.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&be(i,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(L_(n.props.day),n.props.day):L_(n.props.day)},n.render=function(){return I.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&I.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(_.Component),bU=function(e){Ct(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=_.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,o,a=r.key;a===X.Space&&(r.preventDefault(),r.key=X.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!be(n.props.date,n.props.selected)&&be(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||be(n.props.date,n.props.selected)&&be(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!r?.isInputFocused&&be(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.ariaLabelPrefix,o=i===void 0?t.defaultProps.ariaLabelPrefix:i,a=n.onClick,s={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&be(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return I.createElement("div",{ref:this.weekNumberEl,className:wt(s),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(_.Component),EU=function(e){Ct(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Cn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,o){for(var a,s,l,u=new Date(r),c=0;c<7;c++){var f=new Date(r);f.setDate(f.getDate()+c);var d=!n.isDisabled(f);if(d){u=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(u,i,o),n.props.showWeekPicker&&n.handleDayClick(u,o),((a=n.props.shouldCloseOnSelect)!==null&&a!==void 0?a:t.defaultProps.shouldCloseOnSelect)&&((l=(s=n.props).setOpen)===null||l===void 0||l.call(s,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):rU(r)},n.renderDays=function(){var r=n.startOfWeek(),i=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var a=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;i.push(I.createElement(bU,ke({key:"W"},t.defaultProps,n.props,{weekNumber:o,date:r,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map(function(s){var l=Zr(r,s);return I.createElement(xU,ke({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Oi(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!be(n.startOfWeek(),n.props.selected)&&be(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":be(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return I.createElement("div",{className:wt(n)},this.renderDays())},t}(_.Component),ks,CU=6,_a={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},$p=(ks={},ks[_a.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ks[_a.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ks[_a.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ks),Hu=1;function tS(e,t){return e?_a.FOUR_COLUMNS:t?_a.TWO_COLUMNS:_a.THREE_COLUMNS}var TU=function(e){Ct(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=lr([],Array(12),!0).map(function(){return _.createRef()}),n.QUARTER_REFS=lr([],Array(4),!0).map(function(){return _.createRef()}),n.isDisabled=function(r){return Cn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return Cv(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var o,a;(a=(o=n.props).onDayClick)===null||a===void 0||a.call(o,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,o;(o=(i=n.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Vt(on(o,r),a)},n.isRangeStartQuarter=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Df(Qo(o,r),a)},n.isRangeEndMonth=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Vt(on(o,r),s)},n.isRangeEndQuarter=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Df(Qo(o,r),s)},n.isInSelectingRangeMonth=function(r){var i,o=n.props,a=o.day,s=o.selectsStart,l=o.selectsEnd,u=o.selectsRange,c=o.startDate,f=o.endDate,d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(s||l||u)||!d?!1:s&&f?Fu(d,f,r,a):l&&c||u&&c&&!f?Fu(c,d,r,a):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,a=o.day,s=o.startDate,l=o.selectsStart,u=on(a,r),c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?Vt(u,c):Vt(u,s)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,a=o.day,s=o.endDate,l=o.selectsEnd,u=o.selectsRange,c=on(a,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||u?Vt(c,f):Vt(c,s)},n.isInSelectingRangeQuarter=function(r){var i,o=n.props,a=o.day,s=o.selectsStart,l=o.selectsEnd,u=o.selectsRange,c=o.startDate,f=o.endDate,d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(s||l||u)||!d?!1:s&&f?Uu(d,f,r,a):l&&c||u&&c&&!f?Uu(c,d,r,a):!1},n.isWeekInMonth=function(r){var i=n.props.day,o=Zr(r,6);return Vt(r,i)||Vt(o,i)},n.isCurrentMonth=function(r,i){return we(r)===we(Fe())&&i===Yt(Fe())},n.isCurrentQuarter=function(r,i){return we(r)===we(Fe())&&i===fo(Fe())},n.isSelectedMonth=function(r,i,o){return Yt(o)===i&&we(r)===we(o)},n.isSelectMonthInList=function(r,i,o){return o.some(function(a){return n.isSelectedMonth(r,i,a)})},n.isSelectedQuarter=function(r,i,o){return fo(r)===i&&we(r)===we(o)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,o=0,a=!1,s=Oi(Wr(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(m){return n.props.showWeekPicker?Oi(m,n.props.locale,n.props.calendarStartDay):n.props.preSelection},u=function(m){return n.props.showWeekPicker?Oi(m,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?u(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(I.createElement(EU,ke({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:s,month:Yt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!a;){o++,s=_f(s,1);var d=i&&o>=CU,h=!i&&!n.isWeekInMonth(s);if(d||h)if(n.props.peekNextMonth)a=!0;else break}return r},n.onMonthClick=function(r,i){var o=n.isMonthDisabledForLabelDate(i),a=o.isDisabled,s=o.labelDate;a||n.handleDayClick(Wr(s),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,a=i.labelDate;o||n.handleDayMouseEnter(Wr(a))},n.handleMonthNavigation=function(r,i){var o,a,s,l;(a=(o=n.props).setPreSelection)===null||a===void 0||a.call(o,i),(l=(s=n.MONTH_REFS[r])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,o){var a,s=n.props,l=s.selected,u=s.preSelection,c=s.setPreSelection,f=s.minDate,d=s.maxDate,h=s.showFourColumnMonthYearPicker,m=s.showTwoColumnMonthYearPicker;if(u){var g=tS(h,m),v=n.getVerticalOffset(g),p=(a=$p[g])===null||a===void 0?void 0:a.grid,y=function(C,k,N){var A,O,V=k,L=N;switch(C){case X.ArrowRight:V=Qn(k,Hu),L=N===11?0:N+Hu;break;case X.ArrowLeft:V=Ua(k,Hu),L=N===0?11:N-Hu;break;case X.ArrowUp:V=Ua(k,v),L=!((A=p?.[0])===null||A===void 0)&&A.includes(N)?N+12-v:N-v;break;case X.ArrowDown:V=Qn(k,v),L=!((O=p?.[p.length-1])===null||O===void 0)&&O.includes(N)?N-12+v:N+v;break}return{newCalculatedDate:V,newCalculatedMonth:L}},w=function(C,k,N){for(var A=40,O=C,V=!1,L=0,T=y(O,k,N),P=T.newCalculatedDate,D=T.newCalculatedMonth;!V;){if(L>=A){P=k,D=N;break}if(f&&P<f){O=X.ArrowRight;var $=y(O,P,D);P=$.newCalculatedDate,D=$.newCalculatedMonth}if(d&&P>d){O=X.ArrowLeft;var $=y(O,P,D);P=$.newCalculatedDate,D=$.newCalculatedMonth}if(fU(P,n.props)){var $=y(O,P,D);P=$.newCalculatedDate,D=$.newCalculatedMonth}else V=!0;L++}return{newCalculatedDate:P,newCalculatedMonth:D}};if(i===X.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),c?.(l));return}var x=w(i,u,o),E=x.newCalculatedDate,b=x.newCalculatedMonth;switch(i){case X.ArrowRight:case X.ArrowLeft:case X.ArrowUp:case X.ArrowDown:n.handleMonthNavigation(b,E);break}}},n.getVerticalOffset=function(r){var i,o;return(o=(i=$p[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,i){var o=n.props,a=o.disabledKeyboardNavigation,s=o.handleOnMonthKeyDown,l=r.key;l!==X.Tab&&r.preventDefault(),a||n.handleKeyboardNavigation(r,l,i),s&&s(r)},n.onQuarterClick=function(r,i){var o=Qo(n.props.day,i);$u(o,n.props)||n.handleDayClick(U_(o),r)},n.onQuarterMouseEnter=function(r){var i=Qo(n.props.day,r);$u(i,n.props)||n.handleDayMouseEnter(U_(i))},n.handleQuarterNavigation=function(r,i){var o,a,s,l;n.isDisabled(i)||n.isExcluded(i)||((a=(o=n.props).setPreSelection)===null||a===void 0||a.call(o,i),(l=(s=n.QUARTER_REFS[r-1])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var o,a,s=r.key;if(!n.props.disabledKeyboardNavigation)switch(s){case X.Enter:n.onQuarterClick(r,i),(a=(o=n.props).setPreSelection)===null||a===void 0||a.call(o,n.props.selected);break;case X.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,wv(n.props.preSelection,1));break;case X.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,uk(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,o=n.props,a=o.day,s=o.minDate,l=o.maxDate,u=o.excludeDates,c=o.includeDates,f=on(a,r);return{isDisabled:(i=(s||l||u||c)&&mk(f,n.props))!==null&&i!==void 0?i:!1,labelDate:f}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate,l=i.preSelection,u=i.monthClassName,c=u?u(on(o,r)):void 0,f=n.getSelection();return wt("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(o,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(o,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":a&&s?Fu(a,s,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Yt(n.props.preSelection),o=n.isMonthDisabledForLabelDate(i).isDisabled,a=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return a},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=fo(n.props.preSelection),o=$u(n.props.day,n.props),a=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return a},n.getAriaLabel=function(r){var i=n.props,o=i.chooseDayAriaLabelPrefix,a=o===void 0?"Choose":o,s=i.disabledDayAriaLabelPrefix,l=s===void 0?"Not available":s,u=i.day,c=i.locale,f=on(u,r),d=n.isDisabled(f)||n.isExcluded(f)?l:a;return"".concat(d," ").concat(Ye(f,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate,l=i.selected,u=i.minDate,c=i.maxDate,f=i.excludeDates,d=i.includeDates,h=i.filterDate,m=i.preSelection,g=i.disabledKeyboardNavigation,v=(u||c||f||d||h)&&$u(Qo(o,r),n.props);return wt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(o,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&m&&n.isSelectedQuarter(o,r,m)&&!v,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":a&&s?Uu(a,s,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,o=i.showFullMonthYearPicker,a=i.renderMonthContent,s=i.locale,l=i.day,u=pk(r,s),c=Ev(r,s);return a?a(r,u,c,l):o?c:u},n.getQuarterContent=function(r){var i,o=n.props,a=o.renderQuarterContent,s=o.locale,l=cU(r,s);return(i=a?.(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,o=i.showTwoColumnMonthYearPicker,a=i.showFourColumnMonthYearPicker,s=i.day,l=i.selected,u=(r=$p[tS(a,o)])===null||r===void 0?void 0:r.grid;return u?.map(function(c,f){return I.createElement("div",{className:"react-datepicker__month-wrapper",key:f},c.map(function(d,h){return I.createElement("div",{ref:n.MONTH_REFS[d],key:h,onClick:function(m){n.onMonthClick(m,d)},onKeyDown:function(m){yk(m)&&(m.preventDefault(),m.key=X.Enter),n.onMonthKeyDown(m,d)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(d)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(d)}:void 0,tabIndex:Number(n.getTabIndex(d)),className:n.getMonthClassNames(d),"aria-disabled":n.isMonthDisabled(d),role:"option","aria-label":n.getAriaLabel(d),"aria-current":n.isCurrentMonth(s,d)?"date":void 0,"aria-selected":l?n.isSelectedMonth(s,d,l):void 0},n.getMonthContent(d))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,o=r.selected,a=[1,2,3,4];return I.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(s,l){return I.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(u){n.onQuarterClick(u,s)},onKeyDown:function(u){n.onQuarterKeyDown(u,s)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(s)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(s)}:void 0,className:n.getQuarterClassNames(s),"aria-selected":o?n.isSelectedQuarter(i,s,o):void 0,tabIndex:Number(n.getQuarterTabIndex(s)),"aria-current":n.isCurrentQuarter(i,s)?"date":void 0},n.getQuarterContent(s))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,o=r.selectsStart,a=r.selectsEnd,s=r.showMonthYearPicker,l=r.showQuarterYearPicker,u=r.showWeekPicker;return wt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||a)},{"react-datepicker__monthPicker":s},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,o=n.selectsMultiple;if(o)return i;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,a=n.ariaLabelPrefix,s=a===void 0?"Month ":a,l=s?s.trim()+" ":"";return I.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Ye(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},t}(_.Component),kU=function(e){Ct(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return I.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?I.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return I.createElement(Yd,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),MU=function(e){Ct(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,o){return I.createElement("option",{key:i,value:o},i)})},n.renderSelectMode=function(r){return I.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return I.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},I.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),I.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return I.createElement(kU,ke({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,o=[n.renderReadView(!i,r)];return i&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return pk(o,n.props.locale)}:function(o){return Ev(o,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return I.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t}(_.Component);function DU(e,t){for(var n=[],r=Wr(e),i=Wr(t);!Fi(r,i);)n.push(Fe(r)),r=Qn(r,1);return n}var OU=function(e){Ct(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=_g(i),a=rr(r.props.date,i)&&Vt(r.props.date,i);return I.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":a?"true":void 0},a?I.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ye(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:DU(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=wt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return I.createElement(Yd,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),PU=function(e){Ct(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Wr(n.props.minDate),i=Wr(n.props.maxDate),o=[];!Fi(r,i);){var a=_g(r);o.push(I.createElement("option",{key:a,value:a},Ye(r,n.props.dateFormat,n.props.locale))),r=Qn(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return I.createElement("select",{value:_g(Wr(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=Ye(n.props.date,n.props.dateFormat,n.props.locale);return I.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},I.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),I.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return I.createElement(OU,ke({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Fe(r);rr(n.props.date,i)&&Vt(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return I.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(_.Component),NU=function(e){Ct(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var i,o;(n.props.minTime||n.props.maxTime)&&z_(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Y_(r,n.props)||(o=(i=n.props).onChange)===null||o===void 0||o.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&_U(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&z_(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Y_(r,n.props)},n.liClasses=function(r){var i,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(mr(r)*3600+gr(r)*60+zr(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,i){var o,a;r.key===X.Space&&(r.preventDefault(),r.key=X.Enter),(r.key===X.ArrowUp||r.key===X.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===X.ArrowDown||r.key===X.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===X.Enter&&n.handleClick(i),(a=(o=n.props).handleOnKeyDown)===null||a===void 0||a.call(o,r)},n.renderTimes=function(){for(var r,i=[],o=typeof n.props.format=="string"?n.props.format:"p",a=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,s=n.props.selected||n.props.openToDate||Fe(),l=xc(s),u=n.props.injectTimes&&n.props.injectTimes.sort(function(v,p){return v.getTime()-p.getTime()}),c=60*wU(s),f=c/a,d=0;d<f;d++){var h=vg(l,d*a);if(i.push(h),u){var m=yU(l,h,d,a,u);i=i.concat(m)}}var g=i.reduce(function(v,p){return p.getTime()<=s.getTime()?p:v},i[0]);return i.map(function(v){return I.createElement("li",{key:v.valueOf(),onClick:n.handleClick.bind(n,v),className:n.liClasses(v),ref:function(p){v===g&&(n.centerLi=p)},onKeyDown:function(p){n.handleOnKeyDown(p,v)},tabIndex:v===g?0:-1,role:"option","aria-selected":n.isSelectedTime(v)?"true":void 0,"aria-disabled":n.isDisabledTime(v)?"true":void 0},Ye(v,o,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?I.createElement(I.Fragment,null):I.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},I.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,i=this.state.height;return I.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),I.createElement("div",{className:"react-datepicker__time"},I.createElement("div",{className:"react-datepicker__time-box"},I.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(_.Component),nS=3,RU=function(e){Ct(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=lr([],Array(r.props.yearItemNumber),!0).map(function(){return _.createRef()}),r.isDisabled=function(i){return Cn(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return Cv(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var a,s;(s=(a=r.YEAR_REFS[i])===null||a===void 0?void 0:a.current)===null||s===void 0||s.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var a,s,l,u,c=r.props,f=c.date,d=c.yearItemNumber;if(!(f===void 0||d===void 0)){var h=Si(f,d).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((s=(a=r.props).setPreSelection)===null||s===void 0||s.call(a,o),i-h<0?r.updateFocusOnPaginate(d-(h-i)):i-h>=d?r.updateFocusOnPaginate(Math.abs(d-(i-h))):(u=(l=r.YEAR_REFS[i-h])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},r.isSameDay=function(i,o){return be(i,o)},r.isCurrentYear=function(i){return i===we(Fe())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&rr(er(Fe(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&rr(er(Fe(),i),r.props.endDate)},r.isInRange=function(i){return ju(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,a=o.selectsStart,s=o.selectsEnd,l=o.selectsRange,u=o.startDate,c=o.endDate;return!(a||s||l)||!r.selectingDate()?!1:a&&c?ju(i,r.selectingDate(),c):s&&u||l&&u&&!c?ju(i,u,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var a=r.props,s=a.startDate,l=a.selectsStart,u=er(Fe(),i);return l?rr(u,(o=r.selectingDate())!==null&&o!==void 0?o:null):rr(u,s??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var a=r.props,s=a.endDate,l=a.selectsEnd,u=a.selectsRange,c=er(Fe(),i);return l||u?rr(c,(o=r.selectingDate())!==null&&o!==void 0?o:null):rr(c,s??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,a=o.minDate,s=o.maxDate,l=o.excludeDates,u=o.includeDates,c=o.filterDate,f=Vs(er(r.props.date,i)),d=(a||s||l||u||c)&&bc(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!be(f,Vs(r.props.selected))&&be(f,Vs(r.props.preSelection))&&!d}},r.onYearClick=function(i,o){var a=r.props.date;a!==void 0&&r.handleYearClick(Vs(er(a,o)),i)},r.onYearKeyDown=function(i,o){var a,s,l=i.key,u=r.props,c=u.date,f=u.yearItemNumber,d=u.handleOnKeyDown;if(l!==X.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case X.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(s=(a=r.props).setPreSelection)===null||s===void 0||s.call(a,r.props.selected);break;case X.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Br(r.props.preSelection,1));break;case X.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Ha(r.props.preSelection,1));break;case X.ArrowUp:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var h=Si(c,f).startPeriod,m=nS,g=o-m;if(g<h){var v=f%m;o>=h&&o<h+v?m=v:m+=v,g=o-m}r.handleYearNavigation(g,Ha(r.props.preSelection,m));break}case X.ArrowDown:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var p=Si(c,f).endPeriod,m=nS,g=o+m;if(g>p){var v=f%m;o<=p&&o>p-v?m=v:m+=v,g=o+m}r.handleYearNavigation(g,Br(r.props.preSelection,m));break}}d&&d(i)},r.getYearClassNames=function(i){var o=r.props,a=o.date,s=o.minDate,l=o.maxDate,u=o.selected,c=o.excludeDates,f=o.includeDates,d=o.filterDate,h=o.yearClassName;return wt("react-datepicker__year-text","react-datepicker__year-".concat(i),a?h?.(er(a,i)):void 0,{"react-datepicker__year-text--selected":u?i===we(u):void 0,"react-datepicker__year-text--disabled":(s||l||c||f||d)&&bc(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=we(r.props.preSelection),a=bc(i,r.props);return i===o&&!a?"0":"-1"},r.getYearContainerClassNames=function(){var i=r.props,o=i.selectingDate,a=i.selectsStart,s=i.selectsEnd,l=i.selectsRange;return wt("react-datepicker__year",{"react-datepicker__year--selecting-range":o&&(a||s||l)})},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return t.prototype.render=function(){var n=this,r=[],i=this.props,o=i.date,a=i.yearItemNumber,s=i.onYearMouseEnter,l=i.onYearMouseLeave;if(o===void 0)return null;for(var u=Si(o,a),c=u.startPeriod,f=u.endPeriod,d=function(g){r.push(I.createElement("div",{ref:h.YEAR_REFS[g-c],onClick:function(v){n.onYearClick(v,g)},onKeyDown:function(v){yk(v)&&(v.preventDefault(),v.key=X.Enter),n.onYearKeyDown(v,g)},tabIndex:Number(h.getYearTabIndex(g)),className:h.getYearClassNames(g),onMouseEnter:h.props.usePointerEvent?void 0:function(v){return s(v,g)},onPointerEnter:h.props.usePointerEvent?function(v){return s(v,g)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(v){return l(v,g)},onPointerLeave:h.props.usePointerEvent?function(v){return l(v,g)}:void 0,key:g,"aria-current":h.isCurrentYear(g)?"date":void 0},h.getYearContent(g)))},h=this,m=c;m<=f;m++)d(m);return I.createElement("div",{className:this.getYearContainerClassNames()},I.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(_.Component);function IU(e,t,n,r){for(var i=[],o=0;o<2*t+1;o++){var a=e+t-o,s=!0;n&&(s=we(n)<=a),r&&s&&(s=we(r)>=a),s&&i.push(a)}return i}var LU=function(e){Ct(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var s=r.props.year,l=r.state.yearsList.map(function(f){return I.createElement("div",{className:s===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":s===f?"true":void 0},s===f?I.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),u=r.props.minDate?we(r.props.minDate):null,c=r.props.maxDate?we(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(f){return f===c}))&&l.unshift(I.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},I.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(f){return f===u}))&&l.push(I.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},I.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(s){r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(s){var l=r.state.yearsList.map(function(u){return u+s});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,a=i||(o?10:5);return r.state={yearsList:IU(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=_.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=wt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return I.createElement(Yd,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),AU=function(e){Ct(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?we(n.props.minDate):1900,i=n.props.maxDate?we(n.props.maxDate):2100,o=[],a=r;a<=i;a++)o.push(I.createElement("option",{key:a,value:a},a));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return I.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return I.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},I.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),I.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return I.createElement(LU,ke({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var o;(o=n.onSelect)===null||o===void 0||o.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var o,a;(a=(o=n.props).onSelect)===null||a===void 0||a.call(o,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return I.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(_.Component),FU=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],$U=function(e){var t=(e.className||"").split(/\s+/);return FU.some(function(n){return t.indexOf(n)>=0})},jU=function(e){Ct(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,a;$U(i.target)&&((a=(o=r.props).onDropdownFocus)===null||a===void 0||a.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,a=i.selected,s=i.openToDate,l=gk(r.props),u=vk(r.props),c=Fe(),f=s||a||o;return f||(l&&To(c,l)?l:u&&Fi(c,u)?u:c)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:Qn(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:Ua(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,a){r.props.onSelect(i,o,a),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:er(Fe(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){var o,a,s,l;(a=(o=r.props).onYearChange)===null||a===void 0||a.call(o,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(s=r.props).setOpen)===null||l===void 0||l.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Cn(i,r.props))return i;for(var o=Wr(i),a=aU(i),s=_6(a,o),l=null,u=0;u<=s;u++){var c=Zr(o,u);if(!Cn(c,r.props)){l=c;break}}return l},r.handleMonthChange=function(i){var o,a,s,l=(o=r.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(s=(a=r.props).setOpen)===null||s===void 0||s.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var o,a;(a=(o=r.props).onMonthChange)===null||a===void 0||a.call(o,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var a=o.date;return{date:er(a,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var a=o.date;return{date:on(a,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var a=o.date;return{date:er(on(a,Yt(i)),we(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=Oi(i,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(I.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),a.concat([0,1,2,3,4,5,6].map(function(s){var l=Zr(o,s),u=r.formatWeekday(l,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return I.createElement("div",{key:s,"aria-label":Ye(l,"EEEE",r.props.locale),className:wt("react-datepicker__day-name",c)},u)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?sU(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?uU(i,o):lU(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,a=i.date;return{date:Ha(a,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=Q_(r.state.date,r.props);break;case r.props.showYearPicker:o=pU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=dU(r.state.date,r.props);break;default:o=W_(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],s=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--previous--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,f=c.previousMonthButtonLabel,d=f===void 0?t.defaultProps.previousMonthButtonLabel:f,h=c.previousYearButtonLabel,m=h===void 0?t.defaultProps.previousYearButtonLabel:h,g=r.props,v=g.previousMonthAriaLabel,p=v===void 0?typeof d=="string"?d:"Previous Month":v,y=g.previousYearAriaLabel,w=y===void 0?typeof m=="string"?m:"Previous Year":y;return I.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?w:p},I.createElement("span",{className:a.join(" ")},u?m:d))}}},r.increaseYear=function(){r.setState(function(i){var o,a=i.date;return{date:Br(a,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=G_(r.state.date,r.props);break;case r.props.showYearPicker:o=mU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=hU(r.state.date,r.props);break;default:o=q_(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,f=c.nextMonthButtonLabel,d=f===void 0?t.defaultProps.nextMonthButtonLabel:f,h=c.nextYearButtonLabel,m=h===void 0?t.defaultProps.nextYearButtonLabel:h,g=r.props,v=g.nextMonthAriaLabel,p=v===void 0?typeof d=="string"?d:"Next Month":v,y=g.nextYearAriaLabel,w=y===void 0?typeof m=="string"?m:"Next Year":y;return I.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?w:p},I.createElement("span",{className:s.join(" ")},u?m:d))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),I.createElement("h2",{className:o.join(" ")},Ye(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return I.createElement(AU,ke({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:we(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return I.createElement(MU,ke({},t.defaultProps,r.props,{month:Yt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return I.createElement(PU,ke({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(H_(),i),r.props.setPreSelection&&r.props.setPreSelection(H_())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return I.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,a=i.i;return I.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),I.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(a!==0),r.renderMonthYearDropdown(a!==0),r.renderYearDropdown(a!==0)),I.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,a,s=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var u=W_(r.state.date,r.props),c=q_(r.state.date,r.props),f=Q_(r.state.date,r.props),d=G_(r.state.date,r.props),h=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return I.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(a=(o=r.props).renderCustomHeader)===null||a===void 0?void 0:a.call(o,ke(ke({},r.state),{customHeaderCount:l,monthDate:s,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:c,prevYearButtonDisabled:f,nextYearButtonDisabled:d})),h&&I.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderYearHeader=function(i){var o=i.monthDate,a=r.props,s=a.showYearPicker,l=a.yearItemNumber,u=l===void 0?t.defaultProps.yearItemNumber:l,c=Si(o,u),f=c.startPeriod,d=c.endPeriod;return I.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},s?"".concat(f," - ").concat(d):we(o))},r.renderHeader=function(i){var o=i.monthDate,a=i.i,s=a===void 0?0:a,l={monthDate:o,i:s};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var a=[],s=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?s-1:0,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Br(r.state.date,l):Ua(r.state.date,l),c=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,f=0;f<s;++f){var d=f-c+l,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Br(u,d):Qn(u,d),m="month-".concat(f),g=f<s-1,v=f>0;a.push(I.createElement("div",{key:m,ref:function(p){r.monthContainer=p??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:f}),I.createElement(TU,ke({},t.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:v}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return I.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),I.createElement(RU,ke({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return I.createElement(NU,ke({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&Rr(i)&&!!r.props.selected,a=o?"".concat(X_(i.getHours()),":").concat(X_(i.getMinutes())):"";if(r.props.showTimeInput)return I.createElement(SU,ke({},t.defaultProps,r.props,{date:i,timeString:a,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=Si(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),a=o.startPeriod,s=o.endPeriod,l;return r.props.showYearPicker?l="".concat(a," - ").concat(s):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=we(r.state.date):l="".concat(Ev(Yt(r.state.date),r.props.locale)," ").concat(we(r.state.date)),I.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return I.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=_.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:eu}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!be(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Vt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!be(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||Zj;return I.createElement(Yd,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},I.createElement(n,{className:wt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},t}(_.Component),UU=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,i=e.onClick,o="react-datepicker__calendar-icon";return typeof t=="string"?I.createElement("i",{className:"".concat(o," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i}):I.isValidElement(t)?I.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(o," ").concat(r),onClick:function(a){typeof t.props.onClick=="function"&&t.props.onClick(a),typeof i=="function"&&i(a)}}):I.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},I.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},wk=function(e){Ct(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return FN.createPortal(this.props.children,this.el)},t}(_.Component),HU="[tabindex], a, button, input, select, textarea",VU=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},_k=function(e){Ct(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(HU),1,-1).filter(VU)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=_.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?I.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},I.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,I.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(_.Component);function BU(e){var t=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=_.useRef(null),a=Xj(ke({open:!i,whileElementsMounted:qC,placement:n.popperPlacement,middleware:lr([Aj({padding:15}),Lj(10),Fj({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),s=ke(ke({},n),{hidePopper:i,popperProps:ke(ke({},a),{arrowRef:o})});return I.createElement(e,ke({},s))};return t}var YU=function(e){Ct(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,o=n.hidePopper,a=o===void 0?t.defaultProps.hidePopper:o,s=n.popperComponent,l=n.targetComponent,u=n.enableTabLoop,c=n.popperOnKeyDown,f=n.portalId,d=n.portalHost,h=n.popperProps,m=n.showArrow,g=void 0;if(!a){var v=wt("react-datepicker-popper",r);g=I.createElement(_k,{enableTabLoop:u},I.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:v,"data-placement":h.placement,onKeyDown:c},s,m&&I.createElement(Yj,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=_.createElement(this.props.popperContainer,{},g)),f&&!a&&(g=I.createElement(wk,{portalId:f,portalHost:d},g));var p=wt("react-datepicker-wrapper",i);return I.createElement(I.Fragment,null,I.createElement("div",{ref:h.refs.setReference,className:p},l),g)},t}(_.Component),zU=BU(YU),rS="react-datepicker-ignore-onclickoutside";function WU(e,t){return e&&t?Yt(e)!==Yt(t)||we(e)!==we(t):e!==t}var jp="Date input not valid.",bg=function(e){Ct(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Fe()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,a){var s=new Date(a.date);return Rr(s)?lr(lr([],o,!0),[ke(ke({},a),{date:s})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),a=gk(r.props),s=vk(r.props),l=a&&To(o,xc(a))?a:s&&Fi(o,V_(s))?s:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:K_(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(ke(ke({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(ke(ke({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Up},function(){i||r.setState(function(a){return{focused:o?a.focused:!1}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Yr(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,a,s=r.state.wasHidden,l=s?r.state.open:!0;s&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((a=(o=r.props).onFocus)===null||a===void 0||a.call(o,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,a;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((a=(o=r.props).onBlur)===null||a===void 0||a.call(o,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,a;r.props.inline||r.setOpen(!1),(a=(o=r.props).onClickOutside)===null||a===void 0||a.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,o,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var l=a[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,a),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:l?.target instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:qU});var u=r.props,c=u.dateFormat,f=c===void 0?t.defaultProps.dateFormat:c,d=u.strictParsing,h=d===void 0?t.defaultProps.strictParsing:d,m=u.selectsRange,g=u.startDate,v=u.endDate,p=l?.target instanceof HTMLInputElement?l.target.value:"";if(m){var y=p.split("-",2).map(function(A){return A.trim()}),w=y[0],x=y[1],E=Ap(w??"",f,r.props.locale,h),b=Ap(x??"",f,r.props.locale,h),C=g?.getTime()!==E?.getTime(),k=v?.getTime()!==b?.getTime();if(!C&&!k||E&&Cn(E,r.props)||b&&Cn(b,r.props))return;(o=(i=r.props).onChange)===null||o===void 0||o.call(i,[E,b],l)}else{var N=Ap(p,f,r.props.locale,h,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&N&&!be(N,r.props.selected)&&(N=Nj(r.props.selected,{hours:mr(N),minutes:gr(N),seconds:zr(N)})),(N||!p)&&r.setSelected(N,l,!0)}}},r.handleSelect=function(i,o,a){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,a),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var s=r.props,l=s.startDate,u=s.endDate;l&&!u&&(r.props.swapRange||!eS(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,o,a,s){var l,u,c=i;if(r.props.showYearPicker){if(c!==null&&bc(we(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&mk(c,r.props))return}else if(c!==null&&Cn(c,r.props))return;var f=r.props,d=f.onChange,h=f.selectsRange,m=f.startDate,g=f.endDate,v=f.selectsMultiple,p=f.selectedDates,y=f.minTime,w=f.swapRange;if(!io(r.props.selected,c)||r.props.allowSameDay||h||v)if(c!==null&&(r.props.selected&&(!a||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=Fp(c,{hour:mr(r.props.selected),minute:gr(r.props.selected),second:zr(r.props.selected)})),!a&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&y&&(c=Fp(c,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:s})),h){var x=!m&&!g,E=m&&!g,b=m&&g;x?d?.([c,null],o):E&&(c===null?d?.([null,null],o):eS(c,m)?d?.(w?[c,m]:[c,null],o):d?.([m,c],o)),b&&d?.([c,null],o)}else if(v){if(c!==null)if(!p?.length)d?.([c],o);else{var C=p.some(function(N){return be(N,c)});if(C){var k=p.filter(function(N){return!be(N,c)});d?.(k,o)}else d?.(lr(lr([],p,!0),[c],!1),o)}}else d?.(c,o);a||((u=(l=r.props).onSelect)===null||u===void 0||u.call(l,c,o),r.setState({inputValue:null}))},r.setPreSelection=function(i){var o=Yr(r.props.minDate),a=Yr(r.props.maxDate),s=!0;if(i){var l=xc(i);if(o&&a)s=Bs(i,r.props.minDate,r.props.maxDate);else if(o){var u=xc(r.props.minDate);s=Fi(i,u)||io(l,u)}else if(a){var c=V_(r.props.maxDate);s=To(i,c)||io(l,c)}}s&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o,a;if(!(r.props.selectsRange||r.props.selectsMultiple)){var s=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:Fp(s,{hour:mr(i),minute:gr(i)});r.setState({preSelection:l}),(a=(o=r.props).onChange)===null||a===void 0||a.call(o,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,a,s,l,u,c;(a=(o=r.props).onKeyDown)===null||a===void 0||a.call(o,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===X.ArrowDown||f===X.ArrowUp||f===X.Enter)&&((s=r.onInputClick)===null||s===void 0||s.call(r));return}if(r.state.open){if(f===X.ArrowDown||f===X.ArrowUp){i.preventDefault();var d=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',h=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(d);h instanceof HTMLElement&&h.focus({preventScroll:!0});return}var m=Fe(r.state.preSelection);f===X.Enter?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Up?(r.handleSelect(m,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(m)):r.setOpen(!1)):f===X.Escape?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):f===X.Tab&&r.setOpen(!1),r.inputOk()||(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:jp})}},r.onPortalKeyDown=function(i){var o=i.key;o===X.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,a,s,l,u,c,f=r.props,d=f.minDate,h=f.maxDate,m=f.disabledKeyboardNavigation,g=f.showWeekPicker,v=f.shouldCloseOnSelect,p=f.locale,y=f.calendarStartDay,w=f.adjustDateOnChange,x=f.inline;if((a=(o=r.props).onKeyDown)===null||a===void 0||a.call(o,i),!m){var E=i.key,b=i.shiftKey,C=Fe(r.state.preSelection),k=function(P,D){var $=D;switch(P){case X.ArrowRight:$=g?_f(D,1):Zr(D,1);break;case X.ArrowLeft:$=g?A_(D,1):mj(D,1);break;case X.ArrowUp:$=A_(D,1);break;case X.ArrowDown:$=_f(D,1);break;case X.PageUp:$=b?Ha(D,1):Ua(D,1);break;case X.PageDown:$=b?Br(D,1):Qn(D,1);break;case X.Home:$=Oi(D,p,y);break;case X.End:$=oU(D);break}return $},N=function(P,D){for(var $=40,M=P,F=!1,B=0,Q=k(P,D);!F;){if(B>=$){Q=D;break}d&&Q<d&&(M=X.ArrowRight,Q=Cn(d,r.props)?k(M,Q):d),h&&Q>h&&(M=X.ArrowLeft,Q=Cn(h,r.props)?k(M,Q):h),Cn(Q,r.props)?((M===X.PageUp||M===X.Home)&&(M=X.ArrowRight),(M===X.PageDown||M===X.End)&&(M=X.ArrowLeft),Q=k(M,Q)):F=!0,B++}return Q};if(E===X.Enter){i.preventDefault(),r.handleSelect(C,i),!v&&r.setPreSelection(C);return}else if(E===X.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(s=r.props).onInputError)===null||l===void 0||l.call(s,{code:1,msg:jp});return}var A=null;switch(E){case X.ArrowLeft:case X.ArrowRight:case X.ArrowUp:case X.ArrowDown:case X.PageUp:case X.PageDown:case X.Home:case X.End:A=N(E,C);break}if(!A){(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:jp});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Up}),w&&r.setSelected(A),r.setPreSelection(A),x){var O=Yt(C),V=Yt(A),L=we(C),T=we(A);O!==V||L!==T?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===X.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,a=o.selectsRange,s=o.onChange;s?.(a?[null,null]:null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:I.createElement(jU,ke({showMonthYearDropdown:void 0,ref:function(a){r.calendar=a}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:vU(r.modifyHolidays()),outsideClickIgnoreClass:rS,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,a=o===void 0?t.defaultProps.dateFormat:o,s=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,u=l?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(Sn(r.props.startDate,{dateFormat:u,locale:s}),". ").concat(r.props.endDate?"End date: "+Sn(r.props.endDate,{dateFormat:u,locale:s}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(Sn(r.props.selected,{dateFormat:a,locale:s})):r.props.showYearPicker?c="Selected year: ".concat(Sn(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?c="Selected month: ".concat(Sn(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(Sn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):c="Selected date: ".concat(Sn(r.props.selected,{dateFormat:u,locale:s})),I.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,o,a,s=wt(r.props.className,(i={},i[rS]=r.state.open,i)),l=r.props.customInput||I.createElement("input",{type:"text"}),u=r.props.customInputRef||"ref",c=r.props,f=c.dateFormat,d=f===void 0?t.defaultProps.dateFormat:f,h=c.locale,m=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?tU(r.props.startDate,r.props.endDate,{dateFormat:d,locale:h}):r.props.selectsMultiple?nU((a=r.props.selectedDates)!==null&&a!==void 0?a:[],{dateFormat:d,locale:h}):Sn(r.props.selected,{dateFormat:d,locale:h});return _.cloneElement(l,(o={},o[u]=function(g){r.input=g},o.value=m,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=wt(l.props.className,s),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,a=i.disabled,s=i.selected,l=i.startDate,u=i.endDate,c=i.clearButtonTitle,f=i.clearButtonClassName,d=f===void 0?"":f,h=i.ariaLabelClose,m=h===void 0?"Close":h,g=i.selectedDates;return o&&(s!=null||l!=null||u!=null||g?.length)?I.createElement("button",{type:"button",className:wt("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":m,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:eu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var i,o,a,s;n.inline&&WU(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:K_(this.props.highlightDates)}),!r.focused&&!io(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((s=(a=this.props).onCalendarClose)===null||s===void 0||s.call(a)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,o=n.calendarIconClassname,a=n.calendarIconClassName,s=n.toggleCalendarOnIconClick,l=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),I.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&I.createElement(UU,ke({icon:i,className:wt(a,!a&&o,l&&"react-datepicker-ignore-onclickoutside")},s?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?I.createElement(_k,{enableTabLoop:this.props.enableTabLoop},I.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=I.createElement(wk,ke({portalId:this.props.portalId},this.props),r)),I.createElement("div",null,this.renderInputContainer(),r)}return I.createElement(zU,ke({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(_.Component),qU="input",Up="navigate";function oe({label:e,...t}){return S.jsxs("div",{className:"thin-border blue-bg",style:{display:"flex",justifyContent:"space-between",gap:"1em"},children:[e,S.jsx("div",{className:"number-field",children:t.children})]})}function QU(){const e=_.useContext(bt),t=e.portaCountClient.state,n=e.portaCountClient.settings,[r,i]=se(j.BAUD_RATE),[o]=se(j.ADVANCED_MODE),[a]=se(j.SHOW_REMAINING_EVENT_TIME),[s]=se(j.SHOW_ELAPSED_PARTICIPANT_TIME),[l,u]=_.useState(!1),[c,f]=_.useState("all-raw-data"),[d,h]=se(j.MINUTES_ALLOTTED_PER_PARTICIPANT),[m,g]=se(j.MASK_LIST),[v,p]=se(j.PARTICIPANT_LIST),[y,w]=se(j.COLOR_SCHEME),[x,E]=_.useState(e.settings.eventEndTime),[,b]=_.useState({}),C=_.useCallback(()=>{b({})},[]);function k(T){f(T.target.value)}function N(){switch(c){case"all-raw-data":A();break;case"all-results-as-json":O();break;default:console.log(`unsupported data to download: ${c}`)}}async function A(){await gd.getData().then(T=>{gg(JSON.stringify(T),"fit-test-all-raw-data","json")})}function O(){Rn.getData().then(T=>{gg(JSON.stringify(T),"fit-test-all-results","json")})}function V(T){const P=Number(T);isNaN(P)?h(D=>D):P>0?h(P):console.warn(`ignoring out-of-range minutes per participant value: ${T}`)}_.useEffect(()=>{e.settings.eventEndTime=x},[x]),_.useEffect(()=>{e.settings.getActualSetting(j.EVENT_END_HHMM).then(()=>{E(e.settings.eventEndTime)});const T={stateChanged(){C()},settingsChanged(){C()}};return e.portaCountClient.addListener(T),()=>{e.portaCountClient.removeListener(T)}},[]);function L(){const T=e.portaCountClient.externalController;T.assumeManualControl(),T.requestRuntimeStatus(),T.sendCommand(xe.REQUEST_VOLTAGE_INFO),T.requestSettings()}return S.jsxs("div",{id:"settings-panel",children:[S.jsx("fieldset",{children:"mftc v1.8.4 production"}),S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Settings"}),S.jsxs("section",{id:"settings",style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"stretch"},children:[S.jsx("section",{id:"basic-controls",children:S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Basic"}),S.jsx(ft,{setting:j.KEEP_SCREEN_AWAKE}),S.jsx(j4,{}),S.jsx(ft,{setting:j.SAY_PARTICLE_COUNT}),S.jsx(ft,{setting:j.SAY_ESTIMATED_FIT_FACTOR}),S.jsxs("div",{className:"labeled-setting",children:[S.jsxs("select",{id:"download-file-format-selector",defaultValue:c,onChange:k,children:[S.jsx("option",{value:"all-raw-data",children:"All Raw data as JSON"}),S.jsx("option",{value:"all-results-as-json",children:"All results as JSON"})]}),S.jsx("input",{className:"button",type:"button",value:"Download!",id:"download-button",onClick:N})]})]})}),S.jsx("section",{id:"event settings",children:S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Event settings"}),S.jsx(ft,{setting:j.SHOW_ELAPSED_PARTICIPANT_TIME}),s&&S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{htmlFor:"minutes-per-participant-input",children:"Minutes per participant:"}),S.jsx(d6,{style:{width:"8ch"},id:"minutes-per-participant-input",value:d,onChange:V,type:"number",min:1,max:60})]}),S.jsx(ft,{setting:j.SHOW_REMAINING_EVENT_TIME}),a&&S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{children:"Event end time"}),S.jsx(bg,{className:"date-time-input",selected:x,showTimeSelect:!0,showTimeCaption:!0,includeDates:[new Date],showIcon:!0,dateFormat:"YYYY-MMM-dd HH:mm",timeFormat:"HH:mm",placeholderText:"Pick end time",onChange:T=>T&&E(T)})]}),S.jsxs("fieldset",{id:"today-participant-list",children:[S.jsx("legend",{children:"Participants"}),S.jsx("div",{style:{maxHeight:"50vh"},children:S.jsx(xo,{scrollable:!0,onChangeOnlyOnBlur:!0,initialValue:v.join(`
`),onChange:T=>{T!==void 0&&p(T.split(/\n/).map(P=>P.trim()).filter(P=>P.length>0))}})})]})]})}),S.jsxs("section",{id:"advanced-controls",children:[S.jsxs("fieldset",{children:[S.jsx("legend",{children:S.jsx(ft,{trueLabel:"Advanced settings",setting:j.ADVANCED_MODE})}),S.jsxs("div",{style:{display:o?"inline-block":"none"},children:[S.jsx(E_,{label:"Baud Rate",value:r.toString(),setValue:T=>i(Number(T)),options:[{300:"300"},{600:"600"},{1200:"1200"},{2400:"2400"},{9600:"9600"}]}),S.jsx(E_,{label:"Color Scheme",value:y,setValue:T=>w(T),options:[{Auto:"light dark"},{Dark:"dark"},{Light:"light"}]}),S.jsx(f6,{}),S.jsx(ft,{trueLabel:"Verbose speech",setting:j.VERBOSE}),S.jsx(ft,{setting:j.SHOW_EXTERNAL_CONTROL}),S.jsx(ft,{setting:j.ENABLE_TEST_INSTRUCTIONS_ZOOM}),S.jsx(ft,{setting:j.USE_COMPACT_UI}),S.jsx(ft,{setting:j.ENABLE_WEB_SERIAL_DRIVERS}),S.jsx(ft,{setting:j.ENABLE_PROTOCOL_EDITOR}),S.jsx(ft,{setting:j.ENABLE_QR_CODE_SCANNER}),S.jsx(ft,{setting:j.ENABLE_STATS}),S.jsx(ft,{setting:j.AUTO_UPDATE_MASK_LIST}),S.jsx(ft,{setting:j.ENABLE_AUTO_CONNECT}),S.jsx(ft,{setting:j.SYNC_DEVICE_STATE_ON_CONNECT}),S.jsx(ft,{setting:j.AUTO_CREATE_FAST_PROTOCOLS}),S.jsx(ft,{setting:j.ENABLE_SIMULATOR}),S.jsx(_T,{trueLabel:"Show Danger Zone",value:l,setValue:u})]})]}),l&&S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Danger Zone"}),S.jsx("input",{type:"button",value:"Clear Local Storage",onClick:()=>localStorage.clear()})]})]}),S.jsxs("fieldset",{id:"mask-list",children:[S.jsx("legend",{children:"Mask list"}),S.jsx("div",{style:{maxHeight:"50vh"},children:S.jsx(xo,{scrollable:!0,onChangeOnlyOnBlur:!0,initialValue:m.join(`
`),onChange:T=>{T!==void 0&&g(T.split(/\n/).map(P=>P.trim()).filter(P=>P.length>0))}})})]}),S.jsxs("fieldset",{id:"settings-state",children:[S.jsx("legend",{children:"Settings & State"}),S.jsx("button",{onClick:L,children:"Fetch settings & state info"}),S.jsx(oe,{label:"Serial Number",children:n.serialNumber}),S.jsx(oe,{label:"Last Service Date",children:n.lastServiceDate.toISOString()}),S.jsx(oe,{label:"Run Time Since Service",children:Ge(1e3*n.runTimeSinceFactoryServiceSeconds)}),S.jsx(oe,{label:"Num Exercises",children:n.numExercises}),S.jsx(oe,{label:"Ambient Purge",children:Ge(1e3*n.ambientPurge)}),S.jsx(oe,{label:"Ambient Sample",children:Ge(1e3*n.ambientSample)}),S.jsx(oe,{label:"Mask Purge",children:Ge(1e3*n.maskPurge)}),[...n.maskSample.entries()].map(([T,P])=>S.jsx(oe,{label:`Ex ${String(T)} sample`,children:Ge(1e3*P)},T)),[...n.fitFactorPassLevel.entries()].map(([T,P])=>S.jsx(oe,{label:`FF pass level ${String(T)}`,children:P},T)),S.jsx(oe,{label:"Battery",children:t.batteryStatus}),S.jsx(oe,{label:"Pulse",children:t.pulseStatus}),[...t.componentVoltages.entries()].map(([T,P])=>S.jsx(oe,{label:`${T} voltage`,children:P},T))]})]})]})]})}function GU(){const[e,t]=_.useState(""),n=I.useRef(null),[r,i]=_.useState(""),o=I.useRef(null),[a,s]=_.useState(""),l=I.useRef(null),u=_.useContext(bt);return _.useEffect(()=>{t(()=>u.dataCollector.rawLines),i(u.dataCollector.logLines),s(u.dataCollector.processedData);const c={logRawLine(){t(()=>u.dataCollector.rawLines)},logMessage(f){i(d=>d+f)},logProcessedData(f){const d=new Date().toISOString();s(h=>h+`${d} ${f}`)}};return u.dataCollector.addListener(c),()=>{u.dataCollector.removeListener(c)}},[]),S.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[S.jsxs("section",{style:{width:"100%",display:"flex",flexGrow:1},children:[S.jsxs("fieldset",{style:{flexGrow:1},children:[S.jsx("legend",{children:"Raw Data"}),S.jsx("textarea",{id:"raw-data",ref:n,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1e3,value:e})]}),S.jsxs("fieldset",{style:{flexGrow:1},children:[S.jsx("legend",{children:"Processed Data"}),S.jsx("textarea",{id:"interpreted-data",ref:l,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1001,value:a})]})]}),S.jsx("section",{style:{width:"100%",flexGrow:1,display:"flex"},children:S.jsxs("fieldset",{style:{flexGrow:1},children:[S.jsx("legend",{children:"Log"}),S.jsx("textarea",{id:"log-text-area",ref:o,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1002,value:r})]})})]})}var Sk={};typeof window<"u"&&function(e,t){try{e.querySelector(":scope body")}catch{["querySelector","querySelectorAll"].forEach(function(r){const i=t[r];t[r]=function(o){if(/(^|,)\s*:scope/.test(o)){const a=this.id;this.id="ID_"+Date.now(),o=o.replace(/((^|,)\s*):scope/g,"$1#"+this.id);const s=e[r](o);return this.id=a,s}else return i.call(this,o)}})}}(window.document,Element.prototype);var zd={};function ye(e){return function(){return e}}const iS=Math.abs,It=Math.atan2,Or=Math.cos,KU=Math.max,Sa=Math.min,Kt=Math.sin,ze=Math.sqrt,At=1e-12,$i=Math.PI,Of=$i/2,Pi=2*$i;function XU(e){return e>1?0:e<-1?$i:Math.acos(e)}function oS(e){return e>=1?Of:e<=-1?-Of:Math.asin(e)}const Eg=Math.PI,Cg=2*Eg,eo=1e-6,ZU=Cg-eo;function xk(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function JU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xk;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class eH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xk:JU(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>eo)if(!(Math.abs(f*l-u*c)>eo)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,m=i-s,g=l*l+u*u,v=h*h+m*m,p=Math.sqrt(g),y=Math.sqrt(d),w=o*Math.tan((Eg-Math.acos((g+d-v)/(2*p*y)))/2),x=w/y,E=w/p;Math.abs(x-1)>eo&&this._append`L${t+x*c},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*h>c*m)},${this._x1=t+E*l},${this._y1=n+E*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>eo||Math.abs(this._y1-c)>eo)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%Cg+Cg),d>ZU?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>eo&&this._append`A${r},${r},0,${+(d>=Eg)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function nu(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new eH(t)}function tH(e){return e.innerRadius}function nH(e){return e.outerRadius}function rH(e){return e.startAngle}function iH(e){return e.endAngle}function oH(e){return e&&e.padAngle}function aH(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,c=a-i,f=s-o,d=f*l-c*u;if(!(d*d<At))return d=(c*(t-o)-f*(e-i))/d,[e+d*l,t+d*u]}function Vu(e,t,n,r,i,o,a){var s=e-n,l=t-r,u=(a?o:-o)/ze(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=t+f,m=n+c,g=r+f,v=(d+m)/2,p=(h+g)/2,y=m-d,w=g-h,x=y*y+w*w,E=i-o,b=d*g-m*h,C=(w<0?-1:1)*ze(KU(0,E*E*x-b*b)),k=(b*w-y*C)/x,N=(-b*y-w*C)/x,A=(b*w+y*C)/x,O=(-b*y+w*C)/x,V=k-v,L=N-p,T=A-v,P=O-p;return V*V+L*L>T*T+P*P&&(k=A,N=O),{cx:k,cy:N,x01:-c,y01:-f,x11:k*(i/E-1),y11:N*(i/E-1)}}function sH(){var e=tH,t=nH,n=ye(0),r=null,i=rH,o=iH,a=oH,s=null,l=nu(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),m=i.apply(this,arguments)-Of,g=o.apply(this,arguments)-Of,v=iS(g-m),p=g>m;if(s||(s=c=l()),h<d&&(f=h,h=d,d=f),!(h>At))s.moveTo(0,0);else if(v>Pi-At)s.moveTo(h*Or(m),h*Kt(m)),s.arc(0,0,h,m,g,!p),d>At&&(s.moveTo(d*Or(g),d*Kt(g)),s.arc(0,0,d,g,m,p));else{var y=m,w=g,x=m,E=g,b=v,C=v,k=a.apply(this,arguments)/2,N=k>At&&(r?+r.apply(this,arguments):ze(d*d+h*h)),A=Sa(iS(h-d)/2,+n.apply(this,arguments)),O=A,V=A,L,T;if(N>At){var P=oS(N/d*Kt(k)),D=oS(N/h*Kt(k));(b-=P*2)>At?(P*=p?1:-1,x+=P,E-=P):(b=0,x=E=(m+g)/2),(C-=D*2)>At?(D*=p?1:-1,y+=D,w-=D):(C=0,y=w=(m+g)/2)}var $=h*Or(y),M=h*Kt(y),F=d*Or(E),B=d*Kt(E);if(A>At){var Q=h*Or(w),K=h*Kt(w),pe=d*Or(x),ce=d*Kt(x),re;if(v<$i)if(re=aH($,M,pe,ce,Q,K,F,B)){var me=$-re[0],de=M-re[1],Y=Q-re[0],R=K-re[1],q=1/Kt(XU((me*Y+de*R)/(ze(me*me+de*de)*ze(Y*Y+R*R)))/2),ie=ze(re[0]*re[0]+re[1]*re[1]);O=Sa(A,(d-ie)/(q-1)),V=Sa(A,(h-ie)/(q+1))}else O=V=0}C>At?V>At?(L=Vu(pe,ce,$,M,h,V,p),T=Vu(Q,K,F,B,h,V,p),s.moveTo(L.cx+L.x01,L.cy+L.y01),V<A?s.arc(L.cx,L.cy,V,It(L.y01,L.x01),It(T.y01,T.x01),!p):(s.arc(L.cx,L.cy,V,It(L.y01,L.x01),It(L.y11,L.x11),!p),s.arc(0,0,h,It(L.cy+L.y11,L.cx+L.x11),It(T.cy+T.y11,T.cx+T.x11),!p),s.arc(T.cx,T.cy,V,It(T.y11,T.x11),It(T.y01,T.x01),!p))):(s.moveTo($,M),s.arc(0,0,h,y,w,!p)):s.moveTo($,M),!(d>At)||!(b>At)?s.lineTo(F,B):O>At?(L=Vu(F,B,Q,K,d,-O,p),T=Vu($,M,pe,ce,d,-O,p),s.lineTo(L.cx+L.x01,L.cy+L.y01),O<A?s.arc(L.cx,L.cy,O,It(L.y01,L.x01),It(T.y01,T.x01),!p):(s.arc(L.cx,L.cy,O,It(L.y01,L.x01),It(L.y11,L.x11),!p),s.arc(0,0,d,It(L.cy+L.y11,L.cx+L.x11),It(T.cy+T.y11,T.cx+T.x11),p),s.arc(T.cx,T.cy,O,It(T.y11,T.x11),It(T.y01,T.x01),!p))):s.arc(0,0,d,E,x,p)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-$i/2;return[Or(f)*c,Kt(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:ye(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:ye(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:ye(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:ye(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:ye(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:ye(+c),u):o},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:ye(+c),u):a},u.context=function(c){return arguments.length?(s=c??null,u):s},u}var lH=Array.prototype.slice;function Wd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bk(e){this._context=e}bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qd(e){return new bk(e)}function Tv(e){return e[0]}function kv(e){return e[1]}function Mv(e,t){var n=ye(!0),r=null,i=qd,o=null,a=nu(s);e=typeof e=="function"?e:e===void 0?Tv:ye(e),t=typeof t=="function"?t:t===void 0?kv:ye(t);function s(l){var u,c=(l=Wd(l)).length,f,d=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,l),+t(f,u,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:ye(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:ye(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ye(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Ek(e,t,n){var r=null,i=ye(!0),o=null,a=qd,s=null,l=nu(u);e=typeof e=="function"?e:e===void 0?Tv:ye(+e),t=typeof t=="function"?t:ye(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?kv:ye(+n);function u(f){var d,h,m,g=(f=Wd(f)).length,v,p=!1,y,w=new Array(g),x=new Array(g);for(o==null&&(s=a(y=l())),d=0;d<=g;++d){if(!(d<g&&i(v=f[d],d,f))===p)if(p=!p)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=h;--m)s.point(w[m],x[m]);s.lineEnd(),s.areaEnd()}p&&(w[d]=+e(v,d,f),x[d]=+t(v,d,f),s.point(r?+r(v,d,f):w[d],n?+n(v,d,f):x[d]))}if(y)return s=null,y+""||null}function c(){return Mv().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ye(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ye(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ye(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ye(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ye(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ye(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ye(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}function uH(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function cH(e){return e}function fH(){var e=cH,t=uH,n=null,r=ye(0),i=ye(Pi),o=ye(0);function a(s){var l,u=(s=Wd(s)).length,c,f,d=0,h=new Array(u),m=new Array(u),g=+r.apply(this,arguments),v=Math.min(Pi,Math.max(-Pi,i.apply(this,arguments)-g)),p,y=Math.min(Math.abs(v)/u,o.apply(this,arguments)),w=y*(v<0?-1:1),x;for(l=0;l<u;++l)(x=m[h[l]=l]=+e(s[l],l,s))>0&&(d+=x);for(t!=null?h.sort(function(E,b){return t(m[E],m[b])}):n!=null&&h.sort(function(E,b){return n(s[E],s[b])}),l=0,f=d?(v-u*w)/d:0;l<u;++l,g=p)c=h[l],x=m[c],p=g+(x>0?x*f:0)+w,m[c]={data:s[c],index:l,value:x,startAngle:g,endAngle:p,padAngle:y};return m}return a.value=function(s){return arguments.length?(e=typeof s=="function"?s:ye(+s),a):e},a.sortValues=function(s){return arguments.length?(t=s,n=null,a):t},a.sort=function(s){return arguments.length?(n=s,t=null,a):n},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:ye(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:ye(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:ye(+s),a):o},a}var Ck=Dv(qd);function Tk(e){this._curve=e}Tk.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function Dv(e){function t(n){return new Tk(e(n))}return t._curve=e,t}function Ys(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(Dv(n)):t()._curve},e}function aS(){return Ys(Mv().curve(Ck))}function sS(){var e=Ek().curve(Ck),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Ys(n())},delete e.lineX0,e.lineEndAngle=function(){return Ys(r())},delete e.lineX1,e.lineInnerRadius=function(){return Ys(i())},delete e.lineY0,e.lineOuterRadius=function(){return Ys(o())},delete e.lineY1,e.curve=function(a){return arguments.length?t(Dv(a)):t()._curve},e}function zs(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}class kk{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}class dH{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{const r=zs(this._x0,this._y0),i=zs(this._x0,this._y0=(this._y0+n)/2),o=zs(t,this._y0),a=zs(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...a)}this._x0=t,this._y0=n}}function Mk(e){return new kk(e,!0)}function Dk(e){return new kk(e,!1)}function hH(e){return new dH(e)}function pH(e){return e.source}function mH(e){return e.target}function Qd(e){let t=pH,n=mH,r=Tv,i=kv,o=null,a=null,s=nu(l);function l(){let u;const c=lH.call(arguments),f=t.apply(this,c),d=n.apply(this,c);if(o==null&&(a=e(u=s())),a.lineStart(),c[0]=f,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=d,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),u)return a=null,u+""||null}return l.source=function(u){return arguments.length?(t=u,l):t},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:ye(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:ye(+u),l):i},l.context=function(u){return arguments.length?(u==null?o=a=null:a=e(o=u),l):o},l}function gH(){return Qd(Mk)}function vH(){return Qd(Dk)}function yH(){const e=Qd(hH);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const wH=ze(3),Ok={draw(e,t){const n=ze(t+Sa(t/28,.75))*.59436,r=n/2,i=r*wH;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Gd={draw(e,t){const n=ze(t/$i);e.moveTo(n,0),e.arc(0,0,n,0,Pi)}},Pk={draw(e,t){const n=ze(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Nk=ze(1/3),_H=Nk*2,Rk={draw(e,t){const n=ze(t/_H),r=n*Nk;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ik={draw(e,t){const n=ze(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Lk={draw(e,t){const n=ze(t-Sa(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},Ak={draw(e,t){const n=ze(t),r=-n/2;e.rect(r,r,n,n)}},Fk={draw(e,t){const n=ze(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},SH=.8908130915292852,$k=Kt($i/10)/Kt(7*$i/10),xH=Kt(Pi/10)*$k,bH=-Or(Pi/10)*$k,jk={draw(e,t){const n=ze(t*SH),r=xH*n,i=bH*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Pi*o/5,s=Or(a),l=Kt(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Hp=ze(3),Uk={draw(e,t){const n=-ze(t/(Hp*3));e.moveTo(0,n*2),e.lineTo(-Hp*n,-n),e.lineTo(Hp*n,-n),e.closePath()}},EH=ze(3),Hk={draw(e,t){const n=ze(t)*.6824,r=n/2,i=n*EH/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},yn=-.5,wn=ze(3)/2,Tg=1/ze(12),CH=(Tg/2+1)*3,Vk={draw(e,t){const n=ze(t/CH),r=n/2,i=n*Tg,o=r,a=n*Tg+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(yn*r-wn*i,wn*r+yn*i),e.lineTo(yn*o-wn*a,wn*o+yn*a),e.lineTo(yn*s-wn*l,wn*s+yn*l),e.lineTo(yn*r+wn*i,yn*i-wn*r),e.lineTo(yn*o+wn*a,yn*a-wn*o),e.lineTo(yn*s+wn*l,yn*l-wn*s),e.closePath()}},kg={draw(e,t){const n=ze(t-Sa(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},lS=[Gd,Pk,Rk,Ak,jk,Uk,Vk],TH=[Gd,Lk,kg,Hk,Ok,Fk,Ik];function kH(e,t){let n=null,r=nu(i);e=typeof e=="function"?e:ye(e||Gd),t=typeof t=="function"?t:ye(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ye(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ye(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ji(){}function Pf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Kd(e){this._context=e}Kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MH(e){return new Kd(e)}function Bk(e){this._context=e}Bk.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DH(e){return new Bk(e)}function Yk(e){this._context=e}Yk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OH(e){return new Yk(e)}function zk(e,t){this._basis=new Kd(e),this._beta=t}zk.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*o),this._beta*t[s]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const PH=function e(t){function n(r){return t===1?new Kd(r):new zk(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Nf(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ov(e,t){this._context=e,this._k=(1-t)/6}Ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Nf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const NH=function e(t){function n(r){return new Ov(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Pv(e,t){this._context=e,this._k=(1-t)/6}Pv.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const RH=function e(t){function n(r){return new Pv(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Nv(e,t){this._context=e,this._k=(1-t)/6}Nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const IH=function e(t){function n(r){return new Nv(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Rv(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>At){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>At){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Wk(e,t){this._context=e,this._alpha=t}Wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Rv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const LH=function e(t){function n(r){return t?new Wk(r,t):new Ov(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function qk(e,t){this._context=e,this._alpha=t}qk.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Rv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const AH=function e(t){function n(r){return t?new qk(r,t):new Pv(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Qk(e,t){this._context=e,this._alpha=t}Qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Rv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const FH=function e(t){function n(r){return t?new Qk(r,t):new Nv(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Gk(e){this._context=e}Gk.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $H(e){return new Gk(e)}function uS(e){return e<0?-1:1}function cS(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(uS(o)+uS(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function fS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Vp(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Rf(e){this._context=e}Rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vp(this,this._t0,fS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Vp(this,fS(this,n=cS(this,e,t)),n);break;default:Vp(this,this._t0,n=cS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Kk(e){this._context=new Xk(e)}(Kk.prototype=Object.create(Rf.prototype)).point=function(e,t){Rf.prototype.point.call(this,t,e)};function Xk(e){this._context=e}Xk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function jH(e){return new Rf(e)}function UH(e){return new Kk(e)}function Zk(e){this._context=e}Zk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=dS(e),i=dS(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dS(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function HH(e){return new Zk(e)}function Xd(e,t){this._context=e,this._t=t}Xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function VH(e){return new Xd(e,.5)}function BH(e){return new Xd(e,0)}function YH(e){return new Xd(e,1)}function Va(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ba(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function zH(e,t){return e[t]}function WH(e){const t=[];return t.key=e,t}function qH(){var e=ye([]),t=Ba,n=Va,r=zH;function i(o){var a=Array.from(e.apply(this,arguments),WH),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=Wd(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ye(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ye(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Ba:typeof o=="function"?o:ye(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Va,i):n},i}function QH(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Va(e,t)}}function GH(e,t){if((l=e.length)>0)for(var n,r=0,i,o,a,s,l,u=e[t[0]].length;r<u;++r)for(a=s=0,n=0;n<l;++n)(o=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}function KH(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Va(e,t)}}function XH(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],f=c[r][1]||0,d=c[r-1][1]||0,h=(f-d)/2,m=0;m<s;++m){var g=e[t[m]],v=g[r][1]||0,p=g[r-1][1]||0;h+=v-p}l+=f,u+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Va(e,t)}}function Jk(e){var t=e.map(ZH);return Ba(e).sort(function(n,r){return t[n]-t[r]})}function ZH(e){for(var t=-1,n=0,r=e.length,i,o=-1/0;++t<r;)(i=+e[t][1])>o&&(o=i,n=t);return n}function eM(e){var t=e.map(tM);return Ba(e).sort(function(n,r){return t[n]-t[r]})}function tM(e){for(var t=0,n=-1,r=e.length,i;++n<r;)(i=+e[n][1])&&(t+=i);return t}function JH(e){return eM(e).reverse()}function eV(e){var t=e.length,n,r,i=e.map(tM),o=Jk(e),a=0,s=0,l=[],u=[];for(n=0;n<t;++n)r=o[n],a<s?(a+=i[r],l.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(l)}function tV(e){return Ba(e).reverse()}const nV=Object.freeze(Object.defineProperty({__proto__:null,arc:sH,area:Ek,areaRadial:sS,curveBasis:MH,curveBasisClosed:DH,curveBasisOpen:OH,curveBumpX:Mk,curveBumpY:Dk,curveBundle:PH,curveCardinal:NH,curveCardinalClosed:RH,curveCardinalOpen:IH,curveCatmullRom:LH,curveCatmullRomClosed:AH,curveCatmullRomOpen:FH,curveLinear:qd,curveLinearClosed:$H,curveMonotoneX:jH,curveMonotoneY:UH,curveNatural:HH,curveStep:VH,curveStepAfter:YH,curveStepBefore:BH,line:Mv,lineRadial:aS,link:Qd,linkHorizontal:gH,linkRadial:yH,linkVertical:vH,pie:fH,pointRadial:zs,radialArea:sS,radialLine:aS,stack:qH,stackOffsetDiverging:GH,stackOffsetExpand:QH,stackOffsetNone:Va,stackOffsetSilhouette:KH,stackOffsetWiggle:XH,stackOrderAppearance:Jk,stackOrderAscending:eM,stackOrderDescending:JH,stackOrderInsideOut:eV,stackOrderNone:Ba,stackOrderReverse:tV,symbol:kH,symbolAsterisk:Ok,symbolCircle:Gd,symbolCross:Pk,symbolDiamond:Rk,symbolDiamond2:Ik,symbolPlus:Lk,symbolSquare:Ak,symbolSquare2:Fk,symbolStar:jk,symbolTimes:kg,symbolTriangle:Uk,symbolTriangle2:Hk,symbolWye:Vk,symbolX:kg,symbols:lS,symbolsFill:lS,symbolsStroke:TH},Symbol.toStringTag,{value:"Module"})),Zd=ii(nV);function rV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function If(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ya(e){return e=If(Math.abs(e)),e?e[1]:NaN}function iV(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function oV(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var aV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function za(e){if(!(t=aV.exec(e)))throw new Error("invalid format: "+e);var t;return new Jd({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}za.prototype=Jd.prototype;function Jd(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sV(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var nM;function lV(e,t){var n=If(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(nM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+If(e,Math.max(0,t+o-1))[0]}function hS(e,t){var n=If(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const pS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hS(e*100,t),r:hS,s:lV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function mS(e){return e}var gS=Array.prototype.map,vS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rM(e){var t=e.grouping===void 0||e.thousands===void 0?mS:iV(gS.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?mS:oV(gS.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=za(f);var d=f.fill,h=f.align,m=f.sign,g=f.symbol,v=f.zero,p=f.width,y=f.comma,w=f.precision,x=f.trim,E=f.type;E==="n"?(y=!0,E="g"):pS[E]||(w===void 0&&(w=12),x=!0,E="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var b=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",C=g==="$"?r:/[%p]/.test(E)?a:"",k=pS[E],N=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(O){var V=b,L=C,T,P,D;if(E==="c")L=k(O)+L,O="";else{O=+O;var $=O<0||1/O<0;if(O=isNaN(O)?l:k(Math.abs(O),w),x&&(O=sV(O)),$&&+O==0&&m!=="+"&&($=!1),V=($?m==="("?m:s:m==="-"||m==="("?"":m)+V,L=(E==="s"?vS[8+nM/3]:"")+L+($&&m==="("?")":""),N){for(T=-1,P=O.length;++T<P;)if(D=O.charCodeAt(T),48>D||D>57){L=(D===46?i+O.slice(T+1):O.slice(T))+L,O=O.slice(0,T);break}}}y&&!v&&(O=t(O,1/0));var M=V.length+O.length+L.length,F=M<p?new Array(p-M+1).join(d):"";switch(y&&v&&(O=t(F+O,F.length?p-L.length:1/0),F=""),h){case"<":O=V+O+L+F;break;case"=":O=V+F+O+L;break;case"^":O=F.slice(0,M=F.length>>1)+V+O+L+F.slice(M);break;default:O=F+V+O+L;break}return o(O)}return A.toString=function(){return f+""},A}function c(f,d){var h=u((f=za(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Ya(d)/3)))*3,g=Math.pow(10,-m),v=vS[8+m/3];return function(p){return h(g*p)+v}}return{format:u,formatPrefix:c}}var Bu,eh,Iv;iM({thousands:",",grouping:[3],currency:["$",""]});function iM(e){return Bu=rM(e),eh=Bu.format,Iv=Bu.formatPrefix,Bu}function oM(e){return Math.max(0,-Ya(Math.abs(e)))}function aM(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ya(t)/3)))*3-Ya(Math.abs(e)))}function sM(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ya(t)-Ya(e))+1}const uV=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:Jd,get format(){return eh},formatDefaultLocale:iM,formatLocale:rM,get formatPrefix(){return Iv},formatSpecifier:za,precisionFixed:oM,precisionPrefix:aM,precisionRound:sM},Symbol.toStringTag,{value:"Module"})),cV=ii(uV);function Ni(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Lv(e){let t,n,r;e.length!==2?(t=Ni,n=(s,l)=>Ni(e(s),l),r=(s,l)=>e(s)-l):(t=e===Ni||e===fV?e:dV,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function dV(){return 0}function lM(e){return e===null?NaN:+e}function*hV(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const pV=Lv(Ni),ru=pV.right;Lv(lM).center;class yS extends Map{constructor(t,n=vV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(wS(this,t))}has(t){return super.has(wS(this,t))}set(t,n){return super.set(mV(this,t),n)}delete(t){return super.delete(gV(this,t))}}function wS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function mV({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function gV({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function vV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function yV(e=Ni){if(e===Ni)return uM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function uM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const wV=Math.sqrt(50),_V=Math.sqrt(10),SV=Math.sqrt(2);function Lf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=wV?10:o>=_V?5:o>=SV?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?Lf(e,t,n*2):[s,l,u]}function Mg(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Lf(t,e,n):Lf(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Dg(e,t,n){return t=+t,e=+e,n=+n,Lf(e,t,n)[2]}function Og(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Dg(t,e,n):Dg(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function _S(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function SS(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function cM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?uM:yV(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/l+d)),m=Math.min(r,Math.floor(t+(l-u)*f/l+d));cM(e,t,h,m,i)}const o=e[t];let a=n,s=r;for(Ms(e,n,t),i(e[r],o)>0&&Ms(e,n,r);a<s;){for(Ms(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Ms(e,n,s):(++s,Ms(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Ms(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function xV(e,t,n){if(e=Float64Array.from(hV(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return SS(e);if(t>=1)return _S(e);var r,i=(r-1)*t,o=Math.floor(i),a=_S(cM(e,o).subarray(0,o+1)),s=SS(e.subarray(o+1));return a+(s-a)*(i-o)}}function bV(e,t,n=lM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function EV(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Fn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function si(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Pg=Symbol("implicit");function Av(){var e=new yS,t=[],n=[],r=Pg;function i(o){let a=e.get(o);if(a===void 0){if(r!==Pg)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new yS;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Av(t,n).unknown(r)},Fn.apply(i,arguments),i}function Fv(){var e=Av().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,m=h?i:r,g=h?r:i;o=(g-m)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var v=EV(d).map(function(p){return m+o*p});return n(h?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return Fv(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Fn.apply(f(),arguments)}function fM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fM(t())},e}function CV(){return fM(Fv.apply(null,arguments).paddingInner(1))}function ss(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function iu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zi(){}var ko=.7,Wa=1/ko,xa="\\s*([+-]?\\d+)\\s*",Rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TV=/^#([0-9a-f]{3,8})$/,kV=new RegExp(`^rgb\\(${xa},${xa},${xa}\\)$`),MV=new RegExp(`^rgb\\(${vr},${vr},${vr}\\)$`),DV=new RegExp(`^rgba\\(${xa},${xa},${xa},${Rl}\\)$`),OV=new RegExp(`^rgba\\(${vr},${vr},${vr},${Rl}\\)$`),PV=new RegExp(`^hsl\\(${Rl},${vr},${vr}\\)$`),NV=new RegExp(`^hsla\\(${Rl},${vr},${vr},${Rl}\\)$`),xS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ss(zi,Ui,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bS,formatHex:bS,formatHex8:RV,formatHsl:IV,formatRgb:ES,toString:ES});function bS(){return this.rgb().formatHex()}function RV(){return this.rgb().formatHex8()}function IV(){return dM(this).formatHsl()}function ES(){return this.rgb().formatRgb()}function Ui(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=TV.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?CS(t):n===3?new _t(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Yu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Yu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kV.exec(e))?new _t(t[1],t[2],t[3],1):(t=MV.exec(e))?new _t(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DV.exec(e))?Yu(t[1],t[2],t[3],t[4]):(t=OV.exec(e))?Yu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=PV.exec(e))?MS(t[1],t[2]/100,t[3]/100,1):(t=NV.exec(e))?MS(t[1],t[2]/100,t[3]/100,t[4]):xS.hasOwnProperty(e)?CS(xS[e]):e==="transparent"?new _t(NaN,NaN,NaN,0):null}function CS(e){return new _t(e>>16&255,e>>8&255,e&255,1)}function Yu(e,t,n,r){return r<=0&&(e=t=n=NaN),new _t(e,t,n,r)}function $v(e){return e instanceof zi||(e=Ui(e)),e?(e=e.rgb(),new _t(e.r,e.g,e.b,e.opacity)):new _t}function Il(e,t,n,r){return arguments.length===1?$v(e):new _t(e,t,n,r??1)}function _t(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ss(_t,Il,iu(zi,{brighter(e){return e=e==null?Wa:Math.pow(Wa,e),new _t(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ko:Math.pow(ko,e),new _t(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _t(po(this.r),po(this.g),po(this.b),Af(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TS,formatHex:TS,formatHex8:LV,formatRgb:kS,toString:kS}));function TS(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}`}function LV(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}${oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function kS(){const e=Af(this.opacity);return`${e===1?"rgb(":"rgba("}${po(this.r)}, ${po(this.g)}, ${po(this.b)}${e===1?")":`, ${e})`}`}function Af(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function po(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oo(e){return e=po(e),(e<16?"0":"")+e.toString(16)}function MS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bn(e,t,n,r)}function dM(e){if(e instanceof Bn)return new Bn(e.h,e.s,e.l,e.opacity);if(e instanceof zi||(e=Ui(e)),!e)return new Bn;if(e instanceof Bn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Bn(a,s,l,e.opacity)}function Ff(e,t,n,r){return arguments.length===1?dM(e):new Bn(e,t,n,r??1)}function Bn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ss(Bn,Ff,iu(zi,{brighter(e){return e=e==null?Wa:Math.pow(Wa,e),new Bn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ko:Math.pow(ko,e),new Bn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new _t(Bp(e>=240?e-240:e+120,i,r),Bp(e,i,r),Bp(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Bn(DS(this.h),zu(this.s),zu(this.l),Af(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Af(this.opacity);return`${e===1?"hsl(":"hsla("}${DS(this.h)}, ${zu(this.s)*100}%, ${zu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function DS(e){return e=(e||0)%360,e<0?e+360:e}function zu(e){return Math.max(0,Math.min(1,e||0))}function Bp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const hM=Math.PI/180,pM=180/Math.PI,$f=18,mM=.96422,gM=1,vM=.82521,yM=4/29,ba=6/29,wM=3*ba*ba,AV=ba*ba*ba;function _M(e){if(e instanceof Wn)return new Wn(e.l,e.a,e.b,e.opacity);if(e instanceof ur)return xM(e);e instanceof _t||(e=$v(e));var t=qp(e.r),n=qp(e.g),r=qp(e.b),i=Yp((.2225045*t+.7168786*n+.0606169*r)/gM),o,a;return t===n&&n===r?o=a=i:(o=Yp((.4360747*t+.3850649*n+.1430804*r)/mM),a=Yp((.0139322*t+.0971045*n+.7141733*r)/vM)),new Wn(116*i-16,500*(o-i),200*(i-a),e.opacity)}function FV(e,t){return new Wn(e,0,0,t??1)}function jf(e,t,n,r){return arguments.length===1?_M(e):new Wn(e,t,n,r??1)}function Wn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}ss(Wn,jf,iu(zi,{brighter(e){return new Wn(this.l+$f*(e??1),this.a,this.b,this.opacity)},darker(e){return new Wn(this.l-$f*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=mM*zp(t),e=gM*zp(e),n=vM*zp(n),new _t(Wp(3.1338561*t-1.6168667*e-.4906146*n),Wp(-.9787684*t+1.9161415*e+.033454*n),Wp(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Yp(e){return e>AV?Math.pow(e,1/3):e/wM+yM}function zp(e){return e>ba?e*e*e:wM*(e-yM)}function Wp(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function qp(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function SM(e){if(e instanceof ur)return new ur(e.h,e.c,e.l,e.opacity);if(e instanceof Wn||(e=_M(e)),e.a===0&&e.b===0)return new ur(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*pM;return new ur(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function $V(e,t,n,r){return arguments.length===1?SM(e):new ur(n,t,e,r??1)}function Uf(e,t,n,r){return arguments.length===1?SM(e):new ur(e,t,n,r??1)}function ur(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function xM(e){if(isNaN(e.h))return new Wn(e.l,0,0,e.opacity);var t=e.h*hM;return new Wn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ss(ur,Uf,iu(zi,{brighter(e){return new ur(this.h,this.c,this.l+$f*(e??1),this.opacity)},darker(e){return new ur(this.h,this.c,this.l-$f*(e??1),this.opacity)},rgb(){return xM(this).rgb()}}));var bM=-.14861,jv=1.78277,Uv=-.29227,th=-.90649,Ll=1.97294,OS=Ll*th,PS=Ll*jv,NS=jv*Uv-th*bM;function jV(e){if(e instanceof mo)return new mo(e.h,e.s,e.l,e.opacity);e instanceof _t||(e=$v(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(NS*r+OS*t-PS*n)/(NS+OS-PS),o=r-i,a=(Ll*(n-i)-Uv*o)/th,s=Math.sqrt(a*a+o*o)/(Ll*i*(1-i)),l=s?Math.atan2(a,o)*pM-120:NaN;return new mo(l<0?l+360:l,s,i,e.opacity)}function Hf(e,t,n,r){return arguments.length===1?jV(e):new mo(e,t,n,r??1)}function mo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ss(mo,Hf,iu(zi,{brighter(e){return e=e==null?Wa:Math.pow(Wa,e),new mo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ko:Math.pow(ko,e),new mo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*hM,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new _t(255*(t+n*(bM*r+jv*i)),255*(t+n*(Uv*r+th*i)),255*(t+n*(Ll*r)),this.opacity)}}));const UV=Object.freeze(Object.defineProperty({__proto__:null,color:Ui,cubehelix:Hf,gray:FV,hcl:Uf,hsl:Ff,lab:jf,lch:$V,rgb:Il},Symbol.toStringTag,{value:"Module"}));function EM(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function CM(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return EM((n-r/t)*t,a,i,o,s)}}function TM(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return EM((n-r/t)*t,i,o,a,s)}}const nh=e=>()=>e;function kM(e,t){return function(n){return e+n*t}}function HV(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function rh(e,t){var n=t-e;return n?kM(e,n>180||n<-180?n-360*Math.round(n/360):n):nh(isNaN(e)?t:e)}function VV(e){return(e=+e)==1?St:function(t,n){return n-t?HV(t,n,e):nh(isNaN(t)?n:t)}}function St(e,t){var n=t-e;return n?kM(e,n):nh(isNaN(e)?t:e)}const Al=function e(t){var n=VV(t);function r(i,o){var a=n((i=Il(i)).r,(o=Il(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=St(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function MM(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Il(t[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=e(r),i=e(i),o=e(o),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=o(l),s+""}}}var BV=MM(CM),YV=MM(TM);function Hv(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function DM(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zV(e,t){return(DM(t)?Hv:OM)(e,t)}function OM(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=$o(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function PM(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Tn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function NM(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=$o(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ng=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qp=new RegExp(Ng.source,"g");function WV(e){return function(){return e}}function qV(e){return function(t){return e(t)+""}}function Vv(e,t){var n=Ng.lastIndex=Qp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Ng.exec(e))&&(i=Qp.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Tn(r,i)})),n=Qp.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?qV(l[0].x):WV(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function $o(e,t){var n=typeof t,r;return t==null||n==="boolean"?nh(t):(n==="number"?Tn:n==="string"?(r=Ui(t))?(t=r,Al):Vv:t instanceof Ui?Al:t instanceof Date?PM:DM(t)?Hv:Array.isArray(t)?OM:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?NM:Tn)(e,t)}function QV(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function GV(e,t){var n=rh(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ih(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var RS=180/Math.PI,Rg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RM(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*RS,skewX:Math.atan(l)*RS,scaleX:a,scaleY:s}}var Wu;function KV(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Rg:RM(t.a,t.b,t.c,t.d,t.e,t.f)}function XV(e){return e==null||(Wu||(Wu=document.createElementNS("http://www.w3.org/2000/svg","g")),Wu.setAttribute("transform",e),!(e=Wu.transform.baseVal.consolidate()))?Rg:(e=e.matrix,RM(e.a,e.b,e.c,e.d,e.e,e.f))}function IM(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,m){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);m.push({i:g-4,x:Tn(u,f)},{i:g-2,x:Tn(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Tn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Tn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,m){if(u!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");m.push({i:g-4,x:Tn(u,f)},{i:g-2,x:Tn(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var m=-1,g=d.length,v;++m<g;)f[(v=d[m]).i]=v.x(h);return f.join("")}}}var LM=IM(KV,"px, ","px)","deg)"),AM=IM(XV,", ",")",")"),ZV=1e-12;function IS(e){return((e=Math.exp(e))+1/e)/2}function JV(e){return((e=Math.exp(e))-1/e)/2}function eB(e){return((e=Math.exp(2*e))-1)/(e+1)}const FM=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],f=a[1],d=a[2],h=c-s,m=f-l,g=h*h+m*m,v,p;if(g<ZV)p=Math.log(d/u)/t,v=function(C){return[s+C*h,l+C*m,u*Math.exp(t*C*p)]};else{var y=Math.sqrt(g),w=(d*d-u*u+r*g)/(2*u*n*y),x=(d*d-u*u-r*g)/(2*d*n*y),E=Math.log(Math.sqrt(w*w+1)-w),b=Math.log(Math.sqrt(x*x+1)-x);p=(b-E)/t,v=function(C){var k=C*p,N=IS(E),A=u/(n*y)*(N*eB(t*k+E)-JV(E));return[s+A*h,l+A*m,u*N/IS(t*k+E)]}}return v.duration=p*1e3*t/Math.SQRT2,v}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);function $M(e){return function(t,n){var r=e((t=Ff(t)).h,(n=Ff(n)).h),i=St(t.s,n.s),o=St(t.l,n.l),a=St(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const tB=$M(rh);var nB=$M(St);function rB(e,t){var n=St((e=jf(e)).l,(t=jf(t)).l),r=St(e.a,t.a),i=St(e.b,t.b),o=St(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function jM(e){return function(t,n){var r=e((t=Uf(t)).h,(n=Uf(n)).h),i=St(t.c,n.c),o=St(t.l,n.l),a=St(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const iB=jM(rh);var oB=jM(St);function UM(e){return function t(n){n=+n;function r(i,o){var a=e((i=Hf(i)).h,(o=Hf(o)).h),s=St(i.s,o.s),l=St(i.l,o.l),u=St(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=s(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const aB=UM(rh);var sB=UM(St);function HM(e,t){t===void 0&&(t=e,e=$o);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function lB(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const uB=Object.freeze(Object.defineProperty({__proto__:null,interpolate:$o,interpolateArray:zV,interpolateBasis:CM,interpolateBasisClosed:TM,interpolateCubehelix:aB,interpolateCubehelixLong:sB,interpolateDate:PM,interpolateDiscrete:QV,interpolateHcl:iB,interpolateHclLong:oB,interpolateHsl:tB,interpolateHslLong:nB,interpolateHue:GV,interpolateLab:rB,interpolateNumber:Tn,interpolateNumberArray:Hv,interpolateObject:NM,interpolateRgb:Al,interpolateRgbBasis:BV,interpolateRgbBasisClosed:YV,interpolateRound:ih,interpolateString:Vv,interpolateTransformCss:LM,interpolateTransformSvg:AM,interpolateZoom:FM,piecewise:HM,quantize:lB},Symbol.toStringTag,{value:"Module"}));function cB(e){return function(){return e}}function Vf(e){return+e}var LS=[0,1];function zt(e){return e}function Ig(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cB(isNaN(t)?NaN:.5)}function fB(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function dB(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Ig(i,r),o=n(a,o)):(r=Ig(r,i),o=n(o,a)),function(s){return o(r(s))}}function hB(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Ig(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=ru(e,s,1,r)-1;return o[l](i[l](s))}}function ou(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function oh(){var e=LS,t=LS,n=$o,r,i,o,a=zt,s,l,u;function c(){var d=Math.min(e.length,t.length);return a!==zt&&(a=fB(e[0],e[d-1])),s=d>2?hB:dB,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(e.map(r),t,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(t,e.map(r),Tn)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Vf),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=ih,c()},f.clamp=function(d){return arguments.length?(a=d?!0:zt,c()):a!==zt},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function Bv(){return oh()(zt,zt)}function VM(e,t,n,r){var i=Og(e,t,n),o;switch(r=za(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=aM(i,a))&&(r.precision=o),Iv(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=sM(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=oM(i))&&(r.precision=o-(r.type==="%")*2);break}}return eh(r)}function Wi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Mg(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return VM(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Dg(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function BM(){var e=Bv();return e.copy=function(){return ou(e,BM())},Fn.apply(e,arguments),Wi(e)}function YM(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Vf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return YM(e).unknown(t)},e=arguments.length?Array.from(e,Vf):[0,1],Wi(n)}function zM(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function AS(e){return Math.log(e)}function FS(e){return Math.exp(e)}function pB(e){return-Math.log(-e)}function mB(e){return-Math.exp(-e)}function gB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vB(e){return e===10?gB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $S(e){return(t,n)=>-e(-t,n)}function Yv(e){const t=e(AS,FS),n=t.domain;let r=10,i,o;function a(){return i=yB(r),o=vB(r),n()[0]<0?(i=$S(i),o=$S(o),e(pB,mB)):e(AS,FS),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),h=i(c),m,g;const v=s==null?10:+s;let p=[];if(!(r%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;p.push(g)}}else for(;d<=h;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;p.push(g)}p.length*2<v&&(p=Mg(u,c,v))}else p=Mg(d,h,Math.min(h-d,v)).map(o);return f?p.reverse():p},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=za(l)).precision==null&&(l.trim=!0),l=eh(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(zM(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function WM(){const e=Yv(oh()).domain([1,10]);return e.copy=()=>ou(e,WM()).base(e.base()),Fn.apply(e,arguments),e}function jS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function US(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zv(e){var t=1,n=e(jS(t),US(t));return n.constant=function(r){return arguments.length?e(jS(t=+r),US(t)):t},Wi(n)}function qM(){var e=zv(oh());return e.copy=function(){return ou(e,qM()).constant(e.constant())},Fn.apply(e,arguments)}function HS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _B(e){return e<0?-e*e:e*e}function Wv(e){var t=e(zt,zt),n=1;function r(){return n===1?e(zt,zt):n===.5?e(wB,_B):e(HS(n),HS(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Wi(t)}function qv(){var e=Wv(oh());return e.copy=function(){return ou(e,qv()).exponent(e.exponent())},Fn.apply(e,arguments),e}function SB(){return qv.apply(null,arguments).exponent(.5)}function VS(e){return Math.sign(e)*e*e}function xB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function QM(){var e=Bv(),t=[0,1],n=!1,r;function i(o){var a=xB(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(VS(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Vf)).map(VS)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return QM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Fn.apply(i,arguments),Wi(i)}function GM(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=bV(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[ru(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ni),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return GM().domain(e).range(t).unknown(r)},Fn.apply(o,arguments)}function KM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[ru(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return KM().domain([e,t]).range(i).unknown(o)},Fn.apply(Wi(a),arguments)}function XM(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[ru(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return XM().domain(e).range(t).unknown(n)},Fn.apply(i,arguments)}const Gp=new Date,Kp=new Date;function pt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>pt(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Gp.setTime(+o),Kp.setTime(+a),e(Gp),e(Kp),Math.floor(n(Gp,Kp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Bf=pt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Bf);Bf.range;const $r=1e3,Dn=$r*60,jr=Dn*60,ei=jr*24,Qv=ei*7,BS=ei*30,Xp=ei*365,ao=pt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getUTCSeconds());ao.range;const Gv=pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$r)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getMinutes());Gv.range;const Kv=pt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCMinutes());Kv.range;const Xv=pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$r-e.getMinutes()*Dn)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getHours());Xv.range;const Zv=pt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getUTCHours());Zv.range;const au=pt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/ei,e=>e.getDate()-1);au.range;const ah=pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ei,e=>e.getUTCDate()-1);ah.range;const ZM=pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ei,e=>Math.floor(e/ei));ZM.range;function jo(e){return pt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/Qv)}const sh=jo(0),Yf=jo(1),bB=jo(2),EB=jo(3),qa=jo(4),CB=jo(5),TB=jo(6);sh.range;Yf.range;bB.range;EB.range;qa.range;CB.range;TB.range;function Uo(e){return pt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Qv)}const lh=Uo(0),zf=Uo(1),kB=Uo(2),MB=Uo(3),Qa=Uo(4),DB=Uo(5),OB=Uo(6);lh.range;zf.range;kB.range;MB.range;Qa.range;DB.range;OB.range;const Jv=pt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Jv.range;const ey=pt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ey.range;const ti=pt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ti.range;const ni=pt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ni.range;function JM(e,t,n,r,i,o){const a=[[ao,1,$r],[ao,5,5*$r],[ao,15,15*$r],[ao,30,30*$r],[o,1,Dn],[o,5,5*Dn],[o,15,15*Dn],[o,30,30*Dn],[i,1,jr],[i,3,3*jr],[i,6,6*jr],[i,12,12*jr],[r,1,ei],[r,2,2*ei],[n,1,Qv],[t,1,BS],[t,3,3*BS],[e,1,Xp]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),m=h?h.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,h=Lv(([,,v])=>v).right(a,d);if(h===a.length)return e.every(Og(u/Xp,c/Xp,f));if(h===0)return Bf.every(Math.max(Og(u,c,f),1));const[m,g]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return m.every(g)}return[s,l]}const[PB,NB]=JM(ni,ey,lh,ZM,Zv,Kv),[RB,IB]=JM(ti,Jv,sh,au,Xv,Gv);function Zp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ds(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function LB(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Os(i),c=Ps(i),f=Os(o),d=Ps(o),h=Os(a),m=Ps(a),g=Os(s),v=Ps(s),p=Os(l),y=Ps(l),w={a:$,A:M,b:F,B,c:null,d:GS,e:GS,f:iY,g:pY,G:gY,H:tY,I:nY,j:rY,L:eD,m:oY,M:aY,p:Q,q:K,Q:ZS,s:JS,S:sY,u:lY,U:uY,V:cY,w:fY,W:dY,x:null,X:null,y:hY,Y:mY,Z:vY,"%":XS},x={a:pe,A:ce,b:re,B:me,c:null,d:KS,e:KS,f:SY,g:PY,G:RY,H:yY,I:wY,j:_Y,L:nD,m:xY,M:bY,p:de,q:Y,Q:ZS,s:JS,S:EY,u:CY,U:TY,V:kY,w:MY,W:DY,x:null,X:null,y:OY,Y:NY,Z:IY,"%":XS},E={a:A,A:O,b:V,B:L,c:T,d:qS,e:qS,f:XB,g:WS,G:zS,H:QS,I:QS,j:qB,L:KB,m:WB,M:QB,p:N,q:zB,Q:JB,s:eY,S:GB,u:UB,U:HB,V:VB,w:jB,W:BB,x:P,X:D,y:WS,Y:zS,Z:YB,"%":ZB};w.x=b(n,w),w.X=b(r,w),w.c=b(t,w),x.x=b(n,x),x.X=b(r,x),x.c=b(t,x);function b(R,q){return function(ie){var H=[],ge=-1,G=0,W=R.length,J,Te,ct;for(ie instanceof Date||(ie=new Date(+ie));++ge<W;)R.charCodeAt(ge)===37&&(H.push(R.slice(G,ge)),(Te=YS[J=R.charAt(++ge)])!=null?J=R.charAt(++ge):Te=J==="e"?" ":"0",(ct=q[J])&&(J=ct(ie,Te)),H.push(J),G=ge+1);return H.push(R.slice(G,ge)),H.join("")}}function C(R,q){return function(ie){var H=Ds(1900,void 0,1),ge=k(H,R,ie+="",0),G,W;if(ge!=ie.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(q&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(G=Jp(Ds(H.y,0,1)),W=G.getUTCDay(),G=W>4||W===0?zf.ceil(G):zf(G),G=ah.offset(G,(H.V-1)*7),H.y=G.getUTCFullYear(),H.m=G.getUTCMonth(),H.d=G.getUTCDate()+(H.w+6)%7):(G=Zp(Ds(H.y,0,1)),W=G.getDay(),G=W>4||W===0?Yf.ceil(G):Yf(G),G=au.offset(G,(H.V-1)*7),H.y=G.getFullYear(),H.m=G.getMonth(),H.d=G.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),W="Z"in H?Jp(Ds(H.y,0,1)).getUTCDay():Zp(Ds(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(W+5)%7:H.w+H.U*7-(W+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Jp(H)):Zp(H)}}function k(R,q,ie,H){for(var ge=0,G=q.length,W=ie.length,J,Te;ge<G;){if(H>=W)return-1;if(J=q.charCodeAt(ge++),J===37){if(J=q.charAt(ge++),Te=E[J in YS?q.charAt(ge++):J],!Te||(H=Te(R,ie,H))<0)return-1}else if(J!=ie.charCodeAt(H++))return-1}return H}function N(R,q,ie){var H=u.exec(q.slice(ie));return H?(R.p=c.get(H[0].toLowerCase()),ie+H[0].length):-1}function A(R,q,ie){var H=h.exec(q.slice(ie));return H?(R.w=m.get(H[0].toLowerCase()),ie+H[0].length):-1}function O(R,q,ie){var H=f.exec(q.slice(ie));return H?(R.w=d.get(H[0].toLowerCase()),ie+H[0].length):-1}function V(R,q,ie){var H=p.exec(q.slice(ie));return H?(R.m=y.get(H[0].toLowerCase()),ie+H[0].length):-1}function L(R,q,ie){var H=g.exec(q.slice(ie));return H?(R.m=v.get(H[0].toLowerCase()),ie+H[0].length):-1}function T(R,q,ie){return k(R,t,q,ie)}function P(R,q,ie){return k(R,n,q,ie)}function D(R,q,ie){return k(R,r,q,ie)}function $(R){return a[R.getDay()]}function M(R){return o[R.getDay()]}function F(R){return l[R.getMonth()]}function B(R){return s[R.getMonth()]}function Q(R){return i[+(R.getHours()>=12)]}function K(R){return 1+~~(R.getMonth()/3)}function pe(R){return a[R.getUTCDay()]}function ce(R){return o[R.getUTCDay()]}function re(R){return l[R.getUTCMonth()]}function me(R){return s[R.getUTCMonth()]}function de(R){return i[+(R.getUTCHours()>=12)]}function Y(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var q=b(R+="",w);return q.toString=function(){return R},q},parse:function(R){var q=C(R+="",!1);return q.toString=function(){return R},q},utcFormat:function(R){var q=b(R+="",x);return q.toString=function(){return R},q},utcParse:function(R){var q=C(R+="",!0);return q.toString=function(){return R},q}}}var YS={"-":"",_:" ",0:"0"},Tt=/^\s*\d+/,AB=/^%/,FB=/[\\^$*+?|[\]().{}]/g;function Oe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function $B(e){return e.replace(FB,"\\$&")}function Os(e){return new RegExp("^(?:"+e.map($B).join("|")+")","i")}function Ps(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function jB(e,t,n){var r=Tt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function UB(e,t,n){var r=Tt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function HB(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function VB(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function BB(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function zS(e,t,n){var r=Tt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function WS(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function YB(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function zB(e,t,n){var r=Tt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function WB(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qS(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function qB(e,t,n){var r=Tt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function QS(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function QB(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function GB(e,t,n){var r=Tt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function KB(e,t,n){var r=Tt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function XB(e,t,n){var r=Tt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ZB(e,t,n){var r=AB.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function JB(e,t,n){var r=Tt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function eY(e,t,n){var r=Tt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function GS(e,t){return Oe(e.getDate(),t,2)}function tY(e,t){return Oe(e.getHours(),t,2)}function nY(e,t){return Oe(e.getHours()%12||12,t,2)}function rY(e,t){return Oe(1+au.count(ti(e),e),t,3)}function eD(e,t){return Oe(e.getMilliseconds(),t,3)}function iY(e,t){return eD(e,t)+"000"}function oY(e,t){return Oe(e.getMonth()+1,t,2)}function aY(e,t){return Oe(e.getMinutes(),t,2)}function sY(e,t){return Oe(e.getSeconds(),t,2)}function lY(e){var t=e.getDay();return t===0?7:t}function uY(e,t){return Oe(sh.count(ti(e)-1,e),t,2)}function tD(e){var t=e.getDay();return t>=4||t===0?qa(e):qa.ceil(e)}function cY(e,t){return e=tD(e),Oe(qa.count(ti(e),e)+(ti(e).getDay()===4),t,2)}function fY(e){return e.getDay()}function dY(e,t){return Oe(Yf.count(ti(e)-1,e),t,2)}function hY(e,t){return Oe(e.getFullYear()%100,t,2)}function pY(e,t){return e=tD(e),Oe(e.getFullYear()%100,t,2)}function mY(e,t){return Oe(e.getFullYear()%1e4,t,4)}function gY(e,t){var n=e.getDay();return e=n>=4||n===0?qa(e):qa.ceil(e),Oe(e.getFullYear()%1e4,t,4)}function vY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oe(t/60|0,"0",2)+Oe(t%60,"0",2)}function KS(e,t){return Oe(e.getUTCDate(),t,2)}function yY(e,t){return Oe(e.getUTCHours(),t,2)}function wY(e,t){return Oe(e.getUTCHours()%12||12,t,2)}function _Y(e,t){return Oe(1+ah.count(ni(e),e),t,3)}function nD(e,t){return Oe(e.getUTCMilliseconds(),t,3)}function SY(e,t){return nD(e,t)+"000"}function xY(e,t){return Oe(e.getUTCMonth()+1,t,2)}function bY(e,t){return Oe(e.getUTCMinutes(),t,2)}function EY(e,t){return Oe(e.getUTCSeconds(),t,2)}function CY(e){var t=e.getUTCDay();return t===0?7:t}function TY(e,t){return Oe(lh.count(ni(e)-1,e),t,2)}function rD(e){var t=e.getUTCDay();return t>=4||t===0?Qa(e):Qa.ceil(e)}function kY(e,t){return e=rD(e),Oe(Qa.count(ni(e),e)+(ni(e).getUTCDay()===4),t,2)}function MY(e){return e.getUTCDay()}function DY(e,t){return Oe(zf.count(ni(e)-1,e),t,2)}function OY(e,t){return Oe(e.getUTCFullYear()%100,t,2)}function PY(e,t){return e=rD(e),Oe(e.getUTCFullYear()%100,t,2)}function NY(e,t){return Oe(e.getUTCFullYear()%1e4,t,4)}function RY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Qa(e):Qa.ceil(e),Oe(e.getUTCFullYear()%1e4,t,4)}function IY(){return"+0000"}function XS(){return"%"}function ZS(e){return+e}function JS(e){return Math.floor(+e/1e3)}var Wo,iD,oD;LY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LY(e){return Wo=LB(e),iD=Wo.format,Wo.parse,oD=Wo.utcFormat,Wo.utcParse,Wo}function AY(e){return new Date(e)}function FY(e){return e instanceof Date?+e:+new Date(+e)}function ty(e,t,n,r,i,o,a,s,l,u){var c=Bv(),f=c.invert,d=c.domain,h=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),p=u("%a %d"),y=u("%b %d"),w=u("%B"),x=u("%Y");function E(b){return(l(b)<b?h:s(b)<b?m:a(b)<b?g:o(b)<b?v:r(b)<b?i(b)<b?p:y:n(b)<b?w:x)(b)}return c.invert=function(b){return new Date(f(b))},c.domain=function(b){return arguments.length?d(Array.from(b,FY)):d().map(AY)},c.ticks=function(b){var C=d();return e(C[0],C[C.length-1],b??10)},c.tickFormat=function(b,C){return C==null?E:u(C)},c.nice=function(b){var C=d();return(!b||typeof b.range!="function")&&(b=t(C[0],C[C.length-1],b??10)),b?d(zM(C,b)):c},c.copy=function(){return ou(c,ty(e,t,n,r,i,o,a,s,l,u))},c}function $Y(){return Fn.apply(ty(RB,IB,ti,Jv,sh,au,Xv,Gv,ao,iD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jY(){return Fn.apply(ty(PB,NB,ni,ey,lh,ah,Zv,Kv,ao,oD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uh(){var e=0,t=1,n,r,i,o,a=zt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(d){var h,m;return arguments.length?([h,m]=d,a=f(h,m),u):[a(0),a(1)]}}return u.range=c($o),u.rangeRound=c(ih),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function aD(){var e=Wi(uh()(zt));return e.copy=function(){return qi(e,aD())},si.apply(e,arguments)}function sD(){var e=Yv(uh()).domain([1,10]);return e.copy=function(){return qi(e,sD()).base(e.base())},si.apply(e,arguments)}function lD(){var e=zv(uh());return e.copy=function(){return qi(e,lD()).constant(e.constant())},si.apply(e,arguments)}function ny(){var e=Wv(uh());return e.copy=function(){return qi(e,ny()).exponent(e.exponent())},si.apply(e,arguments)}function UY(){return ny.apply(null,arguments).exponent(.5)}function uD(){var e=[],t=zt;function n(r){if(r!=null&&!isNaN(r=+r))return t((ru(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ni),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>xV(e,o/r))},n.copy=function(){return uD(t).domain(e)},si.apply(n,arguments)}function ch(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=zt,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function m(g){return function(v){var p,y,w;return arguments.length?([p,y,w]=v,u=HM(g,[p,y,w]),h):[u(0),u(.5),u(1)]}}return h.range=m($o),h.rangeRound=m(ih),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,i=g(e),o=g(t),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function cD(){var e=Wi(ch()(zt));return e.copy=function(){return qi(e,cD())},si.apply(e,arguments)}function fD(){var e=Yv(ch()).domain([.1,1,10]);return e.copy=function(){return qi(e,fD()).base(e.base())},si.apply(e,arguments)}function dD(){var e=zv(ch());return e.copy=function(){return qi(e,dD()).constant(e.constant())},si.apply(e,arguments)}function ry(){var e=Wv(ch());return e.copy=function(){return qi(e,ry()).exponent(e.exponent())},si.apply(e,arguments)}function HY(){return ry.apply(null,arguments).exponent(.5)}const VY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fv,scaleDiverging:cD,scaleDivergingLog:fD,scaleDivergingPow:ry,scaleDivergingSqrt:HY,scaleDivergingSymlog:dD,scaleIdentity:YM,scaleImplicit:Pg,scaleLinear:BM,scaleLog:WM,scaleOrdinal:Av,scalePoint:CV,scalePow:qv,scaleQuantile:GM,scaleQuantize:KM,scaleRadial:QM,scaleSequential:aD,scaleSequentialLog:sD,scaleSequentialPow:ny,scaleSequentialQuantile:uD,scaleSequentialSqrt:UY,scaleSequentialSymlog:lD,scaleSqrt:SB,scaleSymlog:qM,scaleThreshold:XM,scaleTime:$Y,scaleUtc:jY,tickFormat:VM},Symbol.toStringTag,{value:"Module"})),BY=ii(VY);function YY(e){return e}var Ec=1,Cc=2,Lg=3,Ws=4,ex=1e-6;function zY(e){return"translate("+e+",0)"}function WY(e){return"translate(0,"+e+")"}function qY(e){return t=>+e(t)}function QY(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function GY(){return!this.__axis}function fh(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Ec||e===Ws?-1:1,c=e===Ws||e===Cc?"x":"y",f=e===Ec||e===Lg?zY:WY;function d(h){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):YY),v=Math.max(o,0)+s,p=t.range(),y=+p[0]+l,w=+p[p.length-1]+l,x=(t.bandwidth?QY:qY)(t.copy(),l),E=h.selection?h.selection():h,b=E.selectAll(".domain").data([null]),C=E.selectAll(".tick").data(m,t).order(),k=C.exit(),N=C.enter().append("g").attr("class","tick"),A=C.select("line"),O=C.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(N),A=A.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),O=O.merge(N.append("text").attr("fill","currentColor").attr(c,u*v).attr("dy",e===Ec?"0em":e===Lg?"0.71em":"0.32em")),h!==E&&(b=b.transition(h),C=C.transition(h),A=A.transition(h),O=O.transition(h),k=k.transition(h).attr("opacity",ex).attr("transform",function(V){return isFinite(V=x(V))?f(V+l):this.getAttribute("transform")}),N.attr("opacity",ex).attr("transform",function(V){var L=this.parentNode.__axis;return f((L&&isFinite(L=L(V))?L:x(V))+l)})),k.remove(),b.attr("d",e===Ws||e===Cc?a?"M"+u*a+","+y+"H"+l+"V"+w+"H"+u*a:"M"+l+","+y+"V"+w:a?"M"+y+","+u*a+"V"+l+"H"+w+"V"+u*a:"M"+y+","+l+"H"+w),C.attr("opacity",1).attr("transform",function(V){return f(x(V)+l)}),A.attr(c+"2",u*o),O.attr(c,u*v).text(g),E.filter(GY).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Cc?"start":e===Ws?"end":"middle"),E.each(function(){this.__axis=x})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=a=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(l=+h,d):l},d}function KY(e){return fh(Ec,e)}function XY(e){return fh(Cc,e)}function ZY(e){return fh(Lg,e)}function JY(e){return fh(Ws,e)}const ez=Object.freeze(Object.defineProperty({__proto__:null,axisBottom:ZY,axisLeft:JY,axisRight:XY,axisTop:KY},Symbol.toStringTag,{value:"Module"})),tz=ii(ez);var nz={value:()=>{}};function iy(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Tc(n)}function Tc(e){this._=e}function rz(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Tc.prototype=iy.prototype={constructor:Tc,on:function(e,t){var n=this._,r=rz(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=iz(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=tx(n[i],e.name,t);else if(t==null)for(i in n)n[i]=tx(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Tc(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function iz(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function tx(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=nz,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ag="http://www.w3.org/1999/xhtml";const Fg={svg:"http://www.w3.org/2000/svg",xhtml:Ag,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function su(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Fg.hasOwnProperty(t)?{space:Fg[t],local:e}:e}function oz(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ag&&t.documentElement.namespaceURI===Ag?t.createElement(e):t.createElementNS(n,e)}}function az(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dh(e){var t=su(e);return(t.local?az:oz)(t)}function sz(){}function hh(e){return e==null?sz:function(){return this.querySelector(e)}}function lz(e){typeof e!="function"&&(e=hh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new qt(r,this._parents)}function hD(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function uz(){return[]}function oy(e){return e==null?uz:function(){return this.querySelectorAll(e)}}function cz(e){return function(){return hD(e.apply(this,arguments))}}function fz(e){typeof e=="function"?e=cz(e):e=oy(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),i.push(l));return new qt(r,i)}function ay(e){return function(){return this.matches(e)}}function pD(e){return function(t){return t.matches(e)}}var dz=Array.prototype.find;function hz(e){return function(){return dz.call(this.children,e)}}function pz(){return this.firstElementChild}function mz(e){return this.select(e==null?pz:hz(typeof e=="function"?e:pD(e)))}var gz=Array.prototype.filter;function vz(){return Array.from(this.children)}function yz(e){return function(){return gz.call(this.children,e)}}function wz(e){return this.selectAll(e==null?vz:yz(typeof e=="function"?e:pD(e)))}function _z(e){typeof e!="function"&&(e=ay(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new qt(r,this._parents)}function mD(e){return new Array(e.length)}function Sz(){return new qt(this._enter||this._groups.map(mD),this._parents)}function Wf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Wf.prototype={constructor:Wf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function xz(e){return function(){return e}}function bz(e,t,n,r,i,o){for(var a=0,s,l=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Wf(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function Ez(e,t,n,r,i,o,a){var s,l,u=new Map,c=t.length,f=o.length,d=new Array(c),h;for(s=0;s<c;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",u.has(h)?i[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(l=u.get(h))?(r[s]=l,l.__data__=o[s],u.delete(h)):n[s]=new Wf(e,o[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(d[s])===l&&(i[s]=l)}function Cz(e){return e.__data__}function Tz(e,t){if(!arguments.length)return Array.from(this,Cz);var n=t?Ez:bz,r=this._parents,i=this._groups;typeof e!="function"&&(e=xz(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=kz(e.call(c,c&&c.__data__,u,r)),m=h.length,g=s[u]=new Array(m),v=a[u]=new Array(m),p=l[u]=new Array(d);n(c,f,g,v,p,h,t);for(var y=0,w=0,x,E;y<m;++y)if(x=g[y]){for(y>=w&&(w=y+1);!(E=v[w])&&++w<m;);x._next=E||null}}return a=new qt(a,r),a._enter=s,a._exit=l,a}function kz(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Mz(){return new qt(this._exit||this._groups.map(mD),this._parents)}function Dz(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Oz(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),h,m=0;m<f;++m)(h=u[m]||c[m])&&(d[m]=h);for(;l<i;++l)s[l]=n[l];return new qt(s,this._parents)}function Pz(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Nz(e){e||(e=Rz);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new qt(i,this._parents).order()}function Rz(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Iz(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Lz(){return Array.from(this)}function Az(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Fz(){let e=0;for(const t of this)++e;return e}function $z(){return!this.node()}function jz(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function Uz(e){return function(){this.removeAttribute(e)}}function Hz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Vz(e,t){return function(){this.setAttribute(e,t)}}function Bz(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Yz(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function zz(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Wz(e,t){var n=su(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Hz:Uz:typeof t=="function"?n.local?zz:Yz:n.local?Bz:Vz)(n,t))}function sy(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qz(e){return function(){this.style.removeProperty(e)}}function Qz(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Gz(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Kz(e,t,n){return arguments.length>1?this.each((t==null?qz:typeof t=="function"?Gz:Qz)(e,t,n??"")):Mo(this.node(),e)}function Mo(e,t){return e.style.getPropertyValue(t)||sy(e).getComputedStyle(e,null).getPropertyValue(t)}function Xz(e){return function(){delete this[e]}}function Zz(e,t){return function(){this[e]=t}}function Jz(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function e7(e,t){return arguments.length>1?this.each((t==null?Xz:typeof t=="function"?Jz:Zz)(e,t)):this.node()[e]}function gD(e){return e.trim().split(/^|\s+/)}function ly(e){return e.classList||new vD(e)}function vD(e){this._node=e,this._names=gD(e.getAttribute("class")||"")}vD.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function yD(e,t){for(var n=ly(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function wD(e,t){for(var n=ly(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function t7(e){return function(){yD(this,e)}}function n7(e){return function(){wD(this,e)}}function r7(e,t){return function(){(t.apply(this,arguments)?yD:wD)(this,e)}}function i7(e,t){var n=gD(e+"");if(arguments.length<2){for(var r=ly(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?r7:t?t7:n7)(n,t))}function o7(){this.textContent=""}function a7(e){return function(){this.textContent=e}}function s7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function l7(e){return arguments.length?this.each(e==null?o7:(typeof e=="function"?s7:a7)(e)):this.node().textContent}function u7(){this.innerHTML=""}function c7(e){return function(){this.innerHTML=e}}function f7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function d7(e){return arguments.length?this.each(e==null?u7:(typeof e=="function"?f7:c7)(e)):this.node().innerHTML}function h7(){this.nextSibling&&this.parentNode.appendChild(this)}function p7(){return this.each(h7)}function m7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function g7(){return this.each(m7)}function v7(e){var t=typeof e=="function"?e:dh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function y7(){return null}function w7(e,t){var n=typeof e=="function"?e:dh(e),r=t==null?y7:typeof t=="function"?t:hh(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function _7(){var e=this.parentNode;e&&e.removeChild(this)}function S7(){return this.each(_7)}function x7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function b7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function E7(e){return this.select(e?b7:x7)}function C7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function T7(e){return function(t){e.call(this,t,this.__data__)}}function k7(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function M7(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function D7(e,t,n){return function(){var r=this.__on,i,o=T7(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function O7(e,t,n){var r=k7(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?D7:M7,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function _D(e,t,n){var r=sy(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function P7(e,t){return function(){return _D(this,e,t)}}function N7(e,t){return function(){return _D(this,e,t.apply(this,arguments))}}function R7(e,t){return this.each((typeof t=="function"?N7:P7)(e,t))}function*I7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var uy=[null];function qt(e,t){this._groups=e,this._parents=t}function ls(){return new qt([[document.documentElement]],uy)}function L7(){return this}qt.prototype=ls.prototype={constructor:qt,select:lz,selectAll:fz,selectChild:mz,selectChildren:wz,filter:_z,data:Tz,enter:Sz,exit:Mz,join:Dz,merge:Oz,selection:L7,order:Pz,sort:Nz,call:Iz,nodes:Lz,node:Az,size:Fz,empty:$z,each:jz,attr:Wz,style:Kz,property:e7,classed:i7,text:l7,html:d7,raise:p7,lower:g7,append:v7,insert:w7,remove:S7,clone:E7,datum:C7,on:O7,dispatch:R7,[Symbol.iterator]:I7};function Lr(e){return typeof e=="string"?new qt([[document.querySelector(e)]],[document.documentElement]):new qt([[e]],uy)}function A7(e){return Lr(dh(e).call(document.documentElement))}var F7=0;function SD(){return new $g}function $g(){this._="@"+(++F7).toString(36)}$g.prototype=SD.prototype={constructor:$g,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function xD(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pr(e,t){if(e=xD(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function $7(e,t){return e.target&&(e=xD(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>Pr(n,t))}function j7(e){return typeof e=="string"?new qt([document.querySelectorAll(e)],[document.documentElement]):new qt([hD(e)],uy)}const U7=Object.freeze(Object.defineProperty({__proto__:null,create:A7,creator:dh,local:SD,matcher:ay,namespace:su,namespaces:Fg,pointer:Pr,pointers:$7,select:Lr,selectAll:j7,selection:ls,selector:hh,selectorAll:oy,style:Mo,window:sy},Symbol.toStringTag,{value:"Module"})),jg={capture:!0,passive:!1};function Ug(e){e.preventDefault(),e.stopImmediatePropagation()}function H7(e){var t=e.document.documentElement,n=Lr(e).on("dragstart.drag",Ug,jg);"onselectstart"in t?n.on("selectstart.drag",Ug,jg):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function V7(e,t){var n=e.document.documentElement,r=Lr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ug,jg),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ga=0,qs=0,Ns=0,bD=1e3,qf,Qs,Qf=0,Do=0,ph=0,Fl=typeof performance=="object"&&performance.now?performance:Date,ED=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function cy(){return Do||(ED(B7),Do=Fl.now()+ph)}function B7(){Do=0}function Gf(){this._call=this._time=this._next=null}Gf.prototype=CD.prototype={constructor:Gf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?cy():+n)+(t==null?0:+t),!this._next&&Qs!==this&&(Qs?Qs._next=this:qf=this,Qs=this),this._call=e,this._time=n,Hg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hg())}};function CD(e,t,n){var r=new Gf;return r.restart(e,t,n),r}function Y7(){cy(),++Ga;for(var e=qf,t;e;)(t=Do-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ga}function nx(){Do=(Qf=Fl.now())+ph,Ga=qs=0;try{Y7()}finally{Ga=0,W7(),Do=0}}function z7(){var e=Fl.now(),t=e-Qf;t>bD&&(ph-=t,Qf=e)}function W7(){for(var e,t=qf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:qf=n);Qs=e,Hg(r)}function Hg(e){if(!Ga){qs&&(qs=clearTimeout(qs));var t=e-Do;t>24?(e<1/0&&(qs=setTimeout(nx,e-Fl.now()-ph)),Ns&&(Ns=clearInterval(Ns))):(Ns||(Qf=Fl.now(),Ns=setInterval(z7,bD)),Ga=1,ED(nx))}}function rx(e,t,n){var r=new Gf;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var q7=iy("start","end","cancel","interrupt"),Q7=[],TD=0,ix=1,Vg=2,kc=3,ox=4,Bg=5,Mc=6;function mh(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;G7(e,n,{name:t,index:r,group:i,on:q7,tween:Q7,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:TD})}function fy(e,t){var n=Gn(e,t);if(n.state>TD)throw new Error("too late; already scheduled");return n}function br(e,t){var n=Gn(e,t);if(n.state>kc)throw new Error("too late; already running");return n}function Gn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function G7(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=CD(o,0,n.time);function o(u){n.state=ix,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,h;if(n.state!==ix)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===kc)return rx(a);h.state===ox?(h.state=Mc,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Mc,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(rx(function(){n.state===kc&&(n.state=ox,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Vg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Vg){for(n.state=kc,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Bg,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===Bg&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Mc,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Dc(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Vg&&r.state<Bg,r.state=Mc,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function K7(e){return this.each(function(){Dc(this,e)})}function X7(e,t){var n,r;return function(){var i=br(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Z7(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=br(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function J7(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Gn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?X7:Z7)(n,e,t))}function dy(e,t,n){var r=e._id;return e.each(function(){var i=br(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Gn(i,r).value[t]}}function kD(e,t){var n;return(typeof t=="number"?Tn:t instanceof Ui?Al:(n=Ui(t))?(t=n,Al):Vv)(e,t)}function e9(e){return function(){this.removeAttribute(e)}}function t9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function n9(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function r9(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function i9(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function o9(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function a9(e,t){var n=su(e),r=n==="transform"?AM:kD;return this.attrTween(e,typeof t=="function"?(n.local?o9:i9)(n,r,dy(this,"attr."+e,t)):t==null?(n.local?t9:e9)(n):(n.local?r9:n9)(n,r,t))}function s9(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function l9(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function u9(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&l9(e,o)),n}return i._value=t,i}function c9(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&s9(e,o)),n}return i._value=t,i}function f9(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=su(e);return this.tween(n,(r.local?u9:c9)(r,t))}function d9(e,t){return function(){fy(this,e).delay=+t.apply(this,arguments)}}function h9(e,t){return t=+t,function(){fy(this,e).delay=t}}function p9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?d9:h9)(t,e)):Gn(this.node(),t).delay}function m9(e,t){return function(){br(this,e).duration=+t.apply(this,arguments)}}function g9(e,t){return t=+t,function(){br(this,e).duration=t}}function v9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?m9:g9)(t,e)):Gn(this.node(),t).duration}function y9(e,t){if(typeof t!="function")throw new Error;return function(){br(this,e).ease=t}}function w9(e){var t=this._id;return arguments.length?this.each(y9(t,e)):Gn(this.node(),t).ease}function _9(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;br(this,e).ease=n}}function S9(e){if(typeof e!="function")throw new Error;return this.each(_9(this._id,e))}function x9(e){typeof e!="function"&&(e=ay(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new ri(r,this._parents,this._name,this._id)}function b9(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new ri(a,this._parents,this._name,this._id)}function E9(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function C9(e,t,n){var r,i,o=E9(t)?fy:br;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function T9(e,t){var n=this._id;return arguments.length<2?Gn(this.node(),n).on.on(e):this.each(C9(n,e,t))}function k9(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function M9(){return this.on("end.remove",k9(this._id))}function D9(e){var t=this._name,n=this._id;typeof e!="function"&&(e=hh(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,mh(u[d],t,n,d,u,Gn(c,n)));return new ri(o,this._parents,t,n)}function O9(e){var t=this._name,n=this._id;typeof e!="function"&&(e=oy(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,m=Gn(c,n),g=0,v=d.length;g<v;++g)(h=d[g])&&mh(h,t,n,g,d,m);o.push(d),a.push(c)}return new ri(o,a,t,n)}var P9=ls.prototype.constructor;function N9(){return new P9(this._groups,this._parents)}function R9(e,t){var n,r,i;return function(){var o=Mo(this,e),a=(this.style.removeProperty(e),Mo(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function MD(e){return function(){this.style.removeProperty(e)}}function I9(e,t,n){var r,i=n+"",o;return function(){var a=Mo(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function L9(e,t,n){var r,i,o;return function(){var a=Mo(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Mo(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function A9(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=br(this,e),u=l.on,c=l.value[o]==null?s||(s=MD(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function F9(e,t,n){var r=(e+="")=="transform"?LM:kD;return t==null?this.styleTween(e,R9(e,r)).on("end.style."+e,MD(e)):typeof t=="function"?this.styleTween(e,L9(e,r,dy(this,"style."+e,t))).each(A9(this._id,e)):this.styleTween(e,I9(e,r,t),n).on("end.style."+e,null)}function $9(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function j9(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&$9(e,a,n)),r}return o._value=t,o}function U9(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,j9(e,t,n??""))}function H9(e){return function(){this.textContent=e}}function V9(e){return function(){var t=e(this);this.textContent=t??""}}function B9(e){return this.tween("text",typeof e=="function"?V9(dy(this,"text",e)):H9(e==null?"":e+""))}function Y9(e){return function(t){this.textContent=e.call(this,t)}}function z9(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Y9(i)),t}return r._value=e,r}function W9(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,z9(e))}function q9(){for(var e=this._name,t=this._id,n=DD(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=Gn(l,t);mh(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ri(r,this._parents,e,n)}function Q9(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=br(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&o()})}var G9=0;function ri(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function DD(){return++G9}var kr=ls.prototype;ri.prototype={constructor:ri,select:D9,selectAll:O9,selectChild:kr.selectChild,selectChildren:kr.selectChildren,filter:x9,merge:b9,selection:N9,transition:q9,call:kr.call,nodes:kr.nodes,node:kr.node,size:kr.size,empty:kr.empty,each:kr.each,on:T9,attr:a9,attrTween:f9,style:F9,styleTween:U9,text:B9,textTween:W9,remove:M9,tween:J7,delay:p9,duration:v9,ease:w9,easeVarying:S9,end:Q9,[Symbol.iterator]:kr[Symbol.iterator]};function K9(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var X9={time:null,delay:0,duration:250,ease:K9};function Z9(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function J9(e){var t,n;e instanceof ri?(t=e._id,e=e._name):(t=DD(),(n=X9).time=cy(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&mh(l,e,t,u,a,n||Z9(l,t));return new ri(r,this._parents,e,t)}ls.prototype.interrupt=K7;ls.prototype.transition=J9;const qu=e=>()=>e;function eW(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function cr(e,t,n){this.k=e,this.x=t,this.y=n}cr.prototype={constructor:cr,scale:function(e){return e===1?this:new cr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var gh=new cr(1,0,0);OD.prototype=cr.prototype;function OD(e){for(;!e.__zoom;)if(!(e=e.parentNode))return gh;return e.__zoom}function em(e){e.stopImmediatePropagation()}function Rs(e){e.preventDefault(),e.stopImmediatePropagation()}function tW(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function nW(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ax(){return this.__zoom||gh}function rW(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function iW(){return navigator.maxTouchPoints||"ontouchstart"in this}function oW(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function aW(){var e=tW,t=nW,n=oW,r=rW,i=iW,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=FM,u=iy("start","zoom","end"),c,f,d,h=500,m=150,g=0,v=10;function p(T){T.property("__zoom",ax).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(T,P,D,$){var M=T.selection?T.selection():T;M.property("__zoom",ax),T!==M?E(T,P,D,$):M.interrupt().each(function(){b(this,arguments).event($).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},p.scaleBy=function(T,P,D,$){p.scaleTo(T,function(){var M=this.__zoom.k,F=typeof P=="function"?P.apply(this,arguments):P;return M*F},D,$)},p.scaleTo=function(T,P,D,$){p.transform(T,function(){var M=t.apply(this,arguments),F=this.__zoom,B=D==null?x(M):typeof D=="function"?D.apply(this,arguments):D,Q=F.invert(B),K=typeof P=="function"?P.apply(this,arguments):P;return n(w(y(F,K),B,Q),M,a)},D,$)},p.translateBy=function(T,P,D,$){p.transform(T,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),a)},null,$)},p.translateTo=function(T,P,D,$,M){p.transform(T,function(){var F=t.apply(this,arguments),B=this.__zoom,Q=$==null?x(F):typeof $=="function"?$.apply(this,arguments):$;return n(gh.translate(Q[0],Q[1]).scale(B.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof D=="function"?-D.apply(this,arguments):-D),F,a)},$,M)};function y(T,P){return P=Math.max(o[0],Math.min(o[1],P)),P===T.k?T:new cr(P,T.x,T.y)}function w(T,P,D){var $=P[0]-D[0]*T.k,M=P[1]-D[1]*T.k;return $===T.x&&M===T.y?T:new cr(T.k,$,M)}function x(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function E(T,P,D,$){T.on("start.zoom",function(){b(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event($).end()}).tween("zoom",function(){var M=this,F=arguments,B=b(M,F).event($),Q=t.apply(M,F),K=D==null?x(Q):typeof D=="function"?D.apply(M,F):D,pe=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),ce=M.__zoom,re=typeof P=="function"?P.apply(M,F):P,me=l(ce.invert(K).concat(pe/ce.k),re.invert(K).concat(pe/re.k));return function(de){if(de===1)de=re;else{var Y=me(de),R=pe/Y[2];de=new cr(R,K[0]-Y[0]*R,K[1]-Y[1]*R)}B.zoom(null,de)}})}function b(T,P,D){return!D&&T.__zooming||new C(T,P)}function C(T,P){this.that=T,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(T,P),this.taps=0}C.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,P){return this.mouse&&T!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var P=Lr(this.that).datum();u.call(T,this.that,new eW(T,{sourceEvent:this.sourceEvent,target:p,type:T,transform:this.that.__zoom,dispatch:u}),P)}};function k(T,...P){if(!e.apply(this,arguments))return;var D=b(this,P).event(T),$=this.__zoom,M=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,r.apply(this,arguments)))),F=Pr(T);if(D.wheel)(D.mouse[0][0]!==F[0]||D.mouse[0][1]!==F[1])&&(D.mouse[1]=$.invert(D.mouse[0]=F)),clearTimeout(D.wheel);else{if($.k===M)return;D.mouse=[F,$.invert(F)],Dc(this),D.start()}Rs(T),D.wheel=setTimeout(B,m),D.zoom("mouse",n(w(y($,M),D.mouse[0],D.mouse[1]),D.extent,a));function B(){D.wheel=null,D.end()}}function N(T,...P){if(d||!e.apply(this,arguments))return;var D=T.currentTarget,$=b(this,P,!0).event(T),M=Lr(T.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",pe,!0),F=Pr(T,D),B=T.clientX,Q=T.clientY;H7(T.view),em(T),$.mouse=[F,this.__zoom.invert(F)],Dc(this),$.start();function K(ce){if(Rs(ce),!$.moved){var re=ce.clientX-B,me=ce.clientY-Q;$.moved=re*re+me*me>g}$.event(ce).zoom("mouse",n(w($.that.__zoom,$.mouse[0]=Pr(ce,D),$.mouse[1]),$.extent,a))}function pe(ce){M.on("mousemove.zoom mouseup.zoom",null),V7(ce.view,$.moved),Rs(ce),$.event(ce).end()}}function A(T,...P){if(e.apply(this,arguments)){var D=this.__zoom,$=Pr(T.changedTouches?T.changedTouches[0]:T,this),M=D.invert($),F=D.k*(T.shiftKey?.5:2),B=n(w(y(D,F),$,M),t.apply(this,P),a);Rs(T),s>0?Lr(this).transition().duration(s).call(E,B,$,T):Lr(this).call(p.transform,B,$,T)}}function O(T,...P){if(e.apply(this,arguments)){var D=T.touches,$=D.length,M=b(this,P,T.changedTouches.length===$).event(T),F,B,Q,K;for(em(T),B=0;B<$;++B)Q=D[B],K=Pr(Q,this),K=[K,this.__zoom.invert(K),Q.identifier],M.touch0?!M.touch1&&M.touch0[2]!==K[2]&&(M.touch1=K,M.taps=0):(M.touch0=K,F=!0,M.taps=1+!!c);c&&(c=clearTimeout(c)),F&&(M.taps<2&&(f=K[0],c=setTimeout(function(){c=null},h)),Dc(this),M.start())}}function V(T,...P){if(this.__zooming){var D=b(this,P).event(T),$=T.changedTouches,M=$.length,F,B,Q,K;for(Rs(T),F=0;F<M;++F)B=$[F],Q=Pr(B,this),D.touch0&&D.touch0[2]===B.identifier?D.touch0[0]=Q:D.touch1&&D.touch1[2]===B.identifier&&(D.touch1[0]=Q);if(B=D.that.__zoom,D.touch1){var pe=D.touch0[0],ce=D.touch0[1],re=D.touch1[0],me=D.touch1[1],de=(de=re[0]-pe[0])*de+(de=re[1]-pe[1])*de,Y=(Y=me[0]-ce[0])*Y+(Y=me[1]-ce[1])*Y;B=y(B,Math.sqrt(de/Y)),Q=[(pe[0]+re[0])/2,(pe[1]+re[1])/2],K=[(ce[0]+me[0])/2,(ce[1]+me[1])/2]}else if(D.touch0)Q=D.touch0[0],K=D.touch0[1];else return;D.zoom("touch",n(w(B,Q,K),D.extent,a))}}function L(T,...P){if(this.__zooming){var D=b(this,P).event(T),$=T.changedTouches,M=$.length,F,B;for(em(T),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),F=0;F<M;++F)B=$[F],D.touch0&&D.touch0[2]===B.identifier?delete D.touch0:D.touch1&&D.touch1[2]===B.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(B=Pr(B,this),Math.hypot(f[0]-B[0],f[1]-B[1])<v)){var Q=Lr(this).on("dblclick.zoom");Q&&Q.apply(this,arguments)}}}return p.wheelDelta=function(T){return arguments.length?(r=typeof T=="function"?T:qu(+T),p):r},p.filter=function(T){return arguments.length?(e=typeof T=="function"?T:qu(!!T),p):e},p.touchable=function(T){return arguments.length?(i=typeof T=="function"?T:qu(!!T),p):i},p.extent=function(T){return arguments.length?(t=typeof T=="function"?T:qu([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),p):t},p.scaleExtent=function(T){return arguments.length?(o[0]=+T[0],o[1]=+T[1],p):[o[0],o[1]]},p.translateExtent=function(T){return arguments.length?(a[0][0]=+T[0][0],a[1][0]=+T[1][0],a[0][1]=+T[0][1],a[1][1]=+T[1][1],p):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},p.constrain=function(T){return arguments.length?(n=T,p):n},p.duration=function(T){return arguments.length?(s=+T,p):s},p.interpolate=function(T){return arguments.length?(l=T,p):l},p.on=function(){var T=u.on.apply(u,arguments);return T===u?p:T},p.clickDistance=function(T){return arguments.length?(g=(T=+T)*T,p):Math.sqrt(g)},p.tapDistance=function(T){return arguments.length?(v=+T,p):v},p}const sW=Object.freeze(Object.defineProperty({__proto__:null,ZoomTransform:cr,zoom:aW,zoomIdentity:gh,zoomTransform:OD},Symbol.toStringTag,{value:"Module"})),lW=ii(sW),Er=ii(U7),uW=ii(uB);var hy={exports:{}},Ea=typeof Reflect=="object"?Reflect:null,sx=Ea&&typeof Ea.apply=="function"?Ea.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Oc;Ea&&typeof Ea.ownKeys=="function"?Oc=Ea.ownKeys:Object.getOwnPropertySymbols?Oc=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Oc=function(t){return Object.getOwnPropertyNames(t)};function cW(e){console&&console.warn&&console.warn(e)}var PD=Number.isNaN||function(t){return t!==t};function Ue(){Ue.init.call(this)}hy.exports=Ue;hy.exports.once=pW;Ue.EventEmitter=Ue;Ue.prototype._events=void 0;Ue.prototype._eventsCount=0;Ue.prototype._maxListeners=void 0;var lx=10;function vh(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ue,"defaultMaxListeners",{enumerable:!0,get:function(){return lx},set:function(e){if(typeof e!="number"||e<0||PD(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");lx=e}});Ue.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ue.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||PD(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function ND(e){return e._maxListeners===void 0?Ue.defaultMaxListeners:e._maxListeners}Ue.prototype.getMaxListeners=function(){return ND(this)};Ue.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")sx(l,this,n);else for(var u=l.length,c=FD(l,u),r=0;r<u;++r)sx(c[r],this,n);return!0};function RD(e,t,n,r){var i,o,a;if(vh(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),a===void 0)a=o[t]=n,++e._eventsCount;else if(typeof a=="function"?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=ND(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,cW(s)}return e}Ue.prototype.addListener=function(t,n){return RD(this,t,n,!1)};Ue.prototype.on=Ue.prototype.addListener;Ue.prototype.prependListener=function(t,n){return RD(this,t,n,!0)};function fW(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ID(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=fW.bind(r);return i.listener=n,r.wrapFn=i,i}Ue.prototype.once=function(t,n){return vh(n),this.on(t,ID(this,t,n)),this};Ue.prototype.prependOnceListener=function(t,n){return vh(n),this.prependListener(t,ID(this,t,n)),this};Ue.prototype.removeListener=function(t,n){var r,i,o,a,s;if(vh(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){s=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():dW(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};Ue.prototype.off=Ue.prototype.removeListener;Ue.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function LD(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?hW(i):FD(i,i.length)}Ue.prototype.listeners=function(t){return LD(this,t,!0)};Ue.prototype.rawListeners=function(t){return LD(this,t,!1)};Ue.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):AD.call(e,t)};Ue.prototype.listenerCount=AD;function AD(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ue.prototype.eventNames=function(){return this._eventsCount>0?Oc(this._events):[]};function FD(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function dW(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function hW(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function pW(e,t){return new Promise(function(n,r){function i(a){e.removeListener(t,o),r(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}$D(e,t,o,{once:!0}),t!=="error"&&mW(e,i,{once:!0})})}function mW(e,t,n){typeof e.on=="function"&&$D(e,"error",t,n)}function $D(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var gW=hy.exports,py={};Object.defineProperty(py,"__esModule",{value:!0});const vW=Zd,yW=Er;function wW(e){const t=e.owner.meta.xScale,n=e.owner.meta.yScale,r=(0,vW.line)().x(function(i){return i[0]}).y(function(i){return i[1]});return function(i){i.each(function(){const a=(0,yW.select)(this).selectAll("g.annotations").data(function(m){return m.annotations||[]}),s=a.enter().append("g").attr("class","annotations"),l=n.range(),u=t.range(),c=a.merge(s).selectAll("path").data(function(m){return"x"in m?[[[0,l[0]],[0,l[1]]]]:[[[u[0],0],[u[1],0]]]}),f=c.enter().append("path");c.merge(f).attr("stroke","#eee").attr("d",r),c.exit().remove();const d=a.merge(s).selectAll("text").data(function(m){return[{text:m.text||"",hasX:"x"in m}]}),h=d.enter().append("text");d.merge(h).text(function(m){return m.text}).attr("y",function(m){return m.hasX?3:0}).attr("x",function(m){return m.hasX?0:3}).attr("dy",function(m){return m.hasX?5:-5}).attr("text-anchor",function(m){return m.hasX?"end":""}).attr("transform",function(m){return m.hasX?"rotate(-90)":""}),d.exit().remove(),a.merge(s).attr("transform",function(m){return"x"in m?"translate("+t(m.x)+", 0)":"translate(0, "+n(m.y)+")"}),a.exit().remove()})}}py.default=wW;var my={},Kn={},li={};const gy=ii(UV);Object.defineProperty(li,"__esModule",{value:!0});li.registerGraphType=void 0;const _W=gy,$l={COLORS:["steelblue","red","#05b378","orange","#4040e8","yellow","brown","magenta","cyan"].map(function(e){return(0,_W.hsl)(e)}),DEFAULT_WIDTH:550,DEFAULT_HEIGHT:350,DEFAULT_ITERATIONS:null,TIP_X_EPS:1,MAX_ITERATIONS:0,graphTypes:{}};$l.MAX_ITERATIONS=$l.DEFAULT_WIDTH*10;function SW(e,t){if(Object.hasOwn($l.graphTypes,e))throw new Error(`registerGraphType: graphType ${e} is already registered.`);$l.graphTypes[e]=t}li.registerGraphType=SW;li.default=$l;var xW=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kn,"__esModule",{value:!0});const ux=xW(li),bW={linspace:function(e,t,n){const r=(t-e)/(n-1);return Array.from({length:n},(i,o)=>e+r*o)},logspace:function(e,t,n){return this.linspace(e,t,n).map(r=>Math.pow(10,r))},isValidNumber:function(e){return typeof e=="number"&&!isNaN(e)},space:function(e,t,n){const r=t[0],i=t[1];return e.type==="log"?this.logspace(Math.log10(r),Math.log10(i),n):this.linspace(r,i,n)},getterSetter:function(e,t){const n=this;this[t]=function(r){return arguments.length?(e[t]=r,n):e[t]}},sgn:function(e){return e<0?-1:e>0?1:0},clamp:function(e,t,n){return e<t?t:e>n?n:e},color:function(e,t){const n=t%ux.default.COLORS.length;return e.color||ux.default.COLORS[n].hex()},infinity:function(){return 9007199254740991}};Kn.default=bW;var An={},vy={exports:{}},Ho={},jD={EOF:0,DELIMITER:1,NUMBER:2,STRING:3,SYMBOL:4},Gi=jD,EW={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},CW={",":!0,"(":!0,")":!0,"[":!0,"]":!0,";":!0,"~":!0,"!":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0,"^":!0,"**":!0,"|":!0,"&":!0,"^|":!0,"=":!0,":":!0,"?":!0,"||":!0,"&&":!0,xor:!0,"==":!0,"!=":!0,"===":!0,"!==":!0,"<":!0,">":!0,">=":!0,"<=":!0,">>>":!0,"<<":!0,">>":!0};function Ir(e){return e>="0"&&e<="9"}function UD(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"}function TW(e){return e===" "||e==="\r"||e==="	"||e===`
`||e==="\v"||e===""}function tm(e){return CW[e]}function kW(e){return e==="'"||e==='"'}function Qi(){}Qi.prototype.throwError=function(e,t){t=typeof t>"u"?this.index:t;var n=new Error(e+" at index "+t);throw n.index=t,n.description=e,n};Qi.prototype.lex=function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){for(;TW(this.peek());)this.consume();var t=this.peek(),n=t+this.peek(1),r=n+this.peek(2);tm(r)?(this.tokens.push({type:Gi.DELIMITER,value:r}),this.consume(),this.consume(),this.consume()):tm(n)?(this.tokens.push({type:Gi.DELIMITER,value:n}),this.consume(),this.consume()):tm(t)?(this.tokens.push({type:Gi.DELIMITER,value:t}),this.consume()):Ir(t)||t==="."&&Ir(this.peek(1))?this.tokens.push({type:Gi.NUMBER,value:this.readNumber()}):kW(t)?this.tokens.push({type:Gi.STRING,value:this.readString()}):UD(t)?this.tokens.push({type:Gi.SYMBOL,value:this.readIdentifier()}):this.throwError("unexpected character "+t)}return this.tokens.push({type:Gi.EOF}),this.tokens};Qi.prototype.peek=function(e){if(e=e||0,!(this.index+e>=this.text.length))return this.text.charAt(this.index+e)};Qi.prototype.consume=function(){var e=this.peek();return this.index+=1,e};Qi.prototype.readNumber=function(){var e="";if(this.peek()===".")e+=this.consume(),Ir(this.peek())||this.throwError("number expected");else{for(;Ir(this.peek());)e+=this.consume();this.peek()==="."&&(e+=this.consume())}for(;Ir(this.peek());)e+=this.consume();if(this.peek()==="e"||this.peek()==="E")for(e+=this.consume(),Ir(this.peek())||this.peek()==="+"||this.peek()==="-"||this.throwError(),(this.peek()==="+"||this.peek()==="-")&&(e+=this.consume()),Ir(this.peek())||this.throwError("number expected");Ir(this.peek());)e+=this.consume();return e};Qi.prototype.readIdentifier=function(){for(var e="";UD(this.peek())||Ir(this.peek());)e+=this.consume();return e};Qi.prototype.readString=function(){for(var e=this.consume(),t="",n;;){var r=this.consume();if(r||this.throwError("string is not closed"),n){if(r==="u"){var i=this.text.substring(this.index+1,this.index+5);i.match(/[\da-f]{4}/i)||this.throwError("invalid unicode escape"),this.index+=4,t+=String.fromCharCode(parseInt(i,16))}else{var o=EW[r];o?t+=o:t+=r}n=!1}else{if(r===e)break;r==="\\"?n=!0:t+=r}}return t};var HD=Qi;function VD(){}VD.prototype.type="Node";var Cr=VD,MW=Cr,DW={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};function yy(e,t){if(!DW[t])throw Error("unsupported type '"+t+"'");this.value=e,this.valueType=t}yy.prototype=Object.create(MW.prototype);yy.prototype.type="ConstantNode";var BD=yy,OW=Cr;function wy(e,t){this.op=e,this.args=t||[]}wy.prototype=Object.create(OW.prototype);wy.prototype.type="OperatorNode";var YD=wy,PW=Cr;function _y(e,t){this.op=e,this.argument=t}_y.prototype=Object.create(PW.prototype);_y.prototype.type="UnaryNode";var zD=_y,NW=Cr;function Sy(e){this.name=e}Sy.prototype=Object.create(NW.prototype);Sy.prototype.type="SymbolNode";var WD=Sy,RW=Cr;function xy(e,t){this.name=e,this.args=t}xy.prototype=Object.create(RW.prototype);xy.prototype.type="FunctionNode";var qD=xy,IW=Cr;function by(e){this.nodes=e}by.prototype=Object.create(IW.prototype);by.prototype.type="ArrayNode";var QD=by,LW=Cr;function Ey(e,t,n){this.condition=e,this.trueExpr=t,this.falseExpr=n}Ey.prototype=Object.create(LW.prototype);Ey.prototype.type="ConditionalNode";var GD=Ey,AW=Cr;function Cy(e,t){this.name=e,this.expr=t}Cy.prototype=Object.create(AW.prototype);Cy.prototype.type="AssignmentNode";var KD=Cy,FW=Cr;function Ty(e){this.blocks=e}Ty.prototype=Object.create(FW.prototype);Ty.prototype.type="BlockNode";var XD=Ty,Oo=jD,$W=HD,ky=BD,hn=YD,jW=zD,ZD=WD,UW=qD,HW=QD,VW=GD,BW=KD,YW=XD;function Ie(){this.lexer=new $W,this.tokens=null}Ie.prototype.current=function(){return this.tokens[0]};Ie.prototype.next=function(){return this.tokens[1]};Ie.prototype.peek=function(){if(this.tokens.length){for(var e=this.tokens[0],t=0;t<arguments.length;t+=1)if(e.value===arguments[t])return!0}};Ie.prototype.consume=function(e){return this.tokens.shift()};Ie.prototype.expect=function(e){if(!this.peek(e))throw Error("expected "+e);return this.consume()};Ie.prototype.isEOF=function(){return this.current().type===Oo.EOF};Ie.prototype.parse=function(e){return this.tokens=this.lexer.lex(e),this.program()};Ie.prototype.program=function(){for(var e=[];!this.isEOF();)e.push(this.assignment()),this.peek(";")&&this.consume();return this.end(),new YW(e)};Ie.prototype.assignment=function(){var e=this.ternary();return e instanceof ZD&&this.peek("=")?(this.consume(),new BW(e.name,this.assignment())):e};Ie.prototype.ternary=function(){var e=this.logicalOR();if(this.peek("?")){this.consume();var t=this.ternary();this.expect(":");var n=this.ternary();return new VW(e,t,n)}return e};Ie.prototype.logicalOR=function(){var e=this.logicalXOR();if(this.peek("||")){var t=this.consume(),n=this.logicalOR();return new hn(t.value,[e,n])}return e};Ie.prototype.logicalXOR=function(){var e=this.logicalAND();if(this.current().value==="xor"){var t=this.consume(),n=this.logicalXOR();return new hn(t.value,[e,n])}return e};Ie.prototype.logicalAND=function(){var e=this.bitwiseOR();if(this.peek("&&")){var t=this.consume(),n=this.logicalAND();return new hn(t.value,[e,n])}return e};Ie.prototype.bitwiseOR=function(){var e=this.bitwiseXOR();if(this.peek("|")){var t=this.consume(),n=this.bitwiseOR();return new hn(t.value,[e,n])}return e};Ie.prototype.bitwiseXOR=function(){var e=this.bitwiseAND();if(this.peek("^|")){var t=this.consume(),n=this.bitwiseXOR();return new hn(t.value,[e,n])}return e};Ie.prototype.bitwiseAND=function(){var e=this.relational();if(this.peek("&")){var t=this.consume(),n=this.bitwiseAND();return new hn(t.value,[e,n])}return e};Ie.prototype.relational=function(){var e=this.shift();if(this.peek("==","===","!=","!==",">=","<=",">","<")){var t=this.consume(),n=this.shift();return new hn(t.value,[e,n])}return e};Ie.prototype.shift=function(){var e=this.additive();if(this.peek(">>","<<",">>>")){var t=this.consume(),n=this.shift();return new hn(t.value,[e,n])}return e};Ie.prototype.additive=function(){for(var e=this.multiplicative();this.peek("+","-");){var t=this.consume();e=new hn(t.value,[e,this.multiplicative()])}return e};Ie.prototype.multiplicative=function(){for(var e,t,n=this.unary();this.peek("*","/","%");)e=this.consume(),n=new hn(e.value,[n,this.unary()]);return this.current().type===Oo.SYMBOL||this.peek("(")||!(n.type instanceof ky)&&this.current().type===Oo.NUMBER?(t=this.multiplicative(),new hn("*",[n,t])):n};Ie.prototype.unary=function(){if(this.peek("-","+","~")){var e=this.consume(),t=this.unary();return new jW(e.value,t)}return this.pow()};Ie.prototype.pow=function(){var e=this.factorial();if(this.peek("^","**")){var t=this.consume(),n=this.unary();return new hn(t.value,[e,n])}return e};Ie.prototype.factorial=function(){var e=this.symbol();if(this.peek("!")){var t=this.consume();return new hn(t.value,[e])}return e};Ie.prototype.symbol=function(){var e=this.current();if(e.type===Oo.SYMBOL){var t=this.consume(),n=this.functionCall(t);return n}return this.string()};Ie.prototype.functionCall=function(e){var t=e.value;if(this.peek("(")){this.consume();for(var n=[];!this.peek(")")&&!this.isEOF();)n.push(this.assignment()),this.peek(",")&&this.consume();return this.expect(")"),new UW(t,n)}return new ZD(t)};Ie.prototype.string=function(){return this.current().type===Oo.STRING?new ky(this.consume().value,"string"):this.array()};Ie.prototype.array=function(){if(this.peek("[")){this.consume();for(var e=[];!this.peek("]")&&!this.isEOF();)e.push(this.assignment()),this.peek(",")&&this.consume();return this.expect("]"),new HW(e)}return this.number()};Ie.prototype.number=function(){var e=this.current();return e.type===Oo.NUMBER?new ky(this.consume().value,"number"):this.parentheses()};Ie.prototype.parentheses=function(){var e=this.current();if(e.value==="("){this.consume();var t=this.assignment();return this.expect(")"),t}return this.end()};Ie.prototype.end=function(){var e=this.current();if(e.type!==Oo.EOF)throw Error("unexpected end of expression")};var zW=Ie,WW={ArrayNode:QD,AssignmentNode:KD,BlockNode:XD,ConditionalNode:GD,ConstantNode:BD,FunctionNode:qD,Node:Cr,OperatorNode:YD,SymbolNode:WD,UnaryNode:zD};Ho.Lexer=HD;Ho.Parser=zW;Ho.nodeTypes=WW;var Pc=Object.prototype.hasOwnProperty,JD=Object.prototype.toString,cx=Object.defineProperty,fx=Object.getOwnPropertyDescriptor,dx=function(t){return typeof Array.isArray=="function"?Array.isArray(t):JD.call(t)==="[object Array]"},hx=function(t){if(!t||JD.call(t)!=="[object Object]")return!1;var n=Pc.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Pc.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Pc.call(t,i)},px=function(t,n){cx&&n.name==="__proto__"?cx(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},mx=function(t,n){if(n==="__proto__")if(Pc.call(t,n)){if(fx)return fx(t,n).value}else return;return t[n]},yh=function e(){var t,n,r,i,o,a,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=mx(s,n),i=mx(t,n),s!==i&&(c&&i&&(hx(i)||(o=dx(i)))?(o?(o=!1,a=r&&dx(r)?r:[]):a=r&&hx(r)?r:{},px(s,{name:n,newValue:e(c,a,i)})):typeof i<"u"&&px(s,{name:n,newValue:i}));return s},qW=function(e){var t=this,n=[];this.rawify(this.options.rawArrayExpressionElements,function(){n=e.nodes.map(function(i){return t.next(i)})});var r="["+n.join(",")+"]";return this.options.raw?r:this.options.factory+"("+r+")"},QW=function(e){return'scope["'+e.name+'"] = '+this.next(e.expr)},GW=function(e){var t="!!("+this.next(e.condition)+")",n=this.next(e.trueExpr),r=this.next(e.falseExpr);return"("+t+" ? ("+n+") : ("+r+") )"},KW=function(e){return this.options.raw?e.value:this.options.factory+"("+e.value+")"},My={exports:{}},XW=Ho.nodeTypes.SymbolNode,e2=function(e){return"$$mathCodegen.functionProxy("+this.next(new XW(e.name))+', "'+e.name+'")'};My.exports=function(e){var t=this,n=e2.call(this,e),r=[];return this.rawify(this.options.rawCallExpressionElements,function(){r=e.args.map(function(i){return t.next(i)})}),n+"("+r.join(", ")+")"};My.exports.functionProxy=e2;var ZW=My.exports,JW={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},eq=JW,tq=function(e){if(this.options.raw)return["("+this.next(e.args[0]),e.op,this.next(e.args[1])+")"].join(" ");var t=eq[e.op];if(!t)throw TypeError("unidentified operator");return this.FunctionNode({name:t,args:e.args})},nq=function(e){var t=e.name;return'$$mathCodegen.getProperty("'+t+'", scope, ns)'},rq={"+":"positive","-":"negative","~":"oneComplement"},gx=rq,iq=function(e){if(this.options.raw)return e.op+this.next(e.argument);if(!(e.op in gx))throw new SyntaxError(e.op+" not implemented");var t=gx[e.op];return this.FunctionNode({name:t,args:[e.argument]})},t2=yh,oq={ArrayNode:qW,AssignmentNode:QW,ConditionalNode:GW,ConstantNode:KW,FunctionNode:ZW,OperatorNode:tq,SymbolNode:nq,UnaryNode:iq},wh=function(e,t){this.owner=e,this.options=t2({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1},t)};t2(wh.prototype,oq);wh.prototype.next=function(e){if(!(e.type in this))throw new TypeError("the node type "+e.type+" is not implemented");return this[e.type](e)};wh.prototype.rawify=function(e,t){var n=this.options.raw;e&&(this.options.raw=!0),t(),e&&(this.options.raw=n)};var aq=wh,sq=Ho.Parser,lq=aq,uq=yh;function _h(e,t){this.statements=[],this.defs=t||{},this.interpreter=new lq(this,e)}_h.prototype.setDefs=function(e){return this.defs=uq(this.defs,e),this};_h.prototype.compile=function(e){if(!e||!(typeof e=="object"||typeof e=="function"))throw TypeError("namespace must be an object");if(typeof e.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=e,this.defs.$$mathCodegen={getProperty:function(o,a,s){if(o in a)return a[o];if(o in s)return s[o];throw SyntaxError('symbol "'+o+'" is undefined')},functionProxy:function(o,a){if(typeof o!="function")throw SyntaxError('symbol "'+a+'" must be a function');return o}},this.defs.$$processScope=this.defs.$$processScope||function(){};var t=Object.keys(this.defs).map(function(o){return"var "+o+' = defs["'+o+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var n=this.statements.join(";"),r=t.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+n,"  },","  code: '"+n+"'","}"].join(`
`),i=new Function("defs",r);return i(this.defs)};_h.prototype.parse=function(e){var t=this,n=new sq().parse(e);return this.statements=n.blocks.map(function(r){return t.interpreter.next(r)}),this};var cq=_h,fq=cq,dq=function(){var e=Object.create(Math);return e.factory=function(t){if(typeof t!="number")throw new TypeError("built-in math factory only accepts numbers");return Number(t)},e.add=function(t,n){return t+n},e.sub=function(t,n){return t-n},e.mul=function(t,n){return t*n},e.div=function(t,n){return t/n},e.mod=function(t,n){return t%n},e.factorial=function(t){for(var n=1,r=2;r<=t;r+=1)n*=r;return n},e.nthRoot=function(t,n){var r=n<0;if(r&&(n=-n),n===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(n)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return 0;if(!isFinite(t))return r?0:t;var i=Math.pow(Math.abs(t),1/n);return i=t<0?-i:i,r?1/i:i},e.logicalOR=function(t,n){return t||n},e.logicalXOR=function(t,n){return t!=n},e.logicalAND=function(t,n){return t&&n},e.bitwiseOR=function(t,n){return t|n},e.bitwiseXOR=function(t,n){return t^n},e.bitwiseAND=function(t,n){return t&n},e.lessThan=function(t,n){return t<n},e.lessEqualThan=function(t,n){return t<=n},e.greaterThan=function(t,n){return t>n},e.greaterEqualThan=function(t,n){return t>=n},e.equal=function(t,n){return t==n},e.strictlyEqual=function(t,n){return t===n},e.notEqual=function(t,n){return t!=n},e.strictlyNotEqual=function(t,n){return t!==n},e.shiftRight=function(t,n){return t>>n},e.shiftLeft=function(t,n){return t<<n},e.unsignedRightShift=function(t,n){return t>>>n},e.negative=function(t){return-t},e.positive=function(t){return t},e},hq=fq,Dy=dq();function pq(e){Object.keys(e).forEach(function(t){var n=e[t];e[t]=Dy.factory(n)})}vy.exports=function(e){return new hq().setDefs({$$processScope:pq}).parse(e).compile(Dy)};vy.exports.math=Dy;var mq=vy.exports,gq=mq,Sh={exports:{}},vq=function(e){var t=this,n=[];this.rawify(this.options.rawArrayExpressionElements,function(){n=e.nodes.map(function(i){return t.next(i)})});var r="["+n.join(",")+"]";return this.options.raw?r:this.options.factory+"("+r+")"},yq=function(e){return'scope["'+e.name+'"] = '+this.next(e.expr)},wq=function(e){var t="!!("+this.next(e.condition)+")",n=this.next(e.trueExpr),r=this.next(e.falseExpr);return"("+t+" ? ("+n+") : ("+r+") )"},_q=function(e){return this.options.raw?e.value:this.options.factory+"("+e.value+")"},Oy={exports:{}},Sq=Ho.nodeTypes.SymbolNode,n2=function(e){return"$$mathCodegen.functionProxy("+this.next(new Sq(e.name))+', "'+e.name+'")'};Oy.exports=function(e){var t=this,n=n2.call(this,e),r=[];return this.rawify(this.options.rawCallExpressionElements,function(){r=e.args.map(function(i){return t.next(i)})}),n+"("+r.join(", ")+")"};Oy.exports.functionProxy=n2;var xq=Oy.exports,bq={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},Eq=bq,Cq=function(e){if(this.options.raw)return["("+this.next(e.args[0]),e.op,this.next(e.args[1])+")"].join(" ");var t=Eq[e.op];if(!t)throw TypeError("unidentified operator");return this.FunctionNode({name:t,args:e.args})},Tq=function(e){var t=e.name;return'$$mathCodegen.getProperty("'+t+'", scope, ns)'},kq={"+":"positive","-":"negative","~":"oneComplement"},vx=kq,Mq=function(e){if(this.options.raw)return e.op+this.next(e.argument);if(!(e.op in vx))throw new SyntaxError(e.op+" not implemented");var t=vx[e.op];return this.FunctionNode({name:t,args:[e.argument]})},r2=yh,Dq={ArrayNode:vq,AssignmentNode:yq,ConditionalNode:wq,ConstantNode:_q,FunctionNode:xq,OperatorNode:Cq,SymbolNode:Tq,UnaryNode:Mq},xh=function(e,t){this.owner=e,this.options=r2({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1,applyFactoryToScope:!1},t)};r2(xh.prototype,Dq);xh.prototype.next=function(e){if(!(e.type in this))throw new TypeError("the node type "+e.type+" is not implemented");return this[e.type](e)};xh.prototype.rawify=function(e,t){var n=this.options.raw;e&&(this.options.raw=!0),t(),e&&(this.options.raw=n)};var Oq=xh,Pq=Ho.Parser,Nq=Oq,Rq=yh;function bh(e,t){this.statements=[],this.defs=t||{},this.interpreter=new Nq(this,e)}bh.prototype.setDefs=function(e){return this.defs=Rq(this.defs,e),this};bh.prototype.compile=function(e){var t=this;if(!e||!(typeof e=="object"||typeof e=="function"))throw TypeError("namespace must be an object");if(typeof e.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=e,this.defs.$$mathCodegen={getProperty:function(a,s,l){function u(c){return t.interpreter.options.applyFactoryToScope&&typeof c!="function"?l.factory(c):c}if(a in s)return u(s[a]);if(a in l)return u(l[a]);throw SyntaxError('symbol "'+a+'" is undefined')},functionProxy:function(a,s){if(typeof a!="function")throw SyntaxError('symbol "'+s+'" must be a function');return a}},this.defs.$$processScope=this.defs.$$processScope||function(){};var n=Object.keys(this.defs).map(function(a){return"var "+a+' = defs["'+a+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var r=this.statements.join(";"),i=n.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+r,"  },","  code: '"+r+"'","}"].join(`
`),o=new Function("defs",i);return o(this.defs)};bh.prototype.parse=function(e){var t=this,n=new Pq().parse(e);return this.statements=n.blocks.map(function(r){return t.interpreter.next(r)}),this};var Iq=bh,Lq=Iq;function Kf(e){return typeof e=="object"&&typeof e.lo=="number"&&typeof e.hi=="number"}function le(e){return e.lo>e.hi}function Eh(e){return e.lo===-1/0&&e.hi===1/0}function Ka(e){return e.lo===e.hi}function us(e){return Py(e,0)}function Py(e,t){return le(e)?!1:e.lo<=t&&t<=e.hi}function i2(e,t){return le(e)?!0:!le(t)&&t.lo<=e.lo&&e.hi<=t.hi}function Ch(e,t){return le(e)||le(t)?!1:e.lo<=t.lo&&t.lo<=e.hi||t.lo<=e.lo&&e.lo<=t.hi}const Aq=Object.freeze(Object.defineProperty({__proto__:null,hasInterval:i2,hasValue:Py,intervalsOverlap:Ch,isEmpty:le,isInterval:Kf,isSingleton:Ka,isWhole:Eh,zeroIn:us},Symbol.toStringTag,{value:"Module"}));var Ny={exports:{}};Ny.exports;(function(e){var t=!1;if(typeof Float64Array<"u"){var n=new Float64Array(1),r=new Uint32Array(n.buffer);if(n[0]=1,t=!0,r[1]===1072693248){let o=function(l,u){return r[0]=l,r[1]=u,n[0]},a=function(l){return n[0]=l,r[0]},s=function(l){return n[0]=l,r[1]};e.exports=function(u){return n[0]=u,[r[0],r[1]]},e.exports.pack=o,e.exports.lo=a,e.exports.hi=s}else if(r[0]===1072693248){let o=function(l,u){return r[1]=l,r[0]=u,n[0]},a=function(l){return n[0]=l,r[1]},s=function(l){return n[0]=l,r[0]};e.exports=function(u){return n[0]=u,[r[1],r[0]]},e.exports.pack=o,e.exports.lo=a,e.exports.hi=s}else t=!1}if(!t){let o=function(l,u){return i.writeUInt32LE(l,0,!0),i.writeUInt32LE(u,4,!0),i.readDoubleLE(0,!0)},a=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(0,!0)},s=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(4,!0)};var i=new Buffer(8);e.exports=function(u){return i.writeDoubleLE(u,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},e.exports.pack=o,e.exports.lo=a,e.exports.hi=s}e.exports.sign=function(o){return e.exports.hi(o)>>>31},e.exports.exponent=function(o){var a=e.exports.hi(o);return(a<<1>>>21)-1023},e.exports.fraction=function(o){var a=e.exports.lo(o),s=e.exports.hi(o),l=s&(1<<20)-1;return s&2146435072&&(l+=1<<20),[a,l]},e.exports.denormalized=function(o){var a=e.exports.hi(o);return!(a&2146435072)}})(Ny);var Fq=Ny.exports,nm=Fq,yx=Math.pow(2,-1074),wx=-1>>>0,$q=jq;function jq(e,t){if(isNaN(e)||isNaN(t))return NaN;if(e===t)return e;if(e===0)return t<0?-yx:yx;var n=nm.hi(e),r=nm.lo(e);return t>e==e>0?r===wx?(n+=1,r=0):r+=1:r===0?(r=wx,n-=1):r-=1,nm.pack(r,n)}const o2=No($q);function Uq(e){return e}function Yg(e){return e===1/0?e:o2(e,-1/0)}function zg(e){return e===-1/0?e:o2(e,1/0)}function _x(e){return e<0?Math.ceil(e):Math.floor(e)}const qo={prev:Yg,next:zg},U={safePrev:Yg,safeNext:zg,prev(e){return qo.prev(e)},next(e){return qo.next(e)},addLo(e,t){return U.prev(e+t)},addHi(e,t){return U.next(e+t)},subLo(e,t){return U.prev(e-t)},subHi(e,t){return U.next(e-t)},mulLo(e,t){return U.prev(e*t)},mulHi(e,t){return U.next(e*t)},divLo(e,t){return U.prev(e/t)},divHi(e,t){return U.next(e/t)},intLo(e){return _x(U.prev(e))},intHi(e){return _x(U.next(e))},logLo(e){return U.prev(Math.log(e))},logHi(e){return U.next(Math.log(e))},expLo(e){return U.prev(Math.exp(e))},expHi(e){return U.next(Math.exp(e))},sinLo(e){return U.prev(Math.sin(e))},sinHi(e){return U.next(Math.sin(e))},cosLo(e){return U.prev(Math.cos(e))},cosHi(e){return U.next(Math.cos(e))},tanLo(e){return U.prev(Math.tan(e))},tanHi(e){return U.next(Math.tan(e))},asinLo(e){return U.prev(Math.asin(e))},asinHi(e){return U.next(Math.asin(e))},acosLo(e){return U.prev(Math.acos(e))},acosHi(e){return U.next(Math.acos(e))},atanLo(e){return U.prev(Math.atan(e))},atanHi(e){return U.next(Math.atan(e))},sinhLo(e){return U.prev(Math.sinh(e))},sinhHi(e){return U.next(Math.sinh(e))},coshLo(e){return U.prev(Math.cosh(e))},coshHi(e){return U.next(Math.cosh(e))},tanhLo(e){return U.prev(Math.tanh(e))},tanhHi(e){return U.next(Math.tanh(e))},powLo(e,t){if(t%1!==0)return U.prev(Math.pow(e,t));let n=(t&1)===1?e:1;for(t>>=1;t>0;)e=U.mulLo(e,e),(t&1)===1&&(n=U.mulLo(e,n)),t>>=1;return n},powHi(e,t){if(t%1!==0)return U.next(Math.pow(e,t));let n=(t&1)===1?e:1;for(t>>=1;t>0;)e=U.mulHi(e,e),(t&1)===1&&(n=U.mulHi(e,n)),t>>=1;return n},sqrtLo(e){return U.prev(Math.sqrt(e))},sqrtHi(e){return U.next(Math.sqrt(e))},disable(){qo.next=qo.prev=Uq},enable(){qo.next=zg,qo.prev=Yg}};class jl{constructor(t,n){if(this.lo=0,this.hi=0,!(this instanceof jl))return console.log("calling with new"),console.log(t,n),new jl(t,n);if(typeof t<"u"&&typeof n<"u"){if(Kf(t)){if(!Ka(t))throw new TypeError("Interval: interval `lo` must be a singleton");t=t.lo}if(Kf(n)){if(!Ka(n))throw TypeError("Interval: interval `hi` must be a singleton");n=n.hi}}else{if(typeof t<"u")return Array.isArray(t)?new te(t[0],t[1]):new te(t,t);t=n=0}this.assign(t,n)}singleton(t){return this.set(t,t)}bounded(t,n){return this.set(U.prev(t),U.next(n))}boundedSingleton(t){return this.bounded(t,t)}set(t,n){return this.lo=t,this.hi=n,this}assign(t,n){if(typeof t!="number"||typeof n!="number")throw TypeError("Interval#assign: arguments must be numbers");return isNaN(t)||isNaN(n)||t>n?this.setEmpty():this.set(t,n)}setEmpty(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)}setWhole(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)}open(t,n){return this.assign(U.safeNext(t),U.safePrev(n))}halfOpenLeft(t,n){return this.assign(U.safeNext(t),n)}halfOpenRight(t,n){return this.assign(t,U.safePrev(n))}toArray(){return[this.lo,this.hi]}clone(){return new te().set(this.lo,this.hi)}}function Hq(e){function t(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return new(Function.prototype.bind.apply(e,[null].concat(r)))}return t.prototype=e.prototype,t}const te=Hq(jl);te.factory=te;const Qu=(3373259426+273688/(1<<21))/(1<<30),Gu=(3373259426+273689/(1<<21))/(1<<30),ne={PI_LOW:Qu,PI_HIGH:Gu,PI_HALF_LOW:Qu/2,PI_HALF_HIGH:Gu/2,PI_TWICE_LOW:Qu*2,PI_TWICE_HIGH:Gu*2,get E(){return new te(U.prev(Math.E),U.next(Math.E))},get PI(){return new te(Qu,Gu)},get PI_HALF(){return new te(ne.PI_HALF_LOW,ne.PI_HALF_HIGH)},get PI_TWICE(){return new te(ne.PI_TWICE_LOW,ne.PI_TWICE_HIGH)},get ZERO(){return new te(0)},get ONE(){return new te(1)},get WHOLE(){return new te().setWhole()},get EMPTY(){return new te().setEmpty()}};function a2(e,t){return le(e)?le(t):!le(t)&&e.lo===t.lo&&e.hi===t.hi}const Vq=1e-7;function Xf(e,t){if(!e)throw new Error(t||"assertion failed")}function Sx(e,t){if(!isFinite(e))return Xf(e===t,`[Infinity] expected ${e} to be ${t}`);Xf(Math.abs(e-t)<Vq,`expected ${e} to be close to ${t}`)}function Ry(e,t){e=Array.isArray(e)?e:e.toArray(),t=Array.isArray(t)?t:t.toArray(),Sx(e[0],t[0]),Sx(e[1],t[1])}function s2(e,t){Ry(e,t),e=Array.isArray(e)?e:e.toArray(),t=Array.isArray(t)?t:t.toArray(),Xf(e[0]<=t[0],`${e[0]} should be less/equal than ${t[0]}`),Xf(t[1]<=e[1],`${t[1]} should be less/equal than ${e[1]}`)}function l2(e,t){return le(e)?!le(t):le(t)||e.hi<t.lo||e.lo>t.hi}function Iy(e,t){return le(e)||le(t)?!1:e.hi<t.lo}const u2=Iy;function Ly(e,t){return le(e)||le(t)?!1:e.lo>t.hi}const c2=Ly;function Ay(e,t){return le(e)||le(t)?!1:e.hi<=t.lo}const f2=Ay;function Fy(e,t){return le(e)||le(t)?!1:e.lo>=t.hi}const d2=Fy,Bq=Object.freeze(Object.defineProperty({__proto__:null,almostEqual:Ry,assertIncludes:s2,equal:a2,geq:d2,greaterEqualThan:Fy,greaterThan:Ly,gt:c2,leq:f2,lessEqualThan:Ay,lessThan:Iy,lt:u2,notEqual:l2},Symbol.toStringTag,{value:"Module"}));function Yq(e,t){const n=e.lo,r=e.hi,i=t.lo,o=t.hi,a=new te;return r<0?o<0?(a.lo=U.divLo(r,i),a.hi=U.divHi(n,o)):(a.lo=U.divLo(n,i),a.hi=U.divHi(r,o)):n<0?o<0?(a.lo=U.divLo(r,o),a.hi=U.divHi(n,o)):(a.lo=U.divLo(n,i),a.hi=U.divHi(r,i)):o<0?(a.lo=U.divLo(r,o),a.hi=U.divHi(n,i)):(a.lo=U.divLo(n,o),a.hi=U.divHi(r,i)),a}function zq(e,t){return e.lo===0&&e.hi===0?e:us(e)?ne.WHOLE:e.hi<0?new te(Number.NEGATIVE_INFINITY,U.divHi(e.hi,t)):new te(U.divLo(e.lo,t),Number.POSITIVE_INFINITY)}function Wq(e,t){return e.lo===0&&e.hi===0?e:us(e)?ne.WHOLE:e.hi<0?new te(U.divLo(e.hi,t),Number.POSITIVE_INFINITY):new te(Number.NEGATIVE_INFINITY,U.divHi(e.lo,t))}function qq(e){return e.lo===0&&e.hi===0?e:ne.WHOLE}function h2(e,t){return new te(U.addLo(e.lo,t.lo),U.addHi(e.hi,t.hi))}function $y(e,t){return new te(U.subLo(e.lo,t.hi),U.subHi(e.hi,t.lo))}const cs=$y;function jy(e,t){if(le(e)||le(t))return ne.EMPTY;const n=e.lo,r=e.hi,i=t.lo,o=t.hi,a=new te;return n<0?r>0?i<0?o>0?(a.lo=Math.min(U.mulLo(n,o),U.mulLo(r,i)),a.hi=Math.max(U.mulHi(n,i),U.mulHi(r,o))):(a.lo=U.mulLo(r,i),a.hi=U.mulHi(n,i)):o>0?(a.lo=U.mulLo(n,o),a.hi=U.mulHi(r,o)):(a.lo=0,a.hi=0):i<0?o>0?(a.lo=U.mulLo(n,o),a.hi=U.mulHi(n,i)):(a.lo=U.mulLo(r,o),a.hi=U.mulHi(n,i)):o>0?(a.lo=U.mulLo(n,o),a.hi=U.mulHi(r,i)):(a.lo=0,a.hi=0):r>0?i<0?o>0?(a.lo=U.mulLo(r,i),a.hi=U.mulHi(r,o)):(a.lo=U.mulLo(r,i),a.hi=U.mulHi(n,o)):o>0?(a.lo=U.mulLo(n,i),a.hi=U.mulHi(r,o)):(a.lo=0,a.hi=0):(a.lo=0,a.hi=0),a}const Uy=jy;function Hy(e,t){return le(e)||le(t)?ne.EMPTY:us(t)?t.lo!==0?t.hi!==0?qq(e):Wq(e,t.lo):t.hi!==0?zq(e,t.hi):ne.EMPTY:Yq(e,t)}const Th=Hy;function p2(e){return new te(e.lo,e.hi)}function kh(e){return new te(-e.hi,-e.lo)}const Qq=Object.freeze(Object.defineProperty({__proto__:null,add:h2,div:Th,divide:Hy,mul:Uy,multiply:jy,negative:kh,positive:p2,sub:cs,subtract:$y},Symbol.toStringTag,{value:"Module"}));function Mh(e,t){if(le(e)||le(t))return ne.EMPTY;const n=e.lo<0?t.lo:t.hi;let r=e.lo/n;return r<0?r=Math.ceil(r):r=Math.floor(r),cs(e,Uy(t,new te(r)))}function Vy(e){return le(e)?ne.EMPTY:us(e)?e.lo!==0?e.hi!==0?ne.WHOLE:new te(Number.NEGATIVE_INFINITY,U.divHi(1,e.lo)):e.hi!==0?new te(U.divLo(1,e.hi),Number.POSITIVE_INFINITY):ne.EMPTY:new te(U.divLo(1,e.hi),U.divHi(1,e.lo))}function By(e,t){if(le(e))return ne.EMPTY;if(typeof t=="object"){if(!Ka(t))return ne.EMPTY;t=t.lo}if(t===0)return e.lo===0&&e.hi===0?ne.EMPTY:ne.ONE;if(t<0)return By(Vy(e),-t);if(Number.isSafeInteger(t))if(e.hi<0){const n=U.powLo(-e.hi,t),r=U.powHi(-e.lo,t);return(t&1)===1?new te(-r,-n):new te(n,r)}else return e.lo<0?(t&1)===1?new te(-U.powLo(-e.lo,t),U.powHi(e.hi,t)):new te(0,U.powHi(Math.max(-e.lo,e.hi),t)):new te(U.powLo(e.lo,t),U.powHi(e.hi,t));else return console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),ne.EMPTY}function m2(e){return Yy(e,2)}function Yy(e,t){if(le(e)||t<0)return ne.EMPTY;if(typeof t=="object"){if(!Ka(t))return ne.EMPTY;t=t.lo}const n=1/t;if(e.hi<0){if(Number.isSafeInteger(t)&&(t&1)===1){const r=U.powHi(-e.lo,n),i=U.powLo(-e.hi,n);return new te(-r,-i)}return ne.EMPTY}else if(e.lo<0){const r=U.powHi(e.hi,n);if(Number.isSafeInteger(t)&&(t&1)===1){const i=-U.powHi(-e.lo,n);return new te(i,r)}return new te(0,r)}else return new te(U.powLo(e.lo,n),U.powHi(e.hi,n))}const Gq=Object.freeze(Object.defineProperty({__proto__:null,fmod:Mh,multiplicativeInverse:Vy,nthRoot:Yy,pow:By,sqrt:m2},Symbol.toStringTag,{value:"Module"}));function g2(e){return le(e)?ne.EMPTY:new te(U.expLo(e.lo),U.expHi(e.hi))}function Vo(e){if(le(e))return ne.EMPTY;const t=e.lo<=0?Number.NEGATIVE_INFINITY:U.logLo(e.lo);return new te(t,U.logHi(e.hi))}const v2=Vo,zy=Vo(new te(10,10));function y2(e){return le(e)?ne.EMPTY:Th(Vo(e),zy)}const Wy=Vo(new te(2,2));function w2(e){return le(e)?ne.EMPTY:Th(Vo(e),Wy)}function _2(e,t){const n=le(e),r=le(t);return n&&r?ne.EMPTY:n?t.clone():r?e.clone():new te(Math.min(e.lo,t.lo),Math.max(e.hi,t.hi))}function S2(e,t){if(le(e)||le(t))return ne.EMPTY;const n=Math.max(e.lo,t.lo),r=Math.min(e.hi,t.hi);return n<=r?new te(n,r):ne.EMPTY}function x2(e,t){if(!Ch(e,t))throw Error("Interval#union: intervals do not overlap");return new te(Math.min(e.lo,t.lo),Math.max(e.hi,t.hi))}function b2(e,t){if(le(e)||Eh(t))return ne.EMPTY;if(Ch(e,t)){if(e.lo<t.lo&&t.hi<e.hi)throw Error("Interval.difference: difference creates multiple intervals");return t.lo<=e.lo&&t.hi===1/0||t.hi>=e.hi&&t.lo===-1/0?ne.EMPTY:t.lo<=e.lo?new te().halfOpenLeft(t.hi,e.hi):new te().halfOpenRight(e.lo,t.lo)}return e.clone()}function Dh(e){return le(e)?0:U.subHi(e.hi,e.lo)}const E2=Dh;function C2(e){return le(e)||Eh(e)?ne.EMPTY:e.lo>=0?e.clone():e.hi<=0?kh(e):new te(0,Math.max(-e.lo,e.hi))}function T2(e,t){const n=le(e),r=le(t);return n&&r?ne.EMPTY:n?t.clone():r?e.clone():new te(Math.max(e.lo,t.lo),Math.max(e.hi,t.hi))}function k2(e,t){const n=le(e),r=le(t);return n&&r?ne.EMPTY:n?t.clone():r?e.clone():new te(Math.min(e.lo,t.lo),Math.min(e.hi,t.hi))}function M2(e){return new te().set(e.lo,e.hi)}const Kq=Object.freeze(Object.defineProperty({__proto__:null,LOG_EXP_10:zy,LOG_EXP_2:Wy,abs:C2,clone:M2,difference:b2,exp:g2,hull:_2,intersection:S2,ln:v2,log:Vo,log10:y2,log2:w2,max:T2,min:k2,union:x2,wid:E2,width:Dh},Symbol.toStringTag,{value:"Module"}));function qy(e){return!isFinite(e.lo)&&e.lo===e.hi}function D2(e){if(e.lo<0)if(e.lo===-1/0)e.lo=0,e.hi=1/0;else{const t=Math.ceil(-e.lo/ne.PI_TWICE_LOW);e.lo+=ne.PI_TWICE_LOW*t,e.hi+=ne.PI_TWICE_LOW*t}return e}function Oh(e){if(le(e)||qy(e))return ne.EMPTY;const t=new te().set(e.lo,e.hi);D2(t);const n=ne.PI_TWICE,r=Mh(t,n);if(Dh(r)>=n.lo)return new te(-1,1);if(r.lo>=ne.PI_HIGH){const l=Oh(cs(r,ne.PI));return kh(l)}const i=r.lo,o=r.hi,a=U.cosLo(o),s=U.cosHi(i);return o<=ne.PI_LOW?new te(a,s):o<=n.lo?new te(-1,Math.max(a,s)):new te(-1,1)}function O2(e){return le(e)||qy(e)?ne.EMPTY:Oh(cs(e,ne.PI_HALF))}function P2(e){if(le(e)||qy(e))return ne.EMPTY;const t=new te().set(e.lo,e.hi);D2(t);const n=ne.PI;let r=Mh(t,n);return r.lo>=ne.PI_HALF_LOW&&(r=cs(r,n)),r.lo<=-ne.PI_HALF_LOW||r.hi>=ne.PI_HALF_LOW?ne.WHOLE:new te(U.tanLo(r.lo),U.tanHi(r.hi))}function N2(e){if(le(e)||e.hi<-1||e.lo>1)return ne.EMPTY;const t=e.lo<=-1?-ne.PI_HALF_HIGH:U.asinLo(e.lo),n=e.hi>=1?ne.PI_HALF_HIGH:U.asinHi(e.hi);return new te(t,n)}function R2(e){if(le(e)||e.hi<-1||e.lo>1)return ne.EMPTY;const t=e.hi>=1?0:U.acosLo(e.hi),n=e.lo<=-1?ne.PI_HIGH:U.acosHi(e.lo);return new te(t,n)}function I2(e){return le(e)?ne.EMPTY:new te(U.atanLo(e.lo),U.atanHi(e.hi))}function L2(e){return le(e)?ne.EMPTY:new te(U.sinhLo(e.lo),U.sinhHi(e.hi))}function A2(e){return le(e)?ne.EMPTY:e.hi<0?new te(U.coshLo(e.hi),U.coshHi(e.lo)):e.lo>=0?new te(U.coshLo(e.lo),U.coshHi(e.hi)):new te(1,U.coshHi(-e.lo>e.hi?e.lo:e.hi))}function F2(e){return le(e)?ne.EMPTY:new te(U.tanhLo(e.lo),U.tanhHi(e.hi))}const Xq=Object.freeze(Object.defineProperty({__proto__:null,acos:R2,asin:N2,atan:I2,cos:Oh,cosh:A2,sin:O2,sinh:L2,tan:P2,tanh:F2},Symbol.toStringTag,{value:"Module"})),Zq=Object.assign(te,ne,U,Kq,Aq,Bq,Qq,Gq,Xq,{round:U}),Jq=Object.freeze(Object.defineProperty({__proto__:null,Interval:jl,LOG_EXP_10:zy,LOG_EXP_2:Wy,abs:C2,acos:R2,add:h2,almostEqual:Ry,asin:N2,assertIncludes:s2,atan:I2,clone:M2,constants:ne,cos:Oh,cosh:A2,default:Zq,difference:b2,div:Th,divide:Hy,equal:a2,exp:g2,fmod:Mh,geq:d2,greaterEqualThan:Fy,greaterThan:Ly,gt:c2,hasInterval:i2,hasValue:Py,hull:_2,intersection:S2,intervalsOverlap:Ch,isEmpty:le,isInterval:Kf,isSingleton:Ka,isWhole:Eh,leq:f2,lessEqualThan:Ay,lessThan:Iy,ln:v2,log:Vo,log10:y2,log2:w2,lt:u2,max:T2,min:k2,mul:Uy,multiplicativeInverse:Vy,multiply:jy,negative:kh,notEqual:l2,nthRoot:Yy,positive:p2,pow:By,round:U,sin:O2,sinh:L2,sqrt:m2,sub:cs,subtract:$y,tan:P2,tanh:F2,union:x2,wid:E2,width:Dh,zeroIn:us},Symbol.toStringTag,{value:"Module"})),eQ=ii(Jq);var tQ=function(e){e.mod=e.fmod,e.lessThan=e.lt,e.lessEqualThan=e.leq,e.greaterThan=e.gt,e.greaterEqualThan=e.geq,e.strictlyEqual=e.equal,e.strictlyNotEqual=e.notEqual,e.logicalAND=function(t,n){return t&&n},e.logicalXOR=function(t,n){return t^n},e.logicalOR=function(t,n){return t||n}},nQ=function(e){return{disableRounding:function(){e.round.disable()},enableRounding:function(){e.round.enable()}}};const rQ=Lq,Xa=eQ.default;tQ(Xa);function iQ(e){Object.keys(e).forEach(function(t){const n=e[t];typeof n=="number"||Array.isArray(n)?e[t]=Xa.factory(n):typeof n=="object"&&"lo"in n&&"hi"in n&&(e[t]=Xa.factory(n.lo,n.hi))})}Sh.exports=function(e){return new rQ().setDefs({$$processScope:iQ}).parse(e).compile(Xa)};Sh.exports.policies=nQ(Xa);Sh.exports.Interval=Xa;var oQ=Sh.exports,$2=oQ,j2=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(An,"__esModule",{value:!0});An.interval=An.builtIn=void 0;const aQ=j2(gq),sQ=j2($2),U2={interval:sQ.default,builtIn:aQ.default};function lQ(){return typeof he=="object"&&"math"in he?he.math:typeof window=="object"&&"math"in window?window.math:null}const Wg=lQ();Wg&&(U2.builtIn=Wg.compile);function H2(e){function t(o){if(typeof o=="string"){const a=U2[e](o);return Wg&&e==="builtIn"?{eval:a.evaluate||a.eval}:a}else{if(typeof o=="function")return{eval:o};throw Error("expression must be a string or a function")}}function n(o,a){const s=o[a],l=e+"_Expression_"+a,u=e+"_Compiled_"+a;s!==o[l]&&(o[l]=s,o[u]=t(s))}function r(o,a){return o[e+"_Compiled_"+a]}function i(o,a,s){return n(o,a),r(o,a).eval(Object.assign({},o.scope||{},s))}return i}const uQ=H2("builtIn");An.builtIn=uQ;const cQ=H2("interval");An.interval=cQ;var V2=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(my,"__esModule",{value:!0});const fQ=Zd,dQ=Er,Ki=V2(Kn),xx=V2(li),bx=An;function hQ(e){e=Object.assign({xLine:!1,yLine:!1,renderer:function(s,l){return"("+s.toFixed(3)+", "+l.toFixed(3)+")"},owner:null},e);const t=20,n=(0,fQ.line)().x(function(s){return s[0]}).y(function(s){return s[1]});function r(s,l){return s.append("path").datum(l).attr("stroke","grey").attr("stroke-dasharray","5,5").attr("opacity",.5).attr("d",n)}let i,o;function a(s){const l=s.selectAll("g.tip").data(function(c){return[c]}),u=l.enter().append("g").attr("class","tip").attr("clip-path","url(#function-plot-clip-"+e.owner.id+")");i=l.merge(u).selectAll("g.inner-tip").data(function(c){return[c]}),o=i.enter().append("g").attr("class","inner-tip").style("display","none").each(function(){const c=(0,dQ.select)(this);r(c,[[0,-e.owner.meta.height-t],[0,e.owner.meta.height+t]]).attr("class","tip-x-line").style("display","none"),r(c,[[-e.owner.meta.width-t,0],[e.owner.meta.width+t,0]]).attr("class","tip-y-line").style("display","none"),c.append("circle").attr("r",3),c.append("text").attr("transform","translate(5,-5)")}),i.merge(o).selectAll(".tip-x-line").style("display",e.xLine?null:"none"),i.merge(o).selectAll(".tip-y-line").style("display",e.yLine?null:"none")}return a.move=function(s){let l,u=1/0,c=-1,f,d;const h=i.merge(o),m=e.owner.meta,g=h.datum().data,v=m.xScale,p=m.yScale,y=m.width,w=m.height,x=s.x,E=s.y;for(l=0;l<g.length;l+=1){if(g[l].skipTip||g[l].fnType!=="linear")continue;const b=g[l].range||[-Ki.default.infinity(),Ki.default.infinity()];let C;if(x>b[0]-xx.default.TIP_X_EPS&&x<b[1]+xx.default.TIP_X_EPS){try{C=(0,bx.builtIn)(g[l],"fn",{x})}catch{}if(Ki.default.isValidNumber(C)){const k=Math.abs(C-E);k<u&&(u=k,c=l)}}}if(c!==-1){f=x,g[c].range&&(f=Math.max(f,g[c].range[0]),f=Math.min(f,g[c].range[1])),d=(0,bx.builtIn)(g[c],"fn",{x:f}),a.show(),e.owner.emit("tip:update",{x:f,y:d,index:c});const b=Ki.default.clamp(f,v.invert(-t),v.invert(y+t)),C=Ki.default.clamp(d,p.invert(w+t),p.invert(-t)),k=Ki.default.color(g[c],c);h.style("color","red"),h.attr("transform","translate("+v(b)+","+p(C)+")"),h.select("circle").attr("fill",k),h.select("text").attr("fill",k).text(e.renderer(f,d,c))}else a.hide()},a.show=function(){i.merge(o).style("display",null)},a.hide=function(){i.merge(o).style("display","none")},Object.keys(e).forEach(function(s){Ki.default.getterSetter.call(a,e,s)}),a}my.default=hQ;var Ph={},Qy={},sn={},Gy={},lu={},Ky={},pQ=he&&he.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),mQ=he&&he.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gQ=he&&he.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&pQ(t,e,n);return mQ(t,e),t},vQ=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ky,"__esModule",{value:!0});const so=gQ($2),B2=An,yQ=vQ(Kn);so.default.policies.disableRounding();function wQ(e){const t=yQ.default.space(e.xAxis,e.range,e.nSamples),n=e.xScale,r=e.yScale,i=r.domain()[0],o=r.domain()[1],a=[];let s;for(s=0;s<t.length-1;s+=1){const l={lo:t[s],hi:t[s+1]},u=(0,B2.interval)(e.d,"fn",{x:l});!so.Interval.isEmpty(u)&&!so.Interval.isWhole(u)&&a.push([l,u]),so.Interval.isWhole(u)&&a.push(null)}for(s=1;s<a.length-1;s+=1)if(!a[s]){const l=a[s-1],u=a[s+1];l&&u&&!so.Interval.intervalsOverlap(l[1],u[1])&&(l[1].lo>u[1].hi&&(l[1].hi=Math.max(o,l[1].hi),u[1].lo=Math.min(i,u[1].lo)),l[1].hi<u[1].lo&&(l[1].lo=Math.min(i,l[1].lo),u[1].hi=Math.max(o,u[1].hi)))}return a.scaledDx=n(t[1])-n(t[0]),[a]}let Y2;function _Q(e,t){return so.Interval.width(e)<Y2}function Gs(e,t,n){const r=(0,B2.interval)(n,"fn",{x:e,y:t});if(!so.Interval.zeroIn(r))return this;if(_Q(e))return this.push([e,t]),this;const o=e.lo+(e.hi-e.lo)/2,a=t.lo+(t.hi-t.lo)/2,s={lo:o,hi:e.hi},l={lo:e.lo,hi:o},u={lo:a,hi:t.hi},c={lo:t.lo,hi:a};Gs.call(this,s,u,n),Gs.call(this,s,c,n),Gs.call(this,l,u,n),Gs.call(this,l,c,n)}function SQ(e){const t=e.xScale,n=e.xScale.domain(),r=e.yScale.domain(),i={lo:n[0],hi:n[1]},o={lo:r[0],hi:r[1]},a=[];return Y2=t.invert(1)-t.invert(0),Gs.call(a,i,o,e.d),a.scaledDx=1,[a]}const xQ=function(t){const n={implicit:SQ,linear:wQ};if(!Object.hasOwn(n,t.d.fnType))throw Error(t.d.fnType+" is not supported in the `interval` sampler");return n[t.d.fnType].apply(null,arguments)};Ky.default=xQ;var Xy={},bQ=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xy,"__esModule",{value:!0});const $t=bQ(Kn),Ul=An;function z2(e,t,n,r,i){if(!i)return{asymptote:!0,d0:e,d1:t};const o=10,a=e[0],s=t[0],l=$t.default.linspace(a,s,o);let u,c;for(let f=0;f<o;f+=1){const d=l[f],h=(0,Ul.builtIn)(n,"fn",{x:d});if(u){const m=h-u;if($t.default.sgn(m)===r)return z2([c,u],[d,h],n,r,i-1)}u=h,c=d}return{asymptote:!1,d0:e,d1:t}}function EQ(e,t,n){let r;const i=[],o=n.domain()[0]-$t.default.infinity(),a=n.domain()[1]+$t.default.infinity();let s=[t[0]],l=1,u=$t.default.infinity();for(;l<t.length;){const c=t[l-1][1],d=t[l][1]-c,h=$t.default.sgn(d);if(s.length>=2&&r!==h&&Math.abs(d/u)>1){const m=z2(t[l-1],t[l],e,h,3);m.asymptote?(t[l-1][0]=m.d0[0],t[l-1][1]=$t.default.clamp(m.d0[1],o,a),i.push(s),t[l][0]=m.d1[0],t[l][1]=$t.default.clamp(m.d1[1],o,a),s=[t[l]]):s.push(t[l])}else s.push(t[l]);s.length>1&&(u=s[s.length-1][0]-s[s.length-2][0],r=h),++l}return s.length&&i.push(s),i}function CQ(e){const t=$t.default.space(e.xAxis,e.range,e.nSamples),n=e.yScale.domain(),r=n[0]-$t.default.infinity(),i=n[1]+$t.default.infinity(),o=[];for(let s=0;s<t.length;s+=1){const l=t[s];let u=(0,Ul.builtIn)(e.d,"fn",{x:l});$t.default.isValidNumber(l)&&$t.default.isValidNumber(u)&&(u=$t.default.clamp(u,r,i),o.push([l,u]))}return EQ(e.d,o,e.yScale)}function TQ(e){const t=e.d.range||[0,2*Math.PI],n=$t.default.space(e.xAxis,t,e.nSamples),r=[];for(let i=0;i<n.length;i+=1){const o=n[i],a=(0,Ul.builtIn)(e.d,"x",{t:o}),s=(0,Ul.builtIn)(e.d,"y",{t:o});r.push([a,s])}return[r]}function kQ(e){const t=e.d.range||[-Math.PI,Math.PI],n=$t.default.space(e.xAxis,t,e.nSamples),r=[];for(let i=0;i<n.length;i+=1){const o=n[i],a=(0,Ul.builtIn)(e.d,"r",{theta:o}),s=a*Math.cos(o),l=a*Math.sin(o);r.push([s,l])}return[r]}function MQ(e){return[e.d.points]}function DQ(e){const t=e.d;return t.offset=t.offset||[0,0],[[t.offset,[t.vector[0]+t.offset[0],t.vector[1]+t.offset[1]]]]}const OQ=function(t){const n={parametric:TQ,polar:kQ,points:MQ,vector:DQ,linear:CQ};if(!(t.d.fnType in n))throw Error(t.d.fnType+" is not supported in the `builtIn` sampler");return n[t.d.fnType].apply(null,arguments)};Xy.default=OQ;var Zy=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lu,"__esModule",{value:!0});const Ex=Zy(li),PQ=Zy(Ky),NQ=Zy(Xy);function RQ(e,t){const n=t.range||[-1/0,1/0],r=Math.max(e.domain()[0],n[0]),i=Math.min(e.domain()[1],n[1]);return[r,i]}function IQ(e,t){const n=RQ(e.meta.xScale,t);let r;if(t.sampler==="builtIn")r=NQ.default;else if(t.sampler==="interval")r=PQ.default;else throw new Error(`Invalid sampler function ${t.sampler}`);const i=t.nSamples||Math.min(Ex.default.MAX_ITERATIONS,Ex.default.DEFAULT_ITERATIONS||e.meta.width*2),o=r({d:t,range:n,xScale:e.meta.xScale,yScale:e.meta.yScale,xAxis:e.options.xAxis,yAxis:e.options.yAxis,nSamples:i});return e.emit("eval",o,t.index,t.isHelper),o}lu.default=IQ;var W2=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gy,"__esModule",{value:!0});const Cx=Er,rm=Zd,Ku=W2(Kn),LQ=W2(lu);function AQ(e){function t(n){n.each(function(r){const i=t.el=(0,Cx.select)(this),o=r.index,a=(0,LQ.default)(e,r),s=Ku.default.color(r,o),l=i.selectAll(":scope > path.line").data(a),u=e.meta.yScale.range();let c=u[0],f=u[1];const d=c-f;c+=d*1e6,f-=d*1e6,r.skipBoundsCheck&&(c=Ku.default.infinity(),f=-Ku.default.infinity());function h(y){return Ku.default.clamp(e.meta.yScale(y[1]),f,c)}const m=(0,rm.line)().curve(rm.curveLinear).x(function(y){return e.meta.xScale(y[0])}).y(h),g=(0,rm.area)().x(function(y){return e.meta.xScale(y[0])}).y0(e.meta.yScale(0)).y1(h),v=`line line-${o}`,p=l.enter().append("path").attr("class",v).attr("stroke-width",1).attr("stroke-linecap","round");l.merge(p).each(function(){const y=(0,Cx.select)(this);let w;if(r.closed?(y.attr("fill",s),y.attr("fill-opacity",.3),w=g):(y.attr("fill","none"),w=m),y.attr("stroke",s).attr("marker-end",function(){return r.fnType==="vector"?"url(#"+e.markerId+")":null}).attr("d",w),r.attr)for(const x in r.attr){let E=r.attr[x];x==="class"&&(E=`${v} ${r.attr[x]}`),y.attr(x,E)}}),l.exit().remove()})}return t}Gy.default=AQ;var Jy={},q2=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jy,"__esModule",{value:!0});const FQ=Er,$Q=q2(lu),jQ=q2(Kn);function UQ(e){let t;const n=e.meta.xScale,r=e.meta.yScale;function i(s,l,u,c){if(u>c){const h=u;u=c,c=h}const f=Math.min(l,c),d=Math.max(s,u);return d>f?[-t,0]:[d,f]}const o=function(s,l){let u="";const c=r.range(),f=Math.min.apply(Math,c),d=Math.max.apply(Math,c);for(let h=0,m=s.length;h<m;h+=1)if(s[h]){const g=s[h][0],v=s[h][1];let p=v.lo,y=v.hi;l&&(p=Math.min(p,0),y=Math.max(y,0));const w=n(g.lo)+s.scaledDx/2,x=i(f,d,isFinite(y)?r(y):-1/0,isFinite(p)?r(p):1/0),E=x[0],b=x[1];u+=" M "+w+" "+E,u+=" v "+Math.max(b-E,t)}return u};function a(s){s.each(function(l){const u=a.el=(0,FQ.select)(this),c=l.index,f=l.closed,d=(0,$Q.default)(e,l),h=u.selectAll(":scope > path.line").data(d);t=Math.max(d[0].scaledDx,1);const m=`line line-${c}`,g=h.enter().append("path").attr("class",m).attr("fill","none"),v=h.merge(g).attr("stroke-width",t).attr("stroke",jQ.default.color(l,c)).attr("opacity",f?.5:1).attr("d",function(p){return o(p,f)});if(l.attr)for(const p in l.attr){let y=l.attr[p];p==="class"&&(y=`${m} ${l.attr[p]}`),v.attr(p,y)}h.exit().remove()})}return a}Jy.default=UQ;var e1={},Q2=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e1,"__esModule",{value:!0});const HQ=Er,VQ=gy,BQ=Q2(Kn),YQ=Q2(lu);function zQ(e){const t=e.meta.xScale,n=e.meta.yScale;function r(i){i.each(function(o){let a,s;const l=o.index,u=BQ.default.color(o,l),c=(0,YQ.default)(e,o),f=[];for(a=0;a<c.length;a+=1)for(s=0;s<c[a].length;s+=1)f.push(c[a][s]);const d=(0,HQ.select)(this).selectAll(":scope > circle.scatter").data(f),h=`scatter scatter-${l}`,m=d.enter().append("circle").attr("class",h),g=d.merge(m).attr("fill",(0,VQ.hsl)(u.toString()).brighter(1.5).formatHex()).attr("stroke",u).attr("opacity",.7).attr("r",1).attr("cx",function(v){return t(v[0])}).attr("cy",function(v){return n(v[1])});if(o.attr)for(const v in o.attr){let p=o.attr[v];v==="class"&&(p=`${h} ${o.attr[v]}`),g.attr(v,p)}d.exit().remove()})}return r}e1.default=zQ;var t1={},WQ=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t1,"__esModule",{value:!0});const qQ=Er,QQ=gy,GQ=WQ(Kn);function KQ(e){const t=e.meta.xScale,n=e.meta.yScale;function r(i){i.each(function(o){o.sampler="builtIn",o.fnType="vector";const a=(0,qQ.select)(this).selectAll(":scope > text.fn-text").data([o.location]),s=a.enter().append("text").attr("class",`fn-text fn-text-${o.index}`),l=GQ.default.color(o,o.index),u=a.merge(s).attr("fill",(0,QQ.hsl)(l.toString()).brighter(1.5).formatHex()).attr("x",c=>t(c[0])).attr("y",c=>n(c[1])).text(()=>o.text);if(o.attr)for(const c in o.attr)u.attr(c,o.attr[c]);a.exit().remove()})}return r}t1.default=KQ;var Nh=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sn,"__esModule",{value:!0});sn.text=sn.scatter=sn.interval=sn.polyline=void 0;const XQ=Nh(Gy);sn.polyline=XQ.default;const ZQ=Nh(Jy);sn.interval=ZQ.default;const JQ=Nh(e1);sn.scatter=JQ.default;const eG=Nh(t1);sn.text=eG.default;var uu={};Object.defineProperty(uu,"__esModule",{value:!0});function tG(e){return"graphType"in e||(e.graphType="interval"),"sampler"in e||(e.sampler=e.graphType!=="interval"?"builtIn":"interval"),"fnType"in e||(e.fnType="linear"),e}uu.default=tG;var G2=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qy,"__esModule",{value:!0});const nG=Er,rG=sn,Tx=An,iG=G2(uu),oG=G2(Kn);function aG(e){const t=(0,iG.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function n(o){if(!o.derivative)return[];const a=typeof o.derivative.x0=="number"?o.derivative.x0:oG.default.infinity();return t.index=o.index,t.scope={m:(0,Tx.builtIn)(o.derivative,"fn",{x:a}),x0:a,y0:(0,Tx.builtIn)(o,"fn",{x:a})},t.fn="m * (x - x0) + y0",[t]}function r(o){const a=this;o.derivative&&o.derivative.updateOnMouseMove&&!o.derivative.$$mouseListener&&(o.derivative.$$mouseListener=function({x:s}){o.derivative&&(o.derivative.x0=s),i(a)},e.on("tip:update",o.derivative.$$mouseListener))}const i=function(o){o.each(function(a){const s=(0,nG.select)(this),l=n.call(o,a);r.call(o,a);const u=s.selectAll("g.derivative").data(l),c=u.enter().append("g").attr("class","derivative");u.merge(c).call((0,rG.polyline)(e)),u.merge(c).selectAll("path").attr("opacity",.5),u.exit().remove()})};return i}Qy.default=aG;var n1={},K2=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n1,"__esModule",{value:!0});const sG=Er,kx=An,lG=K2(uu),uG=sn,cG=K2(Kn);function fG(e){const t=(0,lG.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function n(l){l.m=(l.y1-l.y0)/(l.x1-l.x0)}function r(l,u){if(!("x0"in u))throw Error("secant must have the property `x0` defined");u.scope=u.scope||{};const c=u.x0,f=typeof u.x1=="number"?u.x1:cG.default.infinity();Object.assign(u.scope,{x0:c,x1:f,y0:(0,kx.builtIn)(l,"fn",{x:c}),y1:(0,kx.builtIn)(l,"fn",{x:f})}),n(u.scope)}function i(l,u){r(l,u),u.fn="m * (x - x0) + y0"}function o(l,u){const c=this;u.updateOnMouseMove&&!u.$$mouseListener&&(u.$$mouseListener=function({x:f}){u.x1=f,r(l,u),s(c)},e.on("tip:update",u.$$mouseListener))}function a(l){const u=this,c=[];l.secants=l.secants||[];for(let f=0;f<l.secants.length;f+=1){const d=l.secants[f]=Object.assign({},t,l.secants[f]);d.index=l.index,d.fn||(i.call(u,l,d),o.call(u,l,d)),c.push(d)}return c}function s(l){l.each(function(u){const c=(0,sG.select)(this),f=a.call(l,u),d=c.selectAll("g.secant").data(f),h=d.enter().append("g").attr("class","secant");d.merge(h).call((0,uG.polyline)(e)),d.merge(h).selectAll("path").attr("opacity",.5),d.exit().remove()})}return s}n1.default=fG;var X2=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ph,"__esModule",{value:!0});const dG=Er,hG=X2(Qy),pG=X2(n1);function mG(e){function t(n){n.each(function(){const r=(0,dG.select)(this);r.call((0,hG.default)(e)),r.call((0,pG.default)(e))})}return t}Ph.default=mG;var fs=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zd,"__esModule",{value:!0});zd.Chart=void 0;const gG=Zd,vG=cV,Mx=BY,Dx=tz,yG=lW,Xu=Er,Ox=uW,wG=fs(gW),_G=fs(py),SG=fs(my),xG=fs(Ph),bG=fs(uu),Zu=fs(li);function Px(e){return e==="linear"?Mx.scaleLinear:Mx.scaleLog}class Rh extends wG.default.EventEmitter{constructor(t){super();const n=Math.random(),r=String.fromCharCode(Math.floor(n*26)+97);this.options=t,this.id=r+n.toString(16).substr(2),this.options.id=this.id,this.markerId=this.id+"-marker",Rh.cache[this.id]=this,this.linkedGraphs=[this],this.meta={},this.setUpEventListeners()}build(){return this.internalVars(),this.drawGraphWrapper(),this}getDraggableNode(){return(0,Xu.select)(this.options.target).select(".zoom-and-drag").node()}getEmitInstance(){let t=this;const n=this.getDraggableNode();return n&&(t=n.instance),t}internalVars(){const t=this.meta.margin={left:40,right:20,top:20,bottom:20};this.options.title&&(this.meta.margin.top=40),this.meta.width=(this.options.width||Zu.default.DEFAULT_WIDTH)-t.left-t.right,this.meta.height=(this.options.height||Zu.default.DEFAULT_HEIGHT)-t.top-t.bottom,this.initializeAxes()}initializeAxes(){const t=this,n=(0,vG.format)("~s");function r(s){return Math.abs(s)-Math.floor(Math.abs(s))>0?s.toString():n(s)}function i(s){const l=s[1]-s[0];return t.meta.height*l/t.meta.width}this.options.xAxis=this.options.xAxis||{},this.options.xAxis.type=this.options.xAxis.type||"linear",this.options.yAxis=this.options.yAxis||{},this.options.yAxis.type=this.options.yAxis.type||"linear";const o=this.meta.xDomain=function(s){if(s.domain)return s.domain;if(s.type==="linear")return[-12/2,12/2];if(s.type==="log")return[1,10];throw Error("axis type "+s.type+" unsupported")}(this.options.xAxis),a=this.meta.yDomain=function(s){if(s.domain)return s.domain;const l=i(o);if(s.type==="linear")return[-l/2,l/2];if(s.type==="log")return[1,10];throw Error("axis type "+s.type+" unsupported")}(this.options.yAxis);this.meta.xScale||(this.meta.xScale=Px(this.options.xAxis.type)()),this.meta.xScale.domain(o).range(this.options.xAxis.invert?[this.meta.width,0]:[0,this.meta.width]),this.meta.yScale||(this.meta.yScale=Px(this.options.yAxis.type)()),this.meta.yScale.domain(a).range(this.options.yAxis.invert?[0,this.meta.height]:[this.meta.height,0]),this.meta.xAxis||(this.meta.xAxis=(0,Dx.axisBottom)(this.meta.xScale)),this.meta.xAxis.tickSize(this.options.grid?-this.meta.height:0).tickFormat(r),this.meta.yAxis||(this.meta.yAxis=(0,Dx.axisLeft)(this.meta.yScale)),this.meta.yAxis.tickSize(this.options.grid?-this.meta.width:0).tickFormat(r),this.line=(0,gG.line)().x(function(s){return t.meta.xScale(s[0])}).y(function(s){return t.meta.yScale(s[1])})}drawGraphWrapper(){const t=this.root=(0,Xu.select)(this.options.target).selectAll("svg").data([this.options]);this.root.enter=t.enter().append("svg").attr("class","function-plot").attr("font-size",this.getFontSize()),t.merge(this.root.enter).attr("width",this.meta.width+this.meta.margin.left+this.meta.margin.right).attr("height",this.meta.height+this.meta.margin.top+this.meta.margin.bottom),this.buildTitle(),this.buildLegend(),this.buildCanvas(),this.buildClip(),this.buildAxis(),this.buildAxisLabel();const n=this.tip=(0,SG.default)(Object.assign(this.options.tip||{},{owner:this}));this.canvas.merge(this.canvas.enter).call(n),this.setUpPlugins(),this.draw(),this.buildZoomHelper()}buildTitle(){const t=this.root.merge(this.root.enter).selectAll("text.title").data(function(r){return[r.title].filter(Boolean)});t.enter().append("text").merge(t).attr("class","title").attr("y",this.meta.margin.top/2).attr("x",this.meta.margin.left+this.meta.width/2).attr("font-size",25).attr("text-anchor","middle").attr("alignment-baseline","middle").text(this.options.title),t.exit().remove()}buildLegend(){this.root.enter.append("text").attr("class","top-right-legend").attr("text-anchor","end"),this.root.merge(this.root.enter).select(".top-right-legend").attr("y",this.meta.margin.top/2).attr("x",this.meta.width+this.meta.margin.left)}buildCanvas(){const t=this.canvas=this.root.merge(this.root.enter).selectAll(".canvas").data(function(n){return[n]});this.canvas.enter=t.enter().append("g").attr("class","canvas")}buildClip(){const t=this.id,n=this.canvas.enter.append("defs");n.append("clipPath").attr("id","function-plot-clip-"+t).append("rect").attr("class","clip static-clip"),this.canvas.merge(this.canvas.enter).selectAll(".clip").attr("width",this.meta.width).attr("height",this.meta.height),n.append("clipPath").append("marker").attr("id",this.markerId).attr("viewBox","0 -5 10 10").attr("refX",10).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5L0,0").attr("stroke-width","0px").attr("fill-opacity",1).attr("fill","#777")}buildAxis(){const t=this.canvas.enter;t.append("g").attr("class","x axis"),t.append("g").attr("class","y axis"),this.canvas.merge(this.canvas.enter).select(".x.axis").attr("transform","translate(0,"+this.meta.height+")").call(this.meta.xAxis),this.canvas.merge(this.canvas.enter).select(".y.axis").call(this.meta.yAxis)}buildAxisLabel(){const t=this.canvas,n=t.merge(t.enter).selectAll("text.x.axis-label").data(function(a){return[a.xAxis.label].filter(Boolean)}),r=n.enter().append("text").attr("class","x axis-label").attr("text-anchor","end");n.merge(r).attr("x",this.meta.width).attr("y",this.meta.height-6).text(function(a){return a}),n.exit().remove();const i=t.merge(t.enter).selectAll("text.y.axis-label").data(function(a){return[a.yAxis.label].filter(Boolean)}),o=i.enter().append("text").attr("class","y axis-label").attr("y",6).attr("dy",".75em").attr("text-anchor","end").attr("transform","rotate(-90)");i.merge(o).text(function(a){return a}),i.exit().remove()}buildContent(){const t=this,n=this.canvas;n.merge(n.enter).attr("transform","translate("+this.meta.margin.left+","+this.meta.margin.top+")");const r=this.content=n.merge(n.enter).selectAll(":scope > g.content").data(function(s){return[s]}),i=r.enter().append("g").attr("clip-path","url(#function-plot-clip-"+this.id+")").attr("class","content");if(this.options.xAxis.type==="linear"){const s=r.merge(i).selectAll(":scope > path.y.origin").data([[[0,this.meta.yScale.domain()[0]],[0,this.meta.yScale.domain()[1]]]]),l=s.enter().append("path").attr("class","y origin").attr("stroke","black").attr("opacity",.2);s.merge(l).attr("d",this.line)}if(this.options.yAxis.type==="linear"){const s=r.merge(i).selectAll(":scope > path.x.origin").data([[[this.meta.xScale.domain()[0],0],[this.meta.xScale.domain()[1],0]]]),l=s.enter().append("path").attr("class","x origin").attr("stroke","black").attr("opacity",.2);s.merge(l).attr("d",this.line)}r.merge(i).call((0,_G.default)({owner:t}));const o=r.merge(i).selectAll(":scope > g.graph").data(s=>s.data.map(bG.default),s=>s.fn||s.r||s.x||s.text);o.exit().remove();const a=o.enter().append("g").attr("class","graph");o.merge(a).each(function(s,l){s.index=l;const u=(0,Xu.select)(this);u.call(Zu.default.graphTypes[s.graphType](t)),u.call((0,xG.default)(t))})}buildZoomHelper(){const t=this;this.meta.zoomBehavior||(this.meta.zoomBehavior=(0,yG.zoom)().on("zoom",function(r){t.getEmitInstance().emit("all:zoom",r)}),t.meta.zoomBehavior.xScale=t.meta.xScale.copy(),t.meta.zoomBehavior.yScale=t.meta.yScale.copy()),t.meta.zoomBehavior.xScale.range(t.meta.xScale.range()),t.meta.zoomBehavior.yScale.range(t.meta.yScale.range()),this.canvas.enter.append("rect").call(this.meta.zoomBehavior).attr("class","zoom-and-drag").style("fill","none").style("pointer-events","all").on("mouseover",function(n){t.getEmitInstance().emit("all:mouseover",n)}).on("mouseout",function(n){t.getEmitInstance().emit("all:mouseout",n)}).on("mousemove",function(n){t.getEmitInstance().emit("all:mousemove",n)}),this.draggable=this.canvas.merge(this.canvas.enter).select(".zoom-and-drag").call(n=>{n.node()&&(n.node().instance=t)}).attr("width",this.meta.width).attr("height",this.meta.height)}setUpPlugins(){const t=this.options.plugins||[],n=this;t.forEach(function(r){r(n)})}addLink(){for(let t=0;t<arguments.length;t+=1)this.linkedGraphs.push(arguments[t])}updateAxes(){const t=this,n=t.canvas.merge(t.canvas.enter);if(n.select(".x.axis").call(t.meta.xAxis),this.options.xAxis.position==="sticky"){const r=this.meta.yScale.domain()[0],i=this.meta.yScale.domain()[1],o=(i+r)/2;let s=this.meta.height/(i-r)*o+this.meta.height/2;s=s<0?0:s,s=s>this.meta.height?this.meta.height:s,n.select(".x.axis").attr("transform","translate(0,"+s+")"),n.selectAll(".x.axis path, .x.axis line").attr("transform","translate(0,"+(this.meta.height/2-s+this.meta.height/2)+")")}if(n.select(".y.axis").call(t.meta.yAxis),this.options.yAxis.position==="sticky"){const r=this.meta.xScale.domain()[0],i=this.meta.xScale.domain()[1],o=(i+r)/2;let s=this.meta.width/(r-i)*o+this.meta.width/2;s=s<0?0:s,s=s>this.meta.width?this.meta.width:s,n.select(".y.axis").attr("transform","translate("+s+",0)"),n.selectAll(".y.axis path, .y.axis line").attr("transform","translate("+-s+",0)")}n.selectAll(".axis path, .axis line").attr("fill","none").attr("stroke","black").attr("shape-rendering","crispedges").attr("opacity",.1)}syncOptions(){this.options.xAxis.domain=this.meta.xScale.domain(),this.options.yAxis.domain=this.meta.yScale.domain()}getFontSize(){return Math.max(Math.max(this.meta.width,this.meta.height)/50,8)}draw(){const t=this;t.emit("before:draw"),t.syncOptions(),t.updateAxes(),t.buildContent(),t.emit("after:draw")}setUpEventListeners(){const t=this,n=this.getEmitInstance();n&&n.removeAllListeners();const r={mousemove:function(o){t.tip.move(o)},mouseover:function(){t.tip.show()},mouseout:function(){t.tip.hide()},zoom:function({transform:a}){if(t.options.disableZoom)return;const s=a.rescaleX(t.meta.zoomBehavior.xScale).interpolate(Ox.interpolateRound),l=a.rescaleY(t.meta.zoomBehavior.yScale).interpolate(Ox.interpolateRound);t.meta.xScale.domain(s.domain()).range(s.range()),t.meta.yScale.domain(l.domain()).range(l.range())},"tip:update":function({x:o,y:a,index:s}){const l=t.root.merge(t.root.enter).datum().data[s],u=l.title||"",c=l.renderer||function(d,h){return d.toFixed(3)+", "+h.toFixed(3)},f=[];u&&f.push(u),f.push(c(o,a)),t.root.select(".top-right-legend").attr("fill",Zu.default.COLORS[s]).text(f.join(" "))}},i={mousemove:function(o){const a=(0,Xu.pointer)(o,t.draggable.node()),s={x:t.meta.xScale.invert(a[0]),y:t.meta.yScale.invert(a[1])};t.linkedGraphs.forEach(function(l){l.emit("before:mousemove",s),l.emit("mousemove",s)})},zoom:function(o){t.linkedGraphs.forEach(function(a){a.draggable.node().__zoom=t.draggable.node().__zoom,a.emit("zoom",o),a.draw()}),t.emit("all:mousemove",o)}};Object.keys(r).forEach(function(o){!i[o]&&t.on("all:"+o,function(){const a=Array.prototype.slice.call(arguments);t.linkedGraphs.forEach(function(s){const l=a.slice();l.unshift(o),s.emit.apply(s,l)})}),t.on(o,r[o])}),Object.keys(i).forEach(function(o){t.on("all:"+o,i[o])})}}zd.Chart=Rh;Rh.cache={};var Z2={};Object.defineProperty(Z2,"__esModule",{value:!0});(function(e){var t=he&&he.__createBinding||(Object.create?function(d,h,m,g){g===void 0&&(g=m);var v=Object.getOwnPropertyDescriptor(h,m);(!v||("get"in v?!h.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(d,g,v)}:function(d,h,m,g){g===void 0&&(g=m),d[g]=h[m]}),n=he&&he.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),r=he&&he.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var m in d)m!=="default"&&Object.prototype.hasOwnProperty.call(d,m)&&t(h,d,m);return n(h,d),h},i=he&&he.__exportStar||function(d,h){for(var m in d)m!=="default"&&!Object.prototype.hasOwnProperty.call(h,m)&&t(h,d,m)};Object.defineProperty(e,"__esModule",{value:!0}),e.GraphTypeScatter=e.GraphTypePolyline=e.GraphTypeInterval=e.EvalInterval=e.EvalBuiltIn=e.registerGraphType=e.Chart=void 0;const o=zd;Object.defineProperty(e,"Chart",{enumerable:!0,get:function(){return o.Chart}});const a=r(li);Object.defineProperty(e,"registerGraphType",{enumerable:!0,get:function(){return a.registerGraphType}});const s=sn,l=r(An);(0,a.registerGraphType)("polyline",s.polyline),(0,a.registerGraphType)("interval",s.interval),(0,a.registerGraphType)("scatter",s.scatter),(0,a.registerGraphType)("text",s.text);function u(d){d.data=d.data||[];let h=o.Chart.cache[d.id];return h||(h=new o.Chart(d)),h.build()}e.default=u,u.globals=a.default,u.$eval=l,u.graphTypes={interval:s.interval,polyline:s.polyline,scatter:s.scatter},i(Z2,e);var c=An;Object.defineProperty(e,"EvalBuiltIn",{enumerable:!0,get:function(){return c.builtIn}}),Object.defineProperty(e,"EvalInterval",{enumerable:!0,get:function(){return c.interval}});var f=sn;Object.defineProperty(e,"GraphTypeInterval",{enumerable:!0,get:function(){return f.interval}}),Object.defineProperty(e,"GraphTypePolyline",{enumerable:!0,get:function(){return f.polyline}}),Object.defineProperty(e,"GraphTypeScatter",{enumerable:!0,get:function(){return f.scatter}}),i(Ph,e)})(Sk);const EG=No(Sk);function CG(e){const t=_.useRef(null);return _.useEffect(()=>{try{EG(Object.assign({},e,{target:t.current}))}catch(n){console.error(n)}}),S.jsxs("div",{id:"function-plot-container",children:[S.jsx("style",{id:"function-plot-custom-styles",children:"path.line { opacity: 0.5;}"}),S.jsx("div",{ref:t})]})}const TG=60*60*1e3;function kG(){const e=_.useContext(bt),[t,n]=se(j.STATS_FIRST_DATE),[r,i]=se(j.STATS_LAST_DATE),[o,a]=_.useState([]),[s,l]=_.useState(0),[u,c]=_.useState(0),[f,d]=_.useState(0),[h,m]=_.useState(0),[g,v]=_.useState(0),[p,y]=_.useState(0),[w,x]=_.useState([]),[E,b]=_.useState([]),[C,k]=_.useState(0),[N,A]=_.useState(0),[O,V]=_.useState(0),[L,T]=_.useState(0),[P,D]=_.useState(0);function $(Y){try{return new Date(Y.getTime()-Y.getTimezoneOffset()*60*1e3)}catch(R){return console.warn("could not parse date: ",Y,R),new Date}}function M(Y){return $(Y).toISOString().substring(0,10).replace(/-/g,"")}function F(Y,R){return new Date(R.Time??0).getTime()-new Date(Y.Time??0).getTime()}function B(Y,R){return F(Y,R)>1*60*60*1e3}function Q(Y){return Y.Time?M(new Date(Y.Time)):""}function K(Y){Y=Y.toSorted((W,J)=>(W.Time?$(new Date(W.Time)).getTime():0)-(J.Time?$(new Date(J.Time)).getTime():0)),Y=Y.filter(W=>!W.Participant?.match(/zero\s+filter/i)),y(new Set(Y.map(W=>W.Mask)).size),c(Y.length),d(Y.reduce((W,J)=>W+(J.Final?1:0),0)),l(Y.reduce((W,J,Te,ct)=>{const Tr=ct[Te-1]??{};return W+(B(Tr,J)?1:0)},0)),m(new Set(Y.map(W=>`${Q(W)}-${W.Participant}`)).size),v(Y.reduce((W,J,Te,ct)=>{const Tr=ct[Te-1]??{};return B(Tr,J)?W:W+F(Tr,J)},0));const R=new Map;Y.forEach((W,J,Te)=>{const ct=Te[J-1]??{};if(B(ct,W))return null;const Tr=`${Q(ct)}-${ct.Participant}`,Ih=F(ct,W);R.set(Tr,Ih+(R.get(Tr)||0))}),V(up(new Array(...R.values())));const q=new Map;Y.forEach(W=>{const J=`${Q(W)}-${W.Participant}`;q.set(J,(q.get(J)??new Set).add(W.Mask??"unknown mask"))});const ie=[...q.values()].map(W=>W.size);T(up(ie)),D(eC(ie)),A(up(Y.map((W,J,Te)=>{const ct=Te[J-1]??{};return B(ct,W)||!W.Final?null:F(ct,W)}).filter(W=>W!==null)));const H=e.settings.getProtocolDuration(e.settings.getDefault(j.SELECTED_PROTOCOL));k(Y.filter(W=>W.Final).reduce((W,J)=>W+(J.ProtocolName?e.settings.getProtocolDuration(J.ProtocolName):H),0)),x(Y.toSorted((W,J)=>(J.Final??0)-(W.Final??0)).filter(W=>!(!W.Final||isNaN(W.Final)||isNaN(Number(W.Final))||!isFinite(Number(W.Final)))).toSpliced(5));const ge={};Y.forEach(W=>{const J=`${Q(W)}-${W.Participant}-${W.Mask}`;ge[J]=W});const G={};Object.values(ge).forEach(W=>{const J=W.Mask??"";G[J]=1+(G[J]??0)}),console.debug(`mask tally: ${JSON.stringify(G)}`),b(Object.entries(G).toSorted((W,J)=>J[1]-W[1]).toSpliced(5))}async function pe(){return new Promise(Y=>{const R=new Set;Rn.getData(q=>(R.add(new Date(q.Time)),!1)).then(()=>Y([...R].toSorted((q,ie)=>q.getTime()-ie.getTime())))})}async function ce(){const Y=Number(M(t??new Date(0))),R=Number(M(r??new Date)),ie=(await gd.getData(H=>{const ge=Number(M(new Date(H.timestamp)));return Y<=ge&&ge<=R})).toSorted((H,ge)=>new Date(H.timestamp).getTime()-new Date(ge.timestamp).getTime()).reduce((H,ge)=>{const G=new Date(ge.timestamp).getTime();if(G>H.end+TG){const W=M(new Date(ge.timestamp)),J=H.longest.get(W)||{start:G,end:G,longest:{}};J.end-J.start<H.end-H.start&&(J.start=H.start,J.end=H.end,H.longest.set(W,J)),H.start=G}return H.end=G,H},{start:0,end:0,longest:new Map});console.debug(`event date ranges: ${JSON.stringify(ie.longest)}`,ie),K(await Rn.getData(H=>{const ge=Number(M(new Date(H.Time)));return Y<=ge&&ge<=R}))}_.useEffect(()=>{ce()},[t,r]),_.useEffect(()=>{pe().then(Y=>{a(Y),Y.length!==0&&t.getTime()===0&&n(Y[Y.length-1])})},[]);function re(Y){Y?(r&&Y>r&&i(Y),n(Y)):o.length>0?n(o[0]):n(new Date(0))}function me(Y){Y?(t&&Y<t&&n(Y),i(Y)):o.length>0?i(o[o.length-1]):i(new Date)}function de(Y,R){return{fn:q=>({hi:100*(1-1/q.x.hi),lo:JE(Y)}),range:[Y,R]}}return S.jsxs("div",{id:"stats-panel",children:[S.jsx(CG,{height:300,width:1e3,grid:!0,disableZoom:!0,tip:{xLine:!0,yLine:!0,renderer:(Y,R)=>`${R.toFixed(R<90?0:R<99?1:2)}% = FF:${Y.toFixed(Y<10?1:0)}`},yAxis:{domain:[0,110],type:"linear",label:"Filtration %"},xAxis:{domain:[1,1e3],type:"log",label:"Fit Factor"},data:[{fn:"100*(1-1/x)"},de(1.3,4.6),de(2.5,9.6),de(3,39),de(35,171)]}),S.jsxs("section",{id:"stats-date-range-selection",style:{display:"flex",justifySelf:"center"},children:["from",S.jsx(bg,{id:"stats-first-date-picker",className:"date-picker-input",selected:t,showIcon:!0,dateFormat:"YYYY-MMM-dd",placeholderText:"Start date",highlightDates:o,onChange:Y=>re(Y)}),"to",S.jsx(bg,{id:"stats-last-date-from",className:"date-picker-input",selected:r,showIcon:!0,dateFormat:"YYYY-MMM-dd",placeholderText:"End date",highlightDates:o,onChange:Y=>me(Y)})]}),S.jsxs("section",{id:"stats-display",style:{display:"flex",flexDirection:"column",justifyContent:"stretch",width:"fit-content",justifySelf:"center"},children:[S.jsxs(oe,{label:"For selected date range",children:[S.jsx(oe,{label:"Num Events",children:s}),S.jsx(oe,{label:"Num Participants",children:h}),S.jsx(oe,{label:"Num Masks Tested",children:p}),S.jsx(oe,{label:"Num Tests Started",children:u}),S.jsx(oe,{label:"Num Tests Completed",children:`${f} (${(100*f/u).toFixed(1)}%)`})]}),S.jsx("hr",{}),S.jsx(oe,{label:"Total time from completed tests",children:Ge(C*1e3)}),S.jsx(oe,{label:"Total event time (estimate)",children:Ge(g)}),S.jsxs(oe,{label:"Device utilization",children:[(100*C*1e3/g).toFixed(1),"%"]}),S.jsx("hr",{}),S.jsx(oe,{label:"Time spent per participant",children:S.jsxs("div",{className:"inline-flex",children:[S.jsx(oe,{label:"Average",children:Ge(g/h)}),S.jsx(oe,{label:"Median",children:Ge(O)})]})}),S.jsx(oe,{label:"Time spent per completed test",children:S.jsxs("div",{className:"inline-flex",children:[S.jsx(oe,{label:"Average",children:Ge(g/f)}),S.jsx(oe,{label:"Median",children:Ge(N)})]})}),S.jsx("hr",{}),S.jsx(oe,{label:"Num masks tested per participant",children:S.jsxs("div",{className:"inline-flex",children:[S.jsx(oe,{label:"Average",children:P.toFixed(1)}),S.jsx(oe,{label:"Median",children:L.toFixed(1)})]})}),S.jsx("hr",{}),S.jsxs(oe,{label:"Per Participant averages",children:[S.jsx(oe,{label:"Num Tests Started",children:(u/h).toFixed(1)}),S.jsx(oe,{label:"Num Tests Completed",children:(f/h).toFixed(1)})]}),S.jsx("hr",{}),S.jsx(oe,{label:"popular masks",children:E.map(([Y,R])=>S.jsx(oe,{label:Y.trim().length===0?"Unnamed mask":Y,children:R},Y))}),S.jsx("hr",{}),S.jsx(oe,{label:"top overall scores",children:w.map(Y=>S.jsx(oe,{label:Y.Mask??"Unnamed mask",children:Y.Final},Y.ID))}),S.jsx("hr",{}),S.jsx(oe,{label:"top individual scores",children:"todo: look at this across all exercises"}),S.jsx("hr",{}),S.jsxs(oe,{label:"Per Event averages",children:[S.jsx(oe,{label:"Time Spent",children:Ge(g/s)}),S.jsx(oe,{label:"Num Participants",children:(h/s).toFixed(1)}),S.jsx(oe,{label:"Num Masks Tested",children:"todo"}),S.jsx(oe,{label:"Num Tests Started",children:(u/s).toFixed(1)}),S.jsx(oe,{label:"Num Tests Completed",children:(f/s).toFixed(1)})]})]})]})}const MG=()=>{const[e]=se(j.KEEP_SCREEN_AWAKE),t=_.useRef(null);async function n(){if(console.debug("requestWakeLock()"),t.current===null&&document.visibilityState==="visible")try{t.current=await navigator.wakeLock.request("screen")}catch(i){console.warn(i)}else console.debug("not visible or already have a wakelock")}const r=_.useCallback(()=>{e&&n()},[e]);_.useEffect(()=>(e?(n(),document.addEventListener("visibilitychange",r)):t.current!==null&&(console.debug("removing wake lock"),document.removeEventListener("visibilitychange",r),t.current.release().then(()=>{t.current=null})),()=>{document.removeEventListener("visibilitychange",r)}),[e,r])};function DG({useIcons:e=!1,...t}){const n=_.useContext(bt),[r]=se(j.MINUTES_ALLOTTED_PER_PARTICIPANT),[i,o]=_.useState("");function a(){return Date.now()-n.settings.eventEndTime.getTime()}function s(){const c=a()/60/1e3;return r-c<0?"over-time":"on-time"}function l(){o(Ge(n.settings.eventEndTime.getTime()-Date.now(),!1,!1))}return z0(l),t.style={...t.style,display:"flex",gap:"0.3em"},S.jsxs("div",{...t,className:`number-field thin-border smooth-background-change svg-container no-wrap ${s()}`,children:[e?S.jsx(oL,{}):S.jsx("span",{children:"Event Time:"}),S.jsx("span",{children:i})]})}function OG({useIcons:e=!1,...t}){const[n]=se(j.TEST_TEMPLATE),[r]=se(j.MINUTES_ALLOTTED_PER_PARTICIPANT),[i,o]=_.useState("");function a(){return!!n.Participant}function s(){return a()&&n.Time?Date.now()-new Date(n.Time).getTime():0}function l(){if(a()){if(n.Time){const f=s()/60/1e3;if(r-f<0)return"over-time"}return"on-time"}return"idle"}function u(){o(Ge(s()))}return z0(u),t.style={...t.style,display:"flex",gap:"0.3em"},S.jsxs("div",{...t,className:`thin-border number-field smooth-background-change svg-container no-wrap ${l()}`,children:[e?S.jsx(iL,{}):S.jsx("span",{children:"Participant Time:"}),S.jsx("span",{children:i})]})}function PG(){const t=_.useContext(bt).portaCountClient,[n,r]=_.useState(t.state.sampleSource),[i]=se(j.USE_COMPACT_UI),[o]=se(j.SHOW_EXTERNAL_CONTROL);_.useEffect(()=>{const s={sampleSourceChanged(l){r(l)}};return t.addListener(s),()=>{t.removeListener(s)}},[]);function a(){t.externalController.sampleSource=n==Ce.MASK?Ce.AMBIENT:Ce.MASK}return o&&i?S.jsxs("div",{id:"sample-source-widget",onClick:a,className:"svg-container",children:[n===Ce.AMBIENT&&S.jsx(yC,{}),n===Ce.MASK&&S.jsx(_C,{})]}):null}function NG(e){return it({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(e)}function RG(e){return it({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M9.25 14.5c0 0.415-0.335 0.75-0.75 0.75s-0.75-0.335-0.75-0.75 0.335-0.75 0.75-0.75 0.75 0.335 0.75 0.75zM16 1.5v14c0 0.827-0.625 1.5-1.392 1.5h-12.216c-0.767 0-1.392-0.673-1.392-1.5v-14c0-0.827 0.625-1.5 1.392-1.5h12.217c0.766 0 1.391 0.673 1.391 1.5zM15 1.5c0-0.271-0.179-0.5-0.392-0.5h-12.216c-0.213 0-0.392 0.229-0.392 0.5v14c0 0.271 0.179 0.5 0.392 0.5h12.217c0.212 0 0.391-0.229 0.391-0.5v-14zM3 2h11v11h-11v-11zM4 12h9v-9h-9v9z"},child:[]}]})(e)}function IG(){const t=_.useContext(bt).portaCountClient,[n,r]=_.useState(t.state.controlSource),[i]=se(j.USE_COMPACT_UI),[o]=se(j.SHOW_EXTERNAL_CONTROL);_.useEffect(()=>{const s={controlSourceChanged(l){r(l)}};return t.addListener(s),()=>{t.removeListener(s)}},[]);function a(){t.externalController.controlSource=n==Ee.Internal?Ee.External:Ee.Internal}return o&&i?S.jsxs("div",{id:"control-source-widget",onClick:a,className:"svg-container",children:[n===Ee.External&&S.jsx(NG,{}),n===Ee.Internal&&S.jsx(RG,{})]}):null}function LG(e){return it({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(e)}function AG(){const[e]=se(j.COLOR_SCHEME);return _.useEffect(()=>{document.querySelector('meta[name="color-scheme"]')?.setAttribute("content",e)},[e]),S.jsx(S.Fragment,{})}function FG(){const[e]=se(j.SHOW_ELAPSED_PARTICIPANT_TIME),[t]=se(j.SHOW_REMAINING_EVENT_TIME),[n]=se(j.USE_COMPACT_UI),[r]=se(j.ENABLE_PROTOCOL_EDITOR),[i]=se(j.ENABLE_STATS),[o]=se(j.ENABLE_QR_CODE_SCANNER),a=Fd(),s=ai(),l=_.useRef(null),[u,c]=_.useState("full-width"),[f,d]=_.useState(0),[h,m]=_.useState(!1),[g,v]=_.useState(!1);_.useEffect(()=>{const w=new ResizeObserver(([x])=>{y(x)});return l.current&&w.observe(l.current),()=>{w.disconnect()}},[u]),_.useEffect(()=>{const w=()=>c("full-width");return screen.orientation.addEventListener("change",w),()=>{screen.orientation.removeEventListener("change",w)}},[]),MG();const p=[{label:"Home",value:"/"},{label:"Results",value:"/view-results"},{label:"Raw Data",value:"/raw-data"},{label:"Settings",value:"/settings"}];r&&p.push({label:"Protocols",value:"/protocols"}),i&&p.push({label:"Stats",value:"/stats"}),o&&p.push({label:"QR Code",value:"/qrscanner"}),p.push({label:"Daily Checks",value:"/daily-checks"}),p.push({label:"Bookmarks",value:"/bookmarks"});function y(w){const x=window.getComputedStyle(w.target),E=Math.floor(parseFloat(x.height)/parseFloat(x.lineHeight)),b=parseFloat(x.width)-f>0;switch(u){case"full-width":E>1&&c("2-lines"),m(!1),v(!1);break;case"2-lines":E<2&&b&&c("full-width"),E>2&&c("time-icons"),m(!1),v(!1);break;case"time-icons":E<2&&b&&c("2-lines"),E>2&&c("dropdown-tabs"),m(!0),v(!1);break;case"dropdown-tabs":E<2&&b&&c("time-icons"),m(!0),v(!0);break}d(parseFloat(x.width))}return S.jsxs("div",{id:"nav-bar",ref:l,className:"nav-bar",children:[S.jsx(AG,{}),S.jsx(OG,{style:{visibility:e?"visible":"hidden"},useIcons:h}),S.jsxs("div",{id:"nav-links-container",className:"inline-flex",style:{gap:"0.3em",flexWrap:"wrap",justifyContent:"center"},children:[S.jsxs("div",{children:["v","1.8.4","p"]}),g?S.jsx("div",{children:S.jsx(cv,{options:p,value:s.pathname,onChange:w=>a(w),children:S.jsxs("div",{className:"blue-bg thin-border svg-container inline-flex no-wrap",children:[p.find(w=>w.value===s.pathname)?.label,S.jsx(LG,{})]})})}):S.jsx("div",{style:{gap:"0.1em",display:"flex",flexWrap:"wrap"},children:p.reduce((w,x)=>(w.length>0&&w.push("|"),w.push(S.jsx(VT,{to:x.value,className:({isActive:E,isPending:b})=>b?"nav-link-pending":E?"nav-link-active":"",children:S.jsx("div",{className:"no-wrap",children:x.label})},x.label)),w),[])}),S.jsxs("div",{id:"compact-ui",className:"inline-flex",style:{width:"fit-content",gap:"0.3em",alignItems:"center",height:"inherit",flexWrap:"wrap",justifyContent:"center"},children:[n&&S.jsx(ET,{compact:!0}),S.jsx(IG,{}),S.jsx(PG,{}),n&&S.jsx(wT,{compact:!0}),n&&S.jsx(xT,{label:""}),n&&S.jsx(bT,{label:""})]})]}),S.jsx(DG,{style:{visibility:t?"visible":"hidden"},useIcons:h})]})}function $G({children:e}){return S.jsx(bt.Provider,{value:mC,children:e})}function jG(){const e=window.location.pathname,t=e.endsWith("old/")||e.endsWith("-old");return S.jsx(S.Fragment,{children:S.jsx($G,{children:S.jsx("div",{className:`app-border-container ${t?"red-border":""}`,children:S.jsxs("div",{className:"app-container",style:{display:"flex",flexDirection:"column"},children:[S.jsx("div",{id:"navbar-container",style:{position:"relative",top:0,left:0},children:S.jsx(FG,{})}),S.jsx("div",{id:"main-container",style:{position:"relative",top:"0.1rem",height:"100%",overflow:"auto",backgroundColor:"var(--root-color)"},children:S.jsx(n4,{})})]})})})})}var r1={exports:{}};r1.exports;(function(e){var t=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function a(l,u){if(!o[l]){o[l]={};for(var c=0;c<l.length;c++)o[l][l.charAt(c)]=c}return o[l][u]}var s={compressToBase64:function(l){if(l==null)return"";var u=s._compress(l,6,function(c){return r.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:s._decompress(l.length,32,function(u){return a(r,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":s._compress(l,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:s._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=s.compress(l),c=new Uint8Array(u.length*2),f=0,d=u.length;f<d;f++){var h=u.charCodeAt(f);c[f*2]=h>>>8,c[f*2+1]=h%256}return c},decompressFromUint8Array:function(l){if(l==null)return s.decompress(l);for(var u=new Array(l.length/2),c=0,f=u.length;c<f;c++)u[c]=l[c*2]*256+l[c*2+1];var d=[];return u.forEach(function(h){d.push(n(h))}),s.decompress(d.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":s._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),s._decompress(l.length,32,function(u){return a(i,l.charAt(u))}))},compress:function(l){return s._compress(l,16,function(u){return n(u)})},_compress:function(l,u,c){if(l==null)return"";var f,d,h={},m={},g="",v="",p="",y=2,w=3,x=2,E=[],b=0,C=0,k;for(k=0;k<l.length;k+=1)if(g=l.charAt(k),Object.prototype.hasOwnProperty.call(h,g)||(h[g]=w++,m[g]=!0),v=p+g,Object.prototype.hasOwnProperty.call(h,v))p=v;else{if(Object.prototype.hasOwnProperty.call(m,p)){if(p.charCodeAt(0)<256){for(f=0;f<x;f++)b=b<<1,C==u-1?(C=0,E.push(c(b)),b=0):C++;for(d=p.charCodeAt(0),f=0;f<8;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}else{for(d=1,f=0;f<x;f++)b=b<<1|d,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=0;for(d=p.charCodeAt(0),f=0;f<16;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}y--,y==0&&(y=Math.pow(2,x),x++),delete m[p]}else for(d=h[p],f=0;f<x;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1;y--,y==0&&(y=Math.pow(2,x),x++),h[v]=w++,p=String(g)}if(p!==""){if(Object.prototype.hasOwnProperty.call(m,p)){if(p.charCodeAt(0)<256){for(f=0;f<x;f++)b=b<<1,C==u-1?(C=0,E.push(c(b)),b=0):C++;for(d=p.charCodeAt(0),f=0;f<8;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}else{for(d=1,f=0;f<x;f++)b=b<<1|d,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=0;for(d=p.charCodeAt(0),f=0;f<16;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}y--,y==0&&(y=Math.pow(2,x),x++),delete m[p]}else for(d=h[p],f=0;f<x;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1;y--,y==0&&(y=Math.pow(2,x),x++)}for(d=2,f=0;f<x;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1;for(;;)if(b=b<<1,C==u-1){E.push(c(b));break}else C++;return E.join("")},decompress:function(l){return l==null?"":l==""?null:s._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,c){var f=[],d=4,h=4,m=3,g="",v=[],p,y,w,x,E,b,C,k={val:c(0),position:u,index:1};for(p=0;p<3;p+=1)f[p]=p;for(w=0,E=Math.pow(2,2),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),w|=(x>0?1:0)*b,b<<=1;switch(w){case 0:for(w=0,E=Math.pow(2,8),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),w|=(x>0?1:0)*b,b<<=1;C=n(w);break;case 1:for(w=0,E=Math.pow(2,16),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),w|=(x>0?1:0)*b,b<<=1;C=n(w);break;case 2:return""}for(f[3]=C,y=C,v.push(C);;){if(k.index>l)return"";for(w=0,E=Math.pow(2,m),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),w|=(x>0?1:0)*b,b<<=1;switch(C=w){case 0:for(w=0,E=Math.pow(2,8),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),w|=(x>0?1:0)*b,b<<=1;f[h++]=n(w),C=h-1,d--;break;case 1:for(w=0,E=Math.pow(2,16),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),w|=(x>0?1:0)*b,b<<=1;f[h++]=n(w),C=h-1,d--;break;case 2:return v.join("")}if(d==0&&(d=Math.pow(2,m),m++),f[C])g=f[C];else if(C===h)g=y+y.charAt(0);else return null;v.push(g),f[h++]=y+g.charAt(0),d--,y=g,d==0&&(d=Math.pow(2,m),m++)}}};return s}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(r1);var UG=r1.exports;const HG=No(UG);function VG(e,t){return e.Time===t.Time&&(e.ID===t.ID||e.Final===t.Final&&e["Ex 1"]===t["Ex 1"])}function BG(e){const t=So(e);return delete t.ID,delete t.source,t}async function Nc(){return await Rn.getData()}async function J2(e){const t=e.length;e=e.filter(s=>"Time"in s&&"ID"in s&&"Final"in s);const n=t-e.length,r=await Nc(),i=r.length,o=[],a=[];for(const s of e)if(r.some(l=>VG(l,s)))a.push(s);else{const l=BG(s);l.source="ext",o.push(l)}for(const s of o){const l=await Rn.addRecord(s);s.ID=l}return r.push(...o),console.log(`total records ${r.length}, new records ${o.length}, old records ${i}`),{allRecords:r,newRecords:o,duplicateRecords:a,attemptedRecordCount:t,rejectedRecordCount:n}}function YG(e){return e.getRowModel().rows.map(t=>t.original)}function dK(e){const t=YG(e);gg(JSON.stringify(t),"cft-results","json")}async function hK(){if(!("showOpenFilePicker"in window)){const e="showOpenFilePicker not supported. Unable to import file.";return console.error(e),Promise.reject(e)}return window.showOpenFilePicker({id:"file-to-import"}).then(e=>e[0].getFile()).then(e=>e.text()).then(e=>JSON.parse(e)).then(e=>J2(e)).then(e=>(console.debug(`imported ${e.newRecords.length} records of ${e.attemptedRecordCount}, ignored ${e.duplicateRecords.length} duplicates, rejected ${e.rejectedRecordCount}. total records: ${e.allRecords.length}`),e)).catch(e=>{console.log("Error importing file",e)})}function zG(){const[e,t]=_.useState([]),[n]=R4(),r=Fd();async function i(){const a=n.get("data");if(a){const s=HG.decompressFromEncodedURIComponent(a);if(r("",{replace:!0}),s){console.log(`got url data: ${s}`);const l=JSON.parse(s);console.log(`data records: ${JSON.stringify(l,null,2)}`);const{allRecords:u}=await J2(l);t(u)}else console.log("no data from url"),t(await Nc())}else console.log("no data parameter"),t(await Nc())}_.useEffect(()=>{Rn.open().then(()=>i()).catch(a=>console.log(`error while opening db: ${a}`))},[]);async function o(a){await Promise.all(a.map(s=>Rn.deleteRecordById(s))),t(await Nc())}return S.jsx("div",{style:{justifySelf:"center",maxWidth:"100%",height:"100%"},children:S.jsx(CT,{tableData:e,setTableData:t,deleteRowsCallback:o})})}function WG(){const a=_.useContext(bt).portaCountClient,s=a.externalController,[l,u]=_.useState(!1),[c,f]=_.useState(!1),[d,h]=_.useState(!1),[m,g]=_.useState(0),[v,p]=_.useState(0),[y,w]=_.useState(1e3),[x,E]=_.useState(xn(11e3)),[b,C]=_.useState(xn(5e3)),[k,N]=_.useState("idle"),[A,O]=_.useState("Press start to begin"),[V,L]=_.useState(0),[T,P]=_.useState(0),[D,$]=_.useState(0),[M,F]=_.useState(0),[B,Q]=_.useState(0),[K,pe]=_.useState({}),ce=_.useCallback(()=>{pe({})},[]);_.useEffect(()=>{const de={particleConcentrationReceived:Y=>{const R=Y.concentration;switch(Y.sampleSource===Ce.AMBIENT?(g(q=>q>R?q:R),b.push(Y.timestamp,R)):(p(q=>q>R?q:R),w(q=>q<R?q:R),x.push(Y.timestamp,R)),ce(),console.debug(`state is ${k}`),k){case"idle":break;case"start":E(xn(11e3)),C(xn(5e3)),w(1e3),p(0),g(0),u(!1),f(!1),h(!1),Q(0),O("Remove zero filter if attached"),s.assumeManualControl(),s.beep(),s.sampleMask(),N("initial-mask-purge"),L(Date.now());break;case"initial-mask-purge":Date.now()-V>7e3&&(N("waiting-for-particle-check"),L(Date.now()));break;case"waiting-for-particle-check":console.debug(`max mask count: ${v}`),v>1e3&&(N("waiting-for-zero-check"),O("Attach zero filter"),s.beep(),u(!0),w(1e3));break;case"waiting-for-zero-check":y===0&&(N("purge-ambient-1"),s.sampleAmbient(),O("reading from ambient"),L(Date.now()),f(!0));break;case"purge-ambient-1":Date.now()-V>7e3&&(N("waiting-for-ambient-average"),L(Date.now()),C(xn(5e3)));break;case"waiting-for-ambient-average":Date.now()-V>12e3&&(P(b.movingAverage()),N("purge-mask"),s.sampleMask(),O("reading from mask"),L(Date.now()));break;case"purge-mask":Date.now()-V>7e3&&(N("waiting-for-mask-average"),L(Date.now()),E(xn(11e3)));break;case"waiting-for-mask-average":Date.now()-V>18e3&&(F(x.movingAverage()),N("purge-ambient-2"),s.sampleAmbient(),O("reading from ambient"),L(Date.now()));break;case"purge-ambient-2":Date.now()-V>7e3&&(N("waiting-for-second-ambient-average"),L(Date.now()),C(xn(5e3)));break;case"waiting-for-second-ambient-average":if(Date.now()-V>12e3){$(b.movingAverage()),N("done"),O("done");const q=.5*(T+D)/Math.max(.01,M);Q(q),h(q>5e4),s.sampleMask(),s.beep(),s.beep()}break;case"done":break;default:console.error(`unhandled state ${k}`)}}};return a.addListener(de),()=>{a.removeListener(de)}},[K]);function re(){N("start")}function me(de){return S.jsx("div",{className:"svg-container",style:{padding:"4px"},children:de?S.jsx(eL,{color:"green"}):S.jsx(wC,{color:"red"})})}return S.jsxs("div",{id:"daily-check-panel",style:{width:"fit-content",justifySelf:"center"},children:[S.jsx("div",{children:A}),S.jsx("button",{onClick:()=>re(),children:"Press to start"}),S.jsx(oe,{label:"State",children:k}),S.jsx(oe,{label:"Particle count check",children:me(l)}),S.jsx(oe,{label:"Zero check",children:me(c)}),S.jsx(oe,{label:"Max fit factor check",children:me(d)}),S.jsx(oe,{label:"Max ambient count",children:m}),S.jsx(oe,{label:"Ambient average",children:(b.movingAverage()??0).toFixed(2)}),S.jsx(oe,{label:"Max mask count",children:v}),S.jsx(oe,{label:"Min mask count",children:y}),S.jsx(oe,{label:"Mask average",children:(x.movingAverage()??0).toFixed(2)}),S.jsx(oe,{label:"Fit factor",children:md(B)})]})}var qG=Object.defineProperty,Zf=Object.getOwnPropertySymbols,eO=Object.prototype.hasOwnProperty,tO=Object.prototype.propertyIsEnumerable,Nx=(e,t,n)=>t in e?qG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qg=(e,t)=>{for(var n in t||(t={}))eO.call(t,n)&&Nx(e,n,t[n]);if(Zf)for(var n of Zf(t))tO.call(t,n)&&Nx(e,n,t[n]);return e},Qg=(e,t)=>{var n={};for(var r in e)eO.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zf)for(var r of Zf(e))t.indexOf(r)<0&&tO.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Po;(e=>{const t=class _e{constructor(l,u,c,f){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<_e.MIN_VERSION||l>_e.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let d=[];for(let m=0;m<this.size;m++)d.push(!1);for(let m=0;m<this.size;m++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(c);if(this.drawCodewords(h),f==-1){let m=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const v=this.getPenaltyScore();v<m&&(f=g,m=v),this.applyMask(g)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,u){const c=e.QrSegment.makeSegments(l);return _e.encodeSegments(c,u)}static encodeBinary(l,u){const c=e.QrSegment.makeBytes(l);return _e.encodeSegments([c],u)}static encodeSegments(l,u,c=1,f=40,d=-1,h=!0){if(!(_e.MIN_VERSION<=c&&c<=f&&f<=_e.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");let m,g;for(m=c;;m++){const w=_e.getNumDataCodewords(m,u)*8,x=a.getTotalBits(l,m);if(x<=w){g=x;break}if(m>=f)throw new RangeError("Data too long")}for(const w of[_e.Ecc.MEDIUM,_e.Ecc.QUARTILE,_e.Ecc.HIGH])h&&g<=_e.getNumDataCodewords(m,w)*8&&(u=w);let v=[];for(const w of l){n(w.mode.modeBits,4,v),n(w.numChars,w.mode.numCharCountBits(m),v);for(const x of w.getData())v.push(x)}i(v.length==g);const p=_e.getNumDataCodewords(m,u)*8;i(v.length<=p),n(0,Math.min(4,p-v.length),v),n(0,(8-v.length%8)%8,v),i(v.length%8==0);for(let w=236;v.length<p;w^=253)n(w,8,v);let y=[];for(;y.length*8<v.length;)y.push(0);return v.forEach((w,x)=>y[x>>>3]|=w<<7-(x&7)),new _e(m,u,y,d)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let c=0;c<u;c++)for(let f=0;f<u;f++)c==0&&f==0||c==0&&f==u-1||c==u-1&&f==0||this.drawAlignmentPattern(l[c],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let c=u;for(let d=0;d<10;d++)c=c<<1^(c>>>9)*1335;const f=(u<<10|c)^21522;i(f>>>15==0);for(let d=0;d<=5;d++)this.setFunctionModule(8,d,r(f,d));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let d=9;d<15;d++)this.setFunctionModule(14-d,8,r(f,d));for(let d=0;d<8;d++)this.setFunctionModule(this.size-1-d,8,r(f,d));for(let d=8;d<15;d++)this.setFunctionModule(8,this.size-15+d,r(f,d));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let c=0;c<12;c++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let c=0;c<18;c++){const f=r(u,c),d=this.size-11+c%3,h=Math.floor(c/3);this.setFunctionModule(d,h,f),this.setFunctionModule(h,d,f)}}drawFinderPattern(l,u){for(let c=-4;c<=4;c++)for(let f=-4;f<=4;f++){const d=Math.max(Math.abs(f),Math.abs(c)),h=l+f,m=u+c;0<=h&&h<this.size&&0<=m&&m<this.size&&this.setFunctionModule(h,m,d!=2&&d!=4)}}drawAlignmentPattern(l,u){for(let c=-2;c<=2;c++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,u+c,Math.max(Math.abs(f),Math.abs(c))!=1)}setFunctionModule(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,c=this.errorCorrectionLevel;if(l.length!=_e.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const f=_e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],d=_e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],h=Math.floor(_e.getNumRawDataModules(u)/8),m=f-h%f,g=Math.floor(h/f);let v=[];const p=_e.reedSolomonComputeDivisor(d);for(let w=0,x=0;w<f;w++){let E=l.slice(x,x+g-d+(w<m?0:1));x+=E.length;const b=_e.reedSolomonComputeRemainder(E,p);w<m&&E.push(0),v.push(E.concat(b))}let y=[];for(let w=0;w<v[0].length;w++)v.forEach((x,E)=>{(w!=g-d||E>=m)&&y.push(x[w])});return i(y.length==h),y}drawCodewords(l){if(l.length!=Math.floor(_e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let f=0;f<this.size;f++)for(let d=0;d<2;d++){const h=c-d,g=(c+1&2)==0?this.size-1-f:f;!this.isFunction[g][h]&&u<l.length*8&&(this.modules[g][h]=r(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let f;switch(l){case 0:f=(c+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=c%3==0;break;case 3:f=(c+u)%3==0;break;case 4:f=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:f=c*u%2+c*u%3==0;break;case 6:f=(c*u%2+c*u%3)%2==0;break;case 7:f=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&f&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let l=0;for(let d=0;d<this.size;d++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[d][v]==h?(m++,m==5?l+=_e.PENALTY_N1:m>5&&l++):(this.finderPenaltyAddHistory(m,g),h||(l+=this.finderPenaltyCountPatterns(g)*_e.PENALTY_N3),h=this.modules[d][v],m=1);l+=this.finderPenaltyTerminateAndCount(h,m,g)*_e.PENALTY_N3}for(let d=0;d<this.size;d++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][d]==h?(m++,m==5?l+=_e.PENALTY_N1:m>5&&l++):(this.finderPenaltyAddHistory(m,g),h||(l+=this.finderPenaltyCountPatterns(g)*_e.PENALTY_N3),h=this.modules[v][d],m=1);l+=this.finderPenaltyTerminateAndCount(h,m,g)*_e.PENALTY_N3}for(let d=0;d<this.size-1;d++)for(let h=0;h<this.size-1;h++){const m=this.modules[d][h];m==this.modules[d][h+1]&&m==this.modules[d+1][h]&&m==this.modules[d+1][h+1]&&(l+=_e.PENALTY_N2)}let u=0;for(const d of this.modules)u=d.reduce((h,m)=>h+(m?1:0),u);const c=this.size*this.size,f=Math.ceil(Math.abs(u*20-c*10)/c)-1;return i(0<=f&&f<=9),l+=f*_e.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let c=[6];for(let f=this.size-7;c.length<l;f-=u)c.splice(1,0,f);return c}}static getNumRawDataModules(l){if(l<_e.MIN_VERSION||l>_e.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(_e.getNumRawDataModules(l)/8)-_e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*_e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<l-1;f++)u.push(0);u.push(1);let c=1;for(let f=0;f<l;f++){for(let d=0;d<u.length;d++)u[d]=_e.reedSolomonMultiply(u[d],c),d+1<u.length&&(u[d]^=u[d+1]);c=_e.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(l,u){let c=u.map(f=>0);for(const f of l){const d=f^c.shift();c.push(0),u.forEach((h,m)=>c[m]^=_e.reedSolomonMultiply(h,d))}return c}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let f=7;f>=0;f--)c=c<<1^(c>>>7)*285,c^=(u>>>f&1)*l;return i(c>>>8==0),c}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(s,l,u){if(l<0||l>31||s>>>l)throw new RangeError("Value out of range");for(let c=l-1;c>=0;c--)u.push(s>>>c&1)}function r(s,l){return(s>>>l&1)!=0}function i(s){if(!s)throw new Error("Assertion error")}const o=class et{constructor(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(l){let u=[];for(const c of l)n(c,8,u);return new et(et.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!et.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<l.length;){const f=Math.min(l.length-c,3);n(parseInt(l.substring(c,c+f),10),f*3+1,u),c+=f}return new et(et.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!et.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=l.length;c+=2){let f=et.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;f+=et.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),n(f,11,u)}return c<l.length&&n(et.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new et(et.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:et.isNumeric(l)?[et.makeNumeric(l)]:et.isAlphanumeric(l)?[et.makeAlphanumeric(l)]:[et.makeBytes(et.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new et(et.Mode.ECI,0,u)}static isNumeric(l){return et.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return et.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let c=0;for(const f of l){const d=f.mode.numCharCountBits(u);if(f.numChars>=1<<d)return 1/0;c+=4+d+f.bitData.length}return c}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substring(c+1,c+3),16)),c+=2);return u}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=o;e.QrSegment=o})(Po||(Po={}));(e=>{(t=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Po||(Po={}));(e=>{(t=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Po||(Po={}));var ua=Po;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var QG={L:ua.QrCode.Ecc.LOW,M:ua.QrCode.Ecc.MEDIUM,Q:ua.QrCode.Ecc.QUARTILE,H:ua.QrCode.Ecc.HIGH},nO=128,rO="L",iO="#FFFFFF",oO="#000000",aO=!1,sO=1,GG=4,KG=0,XG=.1;function lO(e,t=0){const n=[];return e.forEach(function(r,i){let o=null;r.forEach(function(a,s){if(!a&&o!==null){n.push(`M${o+t} ${i+t}h${s-o}v1H${o+t}z`),o=null;return}if(s===r.length-1){if(!a)return;o===null?n.push(`M${s+t},${i+t} h1v1H${s+t}z`):n.push(`M${o+t},${i+t} h${s+1-o}v1H${o+t}z`);return}a&&o===null&&(o=s)})}),n.join("")}function uO(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,o)=>o<t.x||o>=t.x+t.w?i:!1))}function ZG(e,t,n,r){if(r==null)return null;const i=e.length+n*2,o=Math.floor(t*XG),a=i/t,s=(r.width||o)*a,l=(r.height||o)*a,u=r.x==null?e.length/2-s/2:r.x*a,c=r.y==null?e.length/2-l/2:r.y*a,f=r.opacity==null?1:r.opacity;let d=null;if(r.excavate){let m=Math.floor(u),g=Math.floor(c),v=Math.ceil(s+u-m),p=Math.ceil(l+c-g);d={x:m,y:g,w:v,h:p}}const h=r.crossOrigin;return{x:u,y:c,h:l,w:s,excavation:d,opacity:f,crossOrigin:h}}function JG(e,t){return t!=null?Math.max(Math.floor(t),0):e?GG:KG}function cO({value:e,level:t,minVersion:n,includeMargin:r,marginSize:i,imageSettings:o,size:a,boostLevel:s}){let l=I.useMemo(()=>{const m=(Array.isArray(e)?e:[e]).reduce((g,v)=>(g.push(...ua.QrSegment.makeSegments(v)),g),[]);return ua.QrCode.encodeSegments(m,QG[t],n,void 0,void 0,s)},[e,t,n,s]);const{cells:u,margin:c,numCells:f,calculatedImageSettings:d}=I.useMemo(()=>{let h=l.getModules();const m=JG(r,i),g=h.length+m*2,v=ZG(h,a,m,o);return{cells:h,margin:m,numCells:g,calculatedImageSettings:v}},[l,a,o,r,i]);return{qrcode:l,margin:c,cells:u,numCells:f,calculatedImageSettings:d}}var eK=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),tK=I.forwardRef(function(t,n){const r=t,{value:i,size:o=nO,level:a=rO,bgColor:s=iO,fgColor:l=oO,includeMargin:u=aO,minVersion:c=sO,boostLevel:f,marginSize:d,imageSettings:h}=r,g=Qg(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=g,p=Qg(g,["style"]),y=h?.src,w=I.useRef(null),x=I.useRef(null),E=I.useCallback(T=>{w.current=T,typeof n=="function"?n(T):n&&(n.current=T)},[n]),[b,C]=I.useState(!1),{margin:k,cells:N,numCells:A,calculatedImageSettings:O}=cO({value:i,level:a,minVersion:c,boostLevel:f,includeMargin:u,marginSize:d,imageSettings:h,size:o});I.useEffect(()=>{if(w.current!=null){const T=w.current,P=T.getContext("2d");if(!P)return;let D=N;const $=x.current,M=O!=null&&$!==null&&$.complete&&$.naturalHeight!==0&&$.naturalWidth!==0;M&&O.excavation!=null&&(D=uO(N,O.excavation));const F=window.devicePixelRatio||1;T.height=T.width=o*F;const B=o/A*F;P.scale(B,B),P.fillStyle=s,P.fillRect(0,0,A,A),P.fillStyle=l,eK?P.fill(new Path2D(lO(D,k))):N.forEach(function(Q,K){Q.forEach(function(pe,ce){pe&&P.fillRect(ce+k,K+k,1,1)})}),O&&(P.globalAlpha=O.opacity),M&&P.drawImage($,O.x+k,O.y+k,O.w,O.h)}}),I.useEffect(()=>{C(!1)},[y]);const V=qg({height:o,width:o},v);let L=null;return y!=null&&(L=I.createElement("img",{src:y,key:y,style:{display:"none"},onLoad:()=>{C(!0)},ref:x,crossOrigin:O?.crossOrigin})),I.createElement(I.Fragment,null,I.createElement("canvas",qg({style:V,height:o,width:o,ref:E,role:"img"},p)),L)});tK.displayName="QRCodeCanvas";var Rc=I.forwardRef(function(t,n){const r=t,{value:i,size:o=nO,level:a=rO,bgColor:s=iO,fgColor:l=oO,includeMargin:u=aO,minVersion:c=sO,boostLevel:f,title:d,marginSize:h,imageSettings:m}=r,g=Qg(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:p,numCells:y,calculatedImageSettings:w}=cO({value:i,level:a,minVersion:c,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:m,size:o});let x=p,E=null;m!=null&&w!=null&&(w.excavation!=null&&(x=uO(p,w.excavation)),E=I.createElement("image",{href:m.src,height:w.h,width:w.w,x:w.x+v,y:w.y+v,preserveAspectRatio:"none",opacity:w.opacity,crossOrigin:w.crossOrigin}));const b=lO(x,v);return I.createElement("svg",qg({height:o,width:o,viewBox:`0 0 ${y} ${y}`,ref:n,role:"img"},g),!!d&&I.createElement("title",null,d),I.createElement("path",{fill:s,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),I.createElement("path",{fill:l,d:b,shapeRendering:"crispEdges"}),E)});Rc.displayName="QRCodeSVG";function nK(){const[e,t]=_.useState(""),[n,r]=_.useState(""),[i,o]=_.useState(""),[a,s]=_.useState(""),[l,u]=se(j.BOOKMARKS),c=[["These bookmarks",window.location.href],["Fit Test for Everyone Discord","https://discord.gg/GeNhXx8Hxw"],["Fit testing resources wiki","https://github.com/emcee5601/fit-testing-resources/wiki"],["MFTC app","https://emcee5601.github.io/fit-test-console/"],["MFTC old versions","https://emcee5601.github.io/mftc-old/"],["MFTC app source","https://github.com/emcee5601/fit-test-console"],["Breathesafe","https://www.breathesafe.xyz/"]];Object.entries(l).forEach(([g,v])=>c.push([g,v]));function f(g,v){t(g),r(v)}function d(){return i&&!Object.values(l).includes(i)}function h(){if(!d())return;const g={};g[a||i]=i,Object.assign(g,l),u(g)}function m(g){const v={};Object.entries(l).filter(([p])=>p!==g).forEach(([p,y])=>v[p]=y),u(v)}return S.jsxs("div",{id:"bookmarks",style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"1em"},children:["Bookmarks",S.jsxs("div",{children:[e&&S.jsx("div",{className:"full-screen-overlay",children:S.jsxs("div",{onClick:()=>t(""),className:"qrcode-container",children:[S.jsx("span",{style:{display:"block"},children:n}),S.jsx("span",{style:{display:"block"},children:S.jsx("a",{href:e,children:e})}),S.jsx(Rc,{value:e,size:512,marginSize:4,title:n})]})}),S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Add new bookmark"}),S.jsxs("div",{id:"bookmark-adder",style:{display:"flex"},children:[S.jsxs("div",{style:{textAlign:"start",height:"100%",display:"flex",flexDirection:"column",gap:"0.3em"},children:[S.jsx("div",{className:"thin-border-2",children:S.jsx(xo,{id:"bookmark-title",initialValue:a,placeholder:"Title",onChange:g=>s(g||"")})}),S.jsx("div",{className:"thin-border-2",children:S.jsx(xo,{id:"bookmark-url",initialValue:i,placeholder:"URL",onChange:g=>o(g||"")})})]}),S.jsx("div",{style:{height:"100%"},children:S.jsx(Rc,{value:i,size:128,marginSize:4,title:i,onClick:()=>f(i,a),visibility:i?"visible":"hidden"})}),S.jsx("button",{onClick:()=>h(),disabled:!d(),children:"Save bookmark"})]})]}),c.map(([g,v])=>S.jsx("div",{children:S.jsxs("fieldset",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[S.jsx("legend",{children:g}),S.jsx("a",{href:v,children:v}),S.jsx(Rc,{value:v,size:128,marginSize:4,title:g,onClick:()=>f(v,g)}),g in l&&S.jsx("button",{onClick:()=>m(g),children:"delete"})]})},g))]})]})}const rK=n5({onNeedRefresh(){confirm("A new version is available. Update to the latest version?")&&rK(!0)}});zE(document.getElementById("root")).render(S.jsx(_.StrictMode,{children:S.jsx(D4,{children:S.jsx(_.Suspense,{fallback:"...",children:S.jsx(i4,{children:S.jsxs(_n,{path:"",element:S.jsx(jG,{}),children:[S.jsx(_n,{index:!0,element:S.jsx(t5,{})}),S.jsx(_n,{path:"view-results",element:S.jsx(zG,{})}),S.jsx(_n,{path:"settings",element:S.jsx(QU,{})}),S.jsx(_n,{path:"protocols",element:S.jsx(X$,{})}),S.jsx(_n,{path:"raw-data",element:S.jsx(GU,{})}),S.jsx(_n,{path:"stats",element:S.jsx(kG,{})}),S.jsx(_n,{path:"qrscanner",element:S.jsx(Z$,{})}),S.jsx(_n,{path:"unsupported-browser",element:S.jsx(TT,{})}),S.jsx(_n,{path:"daily-checks",element:S.jsx(WG,{})}),S.jsx(_n,{path:"bookmarks",element:S.jsx(nK,{})})]})})})})}));export{I as A,_T as B,Ee as C,bg as D,HG as L,pL as M,Rc as Q,xo as S,Ld as _,Wl as a,bt as b,Ce as c,oK as d,sK as e,d6 as f,aK as g,cK as h,YG as i,S as j,se as k,So as l,dK as m,iK as n,hK as o,j as p,No as q,_ as r,QF as s,RR as t,j5 as u};
