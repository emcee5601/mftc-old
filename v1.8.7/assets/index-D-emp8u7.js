const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ResultsTable-CYVukuix.js","./ResultsTable-nVhmLYY9.css","./SimpleFitTestProtocolPanel-DlM9Ffgq.js","./SimpleFitTestProtocolPanel-D541uJuR.css"])))=>i.map(i=>d[i]);
function mO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function No(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ii(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Fx={exports:{}},ed={},$x={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),gO=Symbol.for("react.portal"),vO=Symbol.for("react.fragment"),yO=Symbol.for("react.strict_mode"),wO=Symbol.for("react.profiler"),_O=Symbol.for("react.provider"),SO=Symbol.for("react.context"),xO=Symbol.for("react.forward_ref"),bO=Symbol.for("react.suspense"),EO=Symbol.for("react.memo"),CO=Symbol.for("react.lazy"),a1=Symbol.iterator;function TO(e){return e===null||typeof e!="object"?null:(e=a1&&e[a1]||e["@@iterator"],typeof e=="function"?e:null)}var jx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ux=Object.assign,Hx={};function Za(e,t,n){this.props=e,this.context=t,this.refs=Hx,this.updater=n||jx}Za.prototype.isReactComponent={};Za.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Za.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vx(){}Vx.prototype=Za.prototype;function Xg(e,t,n){this.props=e,this.context=t,this.refs=Hx,this.updater=n||jx}var Zg=Xg.prototype=new Vx;Zg.constructor=Xg;Ux(Zg,Za.prototype);Zg.isPureReactComponent=!0;var s1=Array.isArray,Bx=Object.prototype.hasOwnProperty,Jg={current:null},Yx={key:!0,ref:!0,__self:!0,__source:!0};function zx(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Bx.call(t,r)&&!Yx.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Vl,type:e,key:o,ref:a,props:i,_owner:Jg.current}}function kO(e,t){return{$$typeof:Vl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function e0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vl}function MO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var l1=/\/+/g;function Ah(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MO(""+e.key):t.toString(36)}function ec(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Vl:case gO:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Ah(a,0):r,s1(i)?(n="",e!=null&&(n=e.replace(l1,"$&/")+"/"),ec(i,t,n,"",function(u){return u})):i!=null&&(e0(i)&&(i=kO(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(l1,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",s1(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+Ah(o,s);a+=ec(o,t,n,l,i)}else if(l=TO(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+Ah(o,s++),a+=ec(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function fu(e,t,n){if(e==null)return e;var r=[],i=0;return ec(e,r,"","",function(o){return t.call(n,o,i++)}),r}function DO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qt={current:null},tc={transition:null},OO={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:tc,ReactCurrentOwner:Jg};function Wx(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:fu,forEach:function(e,t,n){fu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fu(e,function(){t++}),t},toArray:function(e){return fu(e,function(t){return t})||[]},only:function(e){if(!e0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Za;be.Fragment=vO;be.Profiler=wO;be.PureComponent=Xg;be.StrictMode=yO;be.Suspense=bO;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OO;be.act=Wx;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ux({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Jg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Bx.call(t,l)&&!Yx.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Vl,type:e.type,key:i,ref:o,props:r,_owner:a}};be.createContext=function(e){return e={$$typeof:SO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_O,_context:e},e.Consumer=e};be.createElement=zx;be.createFactory=function(e){var t=zx.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:xO,render:e}};be.isValidElement=e0;be.lazy=function(e){return{$$typeof:CO,_payload:{_status:-1,_result:e},_init:DO}};be.memo=function(e,t){return{$$typeof:EO,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=tc.transition;tc.transition={};try{e()}finally{tc.transition=t}};be.unstable_act=Wx;be.useCallback=function(e,t){return Qt.current.useCallback(e,t)};be.useContext=function(e){return Qt.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return Qt.current.useDeferredValue(e)};be.useEffect=function(e,t){return Qt.current.useEffect(e,t)};be.useId=function(){return Qt.current.useId()};be.useImperativeHandle=function(e,t,n){return Qt.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return Qt.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return Qt.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return Qt.current.useMemo(e,t)};be.useReducer=function(e,t,n){return Qt.current.useReducer(e,t,n)};be.useRef=function(e){return Qt.current.useRef(e)};be.useState=function(e){return Qt.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return Qt.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return Qt.current.useTransition()};be.version="18.3.1";$x.exports=be;var _=$x.exports;const R=No(_),om=mO({__proto__:null,default:R},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PO=_,NO=Symbol.for("react.element"),RO=Symbol.for("react.fragment"),IO=Object.prototype.hasOwnProperty,LO=PO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AO={key:!0,ref:!0,__self:!0,__source:!0};function qx(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)IO.call(t,r)&&!AO.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:NO,type:e,key:o,ref:a,props:i,_owner:LO.current}}ed.Fragment=RO;ed.jsx=qx;ed.jsxs=qx;Fx.exports=ed;var S=Fx.exports,Qx={exports:{}},pn={},Gx={exports:{}},Kx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,$){var B=M.length;M.push($);e:for(;0<B;){var q=B-1>>>1,G=M[q];if(0<i(G,$))M[q]=$,M[B]=G,B=q;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var $=M[0],B=M.pop();if(B!==$){M[0]=B;e:for(var q=0,G=M.length,me=G>>>1;q<me;){var ce=2*(q+1)-1,ne=M[ce],ge=ce+1,z=M[ge];if(0>i(ne,B))ge<G&&0>i(z,ne)?(M[q]=z,M[ge]=B,q=ge):(M[q]=ne,M[ce]=B,q=ce);else if(ge<G&&0>i(z,B))M[q]=z,M[ge]=B,q=ge;else break e}}return $}function i(M,$){var B=M.sortIndex-$.sortIndex;return B!==0?B:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=M)r(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(u)}}function x(M){if(g=!1,y(M),!m)if(n(l)!==null)m=!0,D(E);else{var $=n(u);$!==null&&j(x,$.startTime-M)}}function E(M,$){m=!1,g&&(g=!1,p(k),k=-1),h=!0;var B=d;try{for(y($),f=n(l);f!==null&&(!(f.expirationTime>$)||M&&!O());){var q=f.callback;if(typeof q=="function"){f.callback=null,d=f.priorityLevel;var G=q(f.expirationTime<=$);$=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(l)&&r(l),y($)}else r(l);f=n(l)}if(f!==null)var me=!0;else{var ce=n(u);ce!==null&&j(x,ce.startTime-$),me=!1}return me}finally{f=null,d=B,h=!1}}var b=!1,C=null,k=-1,N=5,A=-1;function O(){return!(e.unstable_now()-A<N)}function V(){if(C!==null){var M=e.unstable_now();A=M;var $=!0;try{$=C(!0,M)}finally{$?I():(b=!1,C=null)}}else b=!1}var I;if(typeof w=="function")I=function(){w(V)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,P=T.port2;T.port1.onmessage=V,I=function(){P.postMessage(null)}}else I=function(){v(V,0)};function D(M){C=M,b||(b=!0,I())}function j(M,$){k=v(function(){M(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,D(E))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var B=d;d=$;try{return M()}finally{d=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=d;d=M;try{return $()}finally{d=B}},e.unstable_scheduleCallback=function(M,$,B){var q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,M={id:c++,callback:$,priorityLevel:M,startTime:B,expirationTime:G,sortIndex:-1},B>q?(M.sortIndex=B,t(u,M),n(l)===null&&M===n(u)&&(g?(p(k),k=-1):g=!0,j(x,B-q))):(M.sortIndex=G,t(l,M),m||h||(m=!0,D(E))),M},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(M){var $=d;return function(){var B=d;d=$;try{return M.apply(this,arguments)}finally{d=B}}}})(Kx);Gx.exports=Kx;var FO=Gx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $O=_,fn=FO;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xx=new Set,ul={};function Ro(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(ul[e]=t,e=0;e<t.length;e++)Xx.add(t[e])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),am=Object.prototype.hasOwnProperty,jO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u1={},c1={};function UO(e){return am.call(c1,e)?!0:am.call(u1,e)?!1:jO.test(e)?c1[e]=!0:(u1[e]=!0,!1)}function HO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VO(e,t,n,r){if(t===null||typeof t>"u"||HO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var t0=/[\-:]([a-z])/g;function n0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(t0,n0);Ot[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(t0,n0);Ot[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(t0,n0);Ot[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function r0(e,t,n,r){var i=Ot.hasOwnProperty(t)?Ot[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VO(t,n,i,r)&&(n=null),r||i===null?UO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var oi=$O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,du=Symbol.for("react.element"),Go=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),i0=Symbol.for("react.strict_mode"),sm=Symbol.for("react.profiler"),Zx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),o0=Symbol.for("react.forward_ref"),lm=Symbol.for("react.suspense"),um=Symbol.for("react.suspense_list"),a0=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),eb=Symbol.for("react.offscreen"),f1=Symbol.iterator;function ds(e){return e===null||typeof e!="object"?null:(e=f1&&e[f1]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Fh;function Is(e){if(Fh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fh=t&&t[1]||""}return`
`+Fh+e}var $h=!1;function jh(e,t){if(!e||$h)return"";$h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{$h=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Is(e):""}function BO(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=jh(e.type,!1),e;case 11:return e=jh(e.type.render,!1),e;case 1:return e=jh(e.type,!0),e;default:return""}}function cm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ko:return"Fragment";case Go:return"Portal";case sm:return"Profiler";case i0:return"StrictMode";case lm:return"Suspense";case um:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jx:return(e.displayName||"Context")+".Consumer";case Zx:return(e._context.displayName||"Context")+".Provider";case o0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case a0:return t=e.displayName||null,t!==null?t:cm(e.type)||"Memo";case fi:t=e._payload,e=e._init;try{return cm(e(t))}catch{}}return null}function YO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cm(t);case 8:return t===i0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zO(e){var t=tb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hu(e){e._valueTracker||(e._valueTracker=zO(e))}function nb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Lc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fm(e,t){var n=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function d1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ri(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rb(e,t){t=t.checked,t!=null&&r0(e,"checked",t,!1)}function dm(e,t){rb(e,t);var n=Ri(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hm(e,t.type,n):t.hasOwnProperty("defaultValue")&&hm(e,t.type,Ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function h1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hm(e,t,n){(t!=="number"||Lc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ls=Array.isArray;function ca(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ri(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function pm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function p1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(Ls(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ri(n)}}function ib(e,t){var n=Ri(t.value),r=Ri(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function m1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ob(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ob(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pu,ab=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pu=pu||document.createElement("div"),pu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WO=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(e){WO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ks[t]=Ks[e]})});function sb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ks.hasOwnProperty(e)&&Ks[e]?(""+t).trim():t+"px"}function lb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var qO=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gm(e,t){if(t){if(qO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function vm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=null;function s0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wm=null,fa=null,da=null;function g1(e){if(e=zl(e)){if(typeof wm!="function")throw Error(W(280));var t=e.stateNode;t&&(t=od(t),wm(e.stateNode,e.type,t))}}function ub(e){fa?da?da.push(e):da=[e]:fa=e}function cb(){if(fa){var e=fa,t=da;if(da=fa=null,g1(e),t)for(e=0;e<t.length;e++)g1(t[e])}}function fb(e,t){return e(t)}function db(){}var Uh=!1;function hb(e,t,n){if(Uh)return e(t,n);Uh=!0;try{return fb(e,t,n)}finally{Uh=!1,(fa!==null||da!==null)&&(db(),cb())}}function fl(e,t){var n=e.stateNode;if(n===null)return null;var r=od(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var _m=!1;if(qr)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){_m=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{_m=!1}function QO(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Xs=!1,Ac=null,Fc=!1,Sm=null,GO={onError:function(e){Xs=!0,Ac=e}};function KO(e,t,n,r,i,o,a,s,l){Xs=!1,Ac=null,QO.apply(GO,arguments)}function XO(e,t,n,r,i,o,a,s,l){if(KO.apply(this,arguments),Xs){if(Xs){var u=Ac;Xs=!1,Ac=null}else throw Error(W(198));Fc||(Fc=!0,Sm=u)}}function Io(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v1(e){if(Io(e)!==e)throw Error(W(188))}function ZO(e){var t=e.alternate;if(!t){if(t=Io(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return v1(i),e;if(o===r)return v1(i),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function mb(e){return e=ZO(e),e!==null?gb(e):null}function gb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gb(e);if(t!==null)return t;e=e.sibling}return null}var vb=fn.unstable_scheduleCallback,y1=fn.unstable_cancelCallback,JO=fn.unstable_shouldYield,eP=fn.unstable_requestPaint,at=fn.unstable_now,tP=fn.unstable_getCurrentPriorityLevel,l0=fn.unstable_ImmediatePriority,yb=fn.unstable_UserBlockingPriority,$c=fn.unstable_NormalPriority,nP=fn.unstable_LowPriority,wb=fn.unstable_IdlePriority,td=null,fr=null;function rP(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(td,e,void 0,(e.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:aP,iP=Math.log,oP=Math.LN2;function aP(e){return e>>>=0,e===0?32:31-(iP(e)/oP|0)|0}var mu=64,gu=4194304;function As(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=As(s):(o&=a,o!==0&&(r=As(o)))}else a=n&~i,a!==0?r=As(a):o!==0&&(r=As(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Yn(t),i=1<<n,r|=e[n],t&=~i;return r}function sP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Yn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=sP(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function xm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _b(){var e=mu;return mu<<=1,!(mu&4194240)&&(mu=64),e}function Hh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yn(t),e[t]=n}function uP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Yn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function u0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Yn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $e=0;function Sb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xb,c0,bb,Eb,Cb,bm=!1,vu=[],xi=null,bi=null,Ei=null,dl=new Map,hl=new Map,pi=[],cP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w1(e,t){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":dl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(t.pointerId)}}function ps(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=zl(t),t!==null&&c0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fP(e,t,n,r,i){switch(t){case"focusin":return xi=ps(xi,e,t,n,r,i),!0;case"dragenter":return bi=ps(bi,e,t,n,r,i),!0;case"mouseover":return Ei=ps(Ei,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return dl.set(o,ps(dl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,hl.set(o,ps(hl.get(o)||null,e,t,n,r,i)),!0}return!1}function Tb(e){var t=to(e.target);if(t!==null){var n=Io(t);if(n!==null){if(t=n.tag,t===13){if(t=pb(n),t!==null){e.blockedOn=t,Cb(e.priority,function(){bb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Em(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ym=r,n.target.dispatchEvent(r),ym=null}else return t=zl(n),t!==null&&c0(t),e.blockedOn=n,!1;t.shift()}return!0}function _1(e,t,n){nc(e)&&n.delete(t)}function dP(){bm=!1,xi!==null&&nc(xi)&&(xi=null),bi!==null&&nc(bi)&&(bi=null),Ei!==null&&nc(Ei)&&(Ei=null),dl.forEach(_1),hl.forEach(_1)}function ms(e,t){e.blockedOn===t&&(e.blockedOn=null,bm||(bm=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,dP)))}function pl(e){function t(i){return ms(i,e)}if(0<vu.length){ms(vu[0],e);for(var n=1;n<vu.length;n++){var r=vu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xi!==null&&ms(xi,e),bi!==null&&ms(bi,e),Ei!==null&&ms(Ei,e),dl.forEach(t),hl.forEach(t),n=0;n<pi.length;n++)r=pi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pi.length&&(n=pi[0],n.blockedOn===null);)Tb(n),n.blockedOn===null&&pi.shift()}var ha=oi.ReactCurrentBatchConfig,Uc=!0;function hP(e,t,n,r){var i=$e,o=ha.transition;ha.transition=null;try{$e=1,f0(e,t,n,r)}finally{$e=i,ha.transition=o}}function pP(e,t,n,r){var i=$e,o=ha.transition;ha.transition=null;try{$e=4,f0(e,t,n,r)}finally{$e=i,ha.transition=o}}function f0(e,t,n,r){if(Uc){var i=Em(e,t,n,r);if(i===null)Xh(e,t,r,Hc,n),w1(e,r);else if(fP(i,e,t,n,r))r.stopPropagation();else if(w1(e,r),t&4&&-1<cP.indexOf(e)){for(;i!==null;){var o=zl(i);if(o!==null&&xb(o),o=Em(e,t,n,r),o===null&&Xh(e,t,r,Hc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Xh(e,t,r,null,n)}}var Hc=null;function Em(e,t,n,r){if(Hc=null,e=s0(r),e=to(e),e!==null)if(t=Io(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hc=e,null}function kb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tP()){case l0:return 1;case yb:return 4;case $c:case nP:return 16;case wb:return 536870912;default:return 16}default:return 16}}var yi=null,d0=null,rc=null;function Mb(){if(rc)return rc;var e,t=d0,n=t.length,r,i="value"in yi?yi.value:yi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return rc=i.slice(e,1<r?1-r:void 0)}function ic(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yu(){return!0}function S1(){return!1}function mn(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yu:S1,this.isPropagationStopped=S1,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),t}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h0=mn(Ja),Yl=Je({},Ja,{view:0,detail:0}),mP=mn(Yl),Vh,Bh,gs,nd=Je({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(Vh=e.screenX-gs.screenX,Bh=e.screenY-gs.screenY):Bh=Vh=0,gs=e),Vh)},movementY:function(e){return"movementY"in e?e.movementY:Bh}}),x1=mn(nd),gP=Je({},nd,{dataTransfer:0}),vP=mn(gP),yP=Je({},Yl,{relatedTarget:0}),Yh=mn(yP),wP=Je({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),_P=mn(wP),SP=Je({},Ja,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xP=mn(SP),bP=Je({},Ja,{data:0}),b1=mn(bP),EP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TP[e])?!!t[e]:!1}function p0(){return kP}var MP=Je({},Yl,{key:function(e){if(e.key){var t=EP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ic(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p0,charCode:function(e){return e.type==="keypress"?ic(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ic(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DP=mn(MP),OP=Je({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E1=mn(OP),PP=Je({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p0}),NP=mn(PP),RP=Je({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),IP=mn(RP),LP=Je({},nd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AP=mn(LP),FP=[9,13,27,32],m0=qr&&"CompositionEvent"in window,Zs=null;qr&&"documentMode"in document&&(Zs=document.documentMode);var $P=qr&&"TextEvent"in window&&!Zs,Db=qr&&(!m0||Zs&&8<Zs&&11>=Zs),C1=" ",T1=!1;function Ob(e,t){switch(e){case"keyup":return FP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xo=!1;function jP(e,t){switch(e){case"compositionend":return Pb(t);case"keypress":return t.which!==32?null:(T1=!0,C1);case"textInput":return e=t.data,e===C1&&T1?null:e;default:return null}}function UP(e,t){if(Xo)return e==="compositionend"||!m0&&Ob(e,t)?(e=Mb(),rc=d0=yi=null,Xo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Db&&t.locale!=="ko"?null:t.data;default:return null}}var HP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HP[e.type]:t==="textarea"}function Nb(e,t,n,r){ub(r),t=Vc(t,"onChange"),0<t.length&&(n=new h0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Js=null,ml=null;function VP(e){Bb(e,0)}function rd(e){var t=ea(e);if(nb(t))return e}function BP(e,t){if(e==="change")return t}var Rb=!1;if(qr){var zh;if(qr){var Wh="oninput"in document;if(!Wh){var M1=document.createElement("div");M1.setAttribute("oninput","return;"),Wh=typeof M1.oninput=="function"}zh=Wh}else zh=!1;Rb=zh&&(!document.documentMode||9<document.documentMode)}function D1(){Js&&(Js.detachEvent("onpropertychange",Ib),ml=Js=null)}function Ib(e){if(e.propertyName==="value"&&rd(ml)){var t=[];Nb(t,ml,e,s0(e)),hb(VP,t)}}function YP(e,t,n){e==="focusin"?(D1(),Js=t,ml=n,Js.attachEvent("onpropertychange",Ib)):e==="focusout"&&D1()}function zP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rd(ml)}function WP(e,t){if(e==="click")return rd(t)}function qP(e,t){if(e==="input"||e==="change")return rd(t)}function QP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qn=typeof Object.is=="function"?Object.is:QP;function gl(e,t){if(qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!am.call(t,i)||!qn(e[i],t[i]))return!1}return!0}function O1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function P1(e,t){var n=O1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O1(n)}}function Lb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ab(){for(var e=window,t=Lc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lc(e.document)}return t}function g0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GP(e){var t=Ab(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lb(n.ownerDocument.documentElement,n)){if(r!==null&&g0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=P1(n,o);var a=P1(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KP=qr&&"documentMode"in document&&11>=document.documentMode,Zo=null,Cm=null,el=null,Tm=!1;function N1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tm||Zo==null||Zo!==Lc(r)||(r=Zo,"selectionStart"in r&&g0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&gl(el,r)||(el=r,r=Vc(Cm,"onSelect"),0<r.length&&(t=new h0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zo)))}function wu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jo={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},qh={},Fb={};qr&&(Fb=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function id(e){if(qh[e])return qh[e];if(!Jo[e])return e;var t=Jo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Fb)return qh[e]=t[n];return e}var $b=id("animationend"),jb=id("animationiteration"),Ub=id("animationstart"),Hb=id("transitionend"),Vb=new Map,R1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hi(e,t){Vb.set(e,t),Ro(t,[e])}for(var Qh=0;Qh<R1.length;Qh++){var Gh=R1[Qh],XP=Gh.toLowerCase(),ZP=Gh[0].toUpperCase()+Gh.slice(1);Hi(XP,"on"+ZP)}Hi($b,"onAnimationEnd");Hi(jb,"onAnimationIteration");Hi(Ub,"onAnimationStart");Hi("dblclick","onDoubleClick");Hi("focusin","onFocus");Hi("focusout","onBlur");Hi(Hb,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function I1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,XO(r,t,void 0,e),e.currentTarget=null}function Bb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;I1(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;I1(i,s,u),o=l}}}if(Fc)throw e=Sm,Fc=!1,Sm=null,e}function Ve(e,t){var n=t[Pm];n===void 0&&(n=t[Pm]=new Set);var r=e+"__bubble";n.has(r)||(Yb(t,e,2,!1),n.add(r))}function Kh(e,t,n){var r=0;t&&(r|=4),Yb(n,e,r,t)}var _u="_reactListening"+Math.random().toString(36).slice(2);function vl(e){if(!e[_u]){e[_u]=!0,Xx.forEach(function(n){n!=="selectionchange"&&(JP.has(n)||Kh(n,!1,e),Kh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_u]||(t[_u]=!0,Kh("selectionchange",!1,t))}}function Yb(e,t,n,r){switch(kb(t)){case 1:var i=hP;break;case 4:i=pP;break;default:i=f0}n=i.bind(null,t,n,e),i=void 0,!_m||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xh(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=to(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}hb(function(){var u=o,c=s0(n),f=[];e:{var d=Vb.get(e);if(d!==void 0){var h=h0,m=e;switch(e){case"keypress":if(ic(n)===0)break e;case"keydown":case"keyup":h=DP;break;case"focusin":m="focus",h=Yh;break;case"focusout":m="blur",h=Yh;break;case"beforeblur":case"afterblur":h=Yh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=x1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=vP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=NP;break;case $b:case jb:case Ub:h=_P;break;case Hb:h=IP;break;case"scroll":h=mP;break;case"wheel":h=AP;break;case"copy":case"cut":case"paste":h=xP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=E1}var g=(t&4)!==0,v=!g&&e==="scroll",p=g?d!==null?d+"Capture":null:d;g=[];for(var w=u,y;w!==null;){y=w;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,p!==null&&(x=fl(w,p),x!=null&&g.push(yl(w,x,y)))),v)break;w=w.return}0<g.length&&(d=new h(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==ym&&(m=n.relatedTarget||n.fromElement)&&(to(m)||m[Qr]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?to(m):null,m!==null&&(v=Io(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(g=x1,x="onMouseLeave",p="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=E1,x="onPointerLeave",p="onPointerEnter",w="pointer"),v=h==null?d:ea(h),y=m==null?d:ea(m),d=new g(x,w+"leave",h,n,c),d.target=v,d.relatedTarget=y,x=null,to(c)===u&&(g=new g(p,w+"enter",m,n,c),g.target=y,g.relatedTarget=v,x=g),v=x,h&&m)t:{for(g=h,p=m,w=0,y=g;y;y=Bo(y))w++;for(y=0,x=p;x;x=Bo(x))y++;for(;0<w-y;)g=Bo(g),w--;for(;0<y-w;)p=Bo(p),y--;for(;w--;){if(g===p||p!==null&&g===p.alternate)break t;g=Bo(g),p=Bo(p)}g=null}else g=null;h!==null&&L1(f,d,h,g,!1),m!==null&&v!==null&&L1(f,v,m,g,!0)}}e:{if(d=u?ea(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=BP;else if(k1(d))if(Rb)E=qP;else{E=zP;var b=YP}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=WP);if(E&&(E=E(e,u))){Nb(f,E,n,c);break e}b&&b(e,d,u),e==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&hm(d,"number",d.value)}switch(b=u?ea(u):window,e){case"focusin":(k1(b)||b.contentEditable==="true")&&(Zo=b,Cm=u,el=null);break;case"focusout":el=Cm=Zo=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,N1(f,n,c);break;case"selectionchange":if(KP)break;case"keydown":case"keyup":N1(f,n,c)}var C;if(m0)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Xo?Ob(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Db&&n.locale!=="ko"&&(Xo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Xo&&(C=Mb()):(yi=c,d0="value"in yi?yi.value:yi.textContent,Xo=!0)),b=Vc(u,k),0<b.length&&(k=new b1(k,e,null,n,c),f.push({event:k,listeners:b}),C?k.data=C:(C=Pb(n),C!==null&&(k.data=C)))),(C=$P?jP(e,n):UP(e,n))&&(u=Vc(u,"onBeforeInput"),0<u.length&&(c=new b1("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=C))}Bb(f,t)})}function yl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fl(e,n),o!=null&&r.unshift(yl(e,o,i)),o=fl(e,t),o!=null&&r.push(yl(e,o,i))),e=e.return}return r}function Bo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function L1(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=fl(n,o),l!=null&&a.unshift(yl(n,l,s))):i||(l=fl(n,o),l!=null&&a.push(yl(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var eN=/\r\n?/g,tN=/\u0000|\uFFFD/g;function A1(e){return(typeof e=="string"?e:""+e).replace(eN,`
`).replace(tN,"")}function Su(e,t,n){if(t=A1(t),A1(e)!==t&&n)throw Error(W(425))}function Bc(){}var km=null,Mm=null;function Dm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Om=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,F1=typeof Promise=="function"?Promise:void 0,rN=typeof queueMicrotask=="function"?queueMicrotask:typeof F1<"u"?function(e){return F1.resolve(null).then(e).catch(iN)}:Om;function iN(e){setTimeout(function(){throw e})}function Zh(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),pl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pl(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),ir="__reactFiber$"+es,wl="__reactProps$"+es,Qr="__reactContainer$"+es,Pm="__reactEvents$"+es,oN="__reactListeners$"+es,aN="__reactHandles$"+es;function to(e){var t=e[ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[ir]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$1(e);e!==null;){if(n=e[ir])return n;e=$1(e)}return t}e=n,n=e.parentNode}return null}function zl(e){return e=e[ir]||e[Qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ea(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function od(e){return e[wl]||null}var Nm=[],ta=-1;function Vi(e){return{current:e}}function Be(e){0>ta||(e.current=Nm[ta],Nm[ta]=null,ta--)}function He(e,t){ta++,Nm[ta]=e.current,e.current=t}var Ii={},jt=Vi(Ii),Jt=Vi(!1),go=Ii;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function en(e){return e=e.childContextTypes,e!=null}function Yc(){Be(Jt),Be(jt)}function j1(e,t,n){if(jt.current!==Ii)throw Error(W(168));He(jt,t),He(Jt,n)}function zb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,YO(e)||"Unknown",i));return Je({},n,r)}function zc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,go=jt.current,He(jt,e),He(Jt,Jt.current),!0}function U1(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=zb(e,t,go),r.__reactInternalMemoizedMergedChildContext=e,Be(Jt),Be(jt),He(jt,e)):Be(Jt),He(Jt,n)}var Nr=null,ad=!1,Jh=!1;function Wb(e){Nr===null?Nr=[e]:Nr.push(e)}function sN(e){ad=!0,Wb(e)}function Bi(){if(!Jh&&Nr!==null){Jh=!0;var e=0,t=$e;try{var n=Nr;for($e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nr=null,ad=!1}catch(i){throw Nr!==null&&(Nr=Nr.slice(e+1)),vb(l0,Bi),i}finally{$e=t,Jh=!1}}return null}var na=[],ra=0,Wc=null,qc=0,bn=[],En=0,vo=null,Ar=1,Fr="";function Xi(e,t){na[ra++]=qc,na[ra++]=Wc,Wc=e,qc=t}function qb(e,t,n){bn[En++]=Ar,bn[En++]=Fr,bn[En++]=vo,vo=e;var r=Ar;e=Fr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var o=32-Yn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ar=1<<32-Yn(t)+i|n<<i|r,Fr=o+e}else Ar=1<<o|n<<i|r,Fr=e}function v0(e){e.return!==null&&(Xi(e,1),qb(e,1,0))}function y0(e){for(;e===Wc;)Wc=na[--ra],na[ra]=null,qc=na[--ra],na[ra]=null;for(;e===vo;)vo=bn[--En],bn[En]=null,Fr=bn[--En],bn[En]=null,Ar=bn[--En],bn[En]=null}var ln=null,an=null,qe=!1,Vn=null;function Qb(e,t){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function H1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,an=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vo!==null?{id:Ar,overflow:Fr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ln=e,an=null,!0):!1;default:return!1}}function Rm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Im(e){if(qe){var t=an;if(t){var n=t;if(!H1(e,t)){if(Rm(e))throw Error(W(418));t=Ci(n.nextSibling);var r=ln;t&&H1(e,t)?Qb(r,n):(e.flags=e.flags&-4097|2,qe=!1,ln=e)}}else{if(Rm(e))throw Error(W(418));e.flags=e.flags&-4097|2,qe=!1,ln=e}}}function V1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function xu(e){if(e!==ln)return!1;if(!qe)return V1(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dm(e.type,e.memoizedProps)),t&&(t=an)){if(Rm(e))throw Gb(),Error(W(418));for(;t;)Qb(e,t),t=Ci(t.nextSibling)}if(V1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){an=Ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}an=null}}else an=ln?Ci(e.stateNode.nextSibling):null;return!0}function Gb(){for(var e=an;e;)e=Ci(e.nextSibling)}function ka(){an=ln=null,qe=!1}function w0(e){Vn===null?Vn=[e]:Vn.push(e)}var lN=oi.ReactCurrentBatchConfig;function vs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function bu(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function B1(e){var t=e._init;return t(e._payload)}function Kb(e){function t(p,w){if(e){var y=p.deletions;y===null?(p.deletions=[w],p.flags|=16):y.push(w)}}function n(p,w){if(!e)return null;for(;w!==null;)t(p,w),w=w.sibling;return null}function r(p,w){for(p=new Map;w!==null;)w.key!==null?p.set(w.key,w):p.set(w.index,w),w=w.sibling;return p}function i(p,w){return p=Di(p,w),p.index=0,p.sibling=null,p}function o(p,w,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<w?(p.flags|=2,w):y):(p.flags|=2,w)):(p.flags|=1048576,w)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function s(p,w,y,x){return w===null||w.tag!==6?(w=ap(y,p.mode,x),w.return=p,w):(w=i(w,y),w.return=p,w)}function l(p,w,y,x){var E=y.type;return E===Ko?c(p,w,y.props.children,x,y.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fi&&B1(E)===w.type)?(x=i(w,y.props),x.ref=vs(p,w,y),x.return=p,x):(x=fc(y.type,y.key,y.props,null,p.mode,x),x.ref=vs(p,w,y),x.return=p,x)}function u(p,w,y,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=sp(y,p.mode,x),w.return=p,w):(w=i(w,y.children||[]),w.return=p,w)}function c(p,w,y,x,E){return w===null||w.tag!==7?(w=uo(y,p.mode,x,E),w.return=p,w):(w=i(w,y),w.return=p,w)}function f(p,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ap(""+w,p.mode,y),w.return=p,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case du:return y=fc(w.type,w.key,w.props,null,p.mode,y),y.ref=vs(p,null,w),y.return=p,y;case Go:return w=sp(w,p.mode,y),w.return=p,w;case fi:var x=w._init;return f(p,x(w._payload),y)}if(Ls(w)||ds(w))return w=uo(w,p.mode,y,null),w.return=p,w;bu(p,w)}return null}function d(p,w,y,x){var E=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:s(p,w,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case du:return y.key===E?l(p,w,y,x):null;case Go:return y.key===E?u(p,w,y,x):null;case fi:return E=y._init,d(p,w,E(y._payload),x)}if(Ls(y)||ds(y))return E!==null?null:c(p,w,y,x,null);bu(p,y)}return null}function h(p,w,y,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(y)||null,s(w,p,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case du:return p=p.get(x.key===null?y:x.key)||null,l(w,p,x,E);case Go:return p=p.get(x.key===null?y:x.key)||null,u(w,p,x,E);case fi:var b=x._init;return h(p,w,y,b(x._payload),E)}if(Ls(x)||ds(x))return p=p.get(y)||null,c(w,p,x,E,null);bu(w,x)}return null}function m(p,w,y,x){for(var E=null,b=null,C=w,k=w=0,N=null;C!==null&&k<y.length;k++){C.index>k?(N=C,C=null):N=C.sibling;var A=d(p,C,y[k],x);if(A===null){C===null&&(C=N);break}e&&C&&A.alternate===null&&t(p,C),w=o(A,w,k),b===null?E=A:b.sibling=A,b=A,C=N}if(k===y.length)return n(p,C),qe&&Xi(p,k),E;if(C===null){for(;k<y.length;k++)C=f(p,y[k],x),C!==null&&(w=o(C,w,k),b===null?E=C:b.sibling=C,b=C);return qe&&Xi(p,k),E}for(C=r(p,C);k<y.length;k++)N=h(C,p,k,y[k],x),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?k:N.key),w=o(N,w,k),b===null?E=N:b.sibling=N,b=N);return e&&C.forEach(function(O){return t(p,O)}),qe&&Xi(p,k),E}function g(p,w,y,x){var E=ds(y);if(typeof E!="function")throw Error(W(150));if(y=E.call(y),y==null)throw Error(W(151));for(var b=E=null,C=w,k=w=0,N=null,A=y.next();C!==null&&!A.done;k++,A=y.next()){C.index>k?(N=C,C=null):N=C.sibling;var O=d(p,C,A.value,x);if(O===null){C===null&&(C=N);break}e&&C&&O.alternate===null&&t(p,C),w=o(O,w,k),b===null?E=O:b.sibling=O,b=O,C=N}if(A.done)return n(p,C),qe&&Xi(p,k),E;if(C===null){for(;!A.done;k++,A=y.next())A=f(p,A.value,x),A!==null&&(w=o(A,w,k),b===null?E=A:b.sibling=A,b=A);return qe&&Xi(p,k),E}for(C=r(p,C);!A.done;k++,A=y.next())A=h(C,p,k,A.value,x),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?k:A.key),w=o(A,w,k),b===null?E=A:b.sibling=A,b=A);return e&&C.forEach(function(V){return t(p,V)}),qe&&Xi(p,k),E}function v(p,w,y,x){if(typeof y=="object"&&y!==null&&y.type===Ko&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case du:e:{for(var E=y.key,b=w;b!==null;){if(b.key===E){if(E=y.type,E===Ko){if(b.tag===7){n(p,b.sibling),w=i(b,y.props.children),w.return=p,p=w;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fi&&B1(E)===b.type){n(p,b.sibling),w=i(b,y.props),w.ref=vs(p,b,y),w.return=p,p=w;break e}n(p,b);break}else t(p,b);b=b.sibling}y.type===Ko?(w=uo(y.props.children,p.mode,x,y.key),w.return=p,p=w):(x=fc(y.type,y.key,y.props,null,p.mode,x),x.ref=vs(p,w,y),x.return=p,p=x)}return a(p);case Go:e:{for(b=y.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){n(p,w.sibling),w=i(w,y.children||[]),w.return=p,p=w;break e}else{n(p,w);break}else t(p,w);w=w.sibling}w=sp(y,p.mode,x),w.return=p,p=w}return a(p);case fi:return b=y._init,v(p,w,b(y._payload),x)}if(Ls(y))return m(p,w,y,x);if(ds(y))return g(p,w,y,x);bu(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(n(p,w.sibling),w=i(w,y),w.return=p,p=w):(n(p,w),w=ap(y,p.mode,x),w.return=p,p=w),a(p)):n(p,w)}return v}var Ma=Kb(!0),Xb=Kb(!1),Qc=Vi(null),Gc=null,ia=null,_0=null;function S0(){_0=ia=Gc=null}function x0(e){var t=Qc.current;Be(Qc),e._currentValue=t}function Lm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function pa(e,t){Gc=e,_0=ia=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zt=!0),e.firstContext=null)}function Pn(e){var t=e._currentValue;if(_0!==e)if(e={context:e,memoizedValue:t,next:null},ia===null){if(Gc===null)throw Error(W(308));ia=e,Gc.dependencies={lanes:0,firstContext:e}}else ia=ia.next=e;return t}var no=null;function b0(e){no===null?no=[e]:no.push(e)}function Zb(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,b0(t)):(n.next=i.next,i.next=n),t.interleaved=n,Gr(e,r)}function Gr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var di=!1;function E0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gr(e,n)}return i=r.interleaved,i===null?(t.next=t,b0(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gr(e,n)}function oc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,u0(e,n)}}function Y1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Kc(e,t,n,r){var i=e.updateQueue;di=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(d=t,h=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(h,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(h,f,d):m,d==null)break e;f=Je({},f,d);break e;case 2:di=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);wo|=a,e.lanes=a,e.memoizedState=f}}function z1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Wl={},dr=Vi(Wl),_l=Vi(Wl),Sl=Vi(Wl);function ro(e){if(e===Wl)throw Error(W(174));return e}function C0(e,t){switch(He(Sl,t),He(_l,e),He(dr,Wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mm(t,e)}Be(dr),He(dr,t)}function Da(){Be(dr),Be(_l),Be(Sl)}function eE(e){ro(Sl.current);var t=ro(dr.current),n=mm(t,e.type);t!==n&&(He(_l,e),He(dr,n))}function T0(e){_l.current===e&&(Be(dr),Be(_l))}var Qe=Vi(0);function Xc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ep=[];function k0(){for(var e=0;e<ep.length;e++)ep[e]._workInProgressVersionPrimary=null;ep.length=0}var ac=oi.ReactCurrentDispatcher,tp=oi.ReactCurrentBatchConfig,yo=0,Xe=null,ft=null,mt=null,Zc=!1,tl=!1,xl=0,uN=0;function Pt(){throw Error(W(321))}function M0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qn(e[n],t[n]))return!1;return!0}function D0(e,t,n,r,i,o){if(yo=o,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ac.current=e===null||e.memoizedState===null?hN:pN,e=n(r,i),tl){o=0;do{if(tl=!1,xl=0,25<=o)throw Error(W(301));o+=1,mt=ft=null,t.updateQueue=null,ac.current=mN,e=n(r,i)}while(tl)}if(ac.current=Jc,t=ft!==null&&ft.next!==null,yo=0,mt=ft=Xe=null,Zc=!1,t)throw Error(W(300));return e}function O0(){var e=xl!==0;return xl=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Xe.memoizedState=mt=e:mt=mt.next=e,mt}function Nn(){if(ft===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=mt===null?Xe.memoizedState:mt.next;if(t!==null)mt=t,ft=e;else{if(e===null)throw Error(W(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},mt===null?Xe.memoizedState=mt=e:mt=mt.next=e}return mt}function bl(e,t){return typeof t=="function"?t(e):t}function np(e){var t=Nn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=ft,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((yo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Xe.lanes|=c,wo|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,qn(r,t.memoizedState)||(Zt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Xe.lanes|=o,wo|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rp(e){var t=Nn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);qn(o,t.memoizedState)||(Zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function tE(){}function nE(e,t){var n=Xe,r=Nn(),i=t(),o=!qn(r.memoizedState,i);if(o&&(r.memoizedState=i,Zt=!0),r=r.queue,P0(oE.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,El(9,iE.bind(null,n,r,i,t),void 0,null),St===null)throw Error(W(349));yo&30||rE(n,t,i)}return i}function rE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function iE(e,t,n,r){t.value=n,t.getSnapshot=r,aE(t)&&sE(e)}function oE(e,t,n){return n(function(){aE(t)&&sE(e)})}function aE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qn(e,n)}catch{return!0}}function sE(e){var t=Gr(e,1);t!==null&&zn(t,e,1,-1)}function W1(e){var t=Zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t.queue=e,e=e.dispatch=dN.bind(null,Xe,e),[t.memoizedState,e]}function El(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lE(){return Nn().memoizedState}function sc(e,t,n,r){var i=Zn();Xe.flags|=e,i.memoizedState=El(1|t,n,void 0,r===void 0?null:r)}function sd(e,t,n,r){var i=Nn();r=r===void 0?null:r;var o=void 0;if(ft!==null){var a=ft.memoizedState;if(o=a.destroy,r!==null&&M0(r,a.deps)){i.memoizedState=El(t,n,o,r);return}}Xe.flags|=e,i.memoizedState=El(1|t,n,o,r)}function q1(e,t){return sc(8390656,8,e,t)}function P0(e,t){return sd(2048,8,e,t)}function uE(e,t){return sd(4,2,e,t)}function cE(e,t){return sd(4,4,e,t)}function fE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dE(e,t,n){return n=n!=null?n.concat([e]):null,sd(4,4,fE.bind(null,t,e),n)}function N0(){}function hE(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&M0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pE(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&M0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function mE(e,t,n){return yo&21?(qn(n,t)||(n=_b(),Xe.lanes|=n,wo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zt=!0),e.memoizedState=n)}function cN(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var r=tp.transition;tp.transition={};try{e(!1),t()}finally{$e=n,tp.transition=r}}function gE(){return Nn().memoizedState}function fN(e,t,n){var r=Mi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vE(e))yE(t,n);else if(n=Zb(e,t,n,r),n!==null){var i=Wt();zn(n,e,r,i),wE(n,t,r)}}function dN(e,t,n){var r=Mi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vE(e))yE(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,qn(s,a)){var l=t.interleaved;l===null?(i.next=i,b0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Zb(e,t,i,r),n!==null&&(i=Wt(),zn(n,e,r,i),wE(n,t,r))}}function vE(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function yE(e,t){tl=Zc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,u0(e,n)}}var Jc={readContext:Pn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},hN={readContext:Pn,useCallback:function(e,t){return Zn().memoizedState=[e,t===void 0?null:t],e},useContext:Pn,useEffect:q1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sc(4194308,4,fE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sc(4194308,4,e,t)},useInsertionEffect:function(e,t){return sc(4,2,e,t)},useMemo:function(e,t){var n=Zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fN.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=Zn();return e={current:e},t.memoizedState=e},useState:W1,useDebugValue:N0,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=W1(!1),t=e[0];return e=cN.bind(null,e[1]),Zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=Zn();if(qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),St===null)throw Error(W(349));yo&30||rE(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,q1(oE.bind(null,r,o,e),[e]),r.flags|=2048,El(9,iE.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Zn(),t=St.identifierPrefix;if(qe){var n=Fr,r=Ar;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pN={readContext:Pn,useCallback:hE,useContext:Pn,useEffect:P0,useImperativeHandle:dE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:np,useRef:lE,useState:function(){return np(bl)},useDebugValue:N0,useDeferredValue:function(e){var t=Nn();return mE(t,ft.memoizedState,e)},useTransition:function(){var e=np(bl)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1},mN={readContext:Pn,useCallback:hE,useContext:Pn,useEffect:P0,useImperativeHandle:dE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:rp,useRef:lE,useState:function(){return rp(bl)},useDebugValue:N0,useDeferredValue:function(e){var t=Nn();return ft===null?t.memoizedState=e:mE(t,ft.memoizedState,e)},useTransition:function(){var e=rp(bl)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1};function Un(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Am(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ld={isMounted:function(e){return(e=e._reactInternals)?Io(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=Mi(e),o=Ur(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ti(e,o,i),t!==null&&(zn(t,e,i,r),oc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=Mi(e),o=Ur(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ti(e,o,i),t!==null&&(zn(t,e,i,r),oc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wt(),r=Mi(e),i=Ur(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ti(e,i,r),t!==null&&(zn(t,e,r,n),oc(t,e,r))}};function Q1(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!gl(n,r)||!gl(i,o):!0}function _E(e,t,n){var r=!1,i=Ii,o=t.contextType;return typeof o=="object"&&o!==null?o=Pn(o):(i=en(t)?go:jt.current,r=t.contextTypes,o=(r=r!=null)?Ta(e,i):Ii),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ld,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function G1(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ld.enqueueReplaceState(t,t.state,null)}function Fm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},E0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Pn(o):(o=en(t)?go:jt.current,i.context=Ta(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Am(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ld.enqueueReplaceState(i,i.state,null),Kc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Oa(e,t){try{var n="",r=t;do n+=BO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ip(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $m(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gN=typeof WeakMap=="function"?WeakMap:Map;function SE(e,t,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tf||(tf=!0,Qm=r),$m(e,t)},n}function xE(e,t,n){n=Ur(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){$m(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$m(e,t),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function K1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ON.bind(null,e,t,n),t.then(e,e))}function X1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Z1(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ur(-1,1),t.tag=2,Ti(n,t,1))),n.lanes|=1),e)}var vN=oi.ReactCurrentOwner,Zt=!1;function Ht(e,t,n,r){t.child=e===null?Xb(t,null,n,r):Ma(t,e.child,n,r)}function J1(e,t,n,r,i){n=n.render;var o=t.ref;return pa(t,i),r=D0(e,t,n,r,o,i),n=O0(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kr(e,t,i)):(qe&&n&&v0(t),t.flags|=1,Ht(e,t,r,i),t.child)}function ew(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!U0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,bE(e,t,o,r,i)):(e=fc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(a,r)&&e.ref===t.ref)return Kr(e,t,i)}return t.flags|=1,e=Di(o,r),e.ref=t.ref,e.return=t,t.child=e}function bE(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(gl(o,r)&&e.ref===t.ref)if(Zt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Zt=!0);else return t.lanes=e.lanes,Kr(e,t,i)}return jm(e,t,n,r,i)}function EE(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(aa,rn),rn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(aa,rn),rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,He(aa,rn),rn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,He(aa,rn),rn|=r;return Ht(e,t,i,n),t.child}function CE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jm(e,t,n,r,i){var o=en(n)?go:jt.current;return o=Ta(t,o),pa(t,i),n=D0(e,t,n,r,o,i),r=O0(),e!==null&&!Zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Kr(e,t,i)):(qe&&r&&v0(t),t.flags|=1,Ht(e,t,n,i),t.child)}function tw(e,t,n,r,i){if(en(n)){var o=!0;zc(t)}else o=!1;if(pa(t,i),t.stateNode===null)lc(e,t),_E(t,n,r),Fm(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pn(u):(u=en(n)?go:jt.current,u=Ta(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&G1(t,a,r,u),di=!1;var d=t.memoizedState;a.state=d,Kc(t,r,a,i),l=t.memoizedState,s!==r||d!==l||Jt.current||di?(typeof c=="function"&&(Am(t,n,c,r),l=t.memoizedState),(s=di||Q1(t,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Jb(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Un(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=en(n)?go:jt.current,l=Ta(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&G1(t,a,r,l),di=!1,d=t.memoizedState,a.state=d,Kc(t,r,a,i);var m=t.memoizedState;s!==f||d!==m||Jt.current||di?(typeof h=="function"&&(Am(t,n,h,r),m=t.memoizedState),(u=di||Q1(t,n,u,r,d,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Um(e,t,n,r,o,i)}function Um(e,t,n,r,i,o){CE(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&U1(t,n,!1),Kr(e,t,o);r=t.stateNode,vN.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ma(t,e.child,null,o),t.child=Ma(t,null,s,o)):Ht(e,t,s,o),t.memoizedState=r.state,i&&U1(t,n,!0),t.child}function TE(e){var t=e.stateNode;t.pendingContext?j1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&j1(e,t.context,!1),C0(e,t.containerInfo)}function nw(e,t,n,r,i){return ka(),w0(i),t.flags|=256,Ht(e,t,n,r),t.child}var Hm={dehydrated:null,treeContext:null,retryLane:0};function Vm(e){return{baseLanes:e,cachePool:null,transitions:null}}function kE(e,t,n){var r=t.pendingProps,i=Qe.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),He(Qe,i&1),e===null)return Im(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=fd(a,r,0,null),e=uo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Vm(n),t.memoizedState=Hm,e):R0(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return yN(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Di(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Di(s,o):(o=uo(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Vm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Hm,r}return o=e.child,e=o.sibling,r=Di(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function R0(e,t){return t=fd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eu(e,t,n,r){return r!==null&&w0(r),Ma(t,e.child,null,n),e=R0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yN(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=ip(Error(W(422))),Eu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=fd({mode:"visible",children:r.children},i,0,null),o=uo(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ma(t,e.child,null,a),t.child.memoizedState=Vm(a),t.memoizedState=Hm,o);if(!(t.mode&1))return Eu(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(W(419)),r=ip(o,r,void 0),Eu(e,t,a,r)}if(s=(a&e.childLanes)!==0,Zt||s){if(r=St,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gr(e,i),zn(r,e,i,-1))}return j0(),r=ip(Error(W(421))),Eu(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=PN.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,an=Ci(i.nextSibling),ln=t,qe=!0,Vn=null,e!==null&&(bn[En++]=Ar,bn[En++]=Fr,bn[En++]=vo,Ar=e.id,Fr=e.overflow,vo=t),t=R0(t,r.children),t.flags|=4096,t)}function rw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lm(e.return,t,n)}function op(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ME(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ht(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rw(e,n,t);else if(e.tag===19)rw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(He(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Xc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),op(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}op(t,!0,n,null,o);break;case"together":op(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Di(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Di(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wN(e,t,n){switch(t.tag){case 3:TE(t),ka();break;case 5:eE(t);break;case 1:en(t.type)&&zc(t);break;case 4:C0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;He(Qc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(He(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?kE(e,t,n):(He(Qe,Qe.current&1),e=Kr(e,t,n),e!==null?e.sibling:null);He(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ME(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,EE(e,t,n)}return Kr(e,t,n)}var DE,Bm,OE,PE;DE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bm=function(){};OE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ro(dr.current);var o=null;switch(n){case"input":i=fm(e,i),r=fm(e,r),o=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),o=[];break;case"textarea":i=pm(e,i),r=pm(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Bc)}gm(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ul.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i?.[u],r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ul.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};PE=function(e,t,n,r){n!==r&&(t.flags|=4)};function ys(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _N(e,t,n){var r=t.pendingProps;switch(y0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return en(t.type)&&Yc(),Nt(t),null;case 3:return r=t.stateNode,Da(),Be(Jt),Be(jt),k0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(Xm(Vn),Vn=null))),Bm(e,t),Nt(t),null;case 5:T0(t);var i=ro(Sl.current);if(n=t.type,e!==null&&t.stateNode!=null)OE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return Nt(t),null}if(e=ro(dr.current),xu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ir]=t,r[wl]=o,e=(t.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Fs.length;i++)Ve(Fs[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":d1(r,o),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ve("invalid",r);break;case"textarea":p1(r,o),Ve("invalid",r)}gm(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Su(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Su(r.textContent,s,e),i=["children",""+s]):ul.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ve("scroll",r)}switch(n){case"input":hu(r),h1(r,o,!0);break;case"textarea":hu(r),m1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Bc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ob(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ir]=t,e[wl]=r,DE(e,t,!1,!1),t.stateNode=e;e:{switch(a=vm(n,r),n){case"dialog":Ve("cancel",e),Ve("close",e),i=r;break;case"iframe":case"object":case"embed":Ve("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fs.length;i++)Ve(Fs[i],e);i=r;break;case"source":Ve("error",e),i=r;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),i=r;break;case"details":Ve("toggle",e),i=r;break;case"input":d1(e,r),i=fm(e,r),Ve("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Ve("invalid",e);break;case"textarea":p1(e,r),i=pm(e,r),Ve("invalid",e);break;default:i=r}gm(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?lb(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ab(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cl(e,l):typeof l=="number"&&cl(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ul.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ve("scroll",e):l!=null&&r0(e,o,l,a))}switch(n){case"input":hu(e),h1(e,r,!1);break;case"textarea":hu(e),m1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ri(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ca(e,!!r.multiple,o,!1):r.defaultValue!=null&&ca(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)PE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=ro(Sl.current),ro(dr.current),xu(t)){if(r=t.stateNode,n=t.memoizedProps,r[ir]=t,(o=r.nodeValue!==n)&&(e=ln,e!==null))switch(e.tag){case 3:Su(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Su(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=t,t.stateNode=r}return Nt(t),null;case 13:if(Be(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&an!==null&&t.mode&1&&!(t.flags&128))Gb(),ka(),t.flags|=98560,o=!1;else if(o=xu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[ir]=t}else ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),o=!1}else Vn!==null&&(Xm(Vn),Vn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?dt===0&&(dt=3):j0())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return Da(),Bm(e,t),e===null&&vl(t.stateNode.containerInfo),Nt(t),null;case 10:return x0(t.type._context),Nt(t),null;case 17:return en(t.type)&&Yc(),Nt(t),null;case 19:if(Be(Qe),o=t.memoizedState,o===null)return Nt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ys(o,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Xc(e),a!==null){for(t.flags|=128,ys(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return He(Qe,Qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&at()>Pa&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304)}else{if(!r)if(e=Xc(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ys(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!qe)return Nt(t),null}else 2*at()-o.renderingStartTime>Pa&&n!==1073741824&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=at(),t.sibling=null,n=Qe.current,He(Qe,r?n&1|2:n&1),t):(Nt(t),null);case 22:case 23:return $0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rn&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function SN(e,t){switch(y0(t),t.tag){case 1:return en(t.type)&&Yc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Da(),Be(Jt),Be(jt),k0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return T0(t),null;case 13:if(Be(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Qe),null;case 4:return Da(),null;case 10:return x0(t.type._context),null;case 22:case 23:return $0(),null;case 24:return null;default:return null}}var Cu=!1,At=!1,xN=typeof WeakSet=="function"?WeakSet:Set,J=null;function oa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(e,t,r)}else n.current=null}function Ym(e,t,n){try{n()}catch(r){nt(e,t,r)}}var iw=!1;function bN(e,t){if(km=Uc,e=Ab(),g0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mm={focusedElem:e,selectionRange:n},Uc=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,p=t.stateNode,w=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Un(t.type,g),v);p.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(x){nt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return m=iw,iw=!1,m}function nl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ym(t,n,o)}i=i.next}while(i!==r)}}function ud(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function NE(e){var t=e.alternate;t!==null&&(e.alternate=null,NE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ir],delete t[wl],delete t[Pm],delete t[oN],delete t[aN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function RE(e){return e.tag===5||e.tag===3||e.tag===4}function ow(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||RE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bc));else if(r!==4&&(e=e.child,e!==null))for(Wm(e,t,n),e=e.sibling;e!==null;)Wm(e,t,n),e=e.sibling}function qm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qm(e,t,n),e=e.sibling;e!==null;)qm(e,t,n),e=e.sibling}var Tt=null,Hn=!1;function ui(e,t,n){for(n=n.child;n!==null;)IE(e,t,n),n=n.sibling}function IE(e,t,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(td,n)}catch{}switch(n.tag){case 5:At||oa(n,t);case 6:var r=Tt,i=Hn;Tt=null,ui(e,t,n),Tt=r,Hn=i,Tt!==null&&(Hn?(e=Tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Hn?(e=Tt,n=n.stateNode,e.nodeType===8?Zh(e.parentNode,n):e.nodeType===1&&Zh(e,n),pl(e)):Zh(Tt,n.stateNode));break;case 4:r=Tt,i=Hn,Tt=n.stateNode.containerInfo,Hn=!0,ui(e,t,n),Tt=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Ym(n,t,a),i=i.next}while(i!==r)}ui(e,t,n);break;case 1:if(!At&&(oa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){nt(n,t,s)}ui(e,t,n);break;case 21:ui(e,t,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,ui(e,t,n),At=r):ui(e,t,n);break;default:ui(e,t,n)}}function aw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xN),t.forEach(function(r){var i=NN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Tt=s.stateNode,Hn=!1;break e;case 3:Tt=s.stateNode.containerInfo,Hn=!0;break e;case 4:Tt=s.stateNode.containerInfo,Hn=!0;break e}s=s.return}if(Tt===null)throw Error(W(160));IE(o,a,i),Tt=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){nt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)LE(t,e),t=t.sibling}function LE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),Xn(e),r&4){try{nl(3,e,e.return),ud(3,e)}catch(g){nt(e,e.return,g)}try{nl(5,e,e.return)}catch(g){nt(e,e.return,g)}}break;case 1:$n(t,e),Xn(e),r&512&&n!==null&&oa(n,n.return);break;case 5:if($n(t,e),Xn(e),r&512&&n!==null&&oa(n,n.return),e.flags&32){var i=e.stateNode;try{cl(i,"")}catch(g){nt(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&rb(i,o),vm(s,a);var u=vm(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?lb(i,f):c==="dangerouslySetInnerHTML"?ab(i,f):c==="children"?cl(i,f):r0(i,c,f,u)}switch(s){case"input":dm(i,o);break;case"textarea":ib(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ca(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?ca(i,!!o.multiple,o.defaultValue,!0):ca(i,!!o.multiple,o.multiple?[]:"",!1))}i[wl]=o}catch(g){nt(e,e.return,g)}}break;case 6:if($n(t,e),Xn(e),r&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){nt(e,e.return,g)}}break;case 3:if($n(t,e),Xn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pl(t.containerInfo)}catch(g){nt(e,e.return,g)}break;case 4:$n(t,e),Xn(e);break;case 13:$n(t,e),Xn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(A0=at())),r&4&&aw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(At=(u=At)||c,$n(t,e),At=u):$n(t,e),Xn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(J=e,c=e.child;c!==null;){for(f=J=c;J!==null;){switch(d=J,h=d.child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:oa(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){nt(r,n,g)}}break;case 5:oa(d,d.return);break;case 22:if(d.memoizedState!==null){lw(f);continue}}h!==null?(h.return=d,J=h):lw(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=sb("display",a))}catch(g){nt(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){nt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$n(t,e),Xn(e),r&4&&aw(e);break;case 21:break;default:$n(t,e),Xn(e)}}function Xn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(RE(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cl(i,""),r.flags&=-33);var o=ow(e);qm(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=ow(e);Wm(e,s,a);break;default:throw Error(W(161))}}catch(l){nt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EN(e,t,n){J=e,AE(e)}function AE(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Cu;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||At;s=Cu;var u=At;if(Cu=a,(At=l)&&!u)for(J=i;J!==null;)a=J,l=a.child,a.tag===22&&a.memoizedState!==null?uw(i):l!==null?(l.return=a,J=l):uw(i);for(;o!==null;)J=o,AE(o),o=o.sibling;J=i,Cu=s,At=u}sw(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):sw(e)}}function sw(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||ud(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Un(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&z1(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}z1(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}At||t.flags&512&&zm(t)}catch(d){nt(t,t.return,d)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function lw(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function uw(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ud(4,t)}catch(l){nt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){nt(t,i,l)}}var o=t.return;try{zm(t)}catch(l){nt(t,o,l)}break;case 5:var a=t.return;try{zm(t)}catch(l){nt(t,a,l)}}}catch(l){nt(t,t.return,l)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var CN=Math.ceil,ef=oi.ReactCurrentDispatcher,I0=oi.ReactCurrentOwner,On=oi.ReactCurrentBatchConfig,De=0,St=null,ct=null,Dt=0,rn=0,aa=Vi(0),dt=0,Cl=null,wo=0,cd=0,L0=0,rl=null,Xt=null,A0=0,Pa=1/0,Dr=null,tf=!1,Qm=null,ki=null,Tu=!1,wi=null,nf=0,il=0,Gm=null,uc=-1,cc=0;function Wt(){return De&6?at():uc!==-1?uc:uc=at()}function Mi(e){return e.mode&1?De&2&&Dt!==0?Dt&-Dt:lN.transition!==null?(cc===0&&(cc=_b()),cc):(e=$e,e!==0||(e=window.event,e=e===void 0?16:kb(e.type)),e):1}function zn(e,t,n,r){if(50<il)throw il=0,Gm=null,Error(W(185));Bl(e,n,r),(!(De&2)||e!==St)&&(e===St&&(!(De&2)&&(cd|=n),dt===4&&mi(e,Dt)),tn(e,r),n===1&&De===0&&!(t.mode&1)&&(Pa=at()+500,ad&&Bi()))}function tn(e,t){var n=e.callbackNode;lP(e,t);var r=jc(e,e===St?Dt:0);if(r===0)n!==null&&y1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&y1(n),t===1)e.tag===0?sN(cw.bind(null,e)):Wb(cw.bind(null,e)),rN(function(){!(De&6)&&Bi()}),n=null;else{switch(Sb(r)){case 1:n=l0;break;case 4:n=yb;break;case 16:n=$c;break;case 536870912:n=wb;break;default:n=$c}n=YE(n,FE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function FE(e,t){if(uc=-1,cc=0,De&6)throw Error(W(327));var n=e.callbackNode;if(ma()&&e.callbackNode!==n)return null;var r=jc(e,e===St?Dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rf(e,r);else{t=r;var i=De;De|=2;var o=jE();(St!==e||Dt!==t)&&(Dr=null,Pa=at()+500,lo(e,t));do try{MN();break}catch(s){$E(e,s)}while(!0);S0(),ef.current=o,De=i,ct!==null?t=0:(St=null,Dt=0,t=dt)}if(t!==0){if(t===2&&(i=xm(e),i!==0&&(r=i,t=Km(e,i))),t===1)throw n=Cl,lo(e,0),mi(e,r),tn(e,at()),n;if(t===6)mi(e,r);else{if(i=e.current.alternate,!(r&30)&&!TN(i)&&(t=rf(e,r),t===2&&(o=xm(e),o!==0&&(r=o,t=Km(e,o))),t===1))throw n=Cl,lo(e,0),mi(e,r),tn(e,at()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Zi(e,Xt,Dr);break;case 3:if(mi(e,r),(r&130023424)===r&&(t=A0+500-at(),10<t)){if(jc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Wt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Om(Zi.bind(null,e,Xt,Dr),t);break}Zi(e,Xt,Dr);break;case 4:if(mi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Yn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CN(r/1960))-r,10<r){e.timeoutHandle=Om(Zi.bind(null,e,Xt,Dr),r);break}Zi(e,Xt,Dr);break;case 5:Zi(e,Xt,Dr);break;default:throw Error(W(329))}}}return tn(e,at()),e.callbackNode===n?FE.bind(null,e):null}function Km(e,t){var n=rl;return e.current.memoizedState.isDehydrated&&(lo(e,t).flags|=256),e=rf(e,t),e!==2&&(t=Xt,Xt=n,t!==null&&Xm(t)),e}function Xm(e){Xt===null?Xt=e:Xt.push.apply(Xt,e)}function TN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!qn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mi(e,t){for(t&=~L0,t&=~cd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yn(t),r=1<<n;e[n]=-1,t&=~r}}function cw(e){if(De&6)throw Error(W(327));ma();var t=jc(e,0);if(!(t&1))return tn(e,at()),null;var n=rf(e,t);if(e.tag!==0&&n===2){var r=xm(e);r!==0&&(t=r,n=Km(e,r))}if(n===1)throw n=Cl,lo(e,0),mi(e,t),tn(e,at()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zi(e,Xt,Dr),tn(e,at()),null}function F0(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(Pa=at()+500,ad&&Bi())}}function _o(e){wi!==null&&wi.tag===0&&!(De&6)&&ma();var t=De;De|=1;var n=On.transition,r=$e;try{if(On.transition=null,$e=1,e)return e()}finally{$e=r,On.transition=n,De=t,!(De&6)&&Bi()}}function $0(){rn=aa.current,Be(aa)}function lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nN(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(y0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yc();break;case 3:Da(),Be(Jt),Be(jt),k0();break;case 5:T0(r);break;case 4:Da();break;case 13:Be(Qe);break;case 19:Be(Qe);break;case 10:x0(r.type._context);break;case 22:case 23:$0()}n=n.return}if(St=e,ct=e=Di(e.current,null),Dt=rn=t,dt=0,Cl=null,L0=cd=wo=0,Xt=rl=null,no!==null){for(t=0;t<no.length;t++)if(n=no[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}no=null}return e}function $E(e,t){do{var n=ct;try{if(S0(),ac.current=Jc,Zc){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zc=!1}if(yo=0,mt=ft=Xe=null,tl=!1,xl=0,I0.current=null,n===null||n.return===null){dt=1,Cl=t,ct=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Dt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=X1(a);if(h!==null){h.flags&=-257,Z1(h,a,s,o,t),h.mode&1&&K1(o,u,t),t=h,l=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){K1(o,u,t),j0();break e}l=Error(W(426))}}else if(qe&&s.mode&1){var v=X1(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Z1(v,a,s,o,t),w0(Oa(l,s));break e}}o=l=Oa(l,s),dt!==4&&(dt=2),rl===null?rl=[o]:rl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=SE(o,l,t);Y1(o,p);break e;case 1:s=l;var w=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ki===null||!ki.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=xE(o,s,t);Y1(o,x);break e}}o=o.return}while(o!==null)}HE(n)}catch(E){t=E,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function jE(){var e=ef.current;return ef.current=Jc,e===null?Jc:e}function j0(){(dt===0||dt===3||dt===2)&&(dt=4),St===null||!(wo&268435455)&&!(cd&268435455)||mi(St,Dt)}function rf(e,t){var n=De;De|=2;var r=jE();(St!==e||Dt!==t)&&(Dr=null,lo(e,t));do try{kN();break}catch(i){$E(e,i)}while(!0);if(S0(),De=n,ef.current=r,ct!==null)throw Error(W(261));return St=null,Dt=0,dt}function kN(){for(;ct!==null;)UE(ct)}function MN(){for(;ct!==null&&!JO();)UE(ct)}function UE(e){var t=BE(e.alternate,e,rn);e.memoizedProps=e.pendingProps,t===null?HE(e):ct=t,I0.current=null}function HE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=SN(n,t),n!==null){n.flags&=32767,ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,ct=null;return}}else if(n=_N(n,t,rn),n!==null){ct=n;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);dt===0&&(dt=5)}function Zi(e,t,n){var r=$e,i=On.transition;try{On.transition=null,$e=1,DN(e,t,n,r)}finally{On.transition=i,$e=r}return null}function DN(e,t,n,r){do ma();while(wi!==null);if(De&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(uP(e,o),e===St&&(ct=St=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tu||(Tu=!0,YE($c,function(){return ma(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=On.transition,On.transition=null;var a=$e;$e=1;var s=De;De|=4,I0.current=null,bN(e,n),LE(n,e),GP(Mm),Uc=!!km,Mm=km=null,e.current=n,EN(n),eP(),De=s,$e=a,On.transition=o}else e.current=n;if(Tu&&(Tu=!1,wi=e,nf=i),o=e.pendingLanes,o===0&&(ki=null),rP(n.stateNode),tn(e,at()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tf)throw tf=!1,e=Qm,Qm=null,e;return nf&1&&e.tag!==0&&ma(),o=e.pendingLanes,o&1?e===Gm?il++:(il=0,Gm=e):il=0,Bi(),null}function ma(){if(wi!==null){var e=Sb(nf),t=On.transition,n=$e;try{if(On.transition=null,$e=16>e?16:e,wi===null)var r=!1;else{if(e=wi,wi=null,nf=0,De&6)throw Error(W(331));var i=De;for(De|=4,J=e.current;J!==null;){var o=J,a=o.child;if(J.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:nl(8,c,o)}var f=c.child;if(f!==null)f.return=c,J=f;else for(;J!==null;){c=J;var d=c.sibling,h=c.return;if(NE(c),c===u){J=null;break}if(d!==null){d.return=h,J=d;break}J=h}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}J=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,J=a;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,J=p;break e}J=o.return}}var w=e.current;for(J=w;J!==null;){a=J;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,J=y;else e:for(a=w;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ud(9,s)}}catch(E){nt(s,s.return,E)}if(s===a){J=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,J=x;break e}J=s.return}}if(De=i,Bi(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(td,e)}catch{}r=!0}return r}finally{$e=n,On.transition=t}}return!1}function fw(e,t,n){t=Oa(n,t),t=SE(e,t,1),e=Ti(e,t,1),t=Wt(),e!==null&&(Bl(e,1,t),tn(e,t))}function nt(e,t,n){if(e.tag===3)fw(e,e,n);else for(;t!==null;){if(t.tag===3){fw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){e=Oa(n,e),e=xE(t,e,1),t=Ti(t,e,1),e=Wt(),t!==null&&(Bl(t,1,e),tn(t,e));break}}t=t.return}}function ON(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(Dt&n)===n&&(dt===4||dt===3&&(Dt&130023424)===Dt&&500>at()-A0?lo(e,0):L0|=n),tn(e,t)}function VE(e,t){t===0&&(e.mode&1?(t=gu,gu<<=1,!(gu&130023424)&&(gu=4194304)):t=1);var n=Wt();e=Gr(e,t),e!==null&&(Bl(e,t,n),tn(e,n))}function PN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),VE(e,n)}function NN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),VE(e,n)}var BE;BE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)Zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Zt=!1,wN(e,t,n);Zt=!!(e.flags&131072)}else Zt=!1,qe&&t.flags&1048576&&qb(t,qc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;lc(e,t),e=t.pendingProps;var i=Ta(t,jt.current);pa(t,n),i=D0(null,t,r,e,i,n);var o=O0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,en(r)?(o=!0,zc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,E0(t),i.updater=ld,t.stateNode=i,i._reactInternals=t,Fm(t,r,e,n),t=Um(null,t,r,!0,o,n)):(t.tag=0,qe&&o&&v0(t),Ht(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(lc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=IN(r),e=Un(r,e),i){case 0:t=jm(null,t,r,e,n);break e;case 1:t=tw(null,t,r,e,n);break e;case 11:t=J1(null,t,r,e,n);break e;case 14:t=ew(null,t,r,Un(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),jm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),tw(e,t,r,i,n);case 3:e:{if(TE(t),e===null)throw Error(W(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Jb(e,t),Kc(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Oa(Error(W(423)),t),t=nw(e,t,r,n,i);break e}else if(r!==i){i=Oa(Error(W(424)),t),t=nw(e,t,r,n,i);break e}else for(an=Ci(t.stateNode.containerInfo.firstChild),ln=t,qe=!0,Vn=null,n=Xb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ka(),r===i){t=Kr(e,t,n);break e}Ht(e,t,r,n)}t=t.child}return t;case 5:return eE(t),e===null&&Im(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Dm(r,i)?a=null:o!==null&&Dm(r,o)&&(t.flags|=32),CE(e,t),Ht(e,t,a,n),t.child;case 6:return e===null&&Im(t),null;case 13:return kE(e,t,n);case 4:return C0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ma(t,null,r,n):Ht(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),J1(e,t,r,i,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,He(Qc,r._currentValue),r._currentValue=a,o!==null)if(qn(o.value,a)){if(o.children===i.children&&!Jt.current){t=Kr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ur(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lm(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(W(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Lm(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ht(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,pa(t,n),i=Pn(i),r=r(i),t.flags|=1,Ht(e,t,r,n),t.child;case 14:return r=t.type,i=Un(r,t.pendingProps),i=Un(r.type,i),ew(e,t,r,i,n);case 15:return bE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),lc(e,t),t.tag=1,en(r)?(e=!0,zc(t)):e=!1,pa(t,n),_E(t,r,i),Fm(t,r,i,n),Um(null,t,r,!0,e,n);case 19:return ME(e,t,n);case 22:return EE(e,t,n)}throw Error(W(156,t.tag))};function YE(e,t){return vb(e,t)}function RN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,n,r){return new RN(e,t,n,r)}function U0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IN(e){if(typeof e=="function")return U0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===o0)return 11;if(e===a0)return 14}return 2}function Di(e,t){var n=e.alternate;return n===null?(n=kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fc(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")U0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ko:return uo(n.children,i,o,t);case i0:a=8,i|=8;break;case sm:return e=kn(12,n,t,i|2),e.elementType=sm,e.lanes=o,e;case lm:return e=kn(13,n,t,i),e.elementType=lm,e.lanes=o,e;case um:return e=kn(19,n,t,i),e.elementType=um,e.lanes=o,e;case eb:return fd(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zx:a=10;break e;case Jx:a=9;break e;case o0:a=11;break e;case a0:a=14;break e;case fi:a=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=kn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function uo(e,t,n,r){return e=kn(7,e,r,t),e.lanes=n,e}function fd(e,t,n,r){return e=kn(22,e,r,t),e.elementType=eb,e.lanes=n,e.stateNode={isHidden:!1},e}function ap(e,t,n){return e=kn(6,e,null,t),e.lanes=n,e}function sp(e,t,n){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hh(0),this.expirationTimes=Hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function H0(e,t,n,r,i,o,a,s,l){return e=new LN(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=kn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},E0(o),e}function AN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Go,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zE(e){if(!e)return Ii;e=e._reactInternals;e:{if(Io(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(en(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(en(n))return zb(e,n,t)}return t}function WE(e,t,n,r,i,o,a,s,l){return e=H0(n,r,!0,e,i,o,a,s,l),e.context=zE(null),n=e.current,r=Wt(),i=Mi(n),o=Ur(r,i),o.callback=t??null,Ti(n,o,i),e.current.lanes=i,Bl(e,i,r),tn(e,r),e}function dd(e,t,n,r){var i=t.current,o=Wt(),a=Mi(i);return n=zE(n),t.context===null?t.context=n:t.pendingContext=n,t=Ur(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ti(i,t,a),e!==null&&(zn(e,i,a,o),oc(e,i,a)),a}function of(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function V0(e,t){dw(e,t),(e=e.alternate)&&dw(e,t)}function FN(){return null}var qE=typeof reportError=="function"?reportError:function(e){console.error(e)};function B0(e){this._internalRoot=e}hd.prototype.render=B0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));dd(e,t,null,null)};hd.prototype.unmount=B0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_o(function(){dd(null,e,null,null)}),t[Qr]=null}};function hd(e){this._internalRoot=e}hd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Eb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pi.length&&t!==0&&t<pi[n].priority;n++);pi.splice(n,0,e),n===0&&Tb(e)}};function Y0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hw(){}function $N(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=of(a);o.call(u)}}var a=WE(t,r,e,0,null,!1,!1,"",hw);return e._reactRootContainer=a,e[Qr]=a.current,vl(e.nodeType===8?e.parentNode:e),_o(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=of(l);s.call(u)}}var l=H0(e,0,!1,null,null,!1,!1,"",hw);return e._reactRootContainer=l,e[Qr]=l.current,vl(e.nodeType===8?e.parentNode:e),_o(function(){dd(t,l,n,r)}),l}function md(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=of(a);s.call(l)}}dd(t,a,e,i)}else a=$N(n,t,e,i,r);return of(a)}xb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=As(t.pendingLanes);n!==0&&(u0(t,n|1),tn(t,at()),!(De&6)&&(Pa=at()+500,Bi()))}break;case 13:_o(function(){var r=Gr(e,1);if(r!==null){var i=Wt();zn(r,e,1,i)}}),V0(e,1)}};c0=function(e){if(e.tag===13){var t=Gr(e,134217728);if(t!==null){var n=Wt();zn(t,e,134217728,n)}V0(e,134217728)}};bb=function(e){if(e.tag===13){var t=Mi(e),n=Gr(e,t);if(n!==null){var r=Wt();zn(n,e,t,r)}V0(e,t)}};Eb=function(){return $e};Cb=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}};wm=function(e,t,n){switch(t){case"input":if(dm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=od(r);if(!i)throw Error(W(90));nb(r),dm(r,i)}}}break;case"textarea":ib(e,n);break;case"select":t=n.value,t!=null&&ca(e,!!n.multiple,t,!1)}};fb=F0;db=_o;var jN={usingClientEntryPoint:!1,Events:[zl,ea,od,ub,cb,F0]},ws={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UN={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mb(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||FN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{td=ku.inject(UN),fr=ku}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jN;pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y0(t))throw Error(W(200));return AN(e,t,null,n)};pn.createRoot=function(e,t){if(!Y0(e))throw Error(W(299));var n=!1,r="",i=qE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=H0(e,1,!1,null,null,n,!1,r,i),e[Qr]=t.current,vl(e.nodeType===8?e.parentNode:e),new B0(t)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=mb(t),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return _o(e)};pn.hydrate=function(e,t,n){if(!pd(t))throw Error(W(200));return md(null,e,t,!0,n)};pn.hydrateRoot=function(e,t,n){if(!Y0(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=qE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=WE(t,null,e,1,n??null,i,!1,o,a),e[Qr]=t.current,vl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new hd(t)};pn.render=function(e,t,n){if(!pd(t))throw Error(W(200));return md(null,e,t,!1,n)};pn.unmountComponentAtNode=function(e){if(!pd(e))throw Error(W(40));return e._reactRootContainer?(_o(function(){md(null,null,e,!1,function(){e._reactRootContainer=null,e[Qr]=null})}),!0):!1};pn.unstable_batchedUpdates=F0;pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pd(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return md(e,t,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function QE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QE)}catch(e){console.error(e)}}QE(),Qx.exports=pn;var ql=Qx.exports;const HN=No(ql);var GE,pw=ql;GE=pw.createRoot,pw.hydrateRoot;var ye={},Na={};/**
 * @license MIT
 * doc-path <https://github.com/mrodrig/doc-path>
 * Copyright (c) 2015-present, Michael Rodrigues.
 */Object.defineProperty(Na,"__esModule",{value:!0});Na.setPath=Na.evaluatePath=void 0;function $s(e,t){if(!e)return null;const{dotIndex:n,key:r,remaining:i}=af(t),o=typeof e=="object"&&t in e?e[t]:void 0,a=typeof e=="object"&&r in e?e[r]:void 0;if(n>=0&&typeof e=="object"&&!(t in e)){const{key:s}=af(i),l=parseInt(s);return Array.isArray(a)&&isNaN(l)?a.map(u=>$s(u,i)):$s(a,i)}else if(Array.isArray(e)){const s=parseInt(r);return t===r&&n===-1&&!isNaN(s)?a:e.map(l=>$s(l,t))}else{if(n>=0&&t!==r&&typeof e=="object"&&r in e)return $s(a,i);if(n===-1&&typeof e=="object"&&r in e&&!(t in e))return a}return o}Na.evaluatePath=$s;function VN(e,t,n){if(e){if(!t)throw new Error("No keyPath was provided.")}else throw new Error("No object was provided.");return js(e,t,n)}Na.setPath=VN;function js(e,t,n){const{dotIndex:r,key:i,remaining:o}=af(t);if(t.startsWith("__proto__")||t.startsWith("constructor")||t.startsWith("prototype"))return e;if(r>=0){const a=parseInt(i);if(typeof e=="object"&&e!==null&&!(i in e)&&Array.isArray(e)&&!isNaN(a))return e[i]=e[i]??{},js(e[i],o,n),e;if(typeof e=="object"&&e!==null&&!(i in e)&&Array.isArray(e))return e.forEach(s=>js(s,t,n)),e;if(typeof e=="object"&&e!==null&&!(i in e)&&!Array.isArray(e)){const{key:s}=af(o),l=parseInt(s);if(!isNaN(l))e[i]=[];else{if(o==="")return e[t]=n,e;e[i]={}}}js(e[i],o,n)}else if(Array.isArray(e)){const a=parseInt(i);return t===i&&r===-1&&!isNaN(a)?(e[i]=n,e):(e.forEach(s=>js(s,o,n)),e)}else e[i]=n;return e}function af(e){const t=BN(e);return{dotIndex:t,key:e.slice(0,t>=0?t:void 0).replace(/\\./g,"."),remaining:e.slice(t+1)}}function BN(e){for(let t=0;t<e.length;t++){const n=t>0?e[t-1]:"";if(e[t]==="."&&n!=="\\")return t}return-1}var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.excelBOM=sr.defaultCsv2JsonOptions=sr.defaultJson2CsvOptions=sr.errors=void 0;sr.errors={optionsRequired:"Options were not passed and are required.",json2csv:{cannotCallOn:"Cannot call json2csv on",dataCheckFailure:"Data provided was not an array of documents.",notSameSchema:"Not all documents have the same schema."},csv2json:{cannotCallOn:"Cannot call csv2json on",dataCheckFailure:"CSV is not a string."}};sr.defaultJson2CsvOptions={arrayIndexesAsKeys:!1,checkSchemaDifferences:!1,delimiter:{field:",",wrap:'"',eol:`
`},emptyFieldValue:void 0,escapeHeaderNestedDots:!0,excelBOM:!1,excludeKeys:[],expandNestedObjects:!0,expandArrayObjects:!1,prependHeader:!0,preventCsvInjection:!1,sortHeader:!1,trimFieldValues:!1,trimHeaderFields:!1,unwindArrays:!1,useDateIso8601Format:!1,useLocaleFormat:!1,wrapBooleans:!1};sr.defaultCsv2JsonOptions={delimiter:{field:",",wrap:'"',eol:`
`},excelBOM:!1,preventCsvInjection:!1,trimFieldValues:!1,trimHeaderFields:!1};sr.excelBOM="\uFEFF";Object.defineProperty(ye,"__esModule",{value:!0});ye.isInvalid=ye.flatten=ye.unique=ye.arrayDifference=ye.isError=tC=ye.isUndefined=JE=ye.isNull=ye.isObject=XE=ye.isString=ye.isNumber=ye.unwind=ye.getNCharacters=ye.removeEmptyFields=ye.isEmptyField=ye.computeSchemaDifferences=ye.isDateRepresentation=ye.isStringRepresentation=So=ye.deepCopy=ye.validate=ye.buildC2JOptions=ye.buildJ2COptions=void 0;const lp=Na,_i=sr,YN=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,up=1e5;function zN(e){return{..._i.defaultJson2CsvOptions,...e,delimiter:{field:e?.delimiter?.field??_i.defaultJson2CsvOptions.delimiter.field,wrap:e?.delimiter?.wrap||_i.defaultJson2CsvOptions.delimiter.wrap,eol:e?.delimiter?.eol||_i.defaultJson2CsvOptions.delimiter.eol},fieldTitleMap:Object.create({})}}ye.buildJ2COptions=zN;function WN(e){return{..._i.defaultCsv2JsonOptions,...e,delimiter:{field:e?.delimiter?.field??_i.defaultCsv2JsonOptions.delimiter.field,wrap:e?.delimiter?.wrap||_i.defaultCsv2JsonOptions.delimiter.wrap,eol:e?.delimiter?.eol||_i.defaultCsv2JsonOptions.delimiter.eol}}}ye.buildC2JOptions=WN;function qN(e,t,n){if(!e)throw new Error(`${n.cannotCallOn} ${e}.`);if(!t(e))throw new Error(n.dataCheckFailure);return!0}ye.validate=qN;function Zm(e){return JSON.parse(JSON.stringify(e))}var So=ye.deepCopy=Zm;function QN(e,t){const n=e[0],r=e.length-1,i=e[r];return n===t.delimiter.wrap&&i===t.delimiter.wrap}ye.isStringRepresentation=QN;function GN(e){return YN.test(e)}ye.isDateRepresentation=GN;function KN(e,t){return Jm(e,t).concat(Jm(t,e))}ye.computeSchemaDifferences=KN;function KE(e){return eC(e)||ZE(e)||e===""}ye.isEmptyField=KE;function XN(e){return e.filter(t=>!KE(t))}ye.removeEmptyFields=XN;function ZN(e,t,n){return e.substring(t,t+n)}ye.getNCharacters=ZN;function JN(e,t,n){const r=(0,lp.evaluatePath)(t,n);let i=Zm(t);Array.isArray(r)&&r.length?r.forEach(o=>{i=Zm(t),e.push((0,lp.setPath)(i,n,o))}):(Array.isArray(r)&&r.length===0&&(0,lp.setPath)(i,n,""),e.push(i))}function eR(e,t){const n=[];return e.forEach(r=>{JN(n,r,t)}),n}ye.unwind=eR;function tR(e){return!isNaN(Number(e))}ye.isNumber=tR;function nR(e){return typeof e=="string"}var XE=ye.isString=nR;function rR(e){return typeof e=="object"}ye.isObject=rR;function ZE(e){return e===null}var JE=ye.isNull=ZE;function eC(e){return typeof e>"u"}var tC=ye.isUndefined=eC;function iR(e){return Object.prototype.toString.call(e)==="[object Error]"}ye.isError=iR;function Jm(e,t){return e.filter(n=>!t.includes(n))}ye.arrayDifference=Jm;function oR(e){return[...new Set(e)]}ye.unique=oR;function aR(e){if(e.flat)return e.flat();if(e.length>up){let t=[];for(let n=0;n<e.length;n+=up)t=t.concat(...e.slice(n,n+up));return t}return e.reduce((t,n)=>t.concat(n),[])}ye.flatten=aR;function sR(e){return e===1/0||e===-1/0}ye.isInvalid=sR;var eg=(e=>(e.Paused="Paused",e.Transmitting="Transmitting",e))(eg||{}),$t=(e=>(e.DISCONNECTED="Disconnected",e.WAITING="Waiting for PortaCount",e.RECEIVING="Receiving data",e))($t||{}),kt=(e=>(e.Idle="Idle",e.Testing="Testing",e.Counting="Counting",e.Disconnected="Disconnected",e))(kt||{}),xe=(e=>(e.MASK="mask",e.AMBIENT="ambient",e))(xe||{}),Ce=(e=>(e.External="External",e.Internal="Internal",e.Manual="Manual",e))(Ce||{});class nC{_connectionStatus="Disconnected";_controlSource="Internal";_sampleSource="mask";_dataTransmissionState="Transmitting";_batteryStatus="?";_pulseStatus="?";_componentVoltages=new Map;_lastLine="";_activity="Disconnected";get componentVoltages(){return this._componentVoltages}get batteryStatus(){return this._batteryStatus}set batteryStatus(t){this._batteryStatus=t}get pulseStatus(){return this._pulseStatus}set pulseStatus(t){this._pulseStatus=t}get connectionStatus(){return this._connectionStatus}set connectionStatus(t){this._connectionStatus=t}get controlSource(){return this._controlSource}set controlSource(t){this._controlSource=t}get sampleSource(){return this._sampleSource}set sampleSource(t){this._sampleSource=t}get dataTransmissionState(){return this._dataTransmissionState}set dataTransmissionState(t){this._dataTransmissionState=t}get activity(){return this._activity}set activity(t){this._activity=t}get lastLine(){return this._lastLine}set lastLine(t){this._lastLine=t}}const lR={med:"M",medium:"M",small:"S",large:"L","ear loop":"earloop","head strap":"headstrap","head loop":"heeadstrap",headloop:"headstrap"},uR=["headstrap","earloop","adhesive"],cR=["unspecified","XXS","XS","S","M","L","XL","XXL","Kids","Adult Regular"],fR=["unknown","3M","ACI","BNX","Benehal","Blox","Bluna","Breatheteq","Champak","Drager","Envo","Flo","Gerson","Jackson","Laianzhi","Lighthouse","Omnimask","Powecom","Rackmask","Readimask","Trident","Vitacore","Vog","WellBefore","Zero","Zimi"];class dR{_maker;_model;_size;_color;_attachmentType;_shape;constructor(t,n,r,i,o,a="unspecified"){this._maker=t,this._model=n,this._size=r,this._color=i,this._attachmentType=o,this._shape=a}get shortName(){return`${this.maker} ${this.model}`}get maker(){return this._maker}set maker(t){this._maker=t}get model(){return this._model}set model(t){this._model=t}get size(){return this._size}set size(t){this._size=t}get color(){return this._color}set color(t){this._color=t}get attachmentType(){return this._attachmentType}set attachmentType(t){this._attachmentType=t}get shape(){return this._shape}set shape(t){this._shape=t}}function rC(e){const t=new dR,n=(e??"").replaceAll(/\s+/g," ");let i=Object.entries(lR).reduce((a,[s,l])=>a.replaceAll(new RegExp(`${s}`,"ig"),l),n),o=i.toLowerCase();return fR.find(a=>{const s=o.match(new RegExp(`\\b${a.toLowerCase()}\\b`,"i"));if(s&&s.index!==void 0){const l=s.index;return t.maker=a,o=o.slice(0,l)+o.slice(l+a.length),i=i.slice(0,l)+i.slice(l+a.length),!0}else return!1}),cR.find(a=>{const s=o.match(new RegExp(`\\b${a}\\b`,"i"));if(s&&s.index!==void 0){const l=s.index;return t.size=a,o=o.slice(0,l)+o.slice(l+a.length),i=i.slice(0,l)+i.slice(l+a.length),!0}else return!1}),uR.find(a=>{const s=o.match(new RegExp(`\\b${a}\\b`,"i"));if(s&&s.index!==void 0){const l=s.index;return t.attachmentType=a,o=o.slice(0,l)+o.slice(l+a.length),i=i.slice(0,l)+i.slice(l+a.length),!0}else return!1}),o.split(/\s+/).find(a=>CSS.supports("color",a)?(t.color=a,o=o.replace(a,""),i=i.replace(new RegExp(a,"i"),""),!0):!1),i.length>0&&(t.model=i.replaceAll(/\s+/g," ").trim(),i=""),t}function Ge(e,t=!1,n=!0){const r=Math.abs(e),i=Math.round(r%1e3),o=Math.floor(r/1e3),a=o%60,s=Math.floor(o/60),l=s%60,u=Math.floor(s/60),c=n?`:${a.toString().padStart(2,"0")}`:"",f=t&&n&&i>0?`.${i.toString().padStart(3,"0")}`:"",d=u||!n;return`${e<0?"-":""}${d?`${u}:`:""}${l.toString().padStart(d?2:1,"0")}${c}${f}`}function hR(e,t=!1){return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}${t?`:${e.getSeconds().toString().padStart(2,"0")}`:""}`}function kr(e){return 100*(1-1/e)}function pR(e){return 1/(1-e/100)}function tg(e){return e.toFixed(e<90?0:e<99.9?1:e<99.99?2:3)}function mw(e){return e.toFixed(e<10?1:0)}function hK(e){return tg(kr(e))}function mR(e){switch(e){case $t.DISCONNECTED:return"connection-status status-disconnected";case $t.WAITING:return"connection-status status-waiting";case $t.RECEIVING:return"connection-status status-receiving";default:return"connection-status"}}function pK(e,t){if(!t&&!e||(e=Number(e),isNaN(e)||e<=0))return"";const n=100*(1-1/e);if(n>99)return"darkgreen";if(n>=95){const r=Math.round(100*(99-n)/4),i=100-r;return`color-mix(in oklch, yellowgreen ${r}%, darkgreen ${i}%)`}if(n>=80){const r=Math.round(100*(95-n)/15),i=100-r;return`color-mix(in oklch, darkorange ${r}%, yellowgreen ${i}%)`}if(n>0){const r=Math.round(100*(80-n)/80),i=100-r;return`color-mix(in oklch, darkred ${r}%, darkorange ${i}%)`}return"darkred"}function mK(e,t){return!t&&!e?"result-cell":(e=Number(e),isNaN(e)||e<=0?"result-cell aborted":e>=100?"result-cell very-high-fit-score":e>=33?"result-cell high-fit-score":e>=20?"result-cell moderate-fit-score":"result-cell low-fit-score")}function gR(e,t=0,n=-1){return e.slice(t,n).reduce((r,i)=>r+i,0)}function vR(...e){return iC(e)}function iC(e,t=0,n=-1){return n<0&&(n=e.length),gR(e,t,n)/(n-t)}function gd(e){return isNaN(e)||tC(e)||JE(e)?"?":e<1?e.toFixed(2):e<10?e.toFixed(1):e.toFixed(0)}function cp(e){if(e.length===0)return 0;const t=e.toSorted();if(t.length%2===0){const n=t.length/2;return(t[n-1]+t[n])/2}else{const n=Math.floor(t.length/2);return t[n]}}const ts=Intl.Collator("en",{sensitivity:"base"}),gw=new TextDecoder("utf-8");async function*oC(e){async function t(){const s=await e.read();return!s.done&&s.value,s}let{value:n,done:r}=await t(),i=n?gw.decode(n,{stream:!0}):"";const o=/\r\n|\n|\r/gm;let a=0;for(;;){const s=o.exec(i);if(!s){if(r)break;const u=i.substring(a);({value:n,done:r}=await t()),i=u+(n?gw.decode(n,{stream:!0}):""),a=o.lastIndex=0;continue}yield i.substring(a,s.index),a=o.lastIndex}a<i.length&&(yield i.substring(a))}function vw(e){return new ReadableStream({start(t){n().catch(r=>t.error(r));async function n(){return e.dataRequest().then(r=>r.length===0?(Tl("No data from source: closing"),t.close(),new Uint8Array):(t.enqueue(r),n()))}},cancel(){Tl("cancel() called on underlying source"),e.close()}})}class aC{_closed=!1;close(){this.closeImpl(),this._closed=!0}set closed(t){this._closed=t}get closed(){return this._closed}}class gi extends aC{static NO_MORE_DATA=new Promise(t=>t(new Uint8Array));static DEFAULT_BYTES_PER_SECOND=1200;static encoder=new TextEncoder;reader;linesSource;nextLine;lastLineTimestamp=0;buffer=new Uint8Array;bufferIndex=0;fileOrUrl;rateBytesPerSecond;lastRequestTime=0;constructor(t,n=gi.DEFAULT_BYTES_PER_SECOND){super(),this.fileOrUrl=t,this.rateBytesPerSecond=Math.max(n,1)}async dataRequest(){if(this.reader===void 0){if(typeof this.fileOrUrl=="string"?this.reader=await fetch(this.fileOrUrl).then(l=>{if(l.ok)return l.body?.getReader();throw new Error(`Failed to file: ${l.status}`)}):this.reader=this.fileOrUrl.stream().getReader(),!this.reader)return gi.NO_MORE_DATA;console.debug("simulator(file) started")}this.linesSource||(this.linesSource=oC(this.reader));let t=0;if(this.bufferIndex>=this.buffer.length){if(!this.nextLine){const c=await this.linesSource.next();if(c.done)return gi.NO_MORE_DATA;this.nextLine=c.value}const u=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)\s*(?<rest>.+)$/i.exec(this.nextLine);if(u&&u.groups){const{timestamp:c,rest:f}=u.groups,d=Date.parse(c);t=this.lastLineTimestamp?d-this.lastLineTimestamp:0,this.lastLineTimestamp=d,this.buffer=gi.encoder.encode(f+`\r
`)}else this.buffer=gi.encoder.encode(this.nextLine+`\r
`);this.bufferIndex=0,this.nextLine=void 0}let n=Date.now(),r=t;n===this.lastRequestTime&&(r+=50,n+=r,r>50&&console.debug(`simulator: next data chunk available ${Ge(r)}`));const i=n-(this.lastRequestTime||n-1e3);this.lastRequestTime=n;const o=Math.ceil(i*this.rateBytesPerSecond/1e3),a=this.bufferIndex+(this.bufferIndex+o<this.buffer.length?o:this.buffer.length),s=this.buffer?.slice(this.bufferIndex,a);return this.bufferIndex+=s.length,new Promise(l=>{r?setTimeout(()=>{l(s)},r):l(s)})}closeImpl(){}}function Tl(e){console.log(`source: ${e}`)}const gt=new class{_synth;speechEnabled=!1;_allVoices=[];selectedVoice=null;speechRate=1;constructor(){}findDefaultVoice(){const t=this.allVoices.find(n=>n.default);return t||null}findVoiceByName(e){return this.allVoices.find(t=>t.name===e)||null}ensureSynthInitialized(){this._synth||(this._synth=this.initSynth(),console.debug("init synth"))}initSynth(){const e=window.speechSynthesis;return this.updateVoiceList(e.getVoices()),e.onvoiceschanged=()=>{this.updateVoiceList(e.getVoices())},e}get synth(){return this.ensureSynthInitialized(),this._synth}updateVoiceList(e){this._allVoices=e.filter(t=>t.lang.startsWith("en")).sort((t,n)=>`${t.lang} ${t.name}`.localeCompare(`${n.lang} ${n.name}`))}setSelectedVoice(e){this.selectedVoice=e}getSelectedVoice(){return this.selectedVoice}get allVoices(){return this.ensureSynthInitialized(),this._allVoices}setSpeechEnabled(e){this.speechEnabled=e}isSayingSomething(){return this.synth.speaking}sayItLater(e){if(!this.speechEnabled)return;console.log(`say it later: ${e}`);const t=new SpeechSynthesisUtterance(e);t.voice=this.selectedVoice,t.rate=this.speechRate,this.synth.speak(t)}sayIt(e){if(!this.speechEnabled)return;console.log(`using voice ${this.selectedVoice?.name} say it ${e}`);const t=new SpeechSynthesisUtterance(e);t.voice=this.selectedVoice,t.rate=this.speechRate,this.synth.speaking?(this.synth.cancel(),setTimeout(()=>this.synth.speak(t),60)):this.synth.speak(t)}sayItPolitely(e){if(this.isSayingSomething()){console.log(`say it politely yielding. ${e}`);return}this.sayIt(e)}};class Mr{static PARTICLE_COUNT=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)?\s*(?<concentration>\d+\.\d+)\s*/;static SAMPLING_FROM_MASK=/^VF$/;static SAMPLING_FROM_AMBIENT=/^VN$/;static DATA_TRANSMISSION_DISABLED=/^ZD$/;static DATA_TRANSMISSION_ENABLED=/^ZE$/;static EXTERNAL_CONTROL=/^(OK|EJ)$/;static INTERNAL_CONTROL=/^G$/;static TURN_POWER_OFF=/^Y$/;static N95_COMPANION_PATTERN=/^Q(?<connected>[YN])/i;static SETTINGS_PATTERN=/^S.+$/}class Ee{static INVOKE_EXTERNAL_CONTROL="J";static RELEASE_FROM_EXTERNAL_CONTROL="G";static TEST_TO_SEE_N95_COMPANION_IS_ATTACHED="Q";static SWITCH_VALVE_ON="VN";static SWITCH_VALVE_OFF="VF";static DISABLE_CONTINUOUS_DATA_TRANSMISSION="ZD";static ENABLE_CONTINUOUS_DATA_TRANSMISSION="ZE";static REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE="R";static REQUEST_VOLTAGE_INFO="C";static REQUEST_SETTINGS="S";static TURN_POWER_OFF="Y";static SET_MASK_SAMPLE_TIME="PTMxxvv";static SET_AMBIENT_SAMPLE_TIME="PTA00vv";static SET_MASK_SAMPLE_PURGE_TIME="PTPM0vv";static SET_AMBIENT_SAMPLE_PURGE_TIME="PTPA0vv";static SET_FIT_FACTOR_PASS_LEVEL="PPxxvvvvv";static DISPLAY_CONCENTRATION_ON_PORTACOUNT_PLUS="Dxxxxxx.xx";static DISPLAY_FIT_FACTOR_PASS_LEVEL_ON_PORTACOUNT_PLUS="Lxxxxxx";static DISPLAY_FIT_FACTOR_ON_PORTACOUNT_PLUS="Fxxxxxx.x";static DISPLAY_OVERALL_FIT_FACTOR_ON_PORTACOUNT_PLUS="Axxxxxx.x";static DISPLAY_EXERCISE_NUMBER_ON_PORTACOUNT_PLUS="Ixxxxxxxx";static CLEAR_DISPLAY_ON_PORTACOUNT_PLUS="K";static SOUND_BEEPER_INSIDE_THE_PORTACOUNT_PLUS="Bxx";static expectedCommandResponses=new Map([[Ee.INVOKE_EXTERNAL_CONTROL,Mr.EXTERNAL_CONTROL]]);writer=null;encoder=new TextEncoder;verifiedToBeExternallyControllable=!1;portaCountClient;commandChain;constructor(t){this.portaCountClient=t}setWriter(t){this.writer=t}sendCommand(t,n=1){if(!this.writer){console.log("external control writer not available");return}const r=`${t}\r`,i=Ee.expectedCommandResponses.get(t)||RegExp(`^${t}`),o=this.encoder.encode(r),a=()=>new Promise((s,l)=>{let u=!1,c=n,f;const d=()=>{clearTimeout(f),this.portaCountClient.removeListener(h)},h={lineReceived:p=>{(i?i.exec(p):t===p)?(u=!0,d(),s(),console.debug(`received expected response to command '${t}'`)):p.startsWith("E")&&(console.debug(`got an error response for command ${t}: ${p}`),v())}},m=()=>{console.debug(`sending command '${t}', expecting '${i}' in response, retries remaining ${c}`),this.writer.write(o)},g=()=>{f&&clearTimeout(f),f=setTimeout(v,3e3)},v=()=>{if(u){console.debug(`retry handler triggered but we've already received the expected response for command '${t}'`);return}c>0?(console.debug(`retrying command '${t}'`),c--,m(),g()):(i?l(`too many retries, giving up on command '${t}'`):(console.debug(`no explicit expected response for command '${t}', but also didn't receive any other recognized response`),s()),d())};this.portaCountClient.addListener(h),m(),c>0&&g()});this.commandChain?(console.debug(`chaining command ${t}`),this.commandChain=this.commandChain.then(a).catch(()=>{})):this.commandChain=a()}set controlSource(t){t===Ce.Internal?this.releaseManualControl():(this.assumeManualControl(),this.verifiedToBeExternallyControllable||this.verifyExternalControllability())}set sampleSource(t){t===xe.AMBIENT?this.sampleAmbient():this.sampleMask()}assumeManualControl(){this.sendCommand(Ee.INVOKE_EXTERNAL_CONTROL)}releaseManualControl(){this.sendCommand(Ee.RELEASE_FROM_EXTERNAL_CONTROL)}enableDataTransmission(){this.sendCommand(Ee.ENABLE_CONTINUOUS_DATA_TRANSMISSION)}disableDataTransmission(){this.sendCommand(Ee.DISABLE_CONTINUOUS_DATA_TRANSMISSION)}sampleAmbient(){this.sendCommand(Ee.SWITCH_VALVE_ON)}sampleMask(){this.sendCommand(Ee.SWITCH_VALVE_OFF)}requestSettings(){this.sendCommand(Ee.REQUEST_SETTINGS)}requestRuntimeStatus(){this.sendCommand(Ee.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE)}powerOff(){this.sendCommand(Ee.TURN_POWER_OFF),gt.sayItLater("Power off")}beep(t=2){this.sendCommand(`B${String(t).padStart(2,"0")}`)}verifyExternalControllability(){let t=0;const n={lineReceived(){t=Date.now()}};this.portaCountClient.addListener(n),this.beep(),this.beep(),setTimeout(()=>{this.portaCountClient.removeListener(n),Date.now()-t>3e3?console.log("Could not verify that we can externally control the device"):this.verifiedToBeExternallyControllable=!0},5e3)}}const pt=class{static PORTACOUNT_VERSION=/^PORTACOUNT\s+PLUS\S+PROM\S+(?<version>.+)/i;static COPYRIGHT=/^COPYRIGHT.+/i;static LICENSE=/^ALL\s+RIGHTS\s+RESERVED/i;static SERIAL_NUMBER=/^Serial\s+Number\s+(?<serialNumber>\d+)/i;static PASS_LEVEL=/^FF\s+pass\s+level\s+(?<passLevel>\d+)/i;static NUM_EXERCISES=/^No\.\s+of\s+exers\s*=\s*(?<num_exercises>\d+)/i;static AMBIENT_PURGE=/^Ambt\s+purge\s*=\s*(?<ambientPurgeTime>\d+)/i;static AMBIENT_SAMPLE=/^Ambt\s+sample\s*=\s*(?<ambientSampleTime>\d+)/i;static MASK_PURGE=/^Mask\s+purge\s*=\s*(?<maskPurgeTime>\d+)/i;static MASK_SAMPLE=/^Mask\s+sample\s+(?<exerciseNumber>\d+)\s*=\s*(?<maskSampleTime>\d+)/i;static DIP_SWITCH=/^DIP\s+switch\s+=\s+(?<dipSwitchBits>\d+)/i;static COUNT_READING=/^(?<timestamp>\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d.\d{3}Z)?\s*Conc\.\s+(?<concentration>[\d.]+)/i;static NEW_TEST=/^NEW\s+TEST\s+PASS\s*=\s*(?<passLevel>\d+)/i;static AMBIENT_READING=/^Ambient\s+(?<concentration>[\d.]+)/i;static MASK_READING=/^Mask\s+(?<concentration>[\d+.]+)/i;static FIT_FACTOR=/^FF\s+(?<exerciseNumber>\d+)\s+(?<fitFactor>[\d.]+)\s+(?<result>.+)/;static TEST_TERMINATED=/^Test\s+Terminated/i;static OVERALL_FIT_FACTOR=/^Overall\s+FF\s+(?<fitFactor>[\d.]+)\s+(?<result>.+)/i;static LOW_PARTICLE_COUNT=/^(?<concentration>\d+)\/cc\s+Low\s+Particle\s+Count/i;static BATTERY_AND_PULSE_STATUS=/^R(?<battery>.)(?<pulse>.)$/;static VOLTAGE_INFO=/^(?<component>C[SBTCLPD])(?<value>.+)$/;static Setting=class{static Timing=class{static AMBIENT_PURGE=/^STPA\s+(?<duration>\d+)/i;static MASK_PURGE=/^STPM\s+(?<duration>\d+)/i;static AMBIENT_SAMPLE=/^STA\s+(?<duration>\d+)/i;static MASK_SAMPLE=/^STM(?<exercise_num>\d\d)(?<duration>\d+)/i};static FF_PASS_LEVEL=/^SP\s+(?<index>\d\d)(?<score>\d+)/i;static SERIAL_NUMBER=/^SS\s+(?<serial_number>\d+)/i;static RUN_TIME_SINCE_FACTORY_SERVICE=/^SR\s+(?<runtime>\d+)/i;static LAST_SERVICE_DATE=/^SD\s+0(?<month>\d\d)(?<year>\d\d)/i}};class gn{_timestamp;constructor(){this._timestamp=Date.now()}get timestamp(){return this._timestamp}asOf(t){return this._timestamp=t,this}}class yw extends gn{line;constructor(t){super(),this.line=t}}class fp extends gn{sampleSource;constructor(t){super(),this.sampleSource=t}}class dp extends gn{dataTransmissionState;constructor(t){super(),this.dataTransmissionState=t}}class hp extends gn{source;constructor(t){super(),this.source=t}}class ww extends gn{constructor(){super()}}class sa extends gn{sampleSource;controlSource;concentration;constructor(t,n,r){super(),this.concentration=t,this.sampleSource=n,this.controlSource=r}}class pp extends gn{ff;exerciseNum;result;constructor(t,n,r){super(),this.ff=t,this.exerciseNum=n,this.result=r}}class _w extends gn{constructor(){super()}}class Sw extends gn{constructor(){super()}}class Mu extends gn{connectionStatus;constructor(t){super(),this.connectionStatus=t}}class xw extends gn{activity;constructor(t){super(),this.activity=t}}class jn extends gn{settings;constructor(t){super(),this.settings=t}}class mp extends gn{state;constructor(t){super(),this.state=t}}class yR{numExercises=4;ambientPurge=0;maskPurge=0;ambientSample=0;maskSample=new Map;fitFactorPassLevel=new Map;serialNumber="?";runTimeSinceFactoryServiceSeconds=0;lastServiceDate=new Date(0)}class wR{_externalController;listeners=[];_state=new nC;_settings=new yR;_baudRate=1200;_syncOnConnect=!1;constructor(){console.log("PortaCountClient8020 constructor called"),this._externalController=new Ee(this),this.addListener(this.stateUpdatingListener)}get baudRate(){return this._baudRate}set baudRate(t){this._baudRate=t}get syncOnConnect(){return this._syncOnConnect}set syncOnConnect(t){this._syncOnConnect=t}get externalController(){return this._externalController}get settings(){return this._settings}get state(){return this._state}setActivity(t){this.state.activity=t,this.dispatch(new xw(t))}stateUpdatingListener={connectionStatusChanged:t=>{this.state.connectionStatus=t},controlSourceChanged:t=>{this.state.controlSource=t},sampleSourceChanged:t=>{this.state.sampleSource=t},dataTransmissionStateChanged:t=>{this.state.dataTransmissionState=t},lineReceived:t=>{this.state.lastLine=t}};async monitor(t){this.dispatch(new Mu($t.WAITING));for await(const n of oC(t))this.state.connectionStatus===$t.WAITING&&this.dispatch(new Mu($t.RECEIVING)),n.trim().length>0&&(this.dispatch(new yw(n)),this.processLine(n));this.setActivity(kt.Disconnected),this.dispatch(new Mu($t.DISCONNECTED)),console.log("monitor reached end of reader")}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case xw.name:{n.activityChanged&&n.activityChanged(t.activity);break}case sa.name:{n.particleConcentrationReceived&&n.particleConcentrationReceived(t);break}case _w.name:{this.setActivity(kt.Idle),n.testTerminated&&n.testTerminated();break}case Sw.name:{this.setActivity(kt.Idle),n.testCompleted&&n.testCompleted();break}case pp.name:{n.fitFactorResultsReceived&&n.fitFactorResultsReceived(t);break}case ww.name:{n.testStarted&&n.testStarted(t.timestamp);break}case hp.name:{n.controlSourceChanged&&n.controlSourceChanged(t.source);break}case dp.name:{n.dataTransmissionStateChanged&&n.dataTransmissionStateChanged(t.dataTransmissionState);break}case yw.name:{n.lineReceived&&n.lineReceived(t.line);break}case fp.name:{n.sampleSourceChanged&&n.sampleSourceChanged(t.sampleSource);break}case Mu.name:{if(n.connectionStatusChanged){const r=t;n.connectionStatusChanged(r.connectionStatus)}break}case mp.name:{n.stateChanged&&n.stateChanged(t.state);break}case jn.name:{n.settingsChanged&&n.settingsChanged(t.settings);break}default:console.error(`unsupported event: ${JSON.stringify(t)}`)}})}processConcentration(t,n){this.state.activity!==kt.Testing&&this.setActivity(kt.Counting);const r=Number(t.concentration),i=this.state.sampleSource,o=new sa(r,i,n),a=t.timestamp;a&&o.asOf(Date.parse(a)),this.dispatch(o)}orderedLineProcessors=[[Mr.PARTICLE_COUNT,t=>{this.processConcentration(t,Ce.External)}],[pt.COUNT_READING,t=>{this.processConcentration(t,Ce.Internal)}],[pt.AMBIENT_READING,t=>{const n=t.concentration;n&&this.dispatch(new sa(Number(n),xe.AMBIENT,Ce.Internal))}],[pt.MASK_READING,t=>{const n=t.concentration;n&&this.dispatch(new sa(Number(n),xe.MASK,Ce.Internal))}],[pt.FIT_FACTOR,t=>{this.setActivity(kt.Testing);const n=Number(t.fitFactor),r=Number(t.exerciseNumber),i=t.result;this.dispatch(new pp(n,r,i)),this._settings.numExercises<r&&(this._settings.numExercises=r,this.dispatch(new jn(this._settings)))}],[pt.NEW_TEST,()=>{this.setActivity(kt.Testing),this.dispatch(new ww)}],[pt.TEST_TERMINATED,()=>{this.setActivity(kt.Idle),this.dispatch(new _w)}],[pt.OVERALL_FIT_FACTOR,t=>{this.setActivity(kt.Idle);const n=Number(t.fitFactor),r=t.result;this.dispatch(new pp(n,"Final",r)),this.dispatch(new Sw)}],[Mr.SAMPLING_FROM_MASK,()=>{this.dispatch(new fp(xe.MASK))}],[Mr.SAMPLING_FROM_AMBIENT,()=>{this.dispatch(new fp(xe.AMBIENT))}],[Mr.EXTERNAL_CONTROL,()=>{this.dispatch(new hp(Ce.External))}],[Mr.INTERNAL_CONTROL,()=>{this.dispatch(new hp(Ce.Internal))}],[Mr.DATA_TRANSMISSION_DISABLED,()=>{this.dispatch(new dp(eg.Paused))}],[Mr.DATA_TRANSMISSION_ENABLED,()=>{this.dispatch(new dp(eg.Transmitting))}],[pt.Setting.FF_PASS_LEVEL,t=>{this._settings.fitFactorPassLevel.set(Number(t.index),Number(t.score)),this.dispatch(new jn(this._settings))}],[pt.Setting.Timing.MASK_SAMPLE,t=>{this._settings.maskSample.set(Number(t.exercise_num),Number(t.duration)),this.dispatch(new jn(this._settings))}],[pt.VOLTAGE_INFO,t=>{this._state.componentVoltages.set(t.component,Number(t.value)),this.dispatch(new mp(this._state))}],[pt.Setting.Timing.MASK_PURGE,t=>{this._settings.maskPurge=Number(t.duration),this.dispatch(new jn(this._settings))}],[pt.Setting.Timing.AMBIENT_SAMPLE,t=>{this._settings.ambientSample=Number(t.duration),this.dispatch(new jn(this._settings))}],[pt.Setting.Timing.AMBIENT_PURGE,t=>{this._settings.ambientPurge=Number(t.duration),this.dispatch(new jn(this._settings))}],[pt.BATTERY_AND_PULSE_STATUS,t=>{this._state.batteryStatus=t.battery==="G"?"Good":"Bad",this._state.pulseStatus=t.pulse==="G"?"Good":"Bad",this.dispatch(new mp(this._state))}],[pt.Setting.SERIAL_NUMBER,t=>{this._settings.serialNumber=t.serial_number,this.dispatch(new jn(this._settings))}],[pt.Setting.LAST_SERVICE_DATE,t=>{const n=Number(t.month)-1,r=Number(t.year),i=r+(r<61?2e3:1900);this._settings.lastServiceDate=new Date(i,n),this.dispatch(new jn(this._settings))}],[pt.Setting.RUN_TIME_SINCE_FACTORY_SERVICE,t=>{this._settings.runTimeSinceFactoryServiceSeconds=10*60*Number(t.runtime),this.dispatch(new jn(this._settings))}],[pt.NUM_EXERCISES,t=>{this._settings.numExercises=Number(t.num_exercises),this.dispatch(new jn(this._settings))}]];processLine(t){if(t.length===0)return;const n=t;this.orderedLineProcessors.find(([i,o])=>{const a=i.exec(n);return a?(a.groups?o(a.groups):o({}),!0):!1})||(n.match(/^E/)?console.warn(`error: ${n}`):n.match(/^W/)?console.warn(`write protected: ${n}`):console.warn(`portacount client: no parser for line: ${n}`))}connect(t){console.debug(`portacount client connect(${JSON.stringify(t)})`),t.connected&&t.readable?(console.debug("portacount client connect, connected; setting up reader and writer"),t.readable&&this.monitor(t.readable.getReader()),t.writable&&(this.externalController.setWriter(t.writable.getWriter()),this.syncOnConnect&&(console.debug("sync on connect"),this.waitUntilPortaCountIsReady().then(()=>{this.syncState()}).catch(n=>{console.warn(n)})))):(console.debug("portacount client connect not connected, attempting to connect..."),t.open({baudRate:Number(this.baudRate)}).then(()=>{console.log(`port opened: ${JSON.stringify(t.getInfo())}`),this.connect(t)}))}async waitUntilPortaCountIsReady(){return new Promise((t,n)=>{const r=Date.now(),i=setInterval(()=>{const s=Date.now()-r;console.debug(`elapsed ${s}`),s>65e3?(clearInterval(i),n(`waited too long for PortaCount to become ready. Elapsed ${Ge(s)}.`)):this.externalController.sendCommand(Ee.INVOKE_EXTERNAL_CONTROL,0)},1e3),o=()=>{this.removeListener(a),clearInterval(i),console.debug("PortaCount is ready."),t()},a={controlSourceChanged:s=>{s===Ce.External&&o()},lineReceived:s=>{Mr.N95_COMPANION_PATTERN.exec(s)&&o()}};this.addListener(a)})}syncState(){this.externalController.enableDataTransmission(),this.externalController.requestRuntimeStatus(),this.externalController.requestSettings(),this.externalController.sendCommand(Ee.REQUEST_VOLTAGE_INFO),this.externalController.beep(1),this.externalController.beep(1),this.externalController.beep(1)}}var We=(e=>(e.NotInitialized="NotInitialized",e.Simulator="Simulator",e.SimulatorFile="Simulator-file",e.WebSerial="WebSerial",e.WebUsbSerial="WebUsbSerial",e.Manual="Manual",e))(We||{}),F=(e=>(e.SPEECH_ENABLED="speech-enabled",e.ADVANCED_MODE="advanced-mode",e.SPEECH_VOICE="speech-voice",e.VERBOSE="verbose",e.SAY_PARTICLE_COUNT="say-particle-count",e.RESULTS_TABLE_SORT="results-table-sort",e.PARTICIPANT_RESULTS_TABLE_SORT="participant-results-table-sort",e.SAY_ESTIMATED_FIT_FACTOR="say-estimated-fit-factor",e.SHOW_EXTERNAL_CONTROL="show-external-control",e.BAUD_RATE="baud-rate",e.PROTOCOL_INSTRUCTION_SETS="protocol-instruction-sets",e.SELECTED_PROTOCOL="selected-protocol",e.KEEP_SCREEN_AWAKE="keep-screen-awake",e.TEST_TEMPLATE="test-template",e.ENABLE_SIMULATOR="enable-simulator",e.ENABLE_AUTO_CONNECT="enable-auto-connect",e.SIMULATOR_FILE_SPEED="simulator-file-speed",e.SELECTED_DATA_SOURCE="selected-data-source",e.SYNC_DEVICE_STATE_ON_CONNECT="sync-device-state-on-connect",e.MINUTES_ALLOTTED_PER_PARTICIPANT="minutes-allotted-per-participant",e.EVENT_END_HHMM="event-end-hhmm",e.SHOW_ELAPSED_PARTICIPANT_TIME="show-elapsed-participant-time",e.SHOW_REMAINING_EVENT_TIME="show-remaining-event-time",e.AUTO_CREATE_FAST_PROTOCOLS="auto-create-fast-protocols",e.LAST_KNOWN_SETTINGS_KEYS_HASH="last-known-settings-keys-hash",e.USE_COMPACT_UI="use-compact-ui",e.ENABLE_WEB_SERIAL_DRIVERS="enable-webserial-drivers",e.ENABLE_PROTOCOL_EDITOR="enable-protocol-editor",e.ENABLE_QR_CODE_SCANNER="enable-qr-code-scanner",e.ENABLE_STATS="enable-stats",e.ENABLE_TEST_INSTRUCTIONS_ZOOM="enable-test-instructions-zoom",e.BOOKMARKS="bookmarks",e.MASK_LIST="mask-list",e.PARTICIPANT_LIST="participant-list",e.AUTO_UPDATE_MASK_LIST="auto-update-mask-list",e.COLOR_SCHEME="color-scheme",e.SHOW_MASK_PERF_GRAPH="show-mask-perf-graph",e.SAMPLE_MASK_WHEN_IDLE="sample-mask-when-idle",e.USE_IDLE_AMBIENT_VALUES="use-idle-ambient-values",e.STATS_FIRST_DATE="so-stats-first-date",e.STATS_LAST_DATE="so-stats-last-date",e.RESULTS_TABLE_FILTER="so-results-table-filter",e.PARTICIPANT_RESULTS_TABLE_FILTER="so-participant-results-table-filter",e.COMBINED_MASK_LIST="so-combined-mask-list",e.COMBINED_PARTICIPANT_LIST="so-combined-participant-list",e.TEST_NOTES="so-test-notes",e.CONTROL_SOURCE_IN_VIEW="so-control-source-in-view",e.SAMPLE_SOURCE_IN_VIEW="so-sample-source-in-view",e.CONNECTION_STATUS_IN_VIEW="so-connection-status-in-view",e.ACTIVITY="so-activity",e.ZOOM_INSTRUCTIONS="so-zoom-instructions",e.DEFAULT_TO_PREVIOUS_PARTICIPANT="default-to-previous-participant",e.AUTO_ESTIMATE_FIT_FACTOR="auto-estimate-fit-factor",e.SHOW_PROTOCOL_EDITOR="show-protocol-editor",e.SHOW_SIMPLE_PROTOCOL_EDITOR="show-simple-protocol-editor",e.SHOW_SETTINGS="show-settings",e.SHOW_LOG_PANELS="show-log-panels",e.SHOW_HISTORICAL_TESTS="show-historical-tests",e.SHOW_CURRENT_TEST_PANEL="show-current-test-panel",e))(F||{});const ng={"speech-enabled":!1,"advanced-mode":!1,"speech-voice":"default",verbose:!1,"say-particle-count":!1,"results-table-sort":[{id:"ID",desc:!0}],"participant-results-table-sort":[{id:"ID",desc:!0}],"auto-estimate-fit-factor":!1,"say-estimated-fit-factor":!1,"show-external-control":!1,"baud-rate":1200,"protocol-instruction-sets":{json:{w1:["Normal breathing. Breathe normally","Heavy breathing. Take deep breaths.",["Jaw movement.","Read the rainbow passage:","When the sunlight strikes raindrops in the air, they act as a prism and form a rainbow.","The rainbow is a division of white light into many beautiful colors.","These take the shape of a long round arch, with its path high above,","and its two ends apparently beyond the horizon.","There is, according to legend, a boiling pot of gold at one end.","People look, but no one ever finds it.","When a man looks for something beyond his reach,","his friends say he is looking for the pot of gold at the end of the rainbow."].join(" "),"Head movement. Look up, down, left, and right. Repeat."],"Modified CNC Fit Protocol (B)":[{instructions:"prep",ambient_purge:4,ambient_sample:20,mask_purge:0,mask_sample:0},{instructions:"Bending over. Bend at the waist as if going to touch your toes. Inhale 2 times at the bottom.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:["Talking.","Talk out loud slowly and loud enough to be head by the test administrator.","Count backwards from 100,","or read the Rainbow Passage:","When the sunlight strikes raindrops in the air, they act as a prism and form a rainbow.","The rainbow is a division of white light into many beautiful colors.","These take the shape of a long round arch, with its path high above,","and its two ends apparently beyond the horizon.","There is, according to legend, a boiling pot of gold at one end.","People look, but no one ever finds it.","When a man looks for something beyond his reach,","his friends say he is looking for the pot of gold at the end of the rainbow."].join(" "),ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"Head side-to-side. Slowly turn head from side to side. Inhale 2 times at each extreme.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"Head up-and-down. Slowly move head up and down. Inhale 2 times at each extreme.",ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:30},{instructions:"finalize",ambient_purge:4,ambient_sample:9,mask_purge:0,mask_sample:0}],osha:["Normal breathing. In a normal standing position, without talking, the subject shall breathe normally","Deep breathing. In a normal standing position, the subject shall breathe slowly and deeply, taking caution so as not to hyperventilate","Turning head side to side. Standing in place, the subject shall slowly turn his/her head from side to side between the extreme positions on each side. The head shall be held at each extreme momentarily so the subject can inhale at each side.","Moving head up and down. Standing in place, the subject shall slowly move his/her head up and down. The subject shall be instructed to inhale in the up position (i.e., when looking toward the ceiling).","Talking. The subject shall talk out loud slowly and loud enough so as to be heard clearly by the test conductor. The subject can read from a prepared text such as the Rainbow Passage, count backward from 100, or recite a memorized poem or song.","Grimace. The test subject shall grimace by smiling or frowning. (This applies only to QNFT testing; it is not performed for QLFT)","Bending over. The test subject shall bend at the waist as if he/she were to touch his/her toes. Jogging in place shall be substituted for this exercise in those test environments such as shroud type QNFT or QLFT units that do not permit bending over at the waist.","Normal breathing. Same as exercise (1)."],Singing:[{ambient_purge:4,ambient_sample:20,instructions:"prep",mask_purge:0,mask_sample:0},{ambient_purge:0,ambient_sample:0,instructions:"Sing!",mask_purge:4,mask_sample:240},{ambient_purge:4,ambient_sample:9,instructions:"finalize",mask_purge:0,mask_sample:0}]}},"selected-protocol":"w1","keep-screen-awake":!0,"test-template":{},"enable-simulator":!1,"enable-auto-connect":!0,"simulator-file-speed":300,"selected-data-source":We.WebSerial,"sync-device-state-on-connect":!1,"minutes-allotted-per-participant":20,"event-end-hhmm":"13:30","show-elapsed-participant-time":!1,"show-remaining-event-time":!1,"auto-create-fast-protocols":!1,"last-known-settings-keys-hash":"","use-compact-ui":!0,"enable-webserial-drivers":!1,"enable-protocol-editor":!1,"enable-qr-code-scanner":!1,"enable-stats":!1,"enable-test-instructions-zoom":!1,bookmarks:{},"mask-list":[],"participant-list":[],"auto-update-mask-list":!0,"color-scheme":"auto","show-mask-perf-graph":!1,"sample-mask-when-idle":!1,"use-idle-ambient-values":!1,"so-stats-first-date":new Date(0),"so-stats-last-date":new Date,"so-results-table-filter":[],"so-participant-results-table-filter":[],"so-combined-mask-list":[],"so-combined-participant-list":[],"so-test-notes":[],"so-control-source-in-view":!0,"so-sample-source-in-view":!0,"so-connection-status-in-view":!0,"so-activity":kt.Disconnected,"so-zoom-instructions":!1,"default-to-previous-participant":!1,"show-protocol-editor":!1,"show-simple-protocol-editor":!1,"show-settings":!1,"show-log-panels":!1,"show-historical-tests":!1,"show-current-test-panel":!1},vt={defaultAmbientPurgeDuration:4,defaultAmbientSampleDuration:5,defaultMaskPurgeDuration:4,defaultMaskSampleDuration:40};function _R(e){return typeof e=="string"?e:e.instructions??e.i??e.instructions??e.i??"oops no instructions?!"}function SR(e){return typeof e=="string"?vt.defaultAmbientSampleDuration:e.ambient_sample??e.as??e.ambient_duration??e.a??vt.defaultAmbientSampleDuration}function xR(e){return typeof e=="string"?vt.defaultMaskSampleDuration:e.mask_sample??e.ms??e.sample_duration??e.s??vt.defaultMaskSampleDuration}function bR(e){if(typeof e=="string")return vt.defaultAmbientPurgeDuration;let t;return(t=e.ambient_purge)!==void 0||(t=e.ap)!==void 0||(t=e.purge_duration)!==void 0||(t=e.p)!==void 0?t:e.ambient_duration===0||e.a===0?0:vt.defaultAmbientPurgeDuration}function ER(e){if(typeof e=="string")return vt.defaultMaskPurgeDuration;let t;return(t=e.mask_purge)!==void 0||(t=e.mp)!==void 0||(t=e.purge_duration)!==void 0||(t=e.p)!==void 0?t:e.sample_duration===0||e.s===0?0:vt.defaultMaskPurgeDuration}function CR(e){return e.some(t=>typeof t!="string")}function TR(e){const t={};return Object.entries(e).forEach(([n,r])=>{const i=[];t[n]=i,r.forEach(o=>{i.push({instructions:_R(o),ambient_sample:SR(o),mask_sample:xR(o),ambient_purge:bR(o),mask_purge:ER(o)})}),CR(r)||i.push({instructions:"Finalizing",ambient_purge:vt.defaultAmbientPurgeDuration,ambient_sample:vt.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0})}),t}var kR={space:"",cycles:!1,replacer:(e,t)=>t,stringify:JSON.stringify},Lo={isArray:Array.isArray,assign:Object.assign,isObject:e=>typeof e=="object",isFunction:e=>typeof e=="function",isBoolean:e=>typeof e=="boolean",isRegex:e=>e instanceof RegExp,keys:Object.keys};const _s=kR,MR=Lo.isFunction,DR=Lo.isBoolean,OR=Lo.isObject,PR=Lo.isArray,NR=Lo.isRegex,RR=Lo.assign,IR=Lo.keys;function LR(e){return e==null?e:NR(e)?e.toString():e.toJSON?e.toJSON():e}function AR(e,t){t=t||RR({},_s),MR(t)&&(t={compare:t});const n=t.space||_s.space,r=DR(t.cycles)?t.cycles:_s.cycles,i=t.replacer||_s.replacer,o=t.stringify||_s.stringify,a=t.compare&&function(l){return function(u){return function(c,f){const d={key:c,value:u[c]},h={key:f,value:u[f]};return l(d,h)}}}(t.compare);r||o(e);const s=[];return function l(u,c,f,d){const h=n?`
`+new Array(d+1).join(n):"",m=n?": ":":";if(f=LR(f),f=i.call(u,c,f),f!==void 0){if(!OR(f)||f===null)return o(f);if(PR(f)){const g=[];for(let v=0;v<f.length;v++){const p=l(f,v,f[v],d+1)||o(null);g.push(h+n+p)}return"["+g.join(",")+h+"]"}else{if(r){if(s.indexOf(f)!==-1)return o("[Circular]");s.push(f)}const g=IR(f).sort(a&&a(f)),v=[];for(let p=0;p<g.length;p++){const w=g[p],y=l(f,w,f[w],d+1);if(!y)continue;const x=o(w)+m+y;v.push(h+n+x)}return s.splice(s.indexOf(f),1),"{"+v.join(",")+h+"}"}}}({"":e},"",e,0)}var FR=AR;const $R=No(FR);class jR{cache=new Map;defaults=new Map;listeners=[];getStorageKey(t){return`config-${t}`}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners=this.listeners.filter(n=>t!==n)}setDefaults(t){t.forEach(n=>{this.setDefault(n.name,n.value)})}setDefault(t,n){this.defaults.set(t,n)}getConfig(t,n={}){const r=this.getStorageKey(t);if(!this.cache.has(t)){const i=localStorage.getItem(r),o=i===null?this.getDefaultValue(t,n):JSON.parse(i);this.cache.set(t,o)}return this.cache.get(t)}getDefaultValue(t,n={}){const r=this.defaults.has(t)?this.defaults.get(t):n;return r===void 0&&console.warn(`No default value for ${t}, using ""`),r}setConfig(t,n){this.cache.get(t)!==n&&(this.cache.set(t,n),localStorage.setItem(this.getStorageKey(t),$R(n)),this.dispatch(t,n))}dispatch(t,n){this.listeners.forEach(r=>{r.subscriptions().includes(t)&&(async()=>r.configChanged(t,n))()})}}const la=new jR,UR=_.createContext(la);function sC(e){return e.source===xe.MASK&&e.state===Mn.SAMPLE}function lC(e){return sf(e).reduce((t,n)=>t+(sC(n)?1:0),0)}class HR{_protocolStages=[];_protocolSegments=[];numExercisesForProtocol={};_listenerMap=new Map;constructor(){this.addListener({subscriptions:()=>[F.SELECTED_PROTOCOL],settingsChanged:(t,n)=>{t===F.SELECTED_PROTOCOL&&this.updateProtocolStages(n)}}),this.addListener({subscriptions:()=>[F.ENABLE_SIMULATOR],settingsChanged:(t,n)=>{t===F.ENABLE_SIMULATOR&&!n&&[We.Simulator,We.SimulatorFile].includes(this.getSetting(F.SELECTED_DATA_SOURCE))&&this.saveSetting(F.SELECTED_DATA_SOURCE,ng[F.SELECTED_DATA_SOURCE])}}),this.addListener({subscriptions:()=>[F.SHOW_EXTERNAL_CONTROL],settingsChanged:(t,n)=>{t===F.SHOW_EXTERNAL_CONTROL&&(n||this.saveSetting(F.SYNC_DEVICE_STATE_ON_CONNECT,!1))}}),this.addListener({subscriptions:()=>[F.SYNC_DEVICE_STATE_ON_CONNECT],settingsChanged:(t,n)=>{t===F.SYNC_DEVICE_STATE_ON_CONNECT&&n&&!this.getSetting(F.SHOW_EXTERNAL_CONTROL)&&setTimeout(()=>{this.saveSetting(F.SYNC_DEVICE_STATE_ON_CONNECT,!1)},200)}})}addListener(t){const n={subscriptions:()=>t.subscriptions?t.subscriptions():[],configChanged(r,i){t.settingsChanged&&t.settingsChanged(r,i)}};this._listenerMap.set(t,n),la.addListener(n)}removeListener(t){const n=this._listenerMap.get(t);n&&la.removeListener(n)}getDefault(t){return ng[t]}get selectedProtocol(){return this.getSetting(F.SELECTED_PROTOCOL)}set selectedProtocol(t){console.log(`set selected protocol ${t}`),t in this.protocolDefinitions?this.saveSetting(F.SELECTED_PROTOCOL,t):console.log(`trying to set an invalid protocol name: ${t}, ignoring`)}get protocolStages(){return this._protocolStages}set protocolStages(t){this._protocolStages=t}get protocolSegments(){return this._protocolSegments}get eventEndTime(){const t=new Date,[n,r]=this.getSetting(F.EVENT_END_HHMM).split(":");return t.setHours(Number(n),Number(r),0,0),t}set eventEndTime(t){const n=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`;this.saveSetting(F.EVENT_END_HHMM,n)}get numExercises(){return Math.max(...this.protocolSegments.map(t=>t.exerciseNumber??0),0)}set protocolSegments(t){this._protocolSegments=t}get sayEstimatedFitFactor(){return this.getSetting(F.SAY_ESTIMATED_FIT_FACTOR)}set sayEstimatedFitFactor(t){this.saveSetting(F.SAY_ESTIMATED_FIT_FACTOR,t)}get verboseSpeech(){return this.getSetting(F.VERBOSE)}set verboseSpeech(t){this.saveSetting(F.VERBOSE,t)}get sayParticleCount(){return this.getSetting(F.SAY_PARTICLE_COUNT)}set sayParticleCount(t){this.saveSetting(F.SAY_PARTICLE_COUNT,t)}get speechEnabled(){return this.getSetting(F.SPEECH_ENABLED)}set speechEnabled(t){this.saveSetting(F.SPEECH_ENABLED,t)}getProtocolDefinition(t){return this.protocolDefinitions[t]||[]}getProtocolNames(){return Object.keys(this.protocolDefinitions)}get protocolDefinitions(){const t=TR(this.getSetting(F.PROTOCOL_INSTRUCTION_SETS).json);if(this.getSetting(F.AUTO_CREATE_FAST_PROTOCOLS)){const n=this.createFastProtocols(t);Object.assign(t,n)}return t}createFastProtocols(t){const n={},r=Object.keys(t).map(i=>i.toLowerCase());return Object.entries(t).forEach(([i,o])=>{const a=`fast-${i} (*)`;if(!i.toLowerCase().startsWith("fast-")){if(!r.includes(a.toLowerCase())){const s=[],l=o[0];s.push({instructions:"Prep",ambient_purge:l.ambient_purge||vt.defaultAmbientPurgeDuration,ambient_sample:l.ambient_sample||vt.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0}),o.forEach(c=>{c.mask_sample>0&&s.push({instructions:c.instructions,ambient_purge:0,ambient_sample:0,mask_purge:4,mask_sample:Math.min(c.mask_sample,Math.max(20,c.mask_sample*.75))})});const u=o[o.length-1];s.push({instructions:"Finalize",ambient_purge:u.ambient_purge===0?0:vt.defaultAmbientPurgeDuration,ambient_sample:u.ambient_sample||vt.defaultAmbientSampleDuration,mask_purge:0,mask_sample:0}),n[a]=s}}}),n}set protocolDefinitions(t){this.saveSetting(F.PROTOCOL_INSTRUCTION_SETS,{json:t})}getTestTemplate(){return this.getSetting(F.TEST_TEMPLATE)}setTestTemplate(t){this.saveSetting(F.TEST_TEMPLATE,t)}async getActualSetting(t){return this.getSetting(t)}getSetting(t){return la.getConfig(t)}async loadAllSettings(){const t=this.protocolDefinitions;for(const n of Object.keys(t)){const r=t[n];this.numExercisesForProtocol[n]=lC(r)}}saveSetting(t,n){la.setConfig(t,n)}updateProtocolStages(t){console.debug(`updateProtocolStages ${t}`);const n=this.protocolDefinitions[t];n&&(this.protocolSegments=sf(n),this.protocolStages=n)}getProtocolDuration(t){const n=this.protocolDefinitions[t]??[],r=sf(n);return uC(r)}}const ol=new HR;function uC(e){return e.reduce((t,n)=>t+n.duration,0)}function sf(e){const t=[];let n=null,r=0;return e.forEach((i,o)=>{let a=0;i.mask_sample>0&&(n=(n??0)+1);const s=i.mask_sample>0?n:null;if(i.ambient_purge>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:xe.AMBIENT,state:Mn.PURGE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.ambient_purge,data:[]};t.push(l),r+=l.duration,a+=l.duration}if(i.ambient_sample>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:xe.AMBIENT,state:Mn.SAMPLE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.ambient_sample,data:[]};t.push(l),r+=l.duration,a+=l.duration}if(i.mask_purge>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:xe.MASK,state:Mn.PURGE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.mask_purge,data:[]};t.push(l),r+=l.duration,a+=l.duration}if(i.mask_sample>0){const l={index:t.length,stage:i,stageIndex:o,exerciseNumber:s,source:xe.MASK,state:Mn.SAMPLE,protocolStartTimeOffsetSeconds:r,stageStartTimeOffsetSeconds:a,duration:i.mask_sample,data:[]};t.push(l),r+=l.duration}}),t}class VR{MAX_AGE_MS=60*1e3;history=[];constructor(){}particleConcentrationReceived(t){if(t.sampleSource===xe.AMBIENT){this.history.push(t);const n=Date.now(),r=this.history.findLastIndex(i=>n-i.timestamp>this.MAX_AGE_MS);r>-1&&this.history.splice(r)}}getEvents(t,n=5){const r=Date.now(),i=this.history.filter(o=>r-o.timestamp<t).slice(n);return i.length<n?(console.debug(`ambient collector not enough samples for ${n} samples with max age ${t}ms; only have ${i.length} samples.`),[]):i}getAvg(t,n=5){const r=this.getEvents(t,n);return r.length<n?-1:r.reduce((i,o)=>i+o.concentration,0)/r.length}}var Mn=(e=>(e.SAMPLE="sample",e.PURGE="purge",e.IDLE="idle",e))(Mn||{});class Ql{}class bw extends Ql{newSegment;constructor(t){super(),this.newSegment=t}}class Ew extends Ql{segment;constructor(t){super(),this.segment=t}}class Cw extends Ql{}class Tw extends Ql{}class kw extends Ql{}class BR{MILLIS_PER_SECOND=1e3;_portaCountClient;controller;listeners=[];_timerId;_segments=[];_currentSegment;_lastAmbientSegment;dataCollector;_protocolStartTime=null;ambientCollector=new VR;constructor(t,n){this._portaCountClient=t,this.dataCollector=n,this.controller=t.externalController,this._portaCountClient.addListener(this.getPortaCountListener()),this._portaCountClient.addListener(this.ambientCollector)}getPortaCountListener(){return{controlSourceChanged:n=>{n===Ce.Internal&&this.cancel()},particleConcentrationReceived:n=>{if(n.controlSource!==Ce.Internal&&this.protocolStartTime){if(!this.currentSegment){console.warn("protocol executor test is in progress but no current segment (shouldn't happen).");return}if(this.currentSegment.source!==n.sampleSource){console.debug(`segment expecting data to be from source ${this.currentSegment.source} but received data from ${n.sampleSource}. ignoring.`);return}this.currentSegment.data.length===0&&this.startSegment(this.currentSegment),this.currentSegment.data.push(n),this.dispatch(new Ew(this.currentSegment))}}}}startSegment(t){console.log(`starting segment ${JSON.stringify(t)}`),this.startTimer(()=>{this.advanceToNextSegment(t)},t.duration)}advanceToNextSegment(t){this.closeSegment(t),this.executeSegment(t.index+1)}get segments(){return this._segments}set segments(t){this._segments=So(t)}get protocolStartTime(){return this._protocolStartTime}set protocolStartTime(t){this._protocolStartTime=t}get lastAmbientSegment(){return this._lastAmbientSegment}set lastAmbientSegment(t){this._lastAmbientSegment=t}get currentSegment(){return this._currentSegment}set currentSegment(t){t&&(t.segmentStartTimeMs=Date.now()),this._currentSegment=t,this.dispatch(new bw(t))}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}startTimer(t,n){this._timerId=setTimeout(t,n*this.MILLIS_PER_SECOND)}stopTimer(){clearTimeout(this._timerId),this._timerId=void 0}protocolIsExecuting(){return this.protocolStartTime!==null&&this._timerId!==void 0}async executeProtocol(t){if(this.protocolIsExecuting()){console.log("protocol execution in progress (can't start another protocol)");return}this.controller.assumeManualControl(),this.lastAmbientSegment=void 0,this.segments=t;const n=new Date;if(this.protocolStartTime=n.getTime(),await this.dataCollector.recordTestStart(Ce.External,n.toLocaleString()),ol.getSetting(F.USE_IDLE_AMBIENT_VALUES))if(console.debug("trying to use idle ambient values"),this.segments.length>2&&this.segments[0].source===xe.AMBIENT&&this.segments[1].source===xe.AMBIENT&&this.segments[1].state==="sample"){const r=this.ambientCollector.getEvents(6e4,this.segments[1].duration);r.length?(console.debug("using ambient values collected while idle"),this.segments[1].data.push(...r),this.advanceToNextSegment(this.segments[1]),this.controller.beep()):this.executeSegment(0)}else this.executeSegment(0);else this.executeSegment(0);this.controller.beep(),this.dispatch(new Cw)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case Ew.name:{n.segmentDataUpdated&&n.segmentDataUpdated(t.segment);break}case bw.name:{n.segmentChanged&&n.segmentChanged(t.newSegment);break}case Cw.name:{n.started&&n.started();break}case Tw.name:{n.cancelled&&n.cancelled();break}case kw.name:{n.completed&&n.completed();break}default:console.warn(`Unhandled event in dispatcher: ${t.constructor.name}`)}})}executeSegment(t){if(t>=this._segments.length){console.log("no more segments (test completed)"),this.stopTimer();const r=this.calculateFinalFitFactor();this.dataCollector.recordExerciseResult("Final",r),this.dataCollector.recordTestComplete(),this.dataCollector.setInstructions(`Test completed; final score: ${gd(r)}`),this.dispatch(new kw),this.controller.beep(),this.controller.beep(),this.updateValvePosition();return}const n=this._segments[t];this.currentSegment=n,console.log(`staging segment ${JSON.stringify(n)}`),n.source===xe.AMBIENT?this.controller.sampleAmbient():n.source===xe.MASK?this.controller.sampleMask():console.warn(`executeSegment(): unexpected source: ${n.source}`),n.duration>0&&(n.exerciseNumber?this.dataCollector.setInstructions(`Perform exercise ${n.exerciseNumber}: ${n.stage.instructions}`):this.dataCollector.setInstructions("Breathe normally"))}updateValvePosition(){ol.getSetting(F.SAMPLE_MASK_WHEN_IDLE)?(this.controller.sampleMask(),console.debug("sample mask when idle in effect")):ol.getSetting(F.USE_IDLE_AMBIENT_VALUES)&&(this.controller.sampleAmbient(),console.debug("use idle ambient values in effect"))}cancel(){this.stopTimer(),this.protocolStartTime=null,console.log("cancelling protocol"),this.dataCollector.recordTestAborted(),this.dispatch(new Tw),this.controller.beep(),this.updateValvePosition()}calculateFinalFitFactor(){const t=this.segments.filter(n=>n.calculatedScore!==void 0);return t.length/t.reduce((n,r)=>n+1/r.calculatedScore,0)}closeSegment(t){if(t.source===xe.AMBIENT){if(t.state==="sample"){const n=vi(t);if(this.dataCollector.recordParticleCount(new sa(n,t.source,Ce.External)),this.lastAmbientSegment){const r=vR(vi(this.lastAmbientSegment),n);for(let i=t.index-1;i>this.lastAmbientSegment.index;i--){const o=this.segments[i];if(o.state==="sample"){const a=r/vi(o);console.debug(`updating ex ${o.exerciseNumber} score from ${o.calculatedScore} to ${a}`),o.calculatedScore=a,this.dataCollector.recordExerciseResult(o.exerciseNumber??0,o.calculatedScore)}}}this.lastAmbientSegment=t}}else if(t.source===xe.MASK&&t.state==="sample"){const n=vi(t);this.dataCollector.recordParticleCount(new sa(n,t.source,Ce.External)),this.lastAmbientSegment?(t.calculatedScore=vi(this.lastAmbientSegment)/n,this.dataCollector.recordExerciseResult(t.exerciseNumber??0,t.calculatedScore),this.controller.beep()):console.error("mask segment completed, but there was no last ambient segment.")}}}function vi(e){return Math.max(.01,e.data.reduce((t,n)=>t+n.concentration,0)/e.data.length)}class cC{db;dbName;version;defaultDataStores;openPromise;constructor(t,n=[],r=1){this.dbName=t,this.version=r,this.defaultDataStores=n}async getDataFromDataSource(t,n=()=>!0){return new Promise((r,i)=>{const o=this.openTransactionClassic("readonly"),a=[];if(!o){console.debug(`${this.dbName} database not ready`),i(`${this.dbName} database not ready`);return}const s=o.objectStore(t).openCursor(null,"next");s.onerror=l=>{console.error(`getAllDataFromDataSource openCursor request error ${l}`),i(`error ${l}`)},s.onsuccess=l=>{const u=s.result;u?(n(u.value)&&a.push(u.value),u.continue()):(console.debug(`${this.dbName} cursor done ${l}. got ${a.length} records`),r(a))}})}onOpenSuccess(t){this.db=t.result,console.debug(`${this.dbName} Database Opened`,this.db)}onOpenError(t){console.error(`${this.dbName} Database error: ${t.error?.message}`)}openTransactionClassic(t,n=this.defaultDataStores){if(!this.db){console.log(`${this.dbName} database not ready`);return}try{const r=this.db.transaction(n,t);return r.oncomplete=()=>{},r.onerror=i=>{console.warn(`${this.dbName} transaction error ${i}`)},r}catch(r){console.error(`${this.dbName} error opening transaction: ${r}`);return}}async openTransaction(t,n=this.defaultDataStores){return new Promise((r,i)=>{if(!this.db){console.debug(`${this.dbName} database not ready`),i(`${this.dbName} database not ready`);return}const o=this.db.transaction(n,t);o.oncomplete=()=>{},o.onerror=a=>{console.error(`${this.dbName} transaction error ${JSON.stringify(a)}`)},r(o)})}async get(t,n){return new Promise((r,i)=>{this.openTransaction("readonly").then(o=>{const a=o.objectStore(t).get(n);a.onsuccess=()=>{r(a.result)},a.onerror=s=>{const l=`${this.dbName} get(${n}) failed; error: ${s}`;console.error(l),i(l)}})})}async put(t,n){return new Promise((r,i)=>{this.openTransaction("readwrite").then(o=>{try{const a=o.objectStore(t).put(n);a.onsuccess=()=>{r(a.result)},a.onerror=s=>{const l=`${this.dbName} put(${JSON.stringify(n)}) failed; error: ${s}`;console.error(l),i(l)}}catch(a){i(`${a} value: ${JSON.stringify(n)}`)}})})}async delete(t,n){return new Promise((r,i)=>{this.openTransaction("readwrite").then(o=>{try{const a=o.objectStore(t).delete(n);a.onsuccess=()=>{r(a.result)},a.onerror=s=>{const l=`${this.dbName} delete(${n}) failed; error: ${s}`;console.error(l),i(l)}}catch(a){i(`${a}, key: ${n}`)}})})}async open(){return console.debug(`open called on ${this.dbName}`),this.openPromise?this.openPromise:this.db?this.db:(this.openPromise=new Promise((t,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.onsuccess=()=>{this.onOpenSuccess(r),t(r.result)},r.onerror=()=>{this.onOpenError(r),n(r.error?.message)},r.onupgradeneeded=()=>{this.onUpgradeNeeded(r)}}),this.openPromise)}close(){this.db?.close(),console.debug(`${this.dbName} closed`)}}class Jn extends cC{static DEFAULT_DB_NAME="fit-test-data-db";static TEST_RESULTS_OBJECT_STORE="test-results-table-data";constructor(t=Jn.DEFAULT_DB_NAME){super(t,[Jn.TEST_RESULTS_OBJECT_STORE],2)}onUpgradeNeeded(t){const n=t.result;console.warn(`${this.dbName} Database upgrade needed: ${n.name}`),n.createObjectStore(Jn.TEST_RESULTS_OBJECT_STORE,{autoIncrement:!0,keyPath:"ID"})}keepRecords=[];async getData(t){return this.getDataFromDataSource(Jn.TEST_RESULTS_OBJECT_STORE,t)}async createNewTest(t,n,r,i){const o=this.openTransactionClassic("readwrite");if(!o)return console.log("database not ready"),new Promise((l,u)=>u(`${this.dbName} database not ready`));const a={Time:t,ProtocolName:n,TestController:r,DataSource:i},s=o?.objectStore(Jn.TEST_RESULTS_OBJECT_STORE).add(a);return new Promise((l,u)=>{s.onerror=c=>{const f=`createNewTest request error ${c}`;console.log(f),u(f)},s.onsuccess=c=>{console.log(`createNewTest request complete: ${c}, new key is ${s.result}`),l({...a,ID:Number(s.result)})}})}async updateTest(t){return new Promise((n,r)=>{const i=this.openTransactionClassic("readwrite");if(!i){console.log("database not ready"),r(`${this.dbName} database not ready`);return}t.ID=Number(t.ID);const o=i.objectStore(Jn.TEST_RESULTS_OBJECT_STORE).put(t);o.onerror=a=>{const s=`updateTest request error ${a}`;console.log(s),r(s)},o.onsuccess=()=>{n({ID:o.result})}})}async addRecord(t){const n=t;return delete n.ID,this.put(Jn.TEST_RESULTS_OBJECT_STORE,n)}async addRecords(t){for(const n of t)await this.addRecord(n)}async deleteRecord(t){return this.deleteRecordById(t.ID)}async deleteRecordById(t){return this.delete(Jn.TEST_RESULTS_OBJECT_STORE,t)}}const Rn=new Jn;var fC={exports:{}};(function(e,t){const n=Math.exp;e.exports=function(i){if(typeof i!="number")throw new Error("must provide a timespan to the moving average constructor");if(i<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let o,a=0,s=0,l=0,u,c={};function f(d,h){return 1-n(-(d-h)/i)}return c.push=function(h,m){if(u){const g=f(h,u),v=m-o,p=g*v;o=g*m+(1-g)*o,a=(1-g)*(a+v*p),s=Math.sqrt(a),l=o+g*v}else o=m;u=h},c.movingAverage=function(){return o},c.variance=function(){return a},c.deviation=function(){return s},c.forecast=function(){return l},c}})(fC);var YR=fC.exports;const xn=No(YR);class Yi{}class Mw extends Yi{instructions;constructor(t){super(),this.instructions=t}}class z0 extends Yi{estimate;constructor(t){super(),this.estimate=t}}class dC extends z0{constructor(t){super(t)}}class hC extends z0{constructor(t){super(t)}}class rg extends z0{constructor(t){super(t)}}class Dw extends Yi{line;constructor(t){super(),this.line=t}}class Ow extends Yi{message;constructor(t){super(),this.message=t}}class Pw extends Yi{data;constructor(t){super(),this.data=t}}class Nw extends Yi{record;constructor(t){super(),this.record=So(t)}}class gp extends Yi{record;constructor(t){super(),this.record=So(t)}}class pC extends Yi{}const Rw=5*1e3,vp=20*1e3,zR={emaConcentration:void 0,emaConcentrationStdDev:void 0,guestimatedAmbient:void 0,sampleZone:"unknown",emaConcentrationInZone:void 0,estimatedFitFactor:void 0,estimatedFitFactorBand:void 0,estimatedFitFactorBandLower:void 0,zoneFF:void 0};class WR{guestimatedAmbientConcentration=0;maCount5s=xn(Rw);maZoneConcentration20s=xn(vp);nextChartUpdateTime=0;_chartOptions;_fullConcentrationHistory=[];dataCollector;constructor(t){this.dataCollector=t}get chartOptions(){return this._chartOptions}set chartOptions(t){this._chartOptions=t}get fullConcentrationHistory(){return this._fullConcentrationHistory}set fullConcentrationHistory(t){this._fullConcentrationHistory=t}resetChart(){this.fullConcentrationHistory=[],this.guestimatedAmbientConcentration=0,this.maCount5s=xn(Rw),this.maZoneConcentration20s=xn(vp),this.nextChartUpdateTime=0;const t={axisPointer:{link:[{xAxisIndex:"all"}]},tooltip:{trigger:"axis",axisPointer:{type:"cross"},valueFormatter:gd,position:function(n,r,i,o,a){return n[0]<a.viewSize[0]/2?{bottom:10,right:30}:{bottom:10,left:30}}},grid:[{top:"10%",left:"4%",right:"3%",bottom:"55%",containLabel:!0},{top:"60%",left:"4%",right:"3%",containLabel:!0}],xAxis:[{type:"time",gridIndex:0},{type:"time",gridIndex:1}],yAxis:[{name:"concentration",position:"left",type:"value",gridIndex:0,splitLine:{show:!0},minorSplitLine:{show:!0}},{name:"estimated fit factor",position:"left",type:"value",gridIndex:1}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0,1],filterMode:"filter"},{id:"dataZoomY0",type:"slider",yAxisIndex:[0],filterMode:"empty"},{id:"dataZoomY1",type:"slider",yAxisIndex:[1],filterMode:"empty"}],series:[{name:"concentration",type:"line",encode:{x:["timestamp"],y:["concentration"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{type:"dotted",width:3,opacity:0},markArea:{data:[]}},{name:"guestimated ambient level",type:"line",encode:{x:["timestamp"],y:["guestimatedAmbient"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"gray",width:3},itemStyle:{color:"gray"},showSymbol:!1},{name:"EMA concentration",type:"line",encode:{x:["timestamp"],y:["emaConcentration"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"blue",width:3},itemStyle:{color:"blue"},showSymbol:!1},{name:"EMA concentration in zone",type:"line",encode:{x:["timestamp"],y:["emaConcentrationInZone"]},yAxisIndex:0,xAxisIndex:0,lineStyle:{color:"blue",width:1},itemStyle:{color:"blue"},showSymbol:!1},{name:"Zone FF",type:"line",encode:{x:["timestamp"],y:["zoneFF"]},yAxisIndex:1,xAxisIndex:1,lineStyle:{width:1},itemStyle:{opacity:0},showSymbol:!1}]};this.chartOptions=t}processConcentration(t,n=new Date){if(isNaN(t))return;const r=n.getTime(),i=this.fullConcentrationHistory.length>0?this.fullConcentrationHistory[this.fullConcentrationHistory.length-1]:void 0;let o;this.guestimatedAmbientConcentration?t>this.guestimatedAmbientConcentration?o="ambient":this.maCount5s.movingAverage()<.5*this.guestimatedAmbientConcentration?i?.sampleZone!=="mask"&&this.maCount5s.deviation()>1.5*this.maCount5s.movingAverage()?o="purge":o="mask":this.maCount5s.deviation()<.3*this.guestimatedAmbientConcentration?o="ambient":o="unknown":o="ambient",o==="ambient"&&(this.guestimatedAmbientConcentration=this.maCount5s.movingAverage());let a=NaN;if(i&&i.sampleZone==="mask"){let l=0,u=this.fullConcentrationHistory.length-1,c=0;for(;u>=0&&this.fullConcentrationHistory[u].sampleZone==="mask";u--)this.fullConcentrationHistory.length-u>5&&(l+=this.fullConcentrationHistory[u].concentration,c++);l&&(a=c*this.guestimatedAmbientConcentration/l,i&&(i.zoneFF=a))}this.dataCollector.dispatch(new dC(a)),this.dataCollector.dispatch(new hC(this.guestimatedAmbientConcentration)),o==="mask"?this.dataCollector.dispatch(new rg(t)):this.dataCollector.dispatch(new rg(-1));const s={...zR,timestamp:n,concentration:t,guestimatedAmbient:this.guestimatedAmbientConcentration,emaConcentration:this.maCount5s.movingAverage(),emaConcentrationStdDev:this.maCount5s.deviation(),sampleZone:o,zoneFF:a};if(o==="mask")if(i&&i.sampleZone===o){s.emaConcentrationInZone=this.maZoneConcentration20s.movingAverage();const l=Math.min(.3*s.emaConcentrationInZone,this.maZoneConcentration20s.deviation()),u=s.guestimatedAmbient||0;s.estimatedFitFactor=u/s.emaConcentrationInZone,s.estimatedFitFactorBand=u/(s.emaConcentrationInZone-l)-u/(s.emaConcentrationInZone+l),s.estimatedFitFactorBandLower=u/(s.emaConcentrationInZone+l)}else this.maZoneConcentration20s=xn(vp);if(this.fullConcentrationHistory.push(s),this.maCount5s.push(r,t),this.maZoneConcentration20s.push(r,t),this.chartOptions.dataset={dimensions:["timestamp","concentration","guestimatedAmbient","emaConcentration","emaConcentrationStdDev","sampleZone","emaConcentrationInZone","estimatedFitFactor","estimatedFitFactorBand","estimatedFitFactorBandLower","zoneFF"],source:this.fullConcentrationHistory},this.chartOptions.yAxis[0].type="log",this.chartOptions.yAxis[0].min=Math.min(...this.chartOptions.dataset.source.map(l=>l.concentration)),this.chartOptions.yAxis[0].max=Math.max(...this.chartOptions.dataset.source.map(l=>l.concentration)),this.chartOptions.yAxis[1].type="value",this.chartOptions.dataZoom[0].endValue=s.timestamp,this.chartOptions.dataZoom[0].startValue=s.timestamp.getTime()-15*60*1e3,this.guestimatedAmbientConcentration>0){const l={type:"piecewise",show:!1,seriesIndex:[0],dimension:"",pieces:[{gte:100,lt:1e5,color:"green"},{gte:20,lt:100,color:"darkorange"},{gte:0,lt:20,color:"darkred"}],outOfRange:{color:"#999"}},u=So(l);u.dimension="estimatedFitFactor",u.seriesIndex=this.chartOptions.series.findIndex(f=>f.name==="estimated fit factor");const c=So(l);c.dimension="zoneFF",c.seriesIndex=this.chartOptions.series.findIndex(f=>f.name==="Zone FF"),this.chartOptions.visualMap=[u,c]}this.updateMarkArea(this.chartOptions,s),Date.now()>this.nextChartUpdateTime&&(this.nextChartUpdateTime=Date.now()+1e3,this.dataCollector.dispatch(new pC))}updateMarkArea(t,n){const r=n.sampleZone,i=t.series[0].markArea.data,[o,a]=i.length>0?i[i.length-1]:[{},{}];if(o.name===r)a.xAxis=n.timestamp;else{const s=[{xAxis:n.timestamp,name:r,itemStyle:{color:n.sampleZone==="mask"?"wheat":n.sampleZone==="ambient"?"powderblue":"black",opacity:.2}},{xAxis:n.timestamp}];i.push(s)}}}class hi extends cC{static DEFAULT_DB_NAME="raw-serial-line-data-db";static SERIAL_LINE_OBJECT_STORE="serial-line-data";constructor(t=hi.DEFAULT_DB_NAME){super(t,[hi.SERIAL_LINE_OBJECT_STORE],1)}onUpgradeNeeded(t){const n=t.result;console.warn(`Database upgrade needed: ${this.dbName}`),n.createObjectStore(hi.SERIAL_LINE_OBJECT_STORE,{autoIncrement:!0,keyPath:"index"})}keepRecords=[];now=new Date;async getData(t){return this.getDataFromDataSource(hi.SERIAL_LINE_OBJECT_STORE,t)}getSomeRecentLines(t){const n=this.openTransactionClassic("readonly");if(!n){console.debug(`${this.dbName} database not ready`);return}const r=n.objectStore(hi.SERIAL_LINE_OBJECT_STORE).openCursor(null,"prev");let i=!1;r.onerror=o=>{console.log(`getSomeRecentLines openCursor request error ${o}`)},r.onsuccess=o=>{console.log(`getSomeRecentLines openCursor request complete: ${o}`);const a=r.result;if(a?(this.keepRecords.push(a.value),a.continue()):(console.log(`${this.dbName} cursor done`),i=!0),i)for(console.log(`collected ${this.keepRecords.length} records`);this.keepRecords.length>0;){const s=this.keepRecords.pop();s&&t(s)}}}addLine(t){const n=this.openTransactionClassic("readwrite");if(!n)return console.log(`${this.dbName} database not ready`),{};const r={timestamp:new Date().toISOString(),data:t},i=n.objectStore(hi.SERIAL_LINE_OBJECT_STORE).add(r);i.onerror=o=>{console.error(`addRecord request error ${o}`)},i.onsuccess=()=>{}}}const vd=new hi;class qR{listeners=[];resultsDatabase;previousTestData=null;currentTestData=null;lastExerciseNum=0;sampleSource=xe.MASK;setResults;inProgressTestPromiseChain;controlSource=Ce.Internal;settings;_rawLines="";_processedData="";_logLines="";_fitFactorEstimator;_dataSource=We.NotInitialized;constructor(){this.settings=ol,this.resultsDatabase=Rn,this._fitFactorEstimator=new WR(this),this.fitFactorEstimator.resetChart()}get saveLinesToDb(){return this._dataSource!==We.Simulator}set dataSource(t){this._dataSource=t}get dataSource(){return this._dataSource}get fitFactorEstimator(){return this._fitFactorEstimator}set fitFactorEstimator(t){this._fitFactorEstimator=t}get rawLines(){return this._rawLines}get logLines(){return this._logLines}get processedData(){return this._processedData}appendToRaw(t){this._rawLines+=t+`
`,this.dispatch(new Dw(t))}appendToLog(t){this._logLines+=t,this.dispatch(new Ow(t))}appendToProcessedData(t){this._processedData+=t,this.dispatch(new Pw(t))}setInstructions(t){this.dispatch(new Mw(t))}setInstructionsForExercise(t){if(!this.settings.selectedProtocol)return;const n=this.settings.selectedProtocol,i=this.settings.getProtocolDefinition(n)[t-1],o=typeof i=="object"?"instructions"in i?i.instructions:i.i:i;o&&this.setInstructions(`Perform exercise ${t}: ${o}`)}recordTestComplete(){const t=()=>{console.log(`test complete, id ${this.currentTestData?.ID}`),this.previousTestData=this.currentTestData,this.currentTestData=null};this.chain(t)}recordTestAborted(){const t=()=>{if(!this.currentTestData){console.log("no current row, ignoring");return}this.currentTestData[`Ex ${this.lastExerciseNum+1}`]="aborted",this.setInstructions("Test cancelled."),this.updateCurrentRowInDatabase(),console.log("test aborted")};this.chain(t)}chain(t){this.inProgressTestPromiseChain?this.inProgressTestPromiseChain=this.inProgressTestPromiseChain.then(t):t()}async recordTestStart(t,n=new Date().toLocaleString()){if(!this.resultsDatabase){console.log("database not ready");return}if(!this.settings.selectedProtocol){console.log("protocols not loaded (not ready)");return}this.lastExerciseNum=0;const r=await this.resultsDatabase.createNewTest(n,this.settings.selectedProtocol,t,t===Ce.Manual?We.Manual:this.dataSource);this.currentTestData=r;const i=this.settings.getTestTemplate();for(const o in i)o in r||o.startsWith("Ex ")||o.startsWith("Final")||typeof i[o]=="string"&&(this.currentTestData[o]=i[o]);this.updateCurrentRowInDatabase(),console.log(`new test added: ${JSON.stringify(this.currentTestData)}`),this.dispatch(new Nw(r)),this.dispatch(new gp(r))}recordExerciseResult(t,n){const r=()=>{if(!this.currentTestData){console.log("no current row! ignoring");return}typeof t=="number"?(this.currentTestData[`Ex ${t}`]=`${Math.floor(n)}`,this.lastExerciseNum=t):this.currentTestData[`${t}`]=`${Math.floor(n)}`,this.updateCurrentRowInDatabase()};this.chain(r)}updateTest(t){if(t.ID){if(t.ID===this.currentTestData?.ID){const n=this.currentTestData;this.currentTestData=t,Object.entries(n).forEach(([r,i])=>{typeof i=="number"&&this.currentTestData&&this.currentTestData[r]!==i&&(this.currentTestData[r]=i,this.setResults&&this.setResults(o=>[...o]))})}else t.ID===this.previousTestData?.ID&&(this.previousTestData=t);this.resultsDatabase.updateTest(t)}else console.log(`updateTest() unexpected record with no ID: ${t}`)}updateCurrentRowInDatabase(){this.currentTestData&&(this.resultsDatabase.updateTest(this.currentTestData),this.dispatch(new gp(this.currentTestData)))}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}dispatch(t){this.listeners.forEach(n=>{switch(t.constructor.name){case Nw.name:{n.newTestStarted&&n.newTestStarted(t.record);break}case gp.name:{n.currentTestUpdated&&n.currentTestUpdated(t.record);break}case pC.name:{n.tick&&n.tick();break}case Dw.name:{n.logRawLine&&n.logRawLine(t.line);break}case Ow.name:{if(n.logMessage){const r=t;n.logMessage(r.message)}break}case Pw.name:{if(n.logProcessedData){const r=t;n.logProcessedData(r.data)}break}case dC.name:{if(n.estimatedFitFactorChanged){const r=t;n.estimatedFitFactorChanged(r.estimate)}break}case rg.name:{n.estimatedMaskConcentrationChanged&&n.estimatedMaskConcentrationChanged(t.estimate);break}case hC.name:{n.estimatedAmbientConcentrationChanged&&n.estimatedAmbientConcentrationChanged(t.estimate);break}case Mw.name:{if(n.instructionsChanged){const r=t;n.instructionsChanged(r.instructions)}break}}})}portaCountListener={lineReceived:t=>{t.trim().length>0&&(this.appendToRaw(t),this.saveLinesToDb&&vd.addLine(t))},sampleSourceChanged:t=>{console.log(`sampling from ${t}`),this.appendToLog(`sampling from ${t}
`),this.sampleSource=t},dataTransmissionStateChanged:t=>{this.appendToLog(`data transmission state: ${t}`)},testStarted:t=>{this.appendToProcessedData(`
Starting a new test. ${new Date(t).toLocaleString()}
`),this.setInstructionsForExercise(1),this.inProgressTestPromiseChain=this.recordTestStart(Ce.Internal,new Date(t).toLocaleString())},controlSourceChanged:t=>{this.controlSource=t},fitFactorResultsReceived:t=>{const n=t.ff,r=t.exerciseNum,i=t.result;this.recordExerciseResult(r,n),typeof r=="number"?(this.appendToProcessedData(`Exercise ${r}: Fit factor is ${n}. Result: ${i}
`),this.setInstructionsForExercise(r+1),gt.sayItLater(`Score was ${n}`)):(this.appendToProcessedData(`
Test complete. ${i} with FF of ${n}
`),this.setInstructions(`Test complete. Score: ${n}`),this.appendToLog(JSON.stringify(this.currentTestData)+`
`),this.recordTestComplete(),gt.sayItLater(`Final score was ${n}`))},testTerminated:()=>{this.appendToProcessedData(`
Test aborted
`),this.recordTestAborted(),this.recordTestComplete()},particleConcentrationReceived:t=>{const n=()=>{if(this.currentTestData){t.controlSource===Ce.Internal&&this.recordParticleCount(t);return}const r=t.concentration,i=t.timestamp;this.controlSource===Ce.External&&this.appendToProcessedData(`${this.sampleSource}: ${r}
`),this.fitFactorEstimator.processConcentration(r,i?new Date(i):new Date)};this.chain(n)}};recordParticleCount(t){this.currentTestData&&(this.currentTestData.ParticleCounts||(this.currentTestData.ParticleCounts=[]),this.currentTestData.ParticleCounts.push({type:t.sampleSource,count:t.concentration}),this.updateCurrentRowInDatabase())}setPortaCountClient(t){t.addListener(this.portaCountListener)}}class QR{readable;writable;connected=!1;constructor(t,n){this.readable=t,this.writable=n}getInfo(){return{usbVendorId:-1337}}open(t){return console.debug(`todo: set simulator baud rate to ${t.baudRate}`),this.connected=!0,Promise.resolve()}}class GR{reader;_readerController;writer;_port;_portaCountState=new nC;encoder=new TextEncoder;_started=!1;bias=0;baseConcentration=0;lastCommandTimeMs=0;targetMaskFF=100;constructor(){this.reader=this.createReader(),this.writer=this.createWriter(),this._port=new QR(this.reader,this.writer)}get port(){return this._started=!0,this._port}stop(){this.reader.cancel("stop")}sendResponse(t){const n=this.encoder.encode(t);this._readerController?.enqueue(n)}createReader(){let t,n=!1;return new ReadableStream({pull:r=>{n=!0},start:r=>{console.debug("PortaCountSimulator started"),this._readerController=r,t=setInterval(()=>{if(this._started){const o=this.generateConcentration();console.debug(`simulator loop: ${o}, isPulling? ${n}`),n&&(n=!1,r.enqueue(this.encoder.encode(`${o}
`)))}},1e3)},cancel(){Tl("cancel() called on underlying source"),t&&clearInterval(t)}})}createWriter(){const t=new CountQueuingStrategy({highWaterMark:1}),n=new TextDecoder,r=this,i=/\r\n|\n|\r/gm;let o="";return new WritableStream({write:a=>{const s=n.decode(a);console.debug(`writer got ${s}`),o+=s;const l=i.exec(o);if(l){const u=o.substring(0,l.index);o=o.substring(i.lastIndex),i.lastIndex=0,r.executeCommand(u)}},close(){},abort(a){console.debug(`abort: ${a}`)}},t)}random(){return Date.now()-this.lastCommandTimeMs>3*60*1e3&&(this.baseConcentration=(1+5*Math.random())*1e3,this.targetMaskFF=10+300*Math.random(),console.debug(`simulator resetting baseConcentration to ${this.baseConcentration}, targetMaskFF to ${this.targetMaskFF}`)),this.baseConcentration+=Math.round(Math.random()*200),this.baseConcentration}randomize(){this.bias=(Math.random()*30-30/2)/100,this.lastCommandTimeMs=Date.now()}executeCommand(t){switch(this.randomize(),t){case Ee.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE:{this.sendResponse(`RGG
`);break}case Ee.REQUEST_VOLTAGE_INFO:{["CS191","CB483","CT236","CC065","CL614","CP255","CD068"].forEach(n=>{this.sendResponse(`${n}
`)});break}case Ee.REQUEST_SETTINGS:{["STPA 00004","STA  00005","STPM 00011","STM0100040","STM0200040","STM0300040","STM0400040","STM0500040","STM0600040","STM0700040","STM0800040","STM0900040","STM1000040","STM1100040","STM1200040","STM1300040","SP 0100100","SP 0200250","SP 0300500","SP 0401000","SP 0501250","SP 0601667","SP 0702000","SP 0804000","SP 0905000","SP 1006667","SP 1110000","SP 1200000","SS   17754","SR   00722","SD   00519"].forEach(n=>{this.sendResponse(`${n}
`)});break}case Ee.SWITCH_VALVE_OFF:{this._portaCountState.sampleSource=xe.MASK,this.sendResponse(Ee.SWITCH_VALVE_OFF),this.sendResponse(`
`);break}case Ee.SWITCH_VALVE_ON:{this._portaCountState.sampleSource=xe.AMBIENT,this.sendResponse(Ee.SWITCH_VALVE_ON),this.sendResponse(`
`);break}case Ee.INVOKE_EXTERNAL_CONTROL:{this._portaCountState.controlSource===Ce.External?this.sendResponse(`EJ
`):(this._portaCountState.controlSource=Ce.External,this.sendResponse(`OK
`));break}case Ee.RELEASE_FROM_EXTERNAL_CONTROL:{this._portaCountState.controlSource=Ce.Internal,this.sendResponse(`G
`);break}default:console.debug(`echoing back: ${t}`),this.sendResponse(`${t}
`)}}generateConcentration(){let t;this._portaCountState.sampleSource===xe.MASK?t=this.random()/this.targetMaskFF:t=this.random(),t=(1-this.bias)*t;let n;return this._portaCountState.controlSource===Ce.External?n=`${t.toFixed(2).padStart(9,"0")}`:n=`Conc.${t.toFixed(t<10?2:0).padStart(10," ")} #/cc`,n}}const KR=48e6,XR=e=>new Promise(t=>setTimeout(t,e)),ZR=257,JR=256,eI=514,tI=512,nI=0,rI=1,iI=0;function oI(e,t,n){const r=[0,3,2,4,1,5,6,7];let i=0,o,a,s;return e>=t/n?(s=0,i=t/dlkDiv):e>=t/(n+n/2)?(s=1,i=t/(n+n/2)):e>=t/(2*n)?(s=2,i=t/(2*n)):(o=t*16/n/e,o&1?a=o/2+1:a=o/2,a>131072&&(a=131071),i=t*16/n/a,i&1?i=i/2+1:i=i/2,s=a>>3|r[a&7]<<14),[i,s]}function aI(e){let t,n,r,i;if(e<=0)throw new Error("Baud rate must be > 0");return[t,n]=oI(e,KR,16),r=n&65535,i=n>>16,[t,r,i]}class sI extends EventTarget{dtr=!0;rts=!0;constructor(t,n){super();const r=this;(async()=>{if(t==null)throw new Error("Could not find device");await t.open(),console.log("Opened:",t.opened),t.configuration===null&&(console.log("selectConfiguration"),await t.selectConfiguration(1)),await t.claimInterface(0),await t.selectConfiguration(1),await t.selectAlternateInterface(0,0);const[i,o,a]=aI(n.baudRate);console.log("Setting baud rate to",i),await t.controlTransferOut({requestType:"vendor",recipient:"device",request:3,value:o,index:a}),r.device=t,r.isClosing=!1;const s=await t.controlTransferOut({requestType:"vendor",recipient:"device",request:nI,value:iI,index:1});console.debug("reset result: ",s);const l=await t.controlTransferOut({requestType:"vendor",recipient:"device",request:rI,value:(this.dtr?ZR:JR)|(this.rts?eI:tI),index:1});console.debug("set control lines result: ",l),this.device.transferIn(1,64),r.readLoop(),r.dispatchEvent(new Event("ready"))})().catch(i=>{console.log("Error during FTDI setup:",i),r.dispatchEvent(new CustomEvent("error",{detail:i}))})}async readLoop(){let t;try{t=await this.device.transferIn(1,64)}catch(n){n.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.log("Device disconnected"),this.isClosing=!0,this.dispatchEvent(new Event("disconnected"))):console.log("Error reading data:",n)}if(t&&t.data&&t.data.byteLength&&t.data.byteLength>2){console.log(`Received ${t.data.byteLength-2} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(2)}))}!this.isClosing&&this.device.opened&&this.readLoop()}async read(){const{data:{buffer:t,byteLength:n}}=await this.device.transferIn(1,64),r=new Uint8Array(t);return n===2?this.read():{bytesRead:n-2,data:r.slice(2)}}async writeAsync(t){return await this.device.transferOut(2,t)}write(t,n){this.writeAsync(t).then(()=>{n()},r=>n(r))}async closeAsync(){this.isClosing=!0,this.dispatchEvent(new Event("disconnected"));try{console.log("Sending EOT"),await this.writeAsync([4]),await XR(2e3),await this.device.releaseInterface(0),await this.device.close(),console.log("Closed device")}catch(t){console.log("Error:",t)}}close(t){(async()=>(await this.closeAsync(),t()))()}}const lI=[75,150,300,600,1200,1800,2400,3600,4800,7200,9600,14400,19200,28800,38400,57600,115200,230400,460800,614400,921600,1228800,2457600,3e6,6e6],uI=1e3,cI=5e3,fI=34,yp=1,wp=2,dI=1,hI=1,Iw=129,pI=128,mI=7,gI=8,vI=9,yI=1,wI=2;class _I extends EventTarget{constructor(t,n){super(),this.isClosing=!1,this.bitrate=9600,this.deviceType=2,this.currentFlowControl=0,this.currentControlLinesValue=wp|yp,this.bitrate=n.baudRate,this.device=t}async controlTransferInWithTimeout({requestType:t,recipient:n,request:r,value:i,index:o},a,s=uI){return new Promise((l,u)=>{const c=new AbortController,f=d=>{c.signal.removeEventListener("abort",f),u(d.target)};c.signal.addEventListener("abort",f),setTimeout(()=>{c.abort("controlTransferIn timed out")},s),this.device.controlTransferIn({requestType:t,recipient:n,request:r,value:i,index:o},a).then(d=>{c.signal.aborted?u(`aborted, but we finally got our result: ${JSON.stringify(d)}`):d.data?.byteLength===a?l(d.data.buffer):u("controlTransferIn succeeded, but did not receive expected number of bytes")}).catch(u)})}async controlTransferOutWithTimeout({requestType:t,recipient:n,request:r,value:i,index:o,data:a},s=cI){return new Promise((l,u)=>{const c=new AbortController,f=d=>{c.signal.removeEventListener("abort",f),u(d.target)};c.signal.addEventListener("abort",f),setTimeout(()=>{c.abort("controlTransferOut timed out")},s),this.device.controlTransferOut({requestType:t,recipient:n,request:r,value:i,index:o},a).then(d=>{c.signal.aborted?u(`aborted, but we finally got our result: ${JSON.stringify(d)}`):d.bytesWritten===(a?a.byteLength:0)?l(d.status):u("controlTransferOut succeeded, but did not write expected number of bytes")}).catch(u)})}async testHxStatus(){return this.controlTransferInWithTimeout({requestType:"vendor",recipient:"device",request:dI,value:32896,index:0},1).then(()=>!0).catch(()=>!1)}async vendorRead(t,n){const r=(this.deviceType===3,Iw);return(await this.device.controlTransferIn({requestType:"vendor",recipient:"device",request:r,value:t,index:n},1)).data?.buffer}async vendorWrite(t,n){const r=this.deviceType===3?pI:hI;await this.device.controlTransferOut({requestType:"class",recipient:"device",request:r,value:t,index:n}).then(i=>{console.log(`vendorWrite success ${JSON.stringify(i)}`)}).catch(i=>{console.warn(`vendorWrite failed ${i}`)})}async setBaudRate(t){const r=lI.slice().sort((a,s)=>Math.abs(a-t)-Math.abs(s-t))[0];await this.device.controlTransferIn({requestType:"class",recipient:"interface",request:33,value:0,index:0},7),console.log("Setting baud rate to",r);const i=new ArrayBuffer(7),o=new DataView(i);o.setInt32(0,r,!0),o.setUint8(4,0),o.setUint8(5,0),o.setUint8(6,8),await this.device.controlTransferOut({requestType:"class",recipient:"interface",request:32,value:0,index:0},o)}async purgeHwBuffers(t,n){if(this.deviceType===3){let r=0;t&&(r|=yI),n&&(r|=wI),r!==0&&await this.vendorWrite(mI,r)}else t&&await this.vendorWrite(gI,0),n&&await this.vendorWrite(vI,0)}async resetDevice(){return this.purgeHwBuffers(!0,!0)}async open(){(async()=>{await this.device.open(),[this.iface]=this.device.configuration?this.device.configuration.interfaces:[],console.log("Claiming interface",this.iface.interfaceNumber),await this.device.claimInterface(this.iface.interfaceNumber),this.iface.alternate.endpoints.forEach(a=>{switch(a.direction){case"in":this.readEndpoint=a;break;case"out":this.writeEndpoint=a;break;default:console.error(`endpoint ${a.endpointNumber} has unexpected direction: ${a.direction}`);break}});const n=(await this.device.controlTransferIn({requestType:"standard",recipient:"device",request:6,value:256,index:0},255)).data;if(!n||n.byteLength<14)throw"Could not get device descriptors.";const r=this.device.usbVersionMajor,i=this.device.deviceVersionMajor,o=n.getInt8(7);if(this.device.deviceClass===2||o!=64)this.deviceType=0;else if(r===512){const a=await this.testHxStatus();a&&i===768?this.deviceType=1:a&&i===1280?this.deviceType=1:this.deviceType=3}else this.deviceType=2;await this.resetDevice(),await this.doBlackMagic(),await this.setControlLines(this.currentControlLinesValue),await this.setFlowControl(this.currentFlowControl),await this.setBaudRate(this.bitrate),this.isClosing=!1,await this.readLoop(),await this.setFlowControl(1),await this.setControlLines(255),this.dispatchEvent(new Event("ready"))})().catch(t=>{console.log("Error during PL2303 setup:",t),this.dispatchEvent(new CustomEvent("error",{detail:t}))})}async readLoop(){if(!this.readEndpoint){console.error("no read endpoint, aborting readLoop()"),await this.close();return}this.device.transferIn(this.readEndpoint.endpointNumber,64).then(t=>{if(t&&t.data&&t.data.byteLength){console.log(`Received ${t.data.byteLength} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(0)}))}else console.log("transferIn got no result, no result data, or data was empty")}).catch(t=>{t.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.warn("Device disconnected"),this.dispatchEvent(new Event("disconnected")),this.isClosing=!0):console.error("Error reading data:",t)}).finally(async()=>{!this.isClosing&&this.device.opened&&await this.readLoop()})}async close(){return this.isClosing=!0,this.dispatchEvent(new Event("disconnected")),new Promise((t,n)=>{setTimeout(async()=>{try{await this.device.releaseInterface(0),await this.device.close(),t()}catch(r){console.error("Error while closing:",r),n(r)}},2e3)})}async write(t){return new Promise((n,r)=>{if(!this.writeEndpoint){r("no writeEndpoint");return}this.device.transferOut(this.writeEndpoint?.endpointNumber,t).then(()=>{n({status:"ok",bytesWritten:t.byteLength})}).catch(i=>{console.error(`error writing to ${this.device.constructor.name}: ${i}`),r(i)})})}async doBlackMagic(){this.deviceType!==3&&(await this.vendorRead(33924,0),await this.vendorWrite(1028,0),await this.vendorRead(33924,0),await this.vendorRead(33667,0),await this.vendorRead(33924,0),await this.vendorWrite(1028,1),await this.vendorRead(33924,0),await this.vendorRead(33667,0),await this.vendorWrite(0,1),await this.vendorWrite(1,0),this.deviceType===0?await this.vendorWrite(2,36):await this.vendorWrite(2,68))}async setFlowControl(t){switch(console.log(`setFlowControl ${t}`),t){case 0:this.deviceType===3?await this.vendorWrite(10,255):await this.vendorWrite(0,0);break;case 1:this.deviceType==3?await this.vendorWrite(10,250):await this.vendorWrite(0,97);break;case 4:this.deviceType==3?await this.vendorWrite(10,238):await this.vendorWrite(0,193);break;default:throw`Unsupported flow control: ${t}`}this.currentFlowControl=t}async setDTR(t){let n;t?n=this.currentControlLinesValue|yp:n=this.currentControlLinesValue&~yp,await this.setControlLines(n)}async setRTS(t){let n;t?n=this.currentControlLinesValue|wp:n=this.currentControlLinesValue&~wp,await this.setControlLines(n)}async setControlLines(t){await this.controlTransferOutWithTimeout({requestType:"class",recipient:"interface",request:fI,value:t,index:0,data:void 0}),this.currentControlLinesValue=t}}const SI=95,_p=149,Sp=154,Lw=161,xI=164,bI=4882,EI=3884,Aw=9496,CI=128,TI=64,kI=3,MI=32,DI=64,Fw=6790,OI=29987,PI=21795;class NI extends EventTarget{constructor(t,n){super(),this.isClosing=!1,this.bitrate=9600,this.dtr=!0,this.rts=!0,this.bitrate=n.baudRate,this.device=t}async vendorOut(t,n,r=0){await this.device.controlTransferOut({requestType:"vendor",recipient:"device",request:t,value:n,index:r}).then(i=>{console.log("vendorOut success ",i)}).catch(i=>{console.warn(`vendorOut failed ${i}`)})}async vendorIn(t,n,r,i){return this.device.controlTransferIn({requestType:"vendor",recipient:"device",request:t,value:n,index:r},i)}async checkState(t,n,r,i){const o=await this.vendorIn(n,r,0,i.byteLength);return o.status!=="ok"||!o.data?(console.error(`failed to send ${t}, status ${o.status}, data:`,o.data),!1):o.data.byteLength!==i.byteLength?(console.error(`error sending command ${t}, expected ${i.byteLength}, got ${o.data.byteLength} instead`),!1):o.data.buffer!==i?(console.error(`error sending command ${t}, expected `,i," got ",o.data.buffer),!1):!0}async setBaudRate(t){let n,r;if(t===921600)r=7,n=62208;else{for(n=1532620800/t,r=3;n>65520&&r>0;)n>>=3,r--;if(n>65520)throw console.error(`unsupported baud rate ${t}`),new Error(`unsupported baud rate ${t}`);n=65536-n}r|=128;const i=n&65280|r,o=n&255;console.debug(`set baud rate ${t}, v1=${i}, v2=${o}`),await this.vendorOut(Sp,bI,i),await this.vendorOut(Sp,EI,o)}async open(){(async()=>{await this.device.open();const t=this.device.configuration?this.device.configuration.interfaces:[];await Promise.all(t.map(async r=>{console.log("Claiming interface",r.interfaceNumber);try{return await this.device.claimInterface(r.interfaceNumber)}catch(i){return console.error("error claiming interface ",r,`;, reason: ${i}`)}})),t[t.length-1].alternate.endpoints.forEach(r=>{if(r.type==="bulk")switch(r.direction){case"in":this.readEndpoint=r;break;case"out":this.writeEndpoint=r;break;default:console.error(`endpoint ${r.endpointNumber} has unexpected direction: ${r.direction}`);break}else console.debug("ignoring non-bulk endpoint: ",r)}),await this.init(),await this.setBaudRate(this.bitrate),this.isClosing=!1,await this.readLoop(),this.dispatchEvent(new Event("ready"))})().catch(t=>{console.log("Error during CH34x setup:",t),this.dispatchEvent(new CustomEvent("error",{detail:t}))})}async readLoop(){if(!this.readEndpoint){console.error("no read endpoint, aborting readLoop()"),await this.close();return}this.device.transferIn(this.readEndpoint.endpointNumber,this.readEndpoint.packetSize).then(t=>{if(t&&t.data&&t.data.byteLength){console.log(`Received ${t.data.byteLength} byte(s).`);const n=new Uint8Array(t.data.buffer);this.dispatchEvent(new CustomEvent("data",{detail:n.slice(0)}))}else console.log("transferIn got no result, no result data, or data was empty")}).catch(t=>{t.message.indexOf("LIBUSB_TRANSFER_NO_DEVICE")?(console.warn("Device disconnected"),this.dispatchEvent(new Event("disconnected")),this.isClosing=!0):console.error("Error reading data:",t)}).finally(async()=>{!this.isClosing&&this.device.opened&&await this.readLoop()})}async close(){return this.isClosing=!0,this.dispatchEvent(new Event("disconnected")),new Promise((t,n)=>{setTimeout(async()=>{try{await this.device.releaseInterface(0),await this.device.close(),t()}catch(r){console.error("Error while closing:",r),n(r)}},2e3)})}async write(t){return new Promise((n,r)=>{if(!this.writeEndpoint){r("no writeEndpoint");return}this.device.transferOut(this.writeEndpoint?.endpointNumber,t).then(()=>{n({status:"ok",bytesWritten:t.byteLength})}).catch(i=>{console.error(`error writing to ${this.device.constructor.name}: ${i}`),r(i)})})}async setControlLines(){return this.vendorOut(xI,~((this.dtr?MI:0)|(this.rts?DI:0)),0)}async init(){await this.checkState("init 1",SI,0,new Uint8Array([-1,0])),await this.vendorOut(Lw,0,0),await this.setBaudRate(9600),await this.checkState("init 4",_p,Aw,new Uint8Array([-1,0])),await this.vendorOut(Sp,Aw,TI|CI|kI),await this.checkState("init 6",_p,1798,new Uint8Array([-1,-1])),await this.vendorOut(Lw,20511,55562),await this.setBaudRate(9600),await this.setControlLines(),await this.checkState("init 10",_p,1798,new Uint8Array([-1,-1]))}}class $w{device;driver;connected=!1;readable;writable;constructor(t,n){this.device=t,this.driver=n,this.readable=n.getReadableStreamFromDataSource(),this.writable=n.getWritableStreamFromDataSink()}getInfo(){return{usbVendorId:this.device.vendorId,usbProductId:this.device.productId}}async open(t){return new Promise((n,r)=>{this.driver.open(this.device,t).then(()=>{this.connected=!0,n(),console.log(`${this.driver.name} opened`)}).catch(r)})}}class W0 extends aC{options;name;noDataWaitTimeMs=300;readable;writable;inboundDataQueue=[];constructor(t){super(),this.name=this.constructor.name,this.options=t}getReadableStreamFromDataSource(){const t=this;return new ReadableStream({start(n){r().catch(i=>n.error(i));async function r(){return t.dataRequest().then(i=>i.length===0?(Tl("No data from source: closing"),n.close(),new Uint8Array):(n.enqueue(i),r()))}},cancel(){Tl("cancel() called on underlying source"),t.closeImpl()}})}getWritableStreamFromDataSink(){const t=new CountQueuingStrategy({highWaterMark:1}),n=new TextDecoder,r=this;return new WritableStream({write(i){const o=n.decode(i);return console.log(`sending to ${r.name}: ${o}`),new Promise((a,s)=>{r.write(i).then(l=>{console.log(`successfully sent to ${r.name}: ${l.status}, bytesWritten: ${l.bytesWritten}`),a()}).catch(l=>{console.log(`error sending to ${r.name}: ${l.toString()}`),s(l)})})},close(){console.log(`${r.name} sink closed`)},abort(i){console.log(`${r.name} Sink error:`,i)}},t)}async dataRequest(){if(this.inboundDataQueue.length===0)return console.debug(`dataRequest() called, closed? ${this.closed}`),this.closed?Promise.resolve(new Uint8Array):new Promise(n=>{setTimeout(()=>{this.dataRequest().then(r=>{n(r)})},this.noDataWaitTimeMs)});const t=this.inboundDataQueue.splice(0,this.inboundDataQueue.length);return new Promise(n=>{const r=t.reduce((o,a)=>o+a.length,0),i=new Uint8Array(r);t.reduce((o,a)=>(i.set(a,o),o+a.length),0),n(i)})}}class RI extends W0{delegate;constructor(){super([{filters:[{vendorId:Fw,productId:OI},{vendorId:Fw,productId:PI}]}])}async open(t,n){return new Promise((r,i)=>{this.delegate=new NI(t,n),this.delegate.addEventListener("data",o=>{const a=o.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",o=>{i(o)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0}),this.delegate.open()})}async closeImpl(){return this.delegate?.close()}async write(t){return this.delegate?this.delegate.write(t):new Promise((n,r)=>{r("not yet initialized")})}}class II extends W0{delegate;constructor(){super([{filters:[{vendorId:1659,productId:9123},{vendorId:1659,productId:8963}]}])}async open(t,n){return new Promise((r,i)=>{this.delegate=new _I(t,n),this.delegate.addEventListener("data",o=>{const a=o.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",o=>{i(o)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0}),this.delegate.open()})}async closeImpl(){return this.delegate?.close()}async write(t){return this.delegate?this.delegate.write(t):new Promise((n,r)=>{r("not yet initialized")})}}class LI extends W0{delegate;constructor(){super([{filters:[{vendorId:1027,productId:24577}]}])}async open(t,n){return new Promise((r,i)=>{this.delegate=new sI(t,n),this.delegate.addEventListener("data",o=>{const a=o.detail;this.inboundDataQueue.push(a)}),this.delegate.addEventListener("ready",()=>{r(this)}),this.delegate.addEventListener("error",o=>{i(o.detail)}),this.delegate.addEventListener("disconnected",()=>{console.debug(`disconnected from ${JSON.stringify(t)}`),this.closed=!0})})}async closeImpl(){return this.delegate.closeAsync()}async write(t){return this.delegate.writeAsync(t)}}class ga{static supportedDrivers=[new LI,new II,new RI];static async getPorts(){const t=[];return navigator.usb&&(await navigator.usb.getDevices()).forEach(r=>{const i=ga.findDriverForDevice(r);i&&t.push(new $w(r,i))}),t}async requestPort(){return new Promise((t,n)=>{const r=ga.supportedDrivers.flatMap(i=>i.options.flatMap(o=>o.filters));navigator.usb.requestDevice({filters:r}).then(i=>{const o=ga.findDriverForDevice(i);o?t(new $w(i,o)):n(`could not find driver for device ${JSON.stringify(i)}`)})})}static findDriverForDevice(t){return this.supportedDrivers.find(n=>n.options.flatMap(i=>i.filters).find(i=>i.vendorId==t.vendorId&&i.productId===t.productId))}}class AI{listeners=[];intervalMs;intervalId;constructor(t=1e3){this.intervalMs=t}addListener(t){this.listeners.push(t)}removeListener(t){this.listeners.filter((n,r,i)=>n===t?(i.splice(r,1),!0):!1)}tick(){const t=Date.now();this.listeners.forEach(n=>{n.tick(t)})}start(){this.intervalId=setInterval(()=>{this.tick()},this.intervalMs)}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}}const mC=new AI;function q0(e){const t=_.useContext(xt),n=()=>{},r=_.useRef(n);_.useEffect(()=>{r.current=e},[e]),_.useEffect(()=>{const i={tick:()=>{r.current()}};return t.timingSignal.addListener(i),()=>t.timingSignal.removeListener(i)},[])}const Me=ol,ns=new qR,Xr=new wR,gC=new BR(Xr,ns),FI=new GR;function $I(){ns.setPortaCountClient(Xr)}function jI(){gt.synth.getVoices(),gt.setSpeechEnabled(Me.getSetting(F.SPEECH_ENABLED));const e=gt.findVoiceByName(Me.getSetting(F.SPEECH_VOICE));e&&gt.setSelectedVoice(e),Xr.addListener({particleConcentrationReceived(r){if(!gt.isSayingSomething()&&Me.speechEnabled&&Me.sayParticleCount){const i=r.concentration,o=Math.ceil(i),a=o<20?(Math.ceil(i*10)/10).toFixed(1):o,s=Me.verboseSpeech?`Particle count is ${a}`:a.toString();gt.sayIt(s)}}});let t="";const n={instructionsChanged(r){const i=r.split(".",2)[0];t!==r&&(t=r,gt.sayItLater(i))},estimatedFitFactorChanged(r){Me.sayEstimatedFitFactor&&gt.sayItPolitely(`Estimated Fit Factor is ${r.toFixed(0)}`)}};ns.addListener(n)}function UI(e){const t=Me.getProtocolDefinition(e),n=lC(t),r=Xr.settings,i=r.numExercises||n;i!==n&&console.warn(`numExercises (${i} does not match num exercise for protocol ${e} (${n})`);const o=[];let a=0;return t.forEach(s=>{if(s.mask_sample){a++;const l={instructions:s.instructions,ambient_purge:r.ambientPurge||vt.defaultAmbientPurgeDuration,ambient_sample:r.ambientSample||vt.defaultAmbientSampleDuration,mask_purge:r.maskPurge||vt.defaultMaskPurgeDuration,mask_sample:r.maskSample.get(a)||vt.defaultMaskSampleDuration};a>i?console.log(`Ignoring extra exercises. Device is configured for ${i}. Ignoring exercise ${a}`):o.push(l)}}),o.push({instructions:"finalize",ambient_purge:r.ambientPurge,ambient_sample:r.ambientSample,mask_purge:0,mask_sample:0}),o}async function vC(){const e=navigator.serial?(await navigator.serial.getPorts()).filter(a=>a.getInfo().usbVendorId):[],t=await ga.getPorts(),n=t.length>0?t[0]:null,r=e.length>0?e[0]:null,i=Me.getSetting(F.SELECTED_DATA_SOURCE);let o=null;i===We.WebUsbSerial&&n?o=n:i===We.WebSerial&&r?o=r:n?(o=n,Me.saveSetting(F.SELECTED_DATA_SOURCE,We.WebUsbSerial)):r&&(o=r,Me.saveSetting(F.SELECTED_DATA_SOURCE,We.WebSerial)),o?(console.debug(`auto-connecting to port ${JSON.stringify(o)}`),Xr.connect(o)):Me.getSetting(F.ENABLE_AUTO_CONNECT)&&setTimeout(()=>vC(),1500)}async function HI(){const e=new Date,t=new Date(e.getTime()-e.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);function n(r){const i=new Date(r);try{return new Date(i.getTime()-i.getTimezoneOffset()*60*1e3).toISOString().substring(0,10)===t}catch{return!1}}return Rn.getData().then(r=>{const i=al(r.map(s=>s.Mask)),o=al(r.map(s=>s.Notes)),a=al(r.filter(s=>n(s.Time)).map(s=>s.Participant));Me.saveSetting(F.COMBINED_MASK_LIST,i),Me.saveSetting(F.TEST_NOTES,[...o].sort(ts.compare)),Me.saveSetting(F.COMBINED_PARTICIPANT_LIST,a)})}function VI(){Xr.baudRate=Me.getSetting(F.BAUD_RATE),Xr.syncOnConnect=Me.getSetting(F.SYNC_DEVICE_STATE_ON_CONNECT)}function BI(){let e=!1,t=kt.Disconnected;function n({executorRunning:i,activity:o}){i!==void 0&&(e=i),o!==void 0&&(t=o),Me.saveSetting(F.ACTIVITY,e?kt.Testing:t)}const r={started(){n({executorRunning:!0})},cancelled(){n({executorRunning:!1})},completed(){n({executorRunning:!1})},activityChanged(i){n({activity:i})},connectionStatusChanged(i){switch(i){case $t.DISCONNECTED:n({activity:kt.Disconnected});break;default:n({activity:kt.Idle});break}}};Xr.addListener(r),gC.addListener(r)}function YI(){const e={newTestStarted(n){const r=Q0(n.Mask);if(!r)return;const i=Me.getSetting(F.COMBINED_MASK_LIST);new Set(i.map(a=>a.toLowerCase())).has(r.toLowerCase())||Me.saveSetting(F.COMBINED_MASK_LIST,[...i,r].toSorted(ts.compare))}};ns.addListener(e);const t=al([...Me.getSetting(F.MASK_LIST),...Me.getSetting(F.COMBINED_MASK_LIST)]);Me.saveSetting(F.COMBINED_MASK_LIST,t),Me.getSetting(F.AUTO_UPDATE_MASK_LIST)&&Me.saveSetting(F.MASK_LIST,t)}function zI(){const e={newTestStarted(n){const r=Q0(n.Participant);if(!r)return;const i=Me.getSetting(F.COMBINED_PARTICIPANT_LIST);new Set(i.map(a=>a.toLowerCase())).has(r.toLowerCase())||Me.saveSetting(F.COMBINED_PARTICIPANT_LIST,[...i,r].toSorted(ts.compare))}};ns.addListener(e);const t=al([...Me.getSetting(F.PARTICIPANT_LIST),...Me.getSetting(F.COMBINED_PARTICIPANT_LIST)]);Me.saveSetting(F.COMBINED_PARTICIPANT_LIST,t),Me.saveSetting(F.PARTICIPANT_LIST,t)}function WI(){Object.entries(ng).forEach(([e,t])=>{la.setDefault(e,t)})}async function qI(){WI(),await Me.loadAllSettings(),await Rn.open(),await vd.open(),VI(),jI(),$I(),await HI(),BI(),YI(),zI(),mC.start(),Me.getSetting(F.ENABLE_AUTO_CONNECT)&&await vC()}function Q0(e){return(e??"").replaceAll(/\s+/g," ")}function al(e){const t=new Set;return[...e.reduce((r,i)=>{const o=Q0(i),a=o.toLowerCase();return a&&!t.has(a)&&(t.add(a),r.add(o)),r},new Set)].toSorted(ts.compare)}await qI();const yC={portaCountClient:Xr,settings:Me,dataCollector:ns,protocolExecutor:gC,portaCountSimulator:FI,timingSignal:mC},xt=_.createContext(yC);function QI(e,t){const n=_.useRef(),r=_.useRef(),i=o=>{r.current===void 0&&(r.current=o),e({frameCurrentTime:o}),n.current=requestAnimationFrame(i)};_.useEffect(()=>(n.current=requestAnimationFrame(i),()=>{n.current&&cancelAnimationFrame(n.current)}),t)}function GI(e,t={}){const n=_.useContext(UR),[r,i]=_.useState(n.getConfig(e,t));return _.useEffect(()=>{const s={subscriptions:()=>[e],configChanged(l,u){i(u)}};return n.addListener(s),()=>n.removeListener(s)},[]),[r,s=>{const l=typeof s=="function"?s(n.getConfig(e,t)):s;n.setConfig(e,l),i(l)},()=>n.getConfig(e)]}function ae(e){return GI(e)}function KI(){const e=_.useContext(xt),t=e.settings.getProtocolNames(),[n,r]=ae(F.SELECTED_PROTOCOL),i=o=>{const a=n;r(o),a!==o&&e.protocolExecutor.protocolIsExecuting()&&e.protocolExecutor.cancel()};return S.jsx("select",{id:"protocol-select",onChange:o=>i(o.target.value),value:n,children:t.map(o=>S.jsx("option",{value:o,children:o},o))})}var wC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jw=R.createContext&&R.createContext(wC),XI=["attr","size","title"];function ZI(e,t){if(e==null)return{};var n=JI(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JI(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lf.apply(this,arguments)}function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(r){eL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eL(e,t,n){return t=tL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tL(e){var t=nL(e,"string");return typeof t=="symbol"?t:t+""}function nL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _C(e){return e&&e.map((t,n)=>R.createElement(t.tag,uf({key:n},t.attr),_C(t.child)))}function ot(e){return t=>R.createElement(rL,lf({attr:uf({},e.attr)},t),_C(e.child))}function rL(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=ZI(e,XI),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),R.createElement("svg",lf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:uf(uf({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&R.createElement("title",null,o),e.children)};return jw!==void 0?R.createElement(jw.Consumer,null,n=>t(n)):t(wC)}function iL(e){return ot({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zM6 4.5l6 3.5-6 3.5z"},child:[]}]})(e)}function oL(e){return ot({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zM5 5h6v6h-6z"},child:[]}]})(e)}function aL(e){return ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707m0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707m-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707"},child:[]}]})(e)}function sL(e){return ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"},child:[]}]})(e)}function Hw(e){return ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 4v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2m4.271 1.055a.5.5 0 0 1 .52.038L8 7.386V5.5a.5.5 0 0 1 .79-.407l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 8 10.5V8.614l-3.21 2.293A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .271-.445"},child:[]}]})(e)}function lL(e){return ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 9a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3A.5.5 0 0 1 6 9M3.854 4.146a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708z"},child:[]},{tag:"path",attr:{d:"M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"},child:[]}]})(e)}function SC(e){return ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 2A2.5 2.5 0 0 0 10 4.5a.5.5 0 0 1-1 0A3.5 3.5 0 1 1 12.5 8H.5a.5.5 0 0 1 0-1h12a2.5 2.5 0 0 0 0-5m-7 1a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 1 1 2 2h-5a.5.5 0 0 1 0-1h5a1 1 0 0 0 0-2M0 9.5A.5.5 0 0 1 .5 9h10.042a3 3 0 1 1-3 3 .5.5 0 0 1 1 0 2 2 0 1 0 2-2H.5a.5.5 0 0 1-.5-.5"},child:[]}]})(e)}function xC(e){return ot({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"},child:[]}]})(e)}function bC(e){return ot({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,104a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,104Zm-8,24H88a8,8,0,0,0,0,16h80a8,8,0,0,0,0-16Zm88-24v24a32,32,0,0,1-32,32h-5.19c-7.19,15.8-21.79,29.43-43.23,40.16a191.16,191.16,0,0,1-46.15,15.71,7.93,7.93,0,0,1-2.86,0,191.16,191.16,0,0,1-46.15-15.71C59,189.43,44.38,175.8,37.19,160H32A32,32,0,0,1,0,128V104A32,32,0,0,1,32,72h.85a16,16,0,0,1,9.68-10l80-29.09a16.06,16.06,0,0,1,10.94,0l80,29.09a16,16,0,0,1,9.68,10H224A32,32,0,0,1,256,104ZM32.55,144a58.74,58.74,0,0,1-.55-8V88a16,16,0,0,0-16,16v24a16,16,0,0,0,16,16ZM208,136V77.09L128,48,48,77.09V136c0,45,69.09,61.52,80,63.84C138.89,197.52,208,181,208,136Zm32-32a16,16,0,0,0-16-16v48a58.74,58.74,0,0,1-.55,8H224a16,16,0,0,0,16-16Z"},child:[]}]})(e)}function uL(e){return ot({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,128a79.94,79.94,0,0,0-32.7-64.47l-6.24-34.38A16,16,0,0,0,153.32,16H102.68A16,16,0,0,0,86.94,29.15L80.7,63.53a79.9,79.9,0,0,0,0,128.94l6.24,34.38A16,16,0,0,0,102.68,240h50.64a16,16,0,0,0,15.74-13.15l6.24-34.38A79.94,79.94,0,0,0,208,128ZM102.68,32h50.64l3.91,21.55a79.75,79.75,0,0,0-58.46,0ZM64,128a64,64,0,1,1,64,64A64.07,64.07,0,0,1,64,128Zm89.32,96H102.68l-3.91-21.55a79.75,79.75,0,0,0,58.46,0ZM120,128V88a8,8,0,0,1,16,0v32h32a8,8,0,0,1,0,16H128A8,8,0,0,1,120,128Z"},child:[]}]})(e)}function cL(e){return ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M224 232a32 32 0 0 1 64 0m160-32h16m-400 0H48m16 0c0 96 16 128 80 128s80-32 80-128c0 0-16-16-80-16s-80 16-80 16zm384 0c0 96-16 128-80 128s-80-32-80-128c0 0 16-16 80-16s80 16 80 16z"},child:[]}]})(e)}function fL(e){return ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 256a112 112 0 1 0-112-112 112 112 0 0 0 112 112zm0 32c-69.42 0-208 42.88-208 128v64h416v-64c0-85.12-138.58-128-208-128z"},child:[]}]})(e)}function dL(e){return ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 0 0 112 48v16H96a64 64 0 0 0-64 64v12a4 4 0 0 0 4 4h440a4 4 0 0 0 4-4v-12a64 64 0 0 0-64-64zm61 112H35a3 3 0 0 0-3 3v237a64 64 0 0 0 64 64h320a64 64 0 0 0 64-64V179a3 3 0 0 0-3-3zM224 307.43A28.57 28.57 0 0 1 195.43 336h-70.86A28.57 28.57 0 0 1 96 307.43v-70.86A28.57 28.57 0 0 1 124.57 208h70.86A28.57 28.57 0 0 1 224 236.57z"},child:[]}]})(e)}function Du({duration:e,source:t,state:n,override:r}){return S.jsxs("div",{className:`${t}-${n}-segment`,style:{flexBasis:`${e}px`,flexGrow:e,minWidth:"0px"},children:[t===xe.MASK&&n===Mn.SAMPLE&&Ge(1e3*e),r&&` (${r})`]})}function hL({stage:e,elementRef:t,currentTestResults:n,exerciseNum:r,currentEstimate:i}){const o=e.ambient_purge+e.ambient_sample+e.mask_purge+e.mask_sample,a=i!==void 0?i:r&&n?n[`Ex ${r}`]:void 0;return S.jsxs("div",{className:"protocol-stage-element",ref:t,style:{flexBasis:`${o}px`,flexGrow:o,overflow:"hidden"},children:[S.jsx("div",{className:"stage-instructions",children:e.instructions.split(".")[0]}),S.jsxs("div",{className:"stage-segments",children:[S.jsx(Du,{duration:e.ambient_purge,source:xe.AMBIENT,state:Mn.PURGE}),S.jsx(Du,{duration:e.ambient_sample,source:xe.AMBIENT,state:Mn.SAMPLE}),S.jsx(Du,{duration:e.mask_purge,source:xe.MASK,state:Mn.PURGE}),S.jsx(Du,{duration:e.mask_sample,source:xe.MASK,state:Mn.SAMPLE,override:a})]})]})}function pL(e){return ot({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"},child:[]}]})(e)}function mL(e){return ot({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},child:[]}]})(e)}function gL(){const t=_.useContext(xt),[n]=_.useState(t.dataCollector),[r,i]=_.useState(""),o=_.useRef(null),[a,s]=_.useState([0,0]),l=_.useMemo(()=>o.current?o.current.clientHeight:30*1.5,[o.current]);function u(h){if(o.current){const m=f(h);o.current.style.fontSize=m+"px"}}function c(h,m,g){const v=m.split(/\s+/);let p=0,w=0;return v.forEach(y=>{const x=y.length*h;w+x<g?w+=x+h:(p++,w=x)}),p}function f(h){let m=1;if(o.current){const g=o.current.clientHeight>window.innerHeight*.7?o.current.clientHeight:l;console.debug(`calculateFontSize max height ${g}`);const v=o.current.clientWidth,p=h.length,w=v/p,y=Math.sqrt(v*g/p);for(let x=w;x<y&&!(c(x,h,v)*x>g);x++)m=x}return Math.max(m,30)}const d={instructionsChanged(h){i(h.replace(/\./,`.
`))}};return _.useEffect(()=>{n.addListener(d);const h=new ResizeObserver(([m])=>{s([m.target.clientWidth,m.target.clientHeight])});return o.current&&h.observe(o.current),()=>{n.removeListener(d),h.disconnect()}},[]),_.useEffect(()=>{u(r)},[r,a]),S.jsxs("fieldset",{style:{display:"inline-block",flexGrow:1,height:"inherit"},className:"info-box-compact",children:[S.jsx("legend",{children:"Test Instructions"}),S.jsx("textarea",{id:"test-instructions",ref:o,style:{width:"100%",minHeight:"1em",height:"inherit",overflow:"auto",resize:"none",border:"none",alignContent:"center",textAlign:"center",textWrap:"wrap",whiteSpaceCollapse:"collapse"},readOnly:!0,value:r,onChange:()=>null})]})}function vL(e){return ot({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2 22 3.41zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59 3.41 22z"},child:[]}]})(e)}function yL(e){return ot({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"circle",attr:{cx:"7",cy:"12",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17",cy:"12",r:"1.5"},child:[]}]})(e)}function Ou({icon:e,text:t,children:n}){return S.jsxs("div",{className:"icon-text svg-container thin-border blue-bg number-field",style:{display:"inline-flex",gap:"0.2em"},children:[S.jsx("div",{className:"wide-display",children:t}),S.jsx("div",{className:"narrow-display",children:e?e({}):null}),n]})}function wL({...e}){const t=_.useContext(xt),n=t.protocolExecutor,r=t.portaCountClient,i=t.dataCollector,[o,a]=_.useState(),[s,l]=_.useState(Date.now()),[u,c]=_.useState(!1),[f]=ae(F.SELECTED_PROTOCOL),[d,h]=_.useState({}),[m,g]=_.useState(!0),[v,p]=_.useState([]),[w,y]=_.useState([]),[x,E]=_.useState(!1),[b,C]=_.useState(0),[k,N]=_.useState(Ge(0)),A=_.useRef(null),O=_.useRef(null),V=_.useRef(null),I=n.lastAmbientSegment?vi(n.lastAmbientSegment):void 0,T=o?vi(o):void 0,P=I&&T?gd(I/T):"?",[D]=ae(F.ENABLE_TEST_INSTRUCTIONS_ZOOM),[j]=ae(F.ACTIVITY),[M,$]=ae(F.ZOOM_INSTRUCTIONS),[B]=ae(F.SHOW_EXTERNAL_CONTROL);_.useEffect(()=>{o&&q(o)},[o]),_.useEffect(()=>{$(D&&j===kt.Testing)},[D,j]);function q(U){const X=sC(U),he=U.index===o?.index,ve=U.duration*1e3-(Date.now()-s);if(!X)return"";const Ut=d[`Ex ${U.exerciseNumber}`];return Ut?`done - ${Ut}`:he?ve>0?`${Ge(ve)} (${P})`:`${Ge(ve)} (${P})`:Ge(1e3*U.duration)}function G(){const U={},X={},he=uC(v);v.forEach(ve=>{X[ve.index]=ve.duration,U[ve.stageIndex]=(U[ve.stageIndex]??0)+ve.duration}),C(he)}function me(U){U.index===0&&G(),a(U),l(U.segmentStartTimeMs||Date.now()),c(!0)}function ce(){n.currentSegment&&a(n.currentSegment)}_.useEffect(()=>{const U={testStarted(X){E(!0),a(v[0]),l(X),ne({source:Ce.Internal})},testTerminated(){E(!1),a(void 0)},fitFactorResultsReceived(X){if(X.exerciseNum==="Final")E(!1),a(void 0);else{const he=v.reduce((ve,Ut,Lh,pO)=>ve||(Ut.exerciseNumber===X.exerciseNum+1?pO[Lh]:null),null);a(he||void 0),l(X.timestamp)}}};return r.addListener(U),()=>{r.removeListener(U)}},[v]),_.useEffect(()=>{const U={started(){c(!0)},segmentDataUpdated(){},segmentChanged(he){me(he)},cancelled(){A.current&&A.current.classList.replace("in-progress","paused"),c(!1),a(void 0)},completed(){c(!1),a(void 0)}},X={currentTestUpdated(he){h(he),g(!0)}};return n.addListener(U),i.addListener(X),ne({}),ce(),()=>{n.removeListener(U),i.removeListener(X)}},[]),_.useEffect(()=>{h({}),ne({}),g(!0)},[f]),_.useEffect(()=>{u?O.current?.classList.replace("idle","in-progress"):O.current?.classList.replace("in-progress","idle")},[u]),q0(ge);function ne({protocolName:U=f,source:X=Ce.External}){const he=X===Ce.External?t.settings.getProtocolDefinition(U):UI(U);y(he),p(sf(he)),g(!0)}function ge(){(m||o&&o.state&&o.state!==Mn.IDLE)&&(N(Ge(z(1e3*(o?.duration??0)))),G(),g(!1))}function z(U,X=!0){const he=Date.now()-s,ve=Math.min(he,U);return o?o.protocolStartTimeOffsetSeconds*1e3+(X?ve:he):0}QI(()=>{if(!(!u&&!x)&&A.current){const U=1e3*(o?.duration??0),X=z(U,!x);Date.now()-s>=U?A.current.classList.replace("in-progress","paused"):A.current.classList.replace("paused","in-progress"),o&&(A.current.style.right=`calc(${100-.1*X/b}% - 12px)`)}},[u,x,o]);function re(){n.cancel()}function L(){return o&&o.source===xe.MASK&&T&&!isNaN(T)?T.toFixed(T<100?1:0):"?"}function Q(){if(!o)return"?";if(o.source===xe.AMBIENT){const U=vi(o);if(U)return U.toFixed(0)}return I?I.toFixed(0):"?"}function de(){i.recordTestStart(Ce.Manual)}_.useEffect(()=>{$(D&&j===kt.Testing)},[j,D]);function Y(){$(U=>!U)}function le(){const U=[];let X=0;return w.forEach((he,ve)=>{he.mask_sample&&X++,U.push(S.jsx(hL,{elementRef:V,stage:he,exerciseNum:X,currentTestResults:d,currentEstimate:o&&o.stageIndex===ve?P:void 0},ve))}),U}return S.jsxs("section",{id:"custom-control-panel",...e,style:{paddingTop:"0.5em",height:M?"inherit":"auto",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[S.jsxs("fieldset",{id:"protocol-executor-panel-main",ref:O,className:"idle",style:{minWidth:0,overflow:"auto",paddingBottom:"0.2em"},children:[S.jsxs("legend",{style:{textAlign:"start",display:"inline-flex",flexWrap:"wrap",paddingInline:"0.5rem"},children:["Protocol ",S.jsx(KI,{}),B&&S.jsxs("button",{disabled:u||r.state.connectionStatus!==$t.RECEIVING,className:"icon-button start",onClick:()=>n.executeProtocol(v),children:["Start ",S.jsx("div",{className:"svg-container",children:S.jsx(iL,{})})]}),B&&S.jsxs("button",{disabled:!u,onClick:()=>re(),className:"icon-button stop",children:["Stop ",S.jsx("div",{className:"svg-container",children:S.jsx(oL,{})})]}),S.jsxs("button",{disabled:u,onClick:()=>de(),className:"icon-button",children:["Manual ",S.jsx("div",{className:"svg-container",children:S.jsx(mL,{})})]}),S.jsxs("div",{style:{display:"inline-flex"},children:[S.jsxs(Ou,{icon:uL,text:"Time:",children:[k," / ",Ge(b*1e3)]}),S.jsx(Ou,{icon:SC,text:"Ambient:",children:Q()}),S.jsx(Ou,{icon:bC,text:"Mask:",children:L()}),S.jsx(Ou,{icon:cL,text:"Estimate:",children:P})]})]}),S.jsxs("section",{id:"protocol-visualizer",style:{position:"relative"},children:[S.jsx("div",{id:"protocol-pos-pointer",ref:A,className:"protocol-position-pointer paused",style:{float:"inline-start",zIndex:1}}),S.jsx("div",{id:"new-protocol-visualizer-container",style:{display:"flex",flexDirection:"row"},children:le()})]})]}),S.jsxs("div",{id:"testing-mode-container",className:`test-instructions-container ${M&&"test-in-progress"}`,children:[S.jsx("div",{style:{padding:"0.2em",position:"absolute",right:0,backgroundColor:"inherit",aspectRatio:1,zIndex:10},onClick:()=>Y(),children:M?S.jsx(vL,{}):S.jsx(aL,{})}),S.jsx(gL,{})]})]})}function _L(e){return ot({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 14 4 9l5-5"},child:[]},{tag:"path",attr:{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11"},child:[]}]})(e)}function xo({debounce:e=!0,debounceDelay:t=500,resize:n=!0,onChange:r,initialValue:i,label:o,placeholder:a,autocompleteOptions:s=[],id:l,oneLine:u=!1,scrollable:c=!1,onChangeOnlyOnBlur:f,className:d}){const[h,m]=R.useState(i),g=_.useRef(null),v=_.useRef(null),[p,w]=_.useState(null),[y,x]=_.useState(!1),[E,b]=_.useState(!0),[C,k]=_.useState(!0),[N,A]=_.useState(0),O=_.useRef(null),V=_.useRef(null),I=_.useMemo(()=>{const L=Array.isArray(s)?s:s();if((h??"").trim().length===0||!C)return L;function de(Y){const le=Y.value.toLowerCase();return(h??"").toLowerCase().split(/\s+/).every(U=>le.includes(U))}return L.filter(Y=>de(Y))},[s,h,C]),T=_.useCallback(L=>{const Q=I.length;switch(L.ctrlKey?`Ctrl-${L.key.toUpperCase()}`:L.code){case"Escape":if(h!==i){ce();break}if(C&&Q<N){k(!1);break}M();break;case"Ctrl-N":case"Ctrl-F":case"ArrowDown":if(!Q)break;w(Y=>(Y===null?0:Y+1)%Q),x(!0);break;case"Ctrl-P":case"Ctrl-B":case"ArrowUp":if(!Q)break;w(Y=>(Q+(Y===null?Q-1:Y-1))%Q),x(!0);break;case"Enter":if(!y||!Q||p===null)break;Q===1&&I[0].value.toLowerCase()===(h??"").toLowerCase()?(L.preventDefault(),ne(h)):Q>0&&(L.preventDefault(),ne(I[p].value)),M();break;case"Tab":y&&Q?p===null||Q===1&&I[0].value.toLowerCase()===(h??"").toLowerCase()?ne(h):Q>0?ne(I[p].value):console.debug("tab fallthrough"):ne(h),M();break;default:k(!0),x(!0);break}},[I,p,h,y]);_.useEffect(()=>{P(h)},[]),_.useEffect(()=>{m(i)},[i]),_.useEffect(()=>{if(P(h),h||w(null),!f&&r)if(e){const L=setTimeout(()=>{i!==h&&r(h)},t);return()=>clearTimeout(L)}else r(h)},[h]),_.useEffect(()=>{if(V.current&&p!==null){const L=V.current.children.item(p);L&&L.scrollIntoView({block:"center"}),b(!1)}},[p]),_.useEffect(()=>{w(L=>L===null||I.length===0?null:Math.min(L,I.length-1))},[I]),_.useEffect(()=>{if(y){let L=function(){document.removeEventListener("click",Q),document.removeEventListener("focusin",de),document.removeEventListener("mousemove",Y)};const Q=le=>{if(console.debug("global click listener:",le),le.target!==V.current){if(O.current){const U=O.current.getBoundingClientRect();if(le.clientX>=U.left&&le.clientX<=U.right&&le.clientY>=U.top&&le.clientY<=U.bottom)return}v.current&&(console.debug("clicked outside component, value is",h,"event value is",v.current.value),ne(v.current.value),M(),L())}},de=le=>{E&&le.target!==v.current&&v.current&&(console.debug("focusIn different element, value is",v.current.value),ne(v.current.value),M(),L())},Y=le=>{le.type==="mousemove"&&b(!0)};return document.addEventListener("click",Q),document.addEventListener("focusin",de),document.addEventListener("mousemove",Y),()=>{L()}}},[y,E]),_.useEffect(()=>{const L=Array.isArray(s)?s:s();A(L.length)},[s]);function P(L){n&&g.current&&(g.current.dataset.value=L)}function D(L){console.debug("textarea onchange",L.target.value),m(L.target.value)}function j(){E&&w(null)}function M(){w(null),x(!1),k(!0),v.current&&v.current.blur()}function $(L){ne(L.value),M()}function B(L){I.length>1&&L.type==="mousedown"&&document.activeElement===v.current&&x(Q=>!Q)}function q(){I.length>1&&x(!0)}const G=_.useCallback(()=>I.map(L=>{const Q=p!==null&&I[p]===L;return S.jsx("li",{className:`autocomplete-option ${Q&&"selected"}`,onMouseEnter:()=>j(),onClick:()=>$(L),children:L.label},L.value)}),[I,p]);function me(){m("")}function ce(){m(i)}function ne(L){if(console.debug(`updateValue '${i}' => '${L}'`),L===i){console.debug("no change");return}m(L),r&&r(L)}function ge(L){if(console.debug("onBlur handler",h,"autocomplete visible?",y),y){console.debug("let autocomplete handle update"),L.preventDefault();return}ne(h)}const z=v.current?.getBoundingClientRect(),re=`smart-text-area-${l}-textarea`;return S.jsxs("label",{id:`smart-text-area-${l}-container`,className:`smart-text-area-container ${d}`,ref:O,children:[o&&(XE(o)?S.jsx("label",{id:`smart-text-area-${l}-label`,htmlFor:re,className:"smart-text-area-label",children:o}):o),S.jsx("label",{id:`smart-text-area-${l}-textarea-resizer`,className:"textarea-resizer",ref:g,children:S.jsx("textarea",{id:re,className:`smart-text-area-textarea ${u?"one-line":""} ${c?"scrollable":""}`,placeholder:a,value:h,ref:v,onChange:D,onFocus:q,onBlur:L=>ge(L),onMouseDown:B,onKeyDown:L=>T(L)})}),S.jsx("div",{className:"clear-content-icon svg-container",children:h===i||!i?S.jsx(xC,{onClick:()=>me()}):S.jsx(_L,{onClick:()=>ce()})}),y&&ql.createPortal(S.jsx("div",{id:`smart-text-area-${l}-autocomplete-options`,className:`smart-text-area-autocomplete-container ${I.length<N&&"some-options-filtered"}`,ref:V,style:{top:z?.bottom,left:z?.left,width:z?.width},children:G()}),document.body)]})}function SL(e){const[t]=ae(F.COMBINED_MASK_LIST);function n(i){e.onChange&&e.onChange(i)}const r=_.useCallback(()=>t.toSorted(ts.compare).map(i=>({label:i,value:i})),[t]);return S.jsx(xo,{id:`mask-${e.id}`,className:e.className,onChangeOnlyOnBlur:!0,label:e.label,initialValue:e.value,autocompleteOptions:r,placeholder:e.placeholder||"Click to add mask",onChange:i=>n(i||"")})}function xL(e){const[t]=ae(F.COMBINED_PARTICIPANT_LIST);function n(r){e.onChange&&e.onChange(r)}return S.jsx(xo,{id:"participant",label:e.label,initialValue:e.value,onChangeOnlyOnBlur:!0,autocompleteOptions:t.map(r=>({label:r,value:r})),placeholder:"Click to add participant",onChange:r=>n(r||"")})}function bL(e){const[t,n]=ae(F.TEST_NOTES);function r(i){e.onChange&&e.onChange(i),n(o=>[...new Set([...o,i])].filter(a=>a&&a.trim().length>0).toSorted(ts.compare))}return S.jsx(xo,{id:"notes",onChangeOnlyOnBlur:!0,label:e.label,initialValue:e.value,autocompleteOptions:t.map(i=>({label:i,value:i})),placeholder:"Click to add notes",onChange:i=>r(i||"")})}function EL(){const[e,t,n]=ae(F.TEST_TEMPLATE);function r(u){u=u.trim(),a({Participant:u,Time:e.Participant!==u?new Date().toISOString():e.Time})}function i(u){a({Mask:u})}function o(u){a({Notes:u})}function a(u){const c={};Object.assign(c,n()),Object.assign(c,u),console.debug(`updateTestTemplate -> ${JSON.stringify(c)}`),t(c)}function s(){a({Participant:"",Mask:"",Notes:""})}function l(){a({Mask:"",Notes:""})}return S.jsx("div",{id:"current-participant-panel",children:S.jsx("div",{children:S.jsxs("div",{id:"participant-parameters",style:{display:"flex",textAlign:"start",flexDirection:"row",flexWrap:"wrap",gap:"2px"},children:[S.jsx("div",{className:"thin-border-2 participant-info",children:S.jsx(xL,{value:e.Participant,onChange:u=>r(u||""),label:S.jsxs("span",{id:"smart-text-area-participant-label",className:"smart-text-area-label",children:["Name ",S.jsx("div",{className:"svg-container",children:S.jsx(Hw,{onClick:()=>s()})})]})})}),S.jsx("div",{className:"thin-border-2 participant-info",children:S.jsx(SL,{value:e.Mask,id:"mask",onChange:u=>i(u||""),label:S.jsxs("span",{id:"smart-text-area-mask-label",className:"smart-text-area-label",children:["Mask ",S.jsx("div",{className:"svg-container",children:S.jsx(Hw,{onClick:()=>l()})})]})})}),S.jsx("div",{className:"thin-border-2 participant-info remainder",style:{flexGrow:1},children:S.jsx(bL,{value:e.Notes,label:"Notes",onChange:u=>o(u||"")})})]})})})}function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(null,arguments)}function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function CL(e,t){if(bo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EC(e){var t=CL(e,"string");return bo(t)=="symbol"?t:t+""}function Us(e,t,n){return(t=EC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(n),!0).forEach(function(r){Us(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EC(r.key),r)}}function kL(e,t,n){return t&&Bw(e.prototype,t),n&&Bw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ig(e,t){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ig(e,t)}function ML(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ig(e,t)}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cf(e)}function CC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CC=function(){return!!e})()}function DL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OL(e,t){if(t&&(bo(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DL(e)}function PL(e){var t=CC();return function(){var n,r=cf(e);if(t){var i=cf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OL(this,n)}}function og(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function NL(e){if(Array.isArray(e))return og(e)}function RL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TC(e,t){if(e){if(typeof e=="string")return og(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?og(e,t):void 0}}function IL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function va(e){return NL(e)||RL(e)||TC(e)||IL()}var LL=!1;function AL(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function FL(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var $L=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!LL:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(FL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=AL(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),It="-ms-",ff="-moz-",Pe="-webkit-",kC="comm",G0="rule",K0="decl",jL="@import",MC="@keyframes",UL="@layer",HL=Math.abs,yd=String.fromCharCode,VL=Object.assign;function BL(e,t){return Mt(e,0)^45?(((t<<2^Mt(e,0))<<2^Mt(e,1))<<2^Mt(e,2))<<2^Mt(e,3):0}function DC(e){return e.trim()}function YL(e,t){return(e=t.exec(e))?e[0]:e}function Ne(e,t,n){return e.replace(t,n)}function ag(e,t){return e.indexOf(t)}function Mt(e,t){return e.charCodeAt(t)|0}function kl(e,t,n){return e.slice(t,n)}function tr(e){return e.length}function X0(e){return e.length}function Pu(e,t){return t.push(e),e}function zL(e,t){return e.map(t).join("")}var wd=1,Ra=1,OC=0,nn=0,ut=0,rs="";function _d(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:wd,column:Ra,length:a,return:""}}function Ss(e,t){return VL(_d("",null,null,"",null,null,0),e,{length:-e.length},t)}function WL(){return ut}function qL(){return ut=nn>0?Mt(rs,--nn):0,Ra--,ut===10&&(Ra=1,wd--),ut}function un(){return ut=nn<OC?Mt(rs,nn++):0,Ra++,ut===10&&(Ra=1,wd++),ut}function hr(){return Mt(rs,nn)}function dc(){return nn}function Gl(e,t){return kl(rs,e,t)}function Ml(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function PC(e){return wd=Ra=1,OC=tr(rs=e),nn=0,[]}function NC(e){return rs="",e}function hc(e){return DC(Gl(nn-1,sg(e===91?e+2:e===40?e+1:e)))}function QL(e){for(;(ut=hr())&&ut<33;)un();return Ml(e)>2||Ml(ut)>3?"":" "}function GL(e,t){for(;--t&&un()&&!(ut<48||ut>102||ut>57&&ut<65||ut>70&&ut<97););return Gl(e,dc()+(t<6&&hr()==32&&un()==32))}function sg(e){for(;un();)switch(ut){case e:return nn;case 34:case 39:e!==34&&e!==39&&sg(ut);break;case 40:e===41&&sg(e);break;case 92:un();break}return nn}function KL(e,t){for(;un()&&e+ut!==57;)if(e+ut===84&&hr()===47)break;return"/*"+Gl(t,nn-1)+"*"+yd(e===47?e:un())}function XL(e){for(;!Ml(hr());)un();return Gl(e,nn)}function ZL(e){return NC(pc("",null,null,null,[""],e=PC(e),0,[0],e))}function pc(e,t,n,r,i,o,a,s,l){for(var u=0,c=0,f=a,d=0,h=0,m=0,g=1,v=1,p=1,w=0,y="",x=i,E=o,b=r,C=y;v;)switch(m=w,w=un()){case 40:if(m!=108&&Mt(C,f-1)==58){ag(C+=Ne(hc(w),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:C+=hc(w);break;case 9:case 10:case 13:case 32:C+=QL(m);break;case 92:C+=GL(dc()-1,7);continue;case 47:switch(hr()){case 42:case 47:Pu(JL(KL(un(),dc()),t,n),l);break;default:C+="/"}break;case 123*g:s[u++]=tr(C)*p;case 125*g:case 59:case 0:switch(w){case 0:case 125:v=0;case 59+c:p==-1&&(C=Ne(C,/\f/g,"")),h>0&&tr(C)-f&&Pu(h>32?zw(C+";",r,n,f-1):zw(Ne(C," ","")+";",r,n,f-2),l);break;case 59:C+=";";default:if(Pu(b=Yw(C,t,n,u,c,i,s,y,x=[],E=[],f),o),w===123)if(c===0)pc(C,t,b,b,x,o,f,s,E);else switch(d===99&&Mt(C,3)===110?100:d){case 100:case 108:case 109:case 115:pc(e,b,b,r&&Pu(Yw(e,b,b,0,0,i,s,y,i,x=[],f),E),i,E,f,s,r?x:E);break;default:pc(C,b,b,b,[""],E,0,s,E)}}u=c=h=0,g=p=1,y=C="",f=a;break;case 58:f=1+tr(C),h=m;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&qL()==125)continue}switch(C+=yd(w),w*g){case 38:p=c>0?1:(C+="\f",-1);break;case 44:s[u++]=(tr(C)-1)*p,p=1;break;case 64:hr()===45&&(C+=hc(un())),d=hr(),c=f=tr(y=C+=XL(dc())),w++;break;case 45:m===45&&tr(C)==2&&(g=0)}}return o}function Yw(e,t,n,r,i,o,a,s,l,u,c){for(var f=i-1,d=i===0?o:[""],h=X0(d),m=0,g=0,v=0;m<r;++m)for(var p=0,w=kl(e,f+1,f=HL(g=a[m])),y=e;p<h;++p)(y=DC(g>0?d[p]+" "+w:Ne(w,/&\f/g,d[p])))&&(l[v++]=y);return _d(e,t,n,i===0?G0:s,l,u,c)}function JL(e,t,n){return _d(e,t,n,kC,yd(WL()),kl(e,2,-2),0)}function zw(e,t,n,r){return _d(e,t,n,K0,kl(e,0,r),kl(e,r+1,-1),r)}function ya(e,t){for(var n="",r=X0(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function eA(e,t,n,r){switch(e.type){case UL:if(e.children.length)break;case jL:case K0:return e.return=e.return||e.value;case kC:return"";case MC:return e.return=e.value+"{"+ya(e.children,r)+"}";case G0:e.value=e.props.join(",")}return tr(n=ya(e.children,r))?e.return=e.value+"{"+n+"}":""}function tA(e){var t=X0(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function nA(e){return function(t){t.root||(t=t.return)&&e(t)}}function rA(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var iA=function(t,n,r){for(var i=0,o=0;i=o,o=hr(),i===38&&o===12&&(n[r]=1),!Ml(o);)un();return Gl(t,nn)},oA=function(t,n){var r=-1,i=44;do switch(Ml(i)){case 0:i===38&&hr()===12&&(n[r]=1),t[r]+=iA(nn-1,n,r);break;case 2:t[r]+=hc(i);break;case 4:if(i===44){t[++r]=hr()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=yd(i)}while(i=un());return t},aA=function(t,n){return NC(oA(PC(t),n))},Ww=new WeakMap,sA=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Ww.get(r))&&!i){Ww.set(t,!0);for(var o=[],a=aA(n,o),s=r.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)t.props[u]=o[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},lA=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function RC(e,t){switch(BL(e,t)){case 5103:return Pe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Pe+e+ff+e+It+e+e;case 6828:case 4268:return Pe+e+It+e+e;case 6165:return Pe+e+It+"flex-"+e+e;case 5187:return Pe+e+Ne(e,/(\w+).+(:[^]+)/,Pe+"box-$1$2"+It+"flex-$1$2")+e;case 5443:return Pe+e+It+"flex-item-"+Ne(e,/flex-|-self/,"")+e;case 4675:return Pe+e+It+"flex-line-pack"+Ne(e,/align-content|flex-|-self/,"")+e;case 5548:return Pe+e+It+Ne(e,"shrink","negative")+e;case 5292:return Pe+e+It+Ne(e,"basis","preferred-size")+e;case 6060:return Pe+"box-"+Ne(e,"-grow","")+Pe+e+It+Ne(e,"grow","positive")+e;case 4554:return Pe+Ne(e,/([^-])(transform)/g,"$1"+Pe+"$2")+e;case 6187:return Ne(Ne(Ne(e,/(zoom-|grab)/,Pe+"$1"),/(image-set)/,Pe+"$1"),e,"")+e;case 5495:case 3959:return Ne(e,/(image-set\([^]*)/,Pe+"$1$`$1");case 4968:return Ne(Ne(e,/(.+:)(flex-)?(.*)/,Pe+"box-pack:$3"+It+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pe+e+e;case 4095:case 3583:case 4068:case 2532:return Ne(e,/(.+)-inline(.+)/,Pe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tr(e)-1-t>6)switch(Mt(e,t+1)){case 109:if(Mt(e,t+4)!==45)break;case 102:return Ne(e,/(.+:)(.+)-([^]+)/,"$1"+Pe+"$2-$3$1"+ff+(Mt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ag(e,"stretch")?RC(Ne(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Mt(e,t+1)!==115)break;case 6444:switch(Mt(e,tr(e)-3-(~ag(e,"!important")&&10))){case 107:return Ne(e,":",":"+Pe)+e;case 101:return Ne(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pe+(Mt(e,14)===45?"inline-":"")+"box$3$1"+Pe+"$2$3$1"+It+"$2box$3")+e}break;case 5936:switch(Mt(e,t+11)){case 114:return Pe+e+It+Ne(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Pe+e+It+Ne(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Pe+e+It+Ne(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Pe+e+It+e+e}return e}var uA=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case K0:t.return=RC(t.value,t.length);break;case MC:return ya([Ss(t,{value:Ne(t.value,"@","@"+Pe)})],i);case G0:if(t.length)return zL(t.props,function(o){switch(YL(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ya([Ss(t,{props:[Ne(o,/:(read-\w+)/,":"+ff+"$1")]})],i);case"::placeholder":return ya([Ss(t,{props:[Ne(o,/:(plac\w+)/,":"+Pe+"input-$1")]}),Ss(t,{props:[Ne(o,/:(plac\w+)/,":"+ff+"$1")]}),Ss(t,{props:[Ne(o,/:(plac\w+)/,It+"input-$1")]})],i)}return""})}},cA=[uA],fA=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||cA,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),p=1;p<v.length;p++)o[v[p]]=!0;s.push(g)});var l,u=[sA,lA];{var c,f=[eA,nA(function(g){c.insert(g)})],d=tA(u.concat(i,f)),h=function(v){return ya(ZL(v),d)};l=function(v,p,w,y){c=w,h(v?v+"{"+p.styles+"}":p.styles),y&&(m.inserted[p.name]=!0)}}var m={key:n,sheet:new $L({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(s),m},IC={exports:{}},je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bt=typeof Symbol=="function"&&Symbol.for,Z0=bt?Symbol.for("react.element"):60103,J0=bt?Symbol.for("react.portal"):60106,Sd=bt?Symbol.for("react.fragment"):60107,xd=bt?Symbol.for("react.strict_mode"):60108,bd=bt?Symbol.for("react.profiler"):60114,Ed=bt?Symbol.for("react.provider"):60109,Cd=bt?Symbol.for("react.context"):60110,ev=bt?Symbol.for("react.async_mode"):60111,Td=bt?Symbol.for("react.concurrent_mode"):60111,kd=bt?Symbol.for("react.forward_ref"):60112,Md=bt?Symbol.for("react.suspense"):60113,dA=bt?Symbol.for("react.suspense_list"):60120,Dd=bt?Symbol.for("react.memo"):60115,Od=bt?Symbol.for("react.lazy"):60116,hA=bt?Symbol.for("react.block"):60121,pA=bt?Symbol.for("react.fundamental"):60117,mA=bt?Symbol.for("react.responder"):60118,gA=bt?Symbol.for("react.scope"):60119;function vn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Z0:switch(e=e.type,e){case ev:case Td:case Sd:case bd:case xd:case Md:return e;default:switch(e=e&&e.$$typeof,e){case Cd:case kd:case Od:case Dd:case Ed:return e;default:return t}}case J0:return t}}}function LC(e){return vn(e)===Td}je.AsyncMode=ev;je.ConcurrentMode=Td;je.ContextConsumer=Cd;je.ContextProvider=Ed;je.Element=Z0;je.ForwardRef=kd;je.Fragment=Sd;je.Lazy=Od;je.Memo=Dd;je.Portal=J0;je.Profiler=bd;je.StrictMode=xd;je.Suspense=Md;je.isAsyncMode=function(e){return LC(e)||vn(e)===ev};je.isConcurrentMode=LC;je.isContextConsumer=function(e){return vn(e)===Cd};je.isContextProvider=function(e){return vn(e)===Ed};je.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Z0};je.isForwardRef=function(e){return vn(e)===kd};je.isFragment=function(e){return vn(e)===Sd};je.isLazy=function(e){return vn(e)===Od};je.isMemo=function(e){return vn(e)===Dd};je.isPortal=function(e){return vn(e)===J0};je.isProfiler=function(e){return vn(e)===bd};je.isStrictMode=function(e){return vn(e)===xd};je.isSuspense=function(e){return vn(e)===Md};je.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sd||e===Td||e===bd||e===xd||e===Md||e===dA||typeof e=="object"&&e!==null&&(e.$$typeof===Od||e.$$typeof===Dd||e.$$typeof===Ed||e.$$typeof===Cd||e.$$typeof===kd||e.$$typeof===pA||e.$$typeof===mA||e.$$typeof===gA||e.$$typeof===hA)};je.typeOf=vn;IC.exports=je;var vA=IC.exports,AC=vA,yA={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FC={};FC[AC.ForwardRef]=yA;FC[AC.Memo]=wA;var _A=!0;function SA(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var $C=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||_A===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},xA=function(t,n,r){$C(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function bA(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var EA={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},CA=!1,TA=/[A-Z]|^ms/g,kA=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jC=function(t){return t.charCodeAt(1)===45},qw=function(t){return t!=null&&typeof t!="boolean"},xp=rA(function(e){return jC(e)?e:e.replace(TA,"-$&").toLowerCase()}),Qw=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(kA,function(r,i,o){return nr={name:i,styles:o,next:nr},i})}return EA[t]!==1&&!jC(t)&&typeof n=="number"&&n!==0?n+"px":n},MA="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Dl(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return nr={name:i.name,styles:i.styles,next:nr},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)nr={name:a.name,styles:a.styles,next:nr},a=a.next;var s=o.styles+";";return s}return DA(e,t,n)}case"function":{if(e!==void 0){var l=nr,u=n(e);return nr=l,Dl(e,t,u)}break}}var c=n;return c}function DA(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Dl(e,t,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var s=a;qw(s)&&(r+=xp(o)+":"+Qw(o,s)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&CA)throw new Error(MA);if(Array.isArray(a)&&typeof a[0]=="string"&&t==null)for(var l=0;l<a.length;l++)qw(a[l])&&(r+=xp(o)+":"+Qw(o,a[l])+";");else{var u=Dl(e,t,a);switch(o){case"animation":case"animationName":{r+=xp(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var Gw=/label:\s*([^\s;{]+)\s*(;|$)/g,nr;function UC(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";nr=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=Dl(n,t,o);else{var a=o;i+=a[0]}for(var s=1;s<e.length;s++)if(i+=Dl(n,t,e[s]),r){var l=o;i+=l[s]}Gw.lastIndex=0;for(var u="",c;(c=Gw.exec(i))!==null;)u+="-"+c[1];var f=bA(i)+u;return{name:f,styles:i,next:nr}}var OA=function(t){return t()},PA=om.useInsertionEffect?om.useInsertionEffect:!1,NA=PA||OA,RA=!1,HC=_.createContext(typeof HTMLElement<"u"?fA({key:"css"}):null);HC.Provider;var IA=function(t){return _.forwardRef(function(n,r){var i=_.useContext(HC);return t(n,i,r)})},LA=_.createContext({}),tv={}.hasOwnProperty,lg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",AA=function(t,n){var r={};for(var i in n)tv.call(n,i)&&(r[i]=n[i]);return r[lg]=t,r},FA=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return $C(n,r,i),NA(function(){return xA(n,r,i)}),null},$A=IA(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[lg],o=[r],a="";typeof e.className=="string"?a=SA(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var s=UC(o,void 0,_.useContext(LA));a+=t.key+"-"+s.name;var l={};for(var u in e)tv.call(e,u)&&u!=="css"&&u!==lg&&!RA&&(l[u]=e[u]);return l.className=a,n&&(l.ref=n),_.createElement(_.Fragment,null,_.createElement(FA,{cache:t,serialized:s,isStringTag:typeof i=="string"}),_.createElement(i,l))}),jA=$A,ue=function(t,n){var r=arguments;if(n==null||!tv.call(n,"css"))return _.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=jA,o[1]=AA(t,n);for(var a=2;a<i;a++)o[a]=r[a];return _.createElement.apply(null,o)};function nv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return UC(t)}var UA=function(){var t=nv.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function HA(e){if(Array.isArray(e))return e}function VA(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function BA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hr(e,t){return HA(e)||VA(e,t)||TC(e,t)||BA()}function YA(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function wr(e,t){if(e==null)return{};var n,r,i=YA(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zA(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Ia=Math.min,co=Math.max,df=Math.round,Nu=Math.floor,pr=e=>({x:e,y:e}),WA={left:"right",right:"left",bottom:"top",top:"bottom"},qA={start:"end",end:"start"};function QA(e,t,n){return co(e,Ia(t,n))}function Pd(e,t){return typeof e=="function"?e(t):e}function La(e){return e.split("-")[0]}function Kl(e){return e.split("-")[1]}function GA(e){return e==="x"?"y":"x"}function rv(e){return e==="y"?"height":"width"}function Ol(e){return["top","bottom"].includes(La(e))?"y":"x"}function iv(e){return GA(Ol(e))}function KA(e,t,n){n===void 0&&(n=!1);const r=Kl(e),i=iv(e),o=rv(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=hf(a)),[a,hf(a)]}function XA(e){const t=hf(e);return[ug(e),t,ug(t)]}function ug(e){return e.replace(/start|end/g,t=>qA[t])}function ZA(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function JA(e,t,n,r){const i=Kl(e);let o=ZA(La(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(ug)))),o}function hf(e){return e.replace(/left|right|bottom|top/g,t=>WA[t])}function e3(e){return{top:0,right:0,bottom:0,left:0,...e}}function VC(e){return typeof e!="number"?e3(e):{top:e,right:e,bottom:e,left:e}}function pf(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Kw(e,t,n){let{reference:r,floating:i}=e;const o=Ol(t),a=iv(t),s=rv(a),l=La(t),u=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Kl(t)){case"start":h[a]-=d*(n&&u?-1:1);break;case"end":h[a]+=d*(n&&u?-1:1);break}return h}const t3=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=Kw(u,r,l),d=r,h={},m=0;for(let g=0;g<s.length;g++){const{name:v,fn:p}=s[g],{x:w,y,data:x,reset:E}=await p({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:e,floating:t}});c=w??c,f=y??f,h={...h,[v]:{...h[v],...x}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(u=E.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:c,y:f}=Kw(u,d,l)),g=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function n3(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Pd(t,e),m=VC(h),v=s[d?f==="floating"?"reference":"floating":f],p=pf(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),w=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),x=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},E=pf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:y,strategy:l}):w);return{top:(p.top-E.top+m.top)/x.y,bottom:(E.bottom-p.bottom+m.bottom)/x.y,left:(p.left-E.left+m.left)/x.x,right:(E.right-p.right+m.right)/x.x}}const r3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=Pd(e,t)||{};if(u==null)return{};const f=VC(c),d={x:n,y:r},h=iv(i),m=rv(h),g=await a.getDimensions(u),v=h==="y",p=v?"top":"left",w=v?"bottom":"right",y=v?"clientHeight":"clientWidth",x=o.reference[m]+o.reference[h]-d[h]-o.floating[m],E=d[h]-o.reference[h],b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=b?b[y]:0;(!C||!await(a.isElement==null?void 0:a.isElement(b)))&&(C=s.floating[y]||o.floating[m]);const k=x/2-E/2,N=C/2-g[m]/2-1,A=Ia(f[p],N),O=Ia(f[w],N),V=A,I=C-g[m]-O,T=C/2-g[m]/2+k,P=QA(V,T,I),D=!l.arrow&&Kl(i)!=null&&T!==P&&o.reference[m]/2-(T<V?A:O)-g[m]/2<0,j=D?T<V?T-V:T-I:0;return{[h]:d[h]+j,data:{[h]:P,centerOffset:T-P-j,...D&&{alignmentOffset:j}},reset:D}}}),i3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Pd(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const p=La(i),w=Ol(s),y=La(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=d||(y||!g?[hf(s)]:XA(s)),b=m!=="none";!d&&b&&E.push(...JA(s,g,m,x));const C=[s,...E],k=await n3(t,v),N=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&N.push(k[p]),f){const T=KA(i,a,x);N.push(k[T[0]],k[T[1]])}if(A=[...A,{placement:i,overflows:N}],!N.every(T=>T<=0)){var O,V;const T=(((O=o.flip)==null?void 0:O.index)||0)+1,P=C[T];if(P)return{data:{index:T,overflows:A},reset:{placement:P}};let D=(V=A.filter(j=>j.overflows[0]<=0).sort((j,M)=>j.overflows[1]-M.overflows[1])[0])==null?void 0:V.placement;if(!D)switch(h){case"bestFit":{var I;const j=(I=A.filter(M=>{if(b){const $=Ol(M.placement);return $===w||$==="y"}return!0}).map(M=>[M.placement,M.overflows.filter($=>$>0).reduce(($,B)=>$+B,0)]).sort((M,$)=>M[1]-$[1])[0])==null?void 0:I[0];j&&(D=j);break}case"initialPlacement":D=s;break}if(i!==D)return{reset:{placement:D}}}return{}}}};async function o3(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=La(n),s=Kl(n),l=Ol(n)==="y",u=["left","top"].includes(a)?-1:1,c=o&&l?-1:1,f=Pd(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof m=="number"&&(h=s==="end"?m*-1:m),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const a3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await o3(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}};function Nd(){return typeof window<"u"}function is(e){return BC(e)?(e.nodeName||"").toLowerCase():"#document"}function cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _r(e){var t;return(t=(BC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BC(e){return Nd()?e instanceof Node||e instanceof cn(e).Node:!1}function Bt(e){return Nd()?e instanceof Element||e instanceof cn(e).Element:!1}function yr(e){return Nd()?e instanceof HTMLElement||e instanceof cn(e).HTMLElement:!1}function Xw(e){return!Nd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cn(e).ShadowRoot}function Xl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=In(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function s3(e){return["table","td","th"].includes(is(e))}function Rd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ov(e){const t=av(),n=Bt(e)?In(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function l3(e){let t=Li(e);for(;yr(t)&&!Aa(t);){if(ov(t))return t;if(Rd(t))return null;t=Li(t)}return null}function av(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Aa(e){return["html","body","#document"].includes(is(e))}function In(e){return cn(e).getComputedStyle(e)}function Id(e){return Bt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Li(e){if(is(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xw(e)&&e.host||_r(e);return Xw(t)?t.host:t}function YC(e){const t=Li(e);return Aa(t)?e.ownerDocument?e.ownerDocument.body:e.body:yr(t)&&Xl(t)?t:YC(t)}function Pl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=YC(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=cn(i);if(o){const s=cg(a);return t.concat(a,a.visualViewport||[],Xl(i)?i:[],s&&n?Pl(s):[])}return t.concat(i,Pl(i,[],n))}function cg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zC(e){const t=In(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=yr(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=df(n)!==o||df(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function sv(e){return Bt(e)?e:e.contextElement}function wa(e){const t=sv(e);if(!yr(t))return pr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=zC(t);let a=(o?df(n.width):n.width)/r,s=(o?df(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const u3=pr(0);function WC(e){const t=cn(e);return!av()||!t.visualViewport?u3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function c3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==cn(e)?!1:t}function Eo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=sv(e);let a=pr(1);t&&(r?Bt(r)&&(a=wa(r)):a=wa(e));const s=c3(o,n,r)?WC(o):pr(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,f=i.height/a.y;if(o){const d=cn(o),h=r&&Bt(r)?cn(r):r;let m=d,g=cg(m);for(;g&&r&&h!==m;){const v=wa(g),p=g.getBoundingClientRect(),w=In(g),y=p.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,x=p.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,u*=v.y,c*=v.x,f*=v.y,l+=y,u+=x,m=cn(g),g=cg(m)}}return pf({width:c,height:f,x:l,y:u})}function lv(e,t){const n=Id(e).scrollLeft;return t?t.left+n:Eo(_r(e)).left+n}function qC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:lv(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function f3(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=_r(r),s=t?Rd(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=pr(1);const c=pr(0),f=yr(r);if((f||!f&&!o)&&((is(r)!=="body"||Xl(a))&&(l=Id(r)),yr(r))){const h=Eo(r);u=wa(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const d=a&&!f&&!o?qC(a,l,!0):pr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function d3(e){return Array.from(e.getClientRects())}function h3(e){const t=_r(e),n=Id(e),r=e.ownerDocument.body,i=co(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=co(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+lv(e);const s=-n.scrollTop;return In(r).direction==="rtl"&&(a+=co(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function p3(e,t){const n=cn(e),r=_r(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=av();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function m3(e,t){const n=Eo(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=yr(e)?wa(e):pr(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:a,height:s,x:l,y:u}}function Zw(e,t,n){let r;if(t==="viewport")r=p3(e,n);else if(t==="document")r=h3(_r(e));else if(Bt(t))r=m3(t,n);else{const i=WC(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return pf(r)}function QC(e,t){const n=Li(e);return n===t||!Bt(n)||Aa(n)?!1:In(n).position==="fixed"||QC(n,t)}function g3(e,t){const n=t.get(e);if(n)return n;let r=Pl(e,[],!1).filter(s=>Bt(s)&&is(s)!=="body"),i=null;const o=In(e).position==="fixed";let a=o?Li(e):e;for(;Bt(a)&&!Aa(a);){const s=In(a),l=ov(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Xl(a)&&!l&&QC(e,a))?r=r.filter(c=>c!==a):i=s,a=Li(a)}return t.set(e,r),r}function v3(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Rd(t)?[]:g3(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((u,c)=>{const f=Zw(t,c,i);return u.top=co(f.top,u.top),u.right=Ia(f.right,u.right),u.bottom=Ia(f.bottom,u.bottom),u.left=co(f.left,u.left),u},Zw(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function y3(e){const{width:t,height:n}=zC(e);return{width:t,height:n}}function w3(e,t,n){const r=yr(t),i=_r(t),o=n==="fixed",a=Eo(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=pr(0);if(r||!r&&!o)if((is(t)!=="body"||Xl(i))&&(s=Id(t)),r){const d=Eo(t,!0,o,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=lv(i));const u=i&&!r&&!o?qC(i,s):pr(0),c=a.left+s.scrollLeft-l.x-u.x,f=a.top+s.scrollTop-l.y-u.y;return{x:c,y:f,width:a.width,height:a.height}}function bp(e){return In(e).position==="static"}function Jw(e,t){if(!yr(e)||In(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _r(e)===n&&(n=n.ownerDocument.body),n}function GC(e,t){const n=cn(e);if(Rd(e))return n;if(!yr(e)){let i=Li(e);for(;i&&!Aa(i);){if(Bt(i)&&!bp(i))return i;i=Li(i)}return n}let r=Jw(e,t);for(;r&&s3(r)&&bp(r);)r=Jw(r,t);return r&&Aa(r)&&bp(r)&&!ov(r)?n:r||l3(e)||n}const _3=async function(e){const t=this.getOffsetParent||GC,n=this.getDimensions,r=await n(e.floating);return{reference:w3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function S3(e){return In(e).direction==="rtl"}const x3={convertOffsetParentRelativeRectToViewportRelativeRect:f3,getDocumentElement:_r,getClippingRect:v3,getOffsetParent:GC,getElementRects:_3,getClientRects:d3,getDimensions:y3,getScale:wa,isElement:Bt,isRTL:S3};function b3(e,t){let n=null,r;const i=_r(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const h=Nu(c),m=Nu(i.clientWidth-(u+f)),g=Nu(i.clientHeight-(c+d)),v=Nu(u),w={rootMargin:-h+"px "+-m+"px "+-g+"px "+-v+"px",threshold:co(0,Ia(1,l))||1};let y=!0;function x(E){const b=E[0].intersectionRatio;if(b!==l){if(!y)return a();b?a(!1,b):r=setTimeout(()=>{a(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(x,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,w)}n.observe(e)}return a(!0),o}function KC(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=sv(e),c=i||o?[...u?Pl(u):[],...Pl(t)]:[];c.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),o&&p.addEventListener("resize",n)});const f=u&&s?b3(u,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(p=>{let[w]=p;w&&w.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let m,g=l?Eo(e):null;l&&v();function v(){const p=Eo(e);g&&(p.x!==g.x||p.y!==g.y||p.width!==g.width||p.height!==g.height)&&n(),g=p,m=requestAnimationFrame(v)}return n(),()=>{var p;c.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f?.(),(p=h)==null||p.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const E3=a3,C3=i3,e_=r3,T3=(e,t,n)=>{const r=new Map,i={platform:x3,...n},o={...i.platform,_c:r};return t3(e,t,{...i,platform:o})};var fg=_.useLayoutEffect,k3=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],mf=function(){};function M3(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function D3(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(M3(e,a)));return o.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var gf=function(t){return $3(t)?t.filter(Boolean):bo(t)==="object"&&t!==null?[t]:[]},XC=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=wr(t,k3);return oe({},n)},rt=function(t,n,r){var i=t.cx,o=t.getStyles,a=t.getClassNames,s=t.className;return{css:o(n,t),className:i(r??{},a(n,t),s)}};function Ld(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function O3(e){return Ld(e)?window.innerHeight:e.clientHeight}function ZC(e){return Ld(e)?window.pageYOffset:e.scrollTop}function vf(e,t){if(Ld(e)){window.scrollTo(0,t);return}e.scrollTop=t}function P3(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function N3(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Ru(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:mf,i=ZC(e),o=t-i,a=10,s=0;function l(){s+=a;var u=N3(s,i,o,n);vf(e,u),s<n?window.requestAnimationFrame(l):r(e)}l()}function t_(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?vf(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&vf(e,Math.max(t.offsetTop-i,0))}function R3(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function n_(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function I3(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var JC=!1,L3={get passive(){return JC=!0}},Iu=typeof window<"u"?window:{};Iu.addEventListener&&Iu.removeEventListener&&(Iu.addEventListener("p",mf,L3),Iu.removeEventListener("p",mf,!1));var A3=JC;function F3(e){return e!=null}function $3(e){return Array.isArray(e)}function Hs(e,t,n){return e?t:n}var j3=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(t).filter(function(a){var s=Hr(a,1),l=s[0];return!r.includes(l)});return o.reduce(function(a,s){var l=Hr(s,2),u=l[0],c=l[1];return a[u]=c,a},{})},U3=["children","innerProps"],H3=["children","innerProps"];function V3(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,l=P3(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c=l.getBoundingClientRect(),f=c.height,d=n.getBoundingClientRect(),h=d.bottom,m=d.height,g=d.top,v=n.offsetParent.getBoundingClientRect(),p=v.top,w=a?window.innerHeight:O3(l),y=ZC(l),x=parseInt(getComputedStyle(n).marginBottom,10),E=parseInt(getComputedStyle(n).marginTop,10),b=p-E,C=w-g,k=b+y,N=f-y-g,A=h-w+y+x,O=y+g-E,V=160;switch(i){case"auto":case"bottom":if(C>=m)return{placement:"bottom",maxHeight:t};if(N>=m&&!a)return o&&Ru(l,A,V),{placement:"bottom",maxHeight:t};if(!a&&N>=r||a&&C>=r){o&&Ru(l,A,V);var I=a?C-x:N-x;return{placement:"bottom",maxHeight:I}}if(i==="auto"||a){var T=t,P=a?b:k;return P>=r&&(T=Math.min(P-x-s,t)),{placement:"top",maxHeight:T}}if(i==="bottom")return o&&vf(l,A),{placement:"bottom",maxHeight:t};break;case"top":if(b>=m)return{placement:"top",maxHeight:t};if(k>=m&&!a)return o&&Ru(l,O,V),{placement:"top",maxHeight:t};if(!a&&k>=r||a&&b>=r){var D=t;return(!a&&k>=r||a&&b>=r)&&(D=a?b-E:k-E),o&&Ru(l,O,V),{placement:"top",maxHeight:D}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return u}function B3(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var eT=function(t){return t==="auto"?"bottom":t},Y3=function(t,n){var r,i=t.placement,o=t.theme,a=o.borderRadius,s=o.spacing,l=o.colors;return oe((r={label:"menu"},Us(r,B3(i),"100%"),Us(r,"position","absolute"),Us(r,"width","100%"),Us(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},tT=_.createContext(null),z3=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,u=_.useContext(tT)||{},c=u.setPortalPlacement,f=_.useRef(null),d=_.useState(i),h=Hr(d,2),m=h[0],g=h[1],v=_.useState(null),p=Hr(v,2),w=p[0],y=p[1],x=l.spacing.controlHeight;return fg(function(){var E=f.current;if(E){var b=a==="fixed",C=s&&!b,k=V3({maxHeight:i,menuEl:E,minHeight:r,placement:o,shouldScroll:C,isFixedPosition:b,controlHeight:x});g(k.maxHeight),y(k.placement),c?.(k.placement)}},[i,o,a,s,r,c,x]),n({ref:f,placerProps:oe(oe({},t),{},{placement:w||eT(o),maxHeight:m})})},W3=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return ue("div",fe({},rt(t,"menu",{menu:!0}),{ref:r},i),n)},q3=W3,Q3=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return oe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},G3=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,o=t.isMulti;return ue("div",fe({},rt(t,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},nT=function(t,n){var r=t.theme,i=r.spacing.baseUnit,o=r.colors;return oe({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},K3=nT,X3=nT,Z3=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,o=wr(t,U3);return ue("div",fe({},rt(oe(oe({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},J3=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,o=wr(t,H3);return ue("div",fe({},rt(oe(oe({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},eF=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},tF=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,o=t.innerProps,a=t.menuPlacement,s=t.menuPosition,l=_.useRef(null),u=_.useRef(null),c=_.useState(eT(a)),f=Hr(c,2),d=f[0],h=f[1],m=_.useMemo(function(){return{setPortalPlacement:h}},[]),g=_.useState(null),v=Hr(g,2),p=v[0],w=v[1],y=_.useCallback(function(){if(i){var C=R3(i),k=s==="fixed"?0:window.pageYOffset,N=C[d]+k;(N!==p?.offset||C.left!==p?.rect.left||C.width!==p?.rect.width)&&w({offset:N,rect:C})}},[i,s,d,p?.offset,p?.rect.left,p?.rect.width]);fg(function(){y()},[y]);var x=_.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),i&&l.current&&(u.current=KC(i,l.current,y,{elementResize:"ResizeObserver"in window}))},[i,y]);fg(function(){x()},[x]);var E=_.useCallback(function(C){l.current=C,x()},[x]);if(!n&&s!=="fixed"||!p)return null;var b=ue("div",fe({ref:E},rt(oe(oe({},t),{},{offset:p.offset,position:s,rect:p.rect}),"menuPortal",{"menu-portal":!0}),o),r);return ue(tT.Provider,{value:m},n?ql.createPortal(b,n):b)},nF=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},rF=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,o=t.isRtl;return ue("div",fe({},rt(t,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},iF=function(t,n){var r=t.theme.spacing,i=t.isMulti,o=t.hasValue,a=t.selectProps.controlShouldRenderValue;return oe({alignItems:"center",display:i&&o&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},oF=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,o=t.hasValue;return ue("div",fe({},rt(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},aF=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},sF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},rt(t,"indicatorsContainer",{indicators:!0}),r),n)},r_,lF=["size"],uF=["innerProps","isRtl","size"],cF={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},rT=function(t){var n=t.size,r=wr(t,lF);return ue("svg",fe({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:cF},r))},uv=function(t){return ue(rT,fe({size:20},t),ue("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},iT=function(t){return ue(rT,fe({size:20},t),ue("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},oT=function(t,n){var r=t.isFocused,i=t.theme,o=i.spacing.baseUnit,a=i.colors;return oe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:o*2,":hover":{color:r?a.neutral80:a.neutral40}})},fF=oT,dF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},rt(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ue(iT,null))},hF=oT,pF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},rt(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ue(uv,null))},mF=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing.baseUnit,a=i.colors;return oe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:o*2,marginTop:o*2})},gF=function(t){var n=t.innerProps;return ue("span",fe({},n,rt(t,"indicatorSeparator",{"indicator-separator":!0})))},vF=UA(r_||(r_=zA([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),yF=function(t,n){var r=t.isFocused,i=t.size,o=t.theme,a=o.colors,s=o.spacing.baseUnit;return oe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:s*2})},Ep=function(t){var n=t.delay,r=t.offset;return ue("span",{css:nv({animation:"".concat(vF," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},wF=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,o=i===void 0?4:i,a=wr(t,uF);return ue("div",fe({},rt(oe(oe({},a),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ue(Ep,{delay:0,offset:r}),ue(Ep,{delay:160,offset:!0}),ue(Ep,{delay:320,offset:!r}))},_F=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.theme,a=o.colors,s=o.borderRadius,l=o.spacing;return oe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},SF=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.innerRef,a=t.innerProps,s=t.menuIsOpen;return ue("div",fe({ref:o},rt(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":s}),a,{"aria-disabled":r||void 0}),n)},xF=SF,bF=["data"],EF=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},CF=function(t){var n=t.children,r=t.cx,i=t.getStyles,o=t.getClassNames,a=t.Heading,s=t.headingProps,l=t.innerProps,u=t.label,c=t.theme,f=t.selectProps;return ue("div",fe({},rt(t,"group",{group:!0}),l),ue(a,fe({},s,{selectProps:f,theme:c,getStyles:i,getClassNames:o,cx:r}),u),ue("div",null,n))},TF=function(t,n){var r=t.theme,i=r.colors,o=r.spacing;return oe({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},kF=function(t){var n=XC(t);n.data;var r=wr(n,bF);return ue("div",fe({},rt(t,"groupHeading",{"group-heading":!0}),r))},MF=CF,DF=["innerRef","isDisabled","isHidden","inputClassName"],OF=function(t,n){var r=t.isDisabled,i=t.value,o=t.theme,a=o.spacing,s=o.colors;return oe(oe({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},PF),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:s.neutral80})},aT={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},PF={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":oe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},aT)},NF=function(t){return oe({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},aT)},RF=function(t){var n=t.cx,r=t.value,i=XC(t),o=i.innerRef,a=i.isDisabled,s=i.isHidden,l=i.inputClassName,u=wr(i,DF);return ue("div",fe({},rt(t,"input",{"input-container":!0}),{"data-value":r||""}),ue("input",fe({className:n({input:!0},l),ref:o,style:NF(s),disabled:a},u)))},IF=RF,LF=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,a=r.colors;return oe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},AF=function(t,n){var r=t.theme,i=r.borderRadius,o=r.colors,a=t.cropWithEllipsis;return oe({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},FF=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,a=r.colors,s=t.isFocused;return oe({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:s?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},sT=function(t){var n=t.children,r=t.innerProps;return ue("div",r,n)},$F=sT,jF=sT;function UF(e){var t=e.children,n=e.innerProps;return ue("div",fe({role:"button"},n),t||ue(uv,{size:14}))}var HF=function(t){var n=t.children,r=t.components,i=t.data,o=t.innerProps,a=t.isDisabled,s=t.removeProps,l=t.selectProps,u=r.Container,c=r.Label,f=r.Remove;return ue(u,{data:i,innerProps:oe(oe({},rt(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),o),selectProps:l},ue(c,{data:i,innerProps:oe({},rt(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),ue(f,{data:i,innerProps:oe(oe({},rt(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:l}))},VF=HF,BF=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.isSelected,a=t.theme,s=a.spacing,l=a.colors;return oe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?l.primary:l.primary50}})},YF=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.isSelected,a=t.innerRef,s=t.innerProps;return ue("div",fe({},rt(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:a,"aria-disabled":r},s),n)},zF=YF,WF=function(t,n){var r=t.theme,i=r.spacing,o=r.colors;return oe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},qF=function(t){var n=t.children,r=t.innerProps;return ue("div",fe({},rt(t,"placeholder",{placeholder:!0}),r),n)},QF=qF,GF=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing,a=i.colors;return oe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},KF=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return ue("div",fe({},rt(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},XF=KF,lT={ClearIndicator:pF,Control:xF,DropdownIndicator:dF,DownChevron:iT,CrossIcon:uv,Group:MF,GroupHeading:kF,IndicatorsContainer:sF,IndicatorSeparator:gF,Input:IF,LoadingIndicator:wF,Menu:q3,MenuList:G3,MenuPortal:tF,LoadingMessage:J3,NoOptionsMessage:Z3,MultiValue:VF,MultiValueContainer:$F,MultiValueLabel:jF,MultiValueRemove:UF,Option:zF,Placeholder:QF,SelectContainer:rF,SingleValue:XF,ValueContainer:oF},ZF=function(t){return oe(oe({},lT),t.components)},i_=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function JF(e,t){return!!(e===t||i_(e)&&i_(t))}function e$(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!JF(e[n],t[n]))return!1;return!0}function t$(e,t){t===void 0&&(t=e$);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var n$={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},r$=function(t){return ue("span",fe({css:n$},t))},o_=r$,i$={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,o=t.context,a=t.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,o=t.labels,a=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,o=t.label,a=o===void 0?"":o,s=t.selectValue,l=t.isDisabled,u=t.isSelected,c=t.isAppleDevice,f=function(g,v){return g&&g.length?"".concat(g.indexOf(v)+1," of ").concat(g.length):""};if(n==="value"&&s)return"value ".concat(a," focused, ").concat(f(s,r),".");if(n==="menu"&&c){var d=l?" disabled":"",h="".concat(u?" selected":"").concat(d);return"".concat(a).concat(h,", ").concat(f(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},o$=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.focusableOptions,a=t.isFocused,s=t.selectValue,l=t.selectProps,u=t.id,c=t.isAppleDevice,f=l.ariaLiveMessages,d=l.getOptionLabel,h=l.inputValue,m=l.isMulti,g=l.isOptionDisabled,v=l.isSearchable,p=l.menuIsOpen,w=l.options,y=l.screenReaderStatus,x=l.tabSelectsValue,E=l.isLoading,b=l["aria-label"],C=l["aria-live"],k=_.useMemo(function(){return oe(oe({},i$),f||{})},[f]),N=_.useMemo(function(){var P="";if(n&&k.onChange){var D=n.option,j=n.options,M=n.removedValue,$=n.removedValues,B=n.value,q=function(re){return Array.isArray(re)?null:re},G=M||D||q(B),me=G?d(G):"",ce=j||$||void 0,ne=ce?ce.map(d):[],ge=oe({isDisabled:G&&g(G,s),label:me,labels:ne},n);P=k.onChange(ge)}return P},[n,k,g,s,d]),A=_.useMemo(function(){var P="",D=r||i,j=!!(r&&s&&s.includes(r));if(D&&k.onFocus){var M={focused:D,label:d(D),isDisabled:g(D,s),isSelected:j,options:o,context:D===r?"menu":"value",selectValue:s,isAppleDevice:c};P=k.onFocus(M)}return P},[r,i,d,g,k,o,s,c]),O=_.useMemo(function(){var P="";if(p&&w.length&&!E&&k.onFilter){var D=y({count:o.length});P=k.onFilter({inputValue:h,resultsMessage:D})}return P},[o,h,p,k,w,y,E]),V=n?.action==="initial-input-focus",I=_.useMemo(function(){var P="";if(k.guidance){var D=i?"value":p?"menu":"input";P=k.guidance({"aria-label":b,context:D,isDisabled:r&&g(r,s),isMulti:m,isSearchable:v,tabSelectsValue:x,isInitialFocus:V})}return P},[b,r,i,m,g,v,p,k,s,x,V]),T=ue(_.Fragment,null,ue("span",{id:"aria-selection"},N),ue("span",{id:"aria-focused"},A),ue("span",{id:"aria-results"},O),ue("span",{id:"aria-guidance"},I));return ue(_.Fragment,null,ue(o_,{id:u},V&&T),ue(o_,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!V&&T))},a$=o$,dg=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],s$=new RegExp("["+dg.map(function(e){return e.letters}).join("")+"]","g"),uT={};for(var Cp=0;Cp<dg.length;Cp++)for(var Tp=dg[Cp],kp=0;kp<Tp.letters.length;kp++)uT[Tp.letters[kp]]=Tp.base;var cT=function(t){return t.replace(s$,function(n){return uT[n]})},l$=t$(cT),a_=function(t){return t.replace(/^\s+|\s+$/g,"")},u$=function(t){return"".concat(t.label," ").concat(t.value)},c$=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=oe({ignoreCase:!0,ignoreAccents:!0,stringify:u$,trim:!0,matchFrom:"any"},t),o=i.ignoreCase,a=i.ignoreAccents,s=i.stringify,l=i.trim,u=i.matchFrom,c=l?a_(r):r,f=l?a_(s(n)):s(n);return o&&(c=c.toLowerCase(),f=f.toLowerCase()),a&&(c=l$(c),f=cT(f)),u==="start"?f.substr(0,c.length)===c:f.indexOf(c)>-1}},f$=["innerRef"];function d$(e){var t=e.innerRef,n=wr(e,f$),r=j3(n,"onExited","in","enter","exit","appear");return ue("input",fe({ref:t},r,{css:nv({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var h$=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function p$(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,a=_.useRef(!1),s=_.useRef(!1),l=_.useRef(0),u=_.useRef(null),c=_.useCallback(function(v,p){if(u.current!==null){var w=u.current,y=w.scrollTop,x=w.scrollHeight,E=w.clientHeight,b=u.current,C=p>0,k=x-E-y,N=!1;k>p&&a.current&&(r&&r(v),a.current=!1),C&&s.current&&(o&&o(v),s.current=!1),C&&p>k?(n&&!a.current&&n(v),b.scrollTop=x,N=!0,a.current=!0):!C&&-p>y&&(i&&!s.current&&i(v),b.scrollTop=0,N=!0,s.current=!0),N&&h$(v)}},[n,r,i,o]),f=_.useCallback(function(v){c(v,v.deltaY)},[c]),d=_.useCallback(function(v){l.current=v.changedTouches[0].clientY},[]),h=_.useCallback(function(v){var p=l.current-v.changedTouches[0].clientY;c(v,p)},[c]),m=_.useCallback(function(v){if(v){var p=A3?{passive:!1}:!1;v.addEventListener("wheel",f,p),v.addEventListener("touchstart",d,p),v.addEventListener("touchmove",h,p)}},[h,d,f]),g=_.useCallback(function(v){v&&(v.removeEventListener("wheel",f,!1),v.removeEventListener("touchstart",d,!1),v.removeEventListener("touchmove",h,!1))},[h,d,f]);return _.useEffect(function(){if(t){var v=u.current;return m(v),function(){g(v)}}},[t,m,g]),function(v){u.current=v}}var s_=["boxSizing","height","overflow","paddingRight","position"],l_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function u_(e){e.cancelable&&e.preventDefault()}function c_(e){e.stopPropagation()}function f_(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function d_(){return"ontouchstart"in window||navigator.maxTouchPoints}var h_=!!(typeof window<"u"&&window.document&&window.document.createElement),xs=0,Yo={capture:!1,passive:!1};function m$(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=_.useRef({}),o=_.useRef(null),a=_.useCallback(function(l){if(h_){var u=document.body,c=u&&u.style;if(r&&s_.forEach(function(m){var g=c&&c[m];i.current[m]=g}),r&&xs<1){var f=parseInt(i.current.paddingRight,10)||0,d=document.body?document.body.clientWidth:0,h=window.innerWidth-d+f||0;Object.keys(l_).forEach(function(m){var g=l_[m];c&&(c[m]=g)}),c&&(c.paddingRight="".concat(h,"px"))}u&&d_()&&(u.addEventListener("touchmove",u_,Yo),l&&(l.addEventListener("touchstart",f_,Yo),l.addEventListener("touchmove",c_,Yo))),xs+=1}},[r]),s=_.useCallback(function(l){if(h_){var u=document.body,c=u&&u.style;xs=Math.max(xs-1,0),r&&xs<1&&s_.forEach(function(f){var d=i.current[f];c&&(c[f]=d)}),u&&d_()&&(u.removeEventListener("touchmove",u_,Yo),l&&(l.removeEventListener("touchstart",f_,Yo),l.removeEventListener("touchmove",c_,Yo)))}},[r]);return _.useEffect(function(){if(t){var l=o.current;return a(l),function(){s(l)}}},[t,a,s]),function(l){o.current=l}}var g$=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},v$={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function y$(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,o=e.onBottomArrive,a=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,u=p$({isEnabled:i,onBottomArrive:o,onBottomLeave:a,onTopArrive:s,onTopLeave:l}),c=m$({isEnabled:n}),f=function(h){u(h),c(h)};return ue(_.Fragment,null,n&&ue("div",{onClick:g$,css:v$}),t(f))}var w$={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},_$=function(t){var n=t.name,r=t.onFocus;return ue("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:w$,value:"",onChange:function(){}})},S$=_$;function cv(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function x$(){return cv(/^iPhone/i)}function fT(){return cv(/^Mac/i)}function b$(){return cv(/^iPad/i)||fT()&&navigator.maxTouchPoints>1}function E$(){return x$()||b$()}function C$(){return fT()||E$()}var T$=function(t){return t.label},dT=function(t){return t.label},hT=function(t){return t.value},k$=function(t){return!!t.isDisabled},M$={clearIndicator:hF,container:nF,control:_F,dropdownIndicator:fF,group:EF,groupHeading:TF,indicatorsContainer:aF,indicatorSeparator:mF,input:OF,loadingIndicator:yF,loadingMessage:X3,menu:Y3,menuList:Q3,menuPortal:eF,multiValue:LF,multiValueLabel:AF,multiValueRemove:FF,noOptionsMessage:K3,option:BF,placeholder:WF,singleValue:GF,valueContainer:iF},D$={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},O$=4,pT=4,P$=38,N$=pT*2,R$={baseUnit:pT,controlHeight:P$,menuGutter:N$},Mp={borderRadius:O$,colors:D$,spacing:R$},I$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:n_(),captureMenuScroll:!n_(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:c$(),formatGroupLabel:T$,getOptionLabel:dT,getOptionValue:hT,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:k$,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!I3(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function p_(e,t,n,r){var i=vT(e,t,n),o=yT(e,t,n),a=gT(e,t),s=yf(e,t);return{type:"option",data:t,isDisabled:i,isSelected:o,label:a,value:s,index:r}}function mc(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,s){return p_(e,a,t,s)}).filter(function(a){return g_(e,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=p_(e,n,t,r);return g_(e,o)?o:void 0}).filter(F3)}function mT(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,va(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function m_(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,va(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function L$(e,t){return mT(mc(e,t))}function g_(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!_T(e)||!o)&&wT(e,{label:a,value:s,data:i},r)}function A$(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var o=t.indexOf(n);if(o>-1)return n;if(i<t.length)return t[i]}return null}function F$(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var Dp=function(t,n){var r,i=(r=t.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},gT=function(t,n){return t.getOptionLabel(n)},yf=function(t,n){return t.getOptionValue(n)};function vT(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function yT(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=yf(e,t);return n.some(function(i){return yf(e,i)===r})}function wT(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var _T=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},$$=1,fv=function(e){ML(n,e);var t=PL(n);function n(r){var i;if(TL(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=C$(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,u){var c=i.props,f=c.onChange,d=c.name;u.name=d,i.ariaOnChange(l,u),f(l,u)},i.setValue=function(l,u,c){var f=i.props,d=f.closeMenuOnSelect,h=f.isMulti,m=f.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),d&&(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:u,option:c})},i.selectOption=function(l){var u=i.props,c=u.blurInputOnSelect,f=u.isMulti,d=u.name,h=i.state.selectValue,m=f&&i.isOptionSelected(l,h),g=i.isOptionDisabled(l,h);if(m){var v=i.getOptionValue(l);i.setValue(h.filter(function(p){return i.getOptionValue(p)!==v}),"deselect-option",l)}else if(!g)f?i.setValue([].concat(va(h),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:d});return}c&&i.blurInput()},i.removeValue=function(l){var u=i.props.isMulti,c=i.state.selectValue,f=i.getOptionValue(l),d=c.filter(function(m){return i.getOptionValue(m)!==f}),h=Hs(u,d,d[0]||null);i.onChange(h,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Hs(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,u=i.state.selectValue,c=u[u.length-1],f=u.slice(0,u.length-1),d=Hs(l,f,f[0]||null);c&&i.onChange(d,{action:"pop-value",removedValue:c})},i.getFocusedOptionId=function(l){return Dp(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return m_(mc(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return D3.apply(void 0,[i.props.classNamePrefix].concat(u))},i.getOptionLabel=function(l){return gT(i.props,l)},i.getOptionValue=function(l){return yf(i.props,l)},i.getStyles=function(l,u){var c=i.props.unstyled,f=M$[l](u,c);f.boxSizing="border-box";var d=i.props.styles[l];return d?d(f,u):f},i.getClassNames=function(l,u){var c,f;return(c=(f=i.props.classNames)[l])===null||c===void 0?void 0:c.call(f,u)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return ZF(i.props)},i.buildCategorizedOptions=function(){return mc(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return mT(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,u){i.setState({ariaSelection:oe({value:l},u)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():u&&i.openMenu("first"):(u&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var u=i.props,c=u.isMulti,f=u.menuIsOpen;i.focusInput(),f?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Ld(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var u=l.touches,c=u&&u.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var u=l.touches,c=u&&u.item(0);if(c){var f=Math.abs(c.clientX-i.initialTouchX),d=Math.abs(c.clientY-i.initialTouchY),h=5;i.userIsDragging=f>h||d>h}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var u=i.props.inputValue,c=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:u}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var u=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:u}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var u=i.getFocusableOptions(),c=u.indexOf(l);i.setState({focusedOption:l,focusedOptionId:c>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return _T(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var u=i.props,c=u.isMulti,f=u.backspaceRemovesValue,d=u.escapeClearsValue,h=u.inputValue,m=u.isClearable,g=u.isDisabled,v=u.menuIsOpen,p=u.onKeyDown,w=u.tabSelectsValue,y=u.openMenuOnFocus,x=i.state,E=x.focusedOption,b=x.focusedValue,C=x.selectValue;if(!g&&!(typeof p=="function"&&(p(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!c||h)return;i.focusValue("previous");break;case"ArrowRight":if(!c||h)return;i.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(b)i.removeValue(b);else{if(!f)return;c?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!v||!w||!E||y&&i.isOptionSelected(E,C))return;i.selectOption(E);break;case"Enter":if(l.keyCode===229)break;if(v){if(!E||i.isComposing)return;i.selectOption(E);break}return;case"Escape":v?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:h}),i.onMenuClose()):m&&d&&i.clearValue();break;case" ":if(h)return;if(!v){i.openMenu("first");break}if(!E)return;i.selectOption(E);break;case"ArrowUp":v?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":v?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!v)return;i.focusOption("pageup");break;case"PageDown":if(!v)return;i.focusOption("pagedown");break;case"Home":if(!v)return;i.focusOption("first");break;case"End":if(!v)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++$$),i.state.selectValue=gf(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),s=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=a[s],i.state.focusedOptionId=Dp(o,a[s])}return i}return kL(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&t_(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isDisabled,s=o.menuIsOpen,l=this.state.isFocused;(l&&!a&&i.isDisabled||l&&s&&!i.menuIsOpen)&&this.focusInput(),l&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t_(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,a=this.state,s=a.selectValue,l=a.isFocused,u=this.buildFocusableOptions(),c=i==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(s[0]);f>-1&&(c=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c],focusedOptionId:this.getFocusedOptionId(u[c])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,a=o.selectValue,s=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(s);s||(l=-1);var u=a.length-1,c=-1;if(a.length){switch(i){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:a[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,a=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,u=s.indexOf(a);a||(u=-1),i==="up"?l=u>0?u-1:s.length-1:i==="down"?l=(u+1)%s.length:i==="pageup"?(l=u-o,l<0&&(l=0)):i==="pagedown"?(l=u+o,l>s.length-1&&(l=s.length-1)):i==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Mp):oe(oe({},Mp),this.props.theme):Mp}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,a=this.getStyles,s=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,f=this.props,d=f.isMulti,h=f.isRtl,m=f.options,g=this.hasValue();return{clearValue:i,cx:o,getStyles:a,getClassNames:s,getValue:l,hasValue:g,isMulti:d,isRtl:h,options:m,selectOption:u,selectProps:f,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,a=i.isMulti;return o===void 0?a:o}},{key:"isOptionDisabled",value:function(i,o){return vT(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return yT(this.props,i,o)}},{key:"filterOption",value:function(i,o){return wT(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:a,selectValue:s})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,a=i.isSearchable,s=i.inputId,l=i.inputValue,u=i.tabIndex,c=i.form,f=i.menuIsOpen,d=i.required,h=this.getComponents(),m=h.Input,g=this.state,v=g.inputIsHidden,p=g.ariaSelection,w=this.commonProps,y=s||this.getElementId("input"),x=oe(oe(oe({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":d,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?p?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?_.createElement(m,fe({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:y,innerRef:this.getInputRef,isDisabled:o,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},x)):_.createElement(d$,fe({id:y,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:mf,onFocus:this.onInputFocus,disabled:o,tabIndex:u,inputMode:"none",form:c,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),a=o.MultiValue,s=o.MultiValueContainer,l=o.MultiValueLabel,u=o.MultiValueRemove,c=o.SingleValue,f=o.Placeholder,d=this.commonProps,h=this.props,m=h.controlShouldRenderValue,g=h.isDisabled,v=h.isMulti,p=h.inputValue,w=h.placeholder,y=this.state,x=y.selectValue,E=y.focusedValue,b=y.isFocused;if(!this.hasValue()||!m)return p?null:_.createElement(f,fe({},d,{key:"placeholder",isDisabled:g,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),w);if(v)return x.map(function(k,N){var A=k===E,O="".concat(i.getOptionLabel(k),"-").concat(i.getOptionValue(k));return _.createElement(a,fe({},d,{components:{Container:s,Label:l,Remove:u},isFocused:A,isDisabled:g,key:O,index:N,removeProps:{onClick:function(){return i.removeValue(k)},onTouchEnd:function(){return i.removeValue(k)},onMouseDown:function(I){I.preventDefault()}},data:k}),i.formatOptionLabel(k,"value"))});if(p)return null;var C=x[0];return _.createElement(c,fe({},d,{data:C,isDisabled:g}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(o,fe({},a,{innerProps:f,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!o||!u)return null;var f={"aria-hidden":"true"};return _.createElement(o,fe({},a,{innerProps:f,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,a=i.IndicatorSeparator;if(!o||!a)return null;var s=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return _.createElement(a,fe({},s,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var a=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(o,fe({},a,{innerProps:u,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),a=o.Group,s=o.GroupHeading,l=o.Menu,u=o.MenuList,c=o.MenuPortal,f=o.LoadingMessage,d=o.NoOptionsMessage,h=o.Option,m=this.commonProps,g=this.state.focusedOption,v=this.props,p=v.captureMenuScroll,w=v.inputValue,y=v.isLoading,x=v.loadingMessage,E=v.minMenuHeight,b=v.maxMenuHeight,C=v.menuIsOpen,k=v.menuPlacement,N=v.menuPosition,A=v.menuPortalTarget,O=v.menuShouldBlockScroll,V=v.menuShouldScrollIntoView,I=v.noOptionsMessage,T=v.onMenuScrollToTop,P=v.onMenuScrollToBottom;if(!C)return null;var D=function(me,ce){var ne=me.type,ge=me.data,z=me.isDisabled,re=me.isSelected,L=me.label,Q=me.value,de=g===ge,Y=z?void 0:function(){return i.onOptionHover(ge)},le=z?void 0:function(){return i.selectOption(ge)},U="".concat(i.getElementId("option"),"-").concat(ce),X={id:U,onClick:le,onMouseMove:Y,onMouseOver:Y,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:re};return _.createElement(h,fe({},m,{innerProps:X,data:ge,isDisabled:z,isSelected:re,key:U,label:L,type:ne,value:Q,isFocused:de,innerRef:de?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(me.data,"menu"))},j;if(this.hasOptions())j=this.getCategorizedOptions().map(function(G){if(G.type==="group"){var me=G.data,ce=G.options,ne=G.index,ge="".concat(i.getElementId("group"),"-").concat(ne),z="".concat(ge,"-heading");return _.createElement(a,fe({},m,{key:ge,data:me,options:ce,Heading:s,headingProps:{id:z,data:G.data},label:i.formatGroupLabel(G.data)}),G.options.map(function(re){return D(re,"".concat(ne,"-").concat(re.index))}))}else if(G.type==="option")return D(G,"".concat(G.index))});else if(y){var M=x({inputValue:w});if(M===null)return null;j=_.createElement(f,m,M)}else{var $=I({inputValue:w});if($===null)return null;j=_.createElement(d,m,$)}var B={minMenuHeight:E,maxMenuHeight:b,menuPlacement:k,menuPosition:N,menuShouldScrollIntoView:V},q=_.createElement(z3,fe({},m,B),function(G){var me=G.ref,ce=G.placerProps,ne=ce.placement,ge=ce.maxHeight;return _.createElement(l,fe({},m,B,{innerRef:me,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:y,placement:ne}),_.createElement(y$,{captureEnabled:p,onTopArrive:T,onBottomArrive:P,lockEnabled:O},function(z){return _.createElement(u,fe({},m,{innerRef:function(L){i.getMenuListRef(L),z(L)},innerProps:{role:"listbox","aria-multiselectable":m.isMulti,id:i.getElementId("listbox")},isLoading:y,maxHeight:ge,focusedOption:g}),j)}))});return A||N==="fixed"?_.createElement(c,fe({},m,{appendTo:A,controlElement:this.controlRef,menuPlacement:k,menuPosition:N}),q):q}},{key:"renderFormField",value:function(){var i=this,o=this.props,a=o.delimiter,s=o.isDisabled,l=o.isMulti,u=o.name,c=o.required,f=this.state.selectValue;if(c&&!this.hasValue()&&!s)return _.createElement(S$,{name:u,onFocus:this.onValueInputFocus});if(!(!u||s))if(l)if(a){var d=f.map(function(g){return i.getOptionValue(g)}).join(a);return _.createElement("input",{name:u,type:"hidden",value:d})}else{var h=f.length>0?f.map(function(g,v){return _.createElement("input",{key:"i-".concat(v),name:u,type:"hidden",value:i.getOptionValue(g)})}):_.createElement("input",{name:u,type:"hidden",value:""});return _.createElement("div",null,h)}else{var m=f[0]?this.getOptionValue(f[0]):"";return _.createElement("input",{name:u,type:"hidden",value:m})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,a=o.ariaSelection,s=o.focusedOption,l=o.focusedValue,u=o.isFocused,c=o.selectValue,f=this.getFocusableOptions();return _.createElement(a$,fe({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:s,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,a=i.IndicatorsContainer,s=i.SelectContainer,l=i.ValueContainer,u=this.props,c=u.className,f=u.id,d=u.isDisabled,h=u.menuIsOpen,m=this.state.isFocused,g=this.commonProps=this.getCommonProps();return _.createElement(s,fe({},g,{className:c,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:m}),this.renderLiveRegion(),_.createElement(o,fe({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:m,menuIsOpen:h}),_.createElement(l,fe({},g,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),_.createElement(a,fe({},g,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var a=o.prevProps,s=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,u=o.ariaSelection,c=o.isFocused,f=o.prevWasFocused,d=o.instancePrefix,h=i.options,m=i.value,g=i.menuIsOpen,v=i.inputValue,p=i.isMulti,w=gf(m),y={};if(a&&(m!==a.value||h!==a.options||g!==a.menuIsOpen||v!==a.inputValue)){var x=g?L$(i,w):[],E=g?m_(mc(i,w),"".concat(d,"-option")):[],b=s?A$(o,w):null,C=F$(o,x),k=Dp(E,C);y={selectValue:w,focusedOption:C,focusedOptionId:k,focusableOptionsWithIds:E,focusedValue:b,clearFocusValueOnUpdate:!1}}var N=l!=null&&i!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},A=u,O=c&&f;return c&&!O&&(A={value:Hs(p,w,w[0]||null),options:w,action:"initial-input-focus"},O=!f),u?.action==="initial-input-focus"&&(A=null),oe(oe(oe({},y),N),{},{prevProps:i,ariaSelection:A,prevWasFocused:O})}}]),n}(_.Component);fv.defaultProps=I$;var j$=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function ST(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,o=e.defaultValue,a=o===void 0?null:o,s=e.inputValue,l=e.menuIsOpen,u=e.onChange,c=e.onInputChange,f=e.onMenuClose,d=e.onMenuOpen,h=e.value,m=wr(e,j$),g=_.useState(s!==void 0?s:n),v=Hr(g,2),p=v[0],w=v[1],y=_.useState(l!==void 0?l:i),x=Hr(y,2),E=x[0],b=x[1],C=_.useState(h!==void 0?h:a),k=Hr(C,2),N=k[0],A=k[1],O=_.useCallback(function(M,$){typeof u=="function"&&u(M,$),A(M)},[u]),V=_.useCallback(function(M,$){var B;typeof c=="function"&&(B=c(M,$)),w(B!==void 0?B:M)},[c]),I=_.useCallback(function(){typeof d=="function"&&d(),b(!0)},[d]),T=_.useCallback(function(){typeof f=="function"&&f(),b(!1)},[f]),P=s!==void 0?s:p,D=l!==void 0?l:E,j=h!==void 0?h:N;return oe(oe({},m),{},{inputValue:P,menuIsOpen:D,onChange:O,onInputChange:V,onMenuClose:T,onMenuOpen:I,value:j})}var U$=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],v_=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(t).toLowerCase(),o=String(r.getOptionValue(n)).toLowerCase(),a=String(r.getOptionLabel(n)).toLowerCase();return o===i||a===i},Op={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,r,i){return!(!t||n.some(function(o){return v_(t,o,i)})||r.some(function(o){return v_(t,o,i)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function H$(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,r=e.createOptionPosition,i=r===void 0?"last":r,o=e.formatCreateLabel,a=o===void 0?Op.formatCreateLabel:o,s=e.isValidNewOption,l=s===void 0?Op.isValidNewOption:s,u=e.getNewOptionData,c=u===void 0?Op.getNewOptionData:u,f=e.onCreateOption,d=e.options,h=d===void 0?[]:d,m=e.onChange,g=wr(e,U$),v=g.getOptionValue,p=v===void 0?hT:v,w=g.getOptionLabel,y=w===void 0?dT:w,x=g.inputValue,E=g.isLoading,b=g.isMulti,C=g.value,k=g.name,N=_.useMemo(function(){return l(x,gf(C),h,{getOptionValue:p,getOptionLabel:y})?c(x,a(x)):void 0},[a,c,y,p,x,l,h,C]),A=_.useMemo(function(){return(n||!E)&&N?i==="first"?[N].concat(va(h)):[].concat(va(h),[N]):h},[n,i,E,N,h]),O=_.useCallback(function(V,I){if(I.action!=="select-option")return m(V,I);var T=Array.isArray(V)?V:[V];if(T[T.length-1]===N){if(f)f(x);else{var P=c(x,x),D={action:"create-option",name:k,option:P};m(Hs(b,[].concat(va(gf(C)),[P]),P),D)}return}m(V,I)},[c,x,b,k,N,f,m,C]);return oe(oe({},g),{},{options:A,onChange:O})}var V$=_.forwardRef(function(e,t){var n=ST(e),r=H$(n);return _.createElement(fv,fe({ref:t},r))}),B$=V$,Y$=_.forwardRef(function(e,t){var n=ST(e);return _.createElement(fv,fe({ref:t},n))}),z$=Y$;function dv({options:e,children:t,onChange:n,value:r,id:i}){const o=a=>S.jsx("div",{id:i,style:{width:"100%",height:"100%"},children:S.jsx(lT.DropdownIndicator,{...a,children:t})});return S.jsx("div",{className:"svg-container",children:S.jsx(z$,{components:{DropdownIndicator:o},options:e,value:r?{value:r,label:r}:null,styles:{control:()=>({height:"inherit"}),container:()=>({aspectRatio:"1/1",height:"inherit"}),valueContainer:()=>({height:0,width:0,overflow:"hidden"}),indicatorsContainer:()=>({height:"inherit"}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:()=>({padding:0,height:"inherit"}),menu:a=>({...a,zIndex:10,width:"max-content",textAlign:"left"})},tabSelectsValue:!1,isSearchable:!1,onChange:a=>{n(a?.value)}})})}function xT({compact:e=!1}){const n=_.useContext(xt).portaCountClient.externalController,[r,i]=_.useState(""),[o]=ae(F.SHOW_EXTERNAL_CONTROL);function a(){n.sendCommand(r),i("")}const s={"":"","Switch to App Control":Ee.INVOKE_EXTERNAL_CONTROL,"Switch to PortaCount Control":Ee.RELEASE_FROM_EXTERNAL_CONTROL,"Request Settings":Ee.REQUEST_SETTINGS,"Request Runtime Status":Ee.REQUEST_RUNTIME_STATUS_OF_BATTERY_AND_SIGNAL_PULSE,"Request Voltage Status":Ee.REQUEST_VOLTAGE_INFO,"Sample from Ambient":Ee.SWITCH_VALVE_ON,"Sample from Mask":Ee.SWITCH_VALVE_OFF,"Disable data transmission":Ee.DISABLE_CONTINUOUS_DATA_TRANSMISSION,"Enable data transmission":Ee.ENABLE_CONTINUOUS_DATA_TRANSMISSION,"Beep!":Ee.SOUND_BEEPER_INSIDE_THE_PORTACOUNT_PLUS.replace("xx","02"),"Power Off":Ee.TURN_POWER_OFF},l=Object.entries(s).map(([c,f])=>({value:f,label:c})),u=o?S.jsx(dv,{options:l,onChange:c=>n.sendCommand(c),children:S.jsx(lL,{})}):null;return S.jsx(S.Fragment,{children:e?u:S.jsxs("div",{style:{display:"inline-flex",height:"fit-content"},children:[S.jsx(B$,{name:"Mask",options:l,value:r?{value:r,label:r}:null,styles:{menu:c=>({...c,zIndex:2,width:"max-content",textAlign:"left"}),singleValue:c=>({...c,whiteSpace:"normal",width:"9rem"}),input:c=>({...c,width:"9rem"})},tabSelectsValue:!1,onChange:c=>i(c?.value),allowCreateWhileLoading:!0,isSearchable:!0,placeholder:"Type command..."}),S.jsx("input",{type:"button",value:"Send",id:"send-command-button",onClick:a})]})})}function et({trueLabel:e,falseLabel:t,setting:n}){const[r,i]=ae(n);function o(l){return l.toString().replace(/^(.)/,(u,c)=>`${c[0].toUpperCase()}`).replace(/(-(.))/g,(u,c)=>` ${c[1].toUpperCase()}`)}const a=e??o(n),s=`${a.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`;return S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{className:"setting-name",htmlFor:s,children:r?a:t||a}),S.jsxs("label",{className:"switch",children:[S.jsx("input",{type:"checkbox",id:s,onChange:l=>i(l.target.checked),checked:r}),S.jsx("span",{className:"slider round"})]})]})}function bT({trueLabel:e,falseLabel:t,value:n,setValue:r}){const i=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`;return S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{className:"setting-name",htmlFor:i,children:n?e:t||e}),S.jsxs("label",{className:"switch",children:[S.jsx("input",{type:"checkbox",id:i,onChange:o=>r(o.target.checked),checked:n}),S.jsx("span",{className:"slider round"})]})]})}function ET({trueLabel:e,falseLabel:t,trueValue:n,value:r,setValue:i,...o}){const a=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-checkbox`,s=t??e,l=n??e,u=o.disabled?"disabled":"";return S.jsxs("div",{style:{display:"inline-flex"},children:[S.jsx("label",{className:`setting-name ${u}`,htmlFor:a,children:r}),S.jsxs("label",{className:"switch",children:[S.jsx("input",{...o,type:"checkbox",id:a,onChange:c=>i(c.target.checked?e:s),checked:r===l}),S.jsx("span",{className:`slider round ${u}`})]})]})}function W$(){const t=_.useContext(xt).portaCountClient,[n]=ae(F.SHOW_EXTERNAL_CONTROL),[r,i]=_.useState(t.state.controlSource);function o(l){return l!==$t.RECEIVING}const[a,s]=_.useState(o(t.state.connectionStatus));return _.useEffect(()=>{const l={controlSourceChanged(u){i(u)},connectionStatusChanged(u){s(o(u))}};return t.addListener(l),()=>{t.removeListener(l)}},[]),S.jsxs("fieldset",{className:"info-box-compact",children:[S.jsx("legend",{children:"Control"}),n?S.jsx(ET,{trueLabel:Ce.External,falseLabel:Ce.Internal,value:r,setValue:l=>t.externalController.controlSource=l,disabled:a}):r]})}function q$(){const t=_.useContext(xt).portaCountClient,[n]=ae(F.SHOW_EXTERNAL_CONTROL),[r,i]=_.useState(t.state.sampleSource);function o(l){return l===Ce.Internal}const[a,s]=_.useState(o(t.state.controlSource));return _.useEffect(()=>{const l={sampleSourceChanged(u){i(u)},controlSourceChanged(u){s(o(u))}};return t.addListener(l),()=>{t.removeListener(l)}},[]),S.jsxs("fieldset",{id:"portacount-sample-source-widget",className:"info-box-compact",children:[S.jsx("legend",{children:"Source"}),n?S.jsx(ET,{trueLabel:xe.MASK,falseLabel:xe.AMBIENT,value:r,setValue:l=>t.externalController.sampleSource=l,disabled:a}):r]})}function CT({label:e="Activity",border:t=!0}){const[n]=ae(F.ACTIVITY);return e?S.jsxs("fieldset",{className:"info-box-compact",children:[S.jsx("legend",{children:"Activity"}),n]}):S.jsx("div",{className:t?"thin-border":"",children:n})}function TT({label:e="Last line",border:t=!0}){const r=_.useContext(xt).portaCountClient,[i,o]=_.useState(r.state.lastLine);_.useEffect(()=>{const s={lineReceived(l){o(l)}};return r.addListener(s),()=>{r.removeListener(s)}},[]),_.useEffect(()=>{const s=setTimeout(()=>{o(""),console.debug("last line timeout expired")},3e3);return()=>clearTimeout(s)},[i]);const a=S.jsx(S.Fragment,{children:i.trim().length==0?"":i});return e?S.jsxs("fieldset",{className:"info-box-compact",style:{width:"8rem"},children:[S.jsxs("legend",{className:"number-field no-wrap",children:[e," ",i.trim().length>0?hR(new Date,!0):""]}),S.jsx("div",{className:"console-8020",children:a})]}):S.jsx("div",{className:`console-8020 ${t&&"thin-border"}`,children:a})}var hg=new Map,Lu=new WeakMap,y_=0,Q$=void 0;function G$(e){return e?(Lu.has(e)||(y_+=1,Lu.set(e,y_.toString())),Lu.get(e)):"0"}function K$(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?G$(e.root):e[t]}`).toString()}function X$(e){const t=K$(e);let n=hg.get(t);if(!n){const r=new Map;let i;const o=new IntersectionObserver(a=>{a.forEach(s=>{var l;const u=s.isIntersecting&&i.some(c=>s.intersectionRatio>=c);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(l=r.get(s.target))==null||l.forEach(c=>{c(u,s)})})},e);i=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:r},hg.set(t,n)}return n}function Z$(e,t,n={},r=Q$){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:o,elements:a}=X$(n),s=a.get(e)||[];return a.has(e)||a.set(e,s),s.push(t),o.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(a.delete(e),o.unobserve(e)),a.size===0&&(o.disconnect(),hg.delete(i))}}function J$({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:o,skip:a,initialInView:s,fallbackInView:l,onChange:u}={}){var c;const[f,d]=_.useState(null),h=_.useRef(),[m,g]=_.useState({inView:!!s,entry:void 0});h.current=u,_.useEffect(()=>{if(a||!f)return;let y;return y=Z$(f,(x,E)=>{g({inView:x,entry:E}),h.current&&h.current(x,E),E.isIntersecting&&o&&y&&(y(),y=void 0)},{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},l),()=>{y&&y()}},[Array.isArray(e)?e.toString():e,f,i,r,o,a,n,l,t]);const v=(c=m.entry)==null?void 0:c.target,p=_.useRef();!f&&v&&!o&&!a&&p.current!==v&&(p.current=v,g({inView:!!s,entry:void 0}));const w=[d,m.inView,m.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}function e5(e){return ot({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M19.892 4.09a3.75 3.75 0 0 0-5.303 0l-4.5 4.5c-.074.074-.144.15-.21.229l4.965 4.966a3.75 3.75 0 0 0-1.986-4.428.75.75 0 0 1 .646-1.353 5.253 5.253 0 0 1 2.502 6.944l5.515 5.515a.75.75 0 0 1-1.061 1.06l-18-18.001A.75.75 0 0 1 3.521 2.46l5.294 5.295a5.31 5.31 0 0 1 .213-.227l4.5-4.5a5.25 5.25 0 1 1 7.425 7.425l-1.757 1.757a.75.75 0 1 1-1.06-1.06l1.756-1.757a3.75 3.75 0 0 0 0-5.304ZM5.846 11.773a.75.75 0 0 1 0 1.06l-1.757 1.758a3.75 3.75 0 0 0 5.303 5.304l3.129-3.13a.75.75 0 1 1 1.06 1.061l-3.128 3.13a5.25 5.25 0 1 1-7.425-7.426l1.757-1.757a.75.75 0 0 1 1.061 0Zm2.401.26a.75.75 0 0 1 .957.458c.18.512.474.992.885 1.403.31.311.661.555 1.035.733a.75.75 0 0 1-.647 1.354 5.244 5.244 0 0 1-1.449-1.026 5.232 5.232 0 0 1-1.24-1.965.75.75 0 0 1 .46-.957Z",clipRule:"evenodd"},child:[]}]})(e)}function kT({compact:e=!1}){const t=_.useContext(xt),[n]=_.useState(t.dataCollector),[r]=_.useState(t.portaCountClient),[i]=ae(F.ENABLE_SIMULATOR),[o]=ae(F.BAUD_RATE),a=[3,30,300,1200,14400,28800,56760],[s,l]=ae(F.SIMULATOR_FILE_SPEED),[u,c]=ae(F.SELECTED_DATA_SOURCE),[f,d]=_.useState(r.state.connectionStatus),[,h]=ae(F.CONNECTION_STATUS_IN_VIEW),[m]=ae(F.ENABLE_WEB_SERIAL_DRIVERS),{ref:g,inView:v}=J$();_.useEffect(()=>{const O={connectionStatusChanged(V){d(V)}};return r.addListener(O),()=>{r.removeListener(O)}},[]),_.useEffect(()=>{h(v)},[v]);function p(){n.dataSource=We.WebUsbSerial,new ga().requestPort().then(w)}function w(O){console.log(`got serial port ${O.toLocaleString()}, using baud rate ${o}`),r.connect(O)}function y(){n.dataSource=We.WebSerial,"serial"in navigator?(console.log("webserial supported!"),navigator.serial.requestPort().then(w)):console.log("no serial support. As of this writing, web serial is only supported on desktop chrome.")}function x(){n.dataSource=We.Simulator,w(t.portaCountSimulator.port)}function E(){n.dataSource=We.Simulator;function O(V,I=null){return{readable:V,writable:I,connected:!1,getInfo(){return{}},open(){return this.connected=!0,Promise.resolve()}}}if("showOpenFilePicker"in window)window.showOpenFilePicker({id:"simulator-files"}).then(V=>{V[0].getFile().then(I=>{const T=vw(new gi(I,s)),P=O(T,null);w(P)})});else{const V=vw(new gi("./fit-test-console/simulator-data/test-data.txt",s)),I=O(V,null);w(I)}}function b(){C(u)}function C(O){switch(O){case We.WebUsbSerial:p();break;case We.WebSerial:y();break;case We.Simulator:n.fitFactorEstimator.resetChart(),x();break;case We.SimulatorFile:n.fitFactorEstimator.resetChart(),E();break;default:console.log(`unexpected dataSource : ${O}`);break}}function k(O){C(O)}const N=[{value:We.WebUsbSerial,label:"App drivers (webusb serial)"}];m&&N.push({value:We.WebSerial,label:"Computer drivers (webserial)"}),i&&N.push({value:We.SimulatorFile,label:"Simulator (file)"},{value:We.Simulator,label:"Simulator"});const A=S.jsxs(dv,{id:"compact-driver-selector-widget",options:N,onChange:O=>k(O),children:[f===$t.DISCONNECTED&&S.jsx(e5,{color:"red"}),f===$t.WAITING&&S.jsx(yL,{color:"orange"}),f===$t.RECEIVING&&S.jsx(pL,{color:"green"})]});return e?A:S.jsxs("fieldset",{id:"driver-selector-widget",className:"info-box-compact",ref:g,children:[S.jsxs("legend",{children:["Data Source ",S.jsx("span",{className:mR(f),children:f})]}),S.jsxs("div",{style:{display:"inline-block"},children:[S.jsx("select",{id:"data-source-selector",value:u,onChange:O=>c(O.target.value),disabled:r.state.connectionStatus!==$t.DISCONNECTED,children:N.map(O=>S.jsx("option",{value:O.value,children:O.label},O.value))}),u===We.SimulatorFile&&S.jsxs("div",{style:{display:"inline-block"},children:[S.jsx("label",{htmlFor:"simulation-speed-select"}),S.jsx("select",{id:"simulation-speed-select",value:s,onChange:O=>l(Number(O.target.value)),children:a.map(O=>S.jsxs("option",{value:O,children:[O," bps"]},O))})]})]}),S.jsx("input",{className:"button",type:"button",value:"Connect",id:"connect-button",disabled:r.state.connectionStatus!==$t.DISCONNECTED,onClick:b})]})}function t5({...e}){return S.jsx("fieldset",{style:{borderBottom:"none",borderInline:"none",paddingInline:0,minWidth:0},children:e.children})}const n5="modulepreload",r5=function(e,t){return new URL(e,t).href},w_={},Ad=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(n.map(u=>{if(u=r5(u,r),u in w_)return;w_[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let m=a.length-1;m>=0;m--){const g=a[m];if(g.href===u&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":n5,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return t().catch(o)})},MT=_.lazy(()=>Ad(()=>import("./ResultsTable-CYVukuix.js"),__vite__mapDeps([0,1]),import.meta.url)),i5=_.lazy(()=>Ad(()=>import("./SimpleFitTestProtocolPanel-DlM9Ffgq.js"),__vite__mapDeps([2,3]),import.meta.url)),o5=_.lazy(()=>Ad(()=>import("./QRScanner-Da2uRH0P.js"),[],import.meta.url));function a5(){const e=_.useContext(xt),[,t]=_.useState({}),n=_.useCallback(()=>{t({})},[]),[r]=ae(F.SELECTED_PROTOCOL),[i]=ae(F.TEST_TEMPLATE),[o,a]=_.useState([]);_.useEffect(()=>{const u={subscriptions:()=>[F.TEST_TEMPLATE],settingsChanged(c,f){console.log(`setting ${c} changed to ${JSON.stringify(f)}`),s(f.Participant)}};return e.settings.addListener(u),s(i.Participant),()=>{e.settings.removeListener(u)}},[]),_.useEffect(()=>{console.debug(`selectedProtocolChanged, num exercises is ${e.settings.numExercises}`),n()},[r]);function s(u){const c=new Date;u=(u??"").trim();const f=new Date(c.getTime()-c.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);Rn.getData(d=>{const h=new Date(d.Time),m=new Date(h.getTime()-h.getTimezoneOffset()*60*1e3).toISOString().substring(0,10);return(d.Participant??"").trim()===u&&m.startsWith(f)}).then(d=>{a(d)})}async function l(u){await Promise.all(u.map(c=>Rn.deleteRecordById(c))),s(i.Participant)}return S.jsx("div",{id:"current-participant-info",children:S.jsxs(t5,{children:[S.jsxs("legend",{children:["Results",i.Participant?` for ${i.Participant}`:""]}),S.jsx("div",{style:{justifySelf:"center",maxWidth:"100%"},children:S.jsx(MT,{tableData:o,setTableData:a,searchableColumns:[],hideColumns:["Participant","Time"],minExercisesToShow:e.settings.numExercises,columnSortingSettingKey:F.PARTICIPANT_RESULTS_TABLE_SORT,columnFilterSettingKey:F.PARTICIPANT_RESULTS_TABLE_FILTER,deleteRowsCallback:l})})]})})}function DT(){return S.jsxs("div",{style:{display:"block"},children:["This app requires Chrome browser for some features. Get it here: ",S.jsx("a",{href:"https://www.google.com/chrome/",children:"https://www.google.com/chrome/"})]})}function s5(){const e=navigator.userAgent.includes("Chrome");return S.jsx(S.Fragment,{children:!e&&S.jsx(DT,{})})}function l5(){const[e]=ae(F.SHOW_EXTERNAL_CONTROL),[t]=ae(F.USE_COMPACT_UI),[n]=ae(F.ZOOM_INSTRUCTIONS);return S.jsxs(S.Fragment,{children:[S.jsx(s5,{}),!n&&S.jsxs("section",{id:"control-widgets",style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifySelf:"center"},children:[!t&&S.jsx(kT,{}),!t&&e&&S.jsx(W$,{}),!t&&e&&S.jsx(q$,{}),!t&&S.jsx(CT,{}),!t&&S.jsx(TT,{}),!t&&e&&S.jsx(xT,{})]}),!n&&S.jsx(EL,{}),S.jsx(wL,{}),!n&&S.jsx(a5,{})]})}function u5(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:a}=e;let s,l,u;const c=async(d=!0)=>{await l,await u?.()};async function f(){if("serviceWorker"in navigator){if(s=await Ad(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[],import.meta.url).then(({Workbox:d})=>new d("./sw.js",{scope:"./",type:"classic"})).catch(d=>{a?.(d)}),!s)return;u=async()=>{await s?.messageSkipWaiting()};{let d=!1;const h=()=>{d=!0,s?.addEventListener("controlling",m=>{m.isUpdate&&window.location.reload()}),n?.()};s.addEventListener("installed",m=>{typeof m.isUpdate>"u"?typeof m.isExternal<"u"?m.isExternal?h():!d&&r?.():m.isExternal?window.location.reload():!d&&r?.():m.isUpdate||r?.()}),s.addEventListener("waiting",h),s.addEventListener("externalwaiting",h)}s.register({immediate:t}).then(d=>{o?o("./sw.js",d):i?.(d)}).catch(d=>{a?.(d)})}}return l=f(),c}var hv={};Object.defineProperty(hv,"__esModule",{value:!0});hv.parse=g5;hv.serialize=v5;const c5=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,f5=/^[\u0021-\u003A\u003C-\u007E]*$/,d5=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,h5=/^[\u0020-\u003A\u003D-\u007E]*$/,p5=Object.prototype.toString,m5=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function g5(e,t){const n=new m5,r=e.length;if(r<2)return n;const i=t?.decode||y5;let o=0;do{const a=e.indexOf("=",o);if(a===-1)break;const s=e.indexOf(";",o),l=s===-1?r:s;if(a>l){o=e.lastIndexOf(";",a-1)+1;continue}const u=__(e,o,a),c=S_(e,a,u),f=e.slice(u,c);if(n[f]===void 0){let d=__(e,a+1,l),h=S_(e,l,d);const m=i(e.slice(d,h));n[f]=m}o=l+1}while(o<r);return n}function __(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function S_(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function v5(e,t,n){const r=n?.encode||encodeURIComponent;if(!c5.test(e))throw new TypeError(`argument name is invalid: ${e}`);const i=r(t);if(!f5.test(i))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!d5.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!h5.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!w5(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function y5(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function w5(e){return p5.call(e)==="[object Date]"}/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var x_="popstate";function _5(e={}){function t(i,o){let{pathname:a="/",search:s="",hash:l=""}=Ao(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),pg("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:Nl(o))}function r(i,o){Ln(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return x5(t,n,r,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ln(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function S5(){return Math.random().toString(36).substring(2,10)}function b_(e,t){return{usr:e.state,key:e.key,idx:t}}function pg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ao(t):t,state:n,key:t&&t.key||r||S5()}}function Nl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ao(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function x5(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,u=c();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function c(){return(a.state||{idx:null}).idx}function f(){s="POP";let v=c(),p=v==null?null:v-u;u=v,l&&l({action:s,location:g.location,delta:p})}function d(v,p){s="PUSH";let w=pg(g.location,v,p);n&&n(w,v),u=c()+1;let y=b_(w,u),x=g.createHref(w);try{a.pushState(y,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(x)}o&&l&&l({action:s,location:g.location,delta:1})}function h(v,p){s="REPLACE";let w=pg(g.location,v,p);n&&n(w,v),u=c();let y=b_(w,u),x=g.createHref(w);a.replaceState(y,"",x),o&&l&&l({action:s,location:g.location,delta:0})}function m(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:Nl(v);return w=w.replace(/ $/,"%20"),Ze(p,`No window.location.(origin|href) available to create URL for href: ${w}`),new URL(w,p)}let g={get action(){return s},get location(){return e(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(x_,f),l=v,()=>{i.removeEventListener(x_,f),l=null}},createHref(v){return t(i,v)},createURL:m,encodeLocation(v){let p=m(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:h,go(v){return a.go(v)}};return g}function OT(e,t,n="/"){return b5(e,t,n,!1)}function b5(e,t,n,r){let i=typeof t=="string"?Ao(t):t,o=Ai(i.pathname||"/",n);if(o==null)return null;let a=PT(e);E5(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=L5(o);s=R5(a[l],u,r)}return s}function PT(e,t=[],n=[],r=""){let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Vr([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),PT(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:P5(u,o.index),routesMeta:c})};return e.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))i(o,a);else for(let s of NT(o.path))i(o,a,s)}),t}function NT(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=NT(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function E5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:N5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var C5=/^:[\w-]+$/,T5=3,k5=2,M5=1,D5=10,O5=-2,E_=e=>e==="*";function P5(e,t){let n=e.split("/"),r=n.length;return n.some(E_)&&(r+=O5),t&&(r+=k5),n.filter(i=>!E_(i)).reduce((i,o)=>i+(C5.test(o)?T5:o===""?M5:D5),r)}function N5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function R5(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",f=wf({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=wf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Vr([o,f.pathname]),pathnameBase:j5(Vr([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=Vr([o,f.pathnameBase]))}return a}function wf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=I5(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},d)=>{if(c==="*"){let m=s[d]||"";a=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const h=s[d];return f&&!h?u[c]=void 0:u[c]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function I5(e,t=!1,n=!0){Ln(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function L5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ln(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ai(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function A5(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ao(e):e;return{pathname:n?n.startsWith("/")?n:F5(n,t):t,search:U5(r),hash:H5(i)}}function F5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function RT(e){let t=$5(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function IT(e,t,n,r=!1){let i;typeof e=="string"?i=Ao(e):(i={...e},Ze(!i.pathname||!i.pathname.includes("?"),Pp("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Pp("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Pp("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?t[f]:"/"}let l=A5(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Vr=e=>e.join("/").replace(/\/\/+/g,"/"),j5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var LT=["POST","PUT","PATCH","DELETE"];new Set(LT);var B5=["GET",...LT];new Set(B5);var os=_.createContext(null);os.displayName="DataRouter";var Fd=_.createContext(null);Fd.displayName="DataRouterState";var AT=_.createContext({isTransitioning:!1});AT.displayName="ViewTransition";var Y5=_.createContext(new Map);Y5.displayName="Fetchers";var z5=_.createContext(null);z5.displayName="Await";var Sr=_.createContext(null);Sr.displayName="Navigation";var Zl=_.createContext(null);Zl.displayName="Location";var xr=_.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var pv=_.createContext(null);pv.displayName="RouteError";function W5(e,{relative:t}={}){Ze(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Sr),{hash:i,pathname:o,search:a}=eu(e,{relative:t}),s=o;return n!=="/"&&(s=o==="/"?n:Vr([n,o])),r.createHref({pathname:s,search:a,hash:i})}function Jl(){return _.useContext(Zl)!=null}function ai(){return Ze(Jl(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Zl).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(e){_.useContext(Sr).static||_.useLayoutEffect(e)}function $d(){let{isDataRoute:e}=_.useContext(xr);return e?s4():q5()}function q5(){Ze(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(os),{basename:t,navigator:n}=_.useContext(Sr),{matches:r}=_.useContext(xr),{pathname:i}=ai(),o=JSON.stringify(RT(r)),a=_.useRef(!1);return $T(()=>{a.current=!0}),_.useCallback((l,u={})=>{if(Ln(a.current,FT),!a.current)return;if(typeof l=="number"){n.go(l);return}let c=IT(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Vr([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}var Q5=_.createContext(null);function G5(e){let t=_.useContext(xr).outlet;return t&&_.createElement(Q5.Provider,{value:e},t)}function eu(e,{relative:t}={}){let{matches:n}=_.useContext(xr),{pathname:r}=ai(),i=JSON.stringify(RT(n));return _.useMemo(()=>IT(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function K5(e,t){return jT(e,t)}function jT(e,t,n,r){Ze(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(Sr),{matches:o}=_.useContext(xr),a=o[o.length-1],s=a?a.params:{},l=a?a.pathname:"/",u=a?a.pathnameBase:"/",c=a&&a.route;{let p=c&&c.path||"";UT(l,!c||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let f=ai(),d;if(t){let p=typeof t=="string"?Ao(t):t;Ze(u==="/"||p.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${p.pathname}" was given in the \`location\` prop.`),d=p}else d=f;let h=d.pathname||"/",m=h;if(u!=="/"){let p=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let g=OT(e,{pathname:m});Ln(c||g!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Ln(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=t4(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},s,p.params),pathname:Vr([u,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Vr([u,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n,r);return t&&v?_.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},v):v}function X5(){let e=a4(),t=V5(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:i},n):null,a)}var Z5=_.createElement(X5,null),J5=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(xr.Provider,{value:this.props.routeContext},_.createElement(pv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e4({routeContext:e,match:t,children:n}){let r=_.useContext(os);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(xr.Provider,{value:e},n)}function t4(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n?.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&o?.[u.route.id]!==void 0);Ze(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,s=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(s=l),u.route.id){let{loaderData:c,errors:f}=n,d=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||d){a=!0,s>=0?i=i.slice(0,s+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let f,d=!1,h=null,m=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,h=u.route.errorElement||Z5,a&&(s<0&&c===0?(UT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,m=null):s===c&&(d=!0,m=u.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,c+1)),v=()=>{let p;return f?p=h:d?p=m:u.route.Component?p=_.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=l,_.createElement(e4,{match:u,routeContext:{outlet:l,matches:g,isDataRoute:n!=null},children:p})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?_.createElement(J5,{location:n.location,revalidation:n.revalidation,component:h,error:f,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}function mv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n4(e){let t=_.useContext(os);return Ze(t,mv(e)),t}function r4(e){let t=_.useContext(Fd);return Ze(t,mv(e)),t}function i4(e){let t=_.useContext(xr);return Ze(t,mv(e)),t}function gv(e){let t=i4(e),n=t.matches[t.matches.length-1];return Ze(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function o4(){return gv("useRouteId")}function a4(){let e=_.useContext(pv),t=r4("useRouteError"),n=gv("useRouteError");return e!==void 0?e:t.errors?.[n]}function s4(){let{router:e}=n4("useNavigate"),t=gv("useNavigate"),n=_.useRef(!1);return $T(()=>{n.current=!0}),_.useCallback(async(i,o={})=>{Ln(n.current,FT),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var C_={};function UT(e,t,n){!t&&!C_[e]&&(C_[e]=!0,Ln(!1,n))}_.memo(l4);function l4({routes:e,future:t,state:n}){return jT(e,void 0,n,t)}function u4(e){return G5(e.context)}function _n(e){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c4({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ze(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),s=_.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof n=="string"&&(n=Ao(n));let{pathname:l="/",search:u="",hash:c="",state:f=null,key:d="default"}=n,h=_.useMemo(()=>{let m=Ai(l,a);return m==null?null:{location:{pathname:m,search:u,hash:c,state:f,key:d},navigationType:r}},[a,l,u,c,f,d,r]);return Ln(h!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:_.createElement(Sr.Provider,{value:s},_.createElement(Zl.Provider,{children:t,value:h}))}function f4({children:e,location:t}){return K5(mg(e),t)}function mg(e,t=[]){let n=[];return _.Children.forEach(e,(r,i)=>{if(!_.isValidElement(r))return;let o=[...t,i];if(r.type===_.Fragment){n.push.apply(n,mg(r.props.children,o));return}Ze(r.type===_n,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=mg(r.props.children,o)),n.push(a)}),n}var gc="get",vc="application/x-www-form-urlencoded";function jd(e){return e!=null&&typeof e.tagName=="string"}function d4(e){return jd(e)&&e.tagName.toLowerCase()==="button"}function h4(e){return jd(e)&&e.tagName.toLowerCase()==="form"}function p4(e){return jd(e)&&e.tagName.toLowerCase()==="input"}function m4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g4(e,t){return e.button===0&&(!t||t==="_self")&&!m4(e)}function gg(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function v4(e,t){let n=gg(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var Au=null;function y4(){if(Au===null)try{new FormData(document.createElement("form"),0),Au=!1}catch{Au=!0}return Au}var w4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Np(e){return e!=null&&!w4.has(e)?(Ln(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vc}"`),null):e}function _4(e,t){let n,r,i,o,a;if(h4(e)){let s=e.getAttribute("action");r=s?Ai(s,t):null,n=e.getAttribute("method")||gc,i=Np(e.getAttribute("enctype"))||vc,o=new FormData(e)}else if(d4(e)||p4(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(r=l?Ai(l,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||gc,i=Np(e.getAttribute("formenctype"))||Np(s.getAttribute("enctype"))||vc,o=new FormData(s,e),!y4()){let{name:u,type:c,value:f}=e;if(c==="image"){let d=u?`${u}.`:"";o.append(`${d}x`,"0"),o.append(`${d}y`,"0")}else u&&o.append(u,f)}}else{if(jd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gc,r=null,i=vc,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function vv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function S4(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function b4(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await S4(o,n);return a.links?a.links():[]}return[]}));return k4(r.flat(1).filter(x4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function T_(e,t,n,r,i,o){let a=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,s=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return o==="assets"?t.filter((l,u)=>a(l,u)||s(l,u)):o==="data"?t.filter((l,u)=>{let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(a(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function E4(e,t){return C4(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function C4(e){return[...new Set(e)]}function T4(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function k4(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(T4(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function M4(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function D4(){let e=_.useContext(os);return vv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function O4(){let e=_.useContext(Fd);return vv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yv=_.createContext(void 0);yv.displayName="FrameworkContext";function HT(){let e=_.useContext(yv);return vv(e,"You must render this element inside a <HydratedRouter> element"),e}function P4(e,t){let n=_.useContext(yv),[r,i]=_.useState(!1),[o,a]=_.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=t,d=_.useRef(null);_.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let g=p=>{p.forEach(w=>{a(w.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return d.current&&v.observe(d.current),()=>{v.disconnect()}}},[e]),_.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let h=()=>{i(!0)},m=()=>{i(!1),a(!1)};return n?e!=="intent"?[o,d,{}]:[o,d,{onFocus:bs(s,h),onBlur:bs(l,m),onMouseEnter:bs(u,h),onMouseLeave:bs(c,m),onTouchStart:bs(f,h)}]:[!1,d,{}]}function bs(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function N4({page:e,...t}){let{router:n}=D4(),r=_.useMemo(()=>OT(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?_.createElement(I4,{page:e,matches:r,...t}):null}function R4(e){let{manifest:t,routeModules:n}=HT(),[r,i]=_.useState([]);return _.useEffect(()=>{let o=!1;return b4(e,t,n).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,n]),r}function I4({page:e,matches:t,...n}){let r=ai(),{manifest:i,routeModules:o}=HT(),{loaderData:a,matches:s}=O4(),l=_.useMemo(()=>T_(e,t,s,i,r,"data"),[e,t,s,i,r]),u=_.useMemo(()=>T_(e,t,s,i,r,"assets"),[e,t,s,i,r]),c=_.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let h=new Set,m=!1;if(t.forEach(v=>{let p=i.routes[v.route.id];!p||!p.hasLoader||(!l.some(w=>w.route.id===v.route.id)&&v.route.id in a&&o[v.route.id]?.shouldRevalidate||p.hasClientLoader?m=!0:h.add(v.route.id))}),h.size===0)return[];let g=M4(e);return m&&h.size>0&&g.searchParams.set("_routes",t.filter(v=>h.has(v.route.id)).map(v=>v.route.id).join(",")),[g.pathname+g.search]},[a,r,i,l,t,e,o]),f=_.useMemo(()=>E4(u,i),[u,i]),d=R4(u);return _.createElement(_.Fragment,null,c.map(h=>_.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...n})),f.map(h=>_.createElement("link",{key:h,rel:"modulepreload",href:h,...n})),d.map(({key:h,link:m})=>_.createElement("link",{key:h,...m})))}function L4(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var VT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VT&&(window.__reactRouterVersion="7.1.3")}catch{}function A4({basename:e,children:t,window:n}){let r=_.useRef();r.current==null&&(r.current=_5({window:n,v5Compat:!0}));let i=r.current,[o,a]=_.useState({action:i.action,location:i.location}),s=_.useCallback(l=>{_.startTransition(()=>a(l))},[a]);return _.useLayoutEffect(()=>i.listen(s),[i,s]),_.createElement(c4,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var BT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YT=_.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f,...d},h){let{basename:m}=_.useContext(Sr),g=typeof u=="string"&&BT.test(u),v,p=!1;if(typeof u=="string"&&g&&(v=u,VT))try{let N=new URL(window.location.href),A=u.startsWith("//")?new URL(N.protocol+u):new URL(u),O=Ai(A.pathname,m);A.origin===N.origin&&O!=null?u=O+A.search+A.hash:p=!0}catch{Ln(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=W5(u,{relative:i}),[y,x,E]=P4(r,d),b=j4(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function C(N){t&&t(N),N.defaultPrevented||b(N)}let k=_.createElement("a",{...d,...E,href:v||w,onClick:p||o?t:C,ref:L4(h,x),target:l,"data-discover":!g&&n==="render"?"true":void 0});return y&&!g?_.createElement(_.Fragment,null,k,_.createElement(N4,{page:w})):k});YT.displayName="Link";var zT=_.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...u},c){let f=eu(a,{relative:u.relative}),d=ai(),h=_.useContext(Fd),{navigator:m,basename:g}=_.useContext(Sr),v=h!=null&&z4(f)&&s===!0,p=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=d.pathname,y=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;n||(w=w.toLowerCase(),y=y?y.toLowerCase():null,p=p.toLowerCase()),y&&g&&(y=Ai(y,g)||y);const x=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=w===p||!i&&w.startsWith(p)&&w.charAt(x)==="/",b=y!=null&&(y===p||!i&&y.startsWith(p)&&y.charAt(p.length)==="/"),C={isActive:E,isPending:b,isTransitioning:v},k=E?t:void 0,N;typeof r=="function"?N=r(C):N=[r,E?"active":null,b?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(C):o;return _.createElement(YT,{...u,"aria-current":k,className:N,ref:c,style:A,to:a,viewTransition:s},typeof l=="function"?l(C):l)});zT.displayName="NavLink";var F4=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:a=gc,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,...d},h)=>{let m=B4(),g=Y4(s,{relative:u}),v=a.toLowerCase()==="get"?"get":"post",p=typeof s=="string"&&BT.test(s),w=y=>{if(l&&l(y),y.defaultPrevented)return;y.preventDefault();let x=y.nativeEvent.submitter,E=x?.getAttribute("formmethod")||a;m(x||y.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:f})};return _.createElement("form",{ref:h,method:v,action:g,onSubmit:r?l:w,...d,"data-discover":!p&&e==="render"?"true":void 0})});F4.displayName="Form";function $4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(e){let t=_.useContext(os);return Ze(t,$4(e)),t}function j4(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let s=$d(),l=ai(),u=eu(e,{relative:o});return _.useCallback(c=>{if(g4(c,t)){c.preventDefault();let f=n!==void 0?n:Nl(l)===Nl(u);s(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[l,s,u,n,r,t,e,i,o,a])}function U4(e){Ln(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=_.useRef(gg(e)),n=_.useRef(!1),r=ai(),i=_.useMemo(()=>v4(r.search,n.current?null:t.current),[r.search]),o=$d(),a=_.useCallback((s,l)=>{const u=gg(typeof s=="function"?s(i):s);n.current=!0,o("?"+u,l)},[o,i]);return[i,a]}var H4=0,V4=()=>`__${String(++H4)}__`;function B4(){let{router:e}=WT("useSubmit"),{basename:t}=_.useContext(Sr),n=o4();return _.useCallback(async(r,i={})=>{let{action:o,method:a,encType:s,formData:l,body:u}=_4(r,t);if(i.navigate===!1){let c=i.fetcherKey||V4();await e.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function Y4(e,{relative:t}={}){let{basename:n}=_.useContext(Sr),r=_.useContext(xr);Ze(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...eu(e||".",{relative:t})},a=ai();if(e==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(c=>c==="")){s.delete("index"),l.filter(f=>f).forEach(f=>s.append("index",f));let c=s.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Vr([n,o.pathname])),Nl(o)}function z4(e,t={}){let n=_.useContext(AT);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=WT("useViewTransitionState"),i=eu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Ai(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ai(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wf(i.pathname,a)!=null||wf(i.pathname,o)!=null}new TextEncoder;function k_({label:e,value:t,setValue:n,options:r}){const i=`${e.replace(/[^\p{L}\p{N}]/ui,"")}-settings-select`;return S.jsx(S.Fragment,{children:S.jsxs("div",{className:"labeled-setting",children:[S.jsxs("label",{htmlFor:i,children:[e,": "]}),S.jsx("select",{id:i,value:t,onChange:o=>n(o.target.value),children:r.map(o=>Object.entries(o).map(([a,s])=>S.jsx("option",{value:s,children:a},s)))})]})})}function W4(){const[e,t]=ae(F.SPEECH_ENABLED);return _.useEffect(()=>{gt.setSpeechEnabled(e)},[e]),S.jsx(bT,{trueLabel:"Enable speech",value:e,setValue:t})}var vg;(function(e){e.csv="text/csv",e.tsv="text/tab-separated-values",e.plain="text/plain"})(vg||(vg={}));var as=e=>e,dn=e=>e,sl=as,Ud=as,Fa=as,M_=as,D_=as,q4={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,fileExtension:"csv",mediaType:vg.csv,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},Q4=`\r
`,G4="\uFEFF",Hd=e=>Object.assign({},q4,e);let K4=class extends Error{constructor(t){super(t),this.name="CsvGenerationError"}},X4=class extends Error{constructor(t){super(t),this.name="EmptyHeadersError"}};class Z4 extends Error{constructor(t){super(t),this.name="CsvDownloadEnvironmentError"}}class J4 extends Error{constructor(t){super(t),this.name="UnsupportedDataFormatError"}}var e6=function(e,t){return t=='"'&&e.indexOf('"')>-1?e.replace(/"/g,'""'):e},t6=e=>M_(typeof e=="object"?e.key:e),n6=e=>D_(typeof e=="object"?e.displayLabel:e),r6=(e,...t)=>t.reduce((n,r)=>r(n),e),i6=e=>t=>e.useBom?Ud(dn(t)+G4):t,o6=e=>t=>e.showTitle?wv(Ud(dn(t)+e.title))(Fa("")):t,wv=e=>t=>Ud(dn(e)+dn(t)+Q4),qT=e=>(t,n)=>a6(e)(Fa(dn(t)+dn(n))),a6=e=>t=>as(dn(t)+e.fieldSeparator),s6=(e,t)=>n=>{if(!e.showColumnHeaders)return n;if(t.length<1)throw new X4("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let r=Fa("");for(let i=0;i<t.length;i++){const o=n6(t[i]);r=qT(e)(r,QT(e,dn(o)))}return r=Fa(dn(r).slice(0,-1)),wv(n)(r)},l6=(e,t,n)=>r=>{let i=r;for(var o=0;o<n.length;o++){let a=Fa("");for(let s=0;s<t.length;s++){const l=t6(t[s]),u=n[o][dn(l)];a=qT(e)(a,QT(e,u))}a=Fa(dn(a).slice(0,-1)),i=wv(i)(a)}return i},u6=e=>+e===e&&(!isFinite(e)||!!(e%1)),c6=(e,t)=>{if(u6(t)){if(e.decimalSeparator==="locale")return sl(t.toLocaleString());if(e.decimalSeparator)return sl(t.toString().replace(".",e.decimalSeparator))}return sl(t.toString())},yc=(e,t)=>{let n=t;return(e.quoteStrings||e.fieldSeparator&&t.indexOf(e.fieldSeparator)>-1||e.quoteCharacter&&t.indexOf(e.quoteCharacter)>-1||t.indexOf(`
`)>-1||t.indexOf("\r")>-1)&&(n=e.quoteCharacter+e6(t,e.quoteCharacter)+e.quoteCharacter),sl(n)},f6=(e,t)=>{const n=t?"true":"false";return sl(e.boolDisplay[n])},d6=(e,t)=>typeof t>"u"&&e.replaceUndefinedWith!==void 0?yc(e,e.replaceUndefinedWith+""):t===null?yc(e,"null"):yc(e,""),QT=(e,t)=>{if(typeof t=="number")return c6(e,t);if(typeof t=="string")return yc(e,t);if(typeof t=="boolean"&&e.boolDisplay)return f6(e,t);if(t===null||typeof t>"u")return d6(e,t);throw new J4(`
    typeof ${typeof t} isn't supported. Only number, string, boolean, null and undefined are supported.
    Please convert the data in your object to one of those before generating the CSV.
    `)},h6=e=>t=>{const n=Hd(e),r=n.useKeysAsHeaders?Object.keys(t[0]):n.columnHeaders;let i=r6(Ud(""),i6(n),o6(n),s6(n,r),l6(n,r,t));if(dn(i).length<1)throw new K4("Output is empty. Is your data formatted correctly?");return i},p6=e=>t=>{const n=Hd(e),r=dn(t),i=n.useTextFile?"text/plain":n.mediaType;return new Blob([r],{type:`${i};charset=utf8;`})},m6=e=>t=>{if(!window)throw new Z4("Downloading only supported in a browser environment.");const n=p6(e)(t),r=Hd(e),i=r.useTextFile?"txt":r.fileExtension,o=`${r.filename}.${i}`,a=document.createElement("a");a.download=o,a.href=URL.createObjectURL(n),a.setAttribute("visibility","hidden"),document.body.appendChild(a),a.click(),document.body.removeChild(a)};function g6(e,t){const n=URL.createObjectURL(new Blob([new TextEncoder().encode(t).buffer],{type:"text/plain"})),r=document.createElement("a");return r.download=e,r.href=n,r}function yg(e,t="data",n="txt"){g6(`${t}_${new Date().toISOString().replace(/[:.]/g,"_")}.${n}`,e).click()}function v6(e){const t=Hd({fieldSeparator:",",filename:`fit-test-results-${new Date().toISOString().replace(/[:.]/g,"_")}`,decimalSeparator:".",columnHeaders:e.getAllColumns().map(o=>o.id)}),r=e.getSortedRowModel().rows.map(o=>o.original),i=h6(t)(r);return{csvConfig:t,csv:i}}function yK(e){const{csvConfig:t,csv:n}=v6(e);m6(t)(n)}function y6(){const[e,t]=ae(F.SPEECH_VOICE),n=_.useCallback(r=>{const i=gt.findVoiceByName(r);console.log(`looking for voice '${r}'; found voice ${i?.name}`);const o=gt.getSelectedVoice();i&&(!o||o.name!==i.name)&&(gt.setSelectedVoice(i),t(r),gt.sayItLater(`This is ${i.name} speaking.`))},[t]);return _.useEffect(()=>{const r=gt.findDefaultVoice();r&&t(r.name)},[]),_.useEffect(()=>{n(e)},[e,n]),S.jsx(S.Fragment,{children:S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{htmlFor:"speech-voice-select",children:"Voice: "}),S.jsx("select",{id:"speech-voice-select",value:e,onChange:r=>t(r.target.value),style:{textOverflow:"ellipsis",width:"15em"},children:gt.allVoices.map(r=>S.jsx("option",{value:r.name,children:`${r.name} (${r.lang}) ${r.default?" DEFAULT":""}`},r.name))})]})})}function w6({value:e,onChange:t,debounce:n=500,inputRef:r,id:i,...o}){const[a,s]=R.useState(e);return R.useEffect(()=>{s(e)},[e]),R.useEffect(()=>{const l=setTimeout(()=>{t(a)},n);return()=>clearTimeout(l)},[a]),S.jsx("input",{id:`debounced-input-${i}`,ref:r,...o,value:a,onChange:l=>s(l.target.value)})}function GT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=GT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=GT(e))&&(r&&(r+=" "),r+=t);return r}function Z(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ae(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Zr(e,t){const n=Z(e);return isNaN(t)?Ae(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Qn(e,t){const n=Z(e);if(isNaN(t))return Ae(e,NaN);if(!t)return n;const r=n.getDate(),i=Ae(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function _v(e,t){const n=+Z(e);return Ae(e,n+t)}const KT=6048e5,_6=864e5,Vd=6e4,Bd=36e5,S6=1e3;function x6(e,t){return _v(e,t*Bd)}let b6={};function Fo(){return b6}function Jr(e,t){const n=Fo(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Z(e),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function $a(e){return Jr(e,{weekStartsOn:1})}function XT(e){const t=Z(e),n=t.getFullYear(),r=Ae(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=$a(r),o=Ae(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=$a(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Co(e){const t=Z(e);return t.setHours(0,0,0,0),t}function _f(e){const t=Z(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ja(e,t){const n=Co(e),r=Co(t),i=+n-_f(n),o=+r-_f(r);return Math.round((i-o)/_6)}function E6(e){const t=XT(e),n=Ae(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),$a(n)}function wg(e,t){return _v(e,t*Vd)}function Sv(e,t){const n=t*3;return Qn(e,n)}function C6(e,t){return _v(e,t*1e3)}function Sf(e,t){const n=t*7;return Zr(e,n)}function Br(e,t){return Qn(e,t*12)}function O_(e){let t;return e.forEach(function(n){const r=Z(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function P_(e){let t;return e.forEach(n=>{const r=Z(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function T6(e,t){const n=Co(e),r=Co(t);return+n==+r}function Yr(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xf(e){if(!Yr(e)&&typeof e!="number")return!1;const t=Z(e);return!isNaN(Number(t))}function bf(e,t){const n=Z(e),r=Z(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function fo(e){const t=Z(e);return Math.trunc(t.getMonth()/3)+1}function Ef(e,t){const n=Z(e),r=Z(t),i=n.getFullYear()-r.getFullYear(),o=fo(n)-fo(r);return i*4+o}function Cf(e,t){const n=Z(e),r=Z(t);return n.getFullYear()-r.getFullYear()}function k6(e,t){const n=Z(e),r=Z(t),i=N_(n,r),o=Math.abs(ja(n,r));n.setDate(n.getDate()-i*o);const a=+(N_(n,r)===-i),s=i*(o-a);return s===0?0:s}function N_(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ZT(e){const t=Z(e);return t.setHours(23,59,59,999),t}function JT(e){const t=Z(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function _g(e){const t=Z(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function ek(e){const t=Z(e);return t.setDate(1),t.setHours(0,0,0,0),t}function tk(e){const t=Z(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Yd(e){const t=Z(e),n=Ae(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function M6(e,t){const n=Fo(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Z(e),o=i.getDay(),a=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const D6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O6=(e,t,n)=>{let r;const i=D6[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Rp(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const P6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},N6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},R6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I6={date:Rp({formats:P6,defaultWidth:"full"}),time:Rp({formats:N6,defaultWidth:"full"}),dateTime:Rp({formats:R6,defaultWidth:"full"})},L6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},A6=(e,t,n,r)=>L6[e];function Es(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,s=n?.width?String(n.width):a;i=e.formattingValues[s]||e.formattingValues[a]}else{const a=e.defaultWidth,s=n?.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const F6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},U6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},V6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},B6=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Y6={ordinalNumber:B6,era:Es({values:F6,defaultWidth:"wide"}),quarter:Es({values:$6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Es({values:j6,defaultWidth:"wide"}),day:Es({values:U6,defaultWidth:"wide"}),dayPeriod:Es({values:H6,defaultWidth:"wide",formattingValues:V6,defaultFormattingWidth:"wide"})};function Cs(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const a=o[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?W6(s,f=>f.test(a)):z6(s,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=t.slice(a.length);return{value:u,rest:c}}}function z6(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function W6(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function q6(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=t.slice(i.length);return{value:a,rest:s}}}const Q6=/^(\d+)(th|st|nd|rd)?/i,G6=/\d+/i,K6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},X6={any:[/^b/i,/^(a|c)/i]},Z6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},J6={any:[/1/i,/2/i,/3/i,/4/i]},e8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},t8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},n8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},o8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},a8={ordinalNumber:q6({matchPattern:Q6,parsePattern:G6,valueCallback:e=>parseInt(e,10)}),era:Cs({matchPatterns:K6,defaultMatchWidth:"wide",parsePatterns:X6,defaultParseWidth:"any"}),quarter:Cs({matchPatterns:Z6,defaultMatchWidth:"wide",parsePatterns:J6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cs({matchPatterns:e8,defaultMatchWidth:"wide",parsePatterns:t8,defaultParseWidth:"any"}),day:Cs({matchPatterns:n8,defaultMatchWidth:"wide",parsePatterns:r8,defaultParseWidth:"any"}),dayPeriod:Cs({matchPatterns:i8,defaultMatchWidth:"any",parsePatterns:o8,defaultParseWidth:"any"})},nk={code:"en-US",formatDistance:O6,formatLong:I6,formatRelative:A6,localize:Y6,match:a8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function s8(e){const t=Z(e);return ja(t,Yd(t))+1}function xv(e){const t=Z(e),n=+$a(t)-+E6(t);return Math.round(n/KT)+1}function bv(e,t){const n=Z(e),r=n.getFullYear(),i=Fo(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Ae(e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=Jr(a,t),l=Ae(e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Jr(l,t);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function l8(e,t){const n=Fo(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=bv(e,t),o=Ae(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Jr(o,t)}function rk(e,t){const n=Z(e),r=+Jr(n,t)-+l8(n,t);return Math.round(r/KT)+1}function Le(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ci={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Le(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Le(n+1,2)},d(e,t){return Le(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Le(e.getHours()%12||12,t.length)},H(e,t){return Le(e.getHours(),t.length)},m(e,t){return Le(e.getMinutes(),t.length)},s(e,t){return Le(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Le(i,t.length)}},zo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},R_={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ci.y(e,t)},Y:function(e,t,n,r){const i=bv(e,r),o=i>0?i:1-i;if(t==="YY"){const a=o%100;return Le(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Le(o,t.length)},R:function(e,t){const n=XT(e);return Le(n,t.length)},u:function(e,t){const n=e.getFullYear();return Le(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Le(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Le(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ci.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Le(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=rk(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Le(i,t.length)},I:function(e,t,n){const r=xv(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Le(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ci.d(e,t)},D:function(e,t,n){const r=s8(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Le(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Le(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Le(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Le(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=zo.noon:r===0?i=zo.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=zo.evening:r>=12?i=zo.afternoon:r>=4?i=zo.morning:i=zo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ci.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ci.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Le(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Le(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ci.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ci.s(e,t)},S:function(e,t){return ci.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return L_(r);case"XXXX":case"XX":return Ji(r);case"XXXXX":case"XXX":default:return Ji(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return L_(r);case"xxxx":case"xx":return Ji(r);case"xxxxx":case"xxx":default:return Ji(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+I_(r,":");case"OOOO":default:return"GMT"+Ji(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+I_(r,":");case"zzzz":default:return"GMT"+Ji(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Le(r,t.length)},T:function(e,t,n){const r=e.getTime();return Le(r,t.length)}};function I_(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+Le(o,2)}function L_(e,t){return e%60===0?(e>0?"-":"+")+Le(Math.abs(e)/60,2):Ji(e,t)}function Ji(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Le(Math.trunc(r/60),2),o=Le(r%60,2);return n+i+t+o}const A_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ik=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},u8=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return A_(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",A_(r,t)).replace("{{time}}",ik(i,t))},Tf={p:ik,P:u8},c8=/^D+$/,f8=/^Y+$/,d8=["D","DD","YY","YYYY"];function ok(e){return c8.test(e)}function ak(e){return f8.test(e)}function Sg(e,t,n){const r=h8(e,t,n);if(console.warn(r),d8.includes(e))throw new RangeError(r)}function h8(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const p8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g8=/^'([^]*?)'?$/,v8=/''/g,y8=/[a-zA-Z]/;function F_(e,t,n){const r=Fo(),i=n?.locale??r.locale??nk,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Z(e);if(!xf(s))throw new RangeError("Invalid time value");let l=t.match(m8).map(c=>{const f=c[0];if(f==="p"||f==="P"){const d=Tf[f];return d(c,i.formatLong)}return c}).join("").match(p8).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const f=c[0];if(f==="'")return{isToken:!1,value:w8(c)};if(R_[f])return{isToken:!0,value:c};if(f.match(y8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:c}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map(c=>{if(!c.isToken)return c.value;const f=c.value;(!n?.useAdditionalWeekYearTokens&&ak(f)||!n?.useAdditionalDayOfYearTokens&&ok(f))&&Sg(f,t,String(e));const d=R_[f[0]];return d(s,f,i.localize,u)}).join("")}function w8(e){const t=e.match(g8);return t?t[1].replace(v8,"'"):e}function $_(e){return Z(e).getDate()}function _8(e){return Z(e).getDay()}function S8(e){const t=Z(e),n=t.getFullYear(),r=t.getMonth(),i=Ae(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function x8(){return Object.assign({},Fo())}function mr(e){return Z(e).getHours()}function b8(e){let n=Z(e).getDay();return n===0&&(n=7),n}function gr(e){return Z(e).getMinutes()}function Yt(e){return Z(e).getMonth()}function zr(e){return Z(e).getSeconds()}function xg(e){return Z(e).getTime()}function _e(e){return Z(e).getFullYear()}function Fi(e,t){const n=Z(e),r=Z(t);return n.getTime()>r.getTime()}function To(e,t){const n=Z(e),r=Z(t);return+n<+r}function E8(e,t){const n=Z(e),r=Z(t);return+n==+r}function C8(e,t){const n=t instanceof Date?Ae(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const T8=10;class sk{subPriority=0;validate(t,n){return!0}}class k8 extends sk{constructor(t,n,r,i,o){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class M8 extends sk{priority=T8;subPriority=-1;set(t,n){return n.timestampIsSet?t:Ae(t,C8(t,Date))}}let Re=class{run(t,n,r,i){const o=this.parse(t,n,r,i);return o?{setter:new k8(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,n,r){return!0}};class D8 extends Re{priority=140;parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const st={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},or={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function lt(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ke(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function ar(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(i*Bd+o*Vd+a*S6),rest:t.slice(n[0].length)}}function lk(e){return Ke(st.anyDigitsSigned,e)}function it(e,t){switch(e){case 1:return Ke(st.singleDigit,t);case 2:return Ke(st.twoDigits,t);case 3:return Ke(st.threeDigits,t);case 4:return Ke(st.fourDigits,t);default:return Ke(new RegExp("^\\d{1,"+e+"}"),t)}}function kf(e,t){switch(e){case 1:return Ke(st.singleDigitSigned,t);case 2:return Ke(st.twoDigitsSigned,t);case 3:return Ke(st.threeDigitsSigned,t);case 4:return Ke(st.fourDigitsSigned,t);default:return Ke(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Ev(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function uk(e,t){const n=t>0,r=n?t:1-t;let i;if(r<=50)i=e||100;else{const o=r+50,a=Math.trunc(o/100)*100,s=e>=o%100;i=e+a-(s?100:0)}return n?i:1-i}function ck(e){return e%400===0||e%4===0&&e%100!==0}class O8 extends Re{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,r){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return lt(it(4,t),i);case"yo":return lt(r.ordinalNumber(t,{unit:"year"}),i);default:return lt(it(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const i=t.getFullYear();if(r.isTwoDigitYear){const a=uk(r.year,i);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}const o=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class P8 extends Re{priority=130;parse(t,n,r){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return lt(it(4,t),i);case"Yo":return lt(r.ordinalNumber(t,{unit:"year"}),i);default:return lt(it(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,i){const o=bv(t,i);if(r.isTwoDigitYear){const s=uk(r.year,o);return t.setFullYear(s,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Jr(t,i)}const a=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(a,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),Jr(t,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class N8 extends Re{priority=130;parse(t,n){return kf(n==="R"?4:n.length,t)}set(t,n,r){const i=Ae(t,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),$a(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class R8 extends Re{priority=130;parse(t,n){return kf(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class I8 extends Re{priority=120;parse(t,n,r){switch(n){case"Q":case"QQ":return it(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class L8 extends Re{priority=120;parse(t,n,r){switch(n){case"q":case"qq":return it(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class A8 extends Re{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,r){const i=o=>o-1;switch(n){case"M":return lt(Ke(st.month,t),i);case"MM":return lt(it(2,t),i);case"Mo":return lt(r.ordinalNumber(t,{unit:"month"}),i);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class F8 extends Re{priority=110;parse(t,n,r){const i=o=>o-1;switch(n){case"L":return lt(Ke(st.month,t),i);case"LL":return lt(it(2,t),i);case"Lo":return lt(r.ordinalNumber(t,{unit:"month"}),i);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function $8(e,t,n){const r=Z(e),i=rk(r,n)-t;return r.setDate(r.getDate()-i*7),r}class j8 extends Re{priority=100;parse(t,n,r){switch(n){case"w":return Ke(st.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return it(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,i){return Jr($8(t,r,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function U8(e,t){const n=Z(e),r=xv(n)-t;return n.setDate(n.getDate()-r*7),n}class H8 extends Re{priority=100;parse(t,n,r){switch(n){case"I":return Ke(st.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return it(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return $a(U8(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const V8=[31,28,31,30,31,30,31,31,30,31,30,31],B8=[31,29,31,30,31,30,31,31,30,31,30,31];class Y8 extends Re{priority=90;subPriority=1;parse(t,n,r){switch(n){case"d":return Ke(st.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return it(n.length,t)}}validate(t,n){const r=t.getFullYear(),i=ck(r),o=t.getMonth();return i?n>=1&&n<=B8[o]:n>=1&&n<=V8[o]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class z8 extends Re{priority=90;subpriority=1;parse(t,n,r){switch(n){case"D":case"DD":return Ke(st.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return it(n.length,t)}}validate(t,n){const r=t.getFullYear();return ck(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Cv(e,t,n){const r=Fo(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Z(e),a=o.getDay(),l=(t%7+7)%7,u=7-i,c=t<0||t>6?t-(a+u)%7:(l+u)%7-(a+u)%7;return Zr(o,c)}class W8 extends Re{priority=90;parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=Cv(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class q8 extends Re{priority=90;parse(t,n,r,i){const o=a=>{const s=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+s};switch(n){case"e":case"ee":return lt(it(n.length,t),o);case"eo":return lt(r.ordinalNumber(t,{unit:"day"}),o);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=Cv(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Q8 extends Re{priority=90;parse(t,n,r,i){const o=a=>{const s=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+s};switch(n){case"c":case"cc":return lt(it(n.length,t),o);case"co":return lt(r.ordinalNumber(t,{unit:"day"}),o);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,i){return t=Cv(t,r,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function G8(e,t){const n=Z(e),r=b8(n),i=t-r;return Zr(n,i)}class K8 extends Re{priority=90;parse(t,n,r){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return it(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return lt(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return lt(r.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return lt(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return lt(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=G8(t,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class X8 extends Re{priority=80;parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(Ev(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class Z8 extends Re{priority=80;parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(Ev(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class J8 extends Re{priority=80;parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(Ev(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class ej extends Re{priority=70;parse(t,n,r){switch(n){case"h":return Ke(st.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return it(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const i=t.getHours()>=12;return i&&r<12?t.setHours(r+12,0,0,0):!i&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class tj extends Re{priority=70;parse(t,n,r){switch(n){case"H":return Ke(st.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return it(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class nj extends Re{priority=70;parse(t,n,r){switch(n){case"K":return Ke(st.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return it(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class rj extends Re{priority=70;parse(t,n,r){switch(n){case"k":return Ke(st.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return it(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const i=r<=24?r%24:r;return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class ij extends Re{priority=60;parse(t,n,r){switch(n){case"m":return Ke(st.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return it(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]}class oj extends Re{priority=50;parse(t,n,r){switch(n){case"s":return Ke(st.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return it(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]}class aj extends Re{priority=30;parse(t,n){const r=i=>Math.trunc(i*Math.pow(10,-n.length+3));return lt(it(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]}class sj extends Re{priority=10;parse(t,n){switch(n){case"X":return ar(or.basicOptionalMinutes,t);case"XX":return ar(or.basic,t);case"XXXX":return ar(or.basicOptionalSeconds,t);case"XXXXX":return ar(or.extendedOptionalSeconds,t);case"XXX":default:return ar(or.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Ae(t,t.getTime()-_f(t)-r)}incompatibleTokens=["t","T","x"]}class lj extends Re{priority=10;parse(t,n){switch(n){case"x":return ar(or.basicOptionalMinutes,t);case"xx":return ar(or.basic,t);case"xxxx":return ar(or.basicOptionalSeconds,t);case"xxxxx":return ar(or.extendedOptionalSeconds,t);case"xxx":default:return ar(or.extended,t)}}set(t,n,r){return n.timestampIsSet?t:Ae(t,t.getTime()-_f(t)-r)}incompatibleTokens=["t","T","X"]}class uj extends Re{priority=40;parse(t){return lk(t)}set(t,n,r){return[Ae(t,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class cj extends Re{priority=20;parse(t){return lk(t)}set(t,n,r){return[Ae(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const fj={G:new D8,y:new O8,Y:new P8,R:new N8,u:new R8,Q:new I8,q:new L8,M:new A8,L:new F8,w:new j8,I:new H8,d:new Y8,D:new z8,E:new W8,e:new q8,c:new Q8,i:new K8,a:new X8,b:new Z8,B:new J8,h:new ej,H:new tj,K:new nj,k:new rj,m:new ij,s:new oj,S:new aj,X:new sj,x:new lj,t:new uj,T:new cj},dj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pj=/^'([^]*?)'?$/,mj=/''/g,gj=/\S/,vj=/[a-zA-Z]/;function Ip(e,t,n,r){const i=x8(),o=r?.locale??i.locale??nk,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(t==="")return e===""?Z(n):Ae(n,NaN);const l={firstWeekContainsDate:a,weekStartsOn:s,locale:o},u=[new M8],c=t.match(hj).map(g=>{const v=g[0];if(v in Tf){const p=Tf[v];return p(g,o.formatLong)}return g}).join("").match(dj),f=[];for(let g of c){!r?.useAdditionalWeekYearTokens&&ak(g)&&Sg(g,t,e),!r?.useAdditionalDayOfYearTokens&&ok(g)&&Sg(g,t,e);const v=g[0],p=fj[v];if(p){const{incompatibleTokens:w}=p;if(Array.isArray(w)){const x=f.find(E=>w.includes(E.token)||E.token===v);if(x)throw new RangeError(`The format string mustn't contain \`${x.fullToken}\` and \`${g}\` at the same time`)}else if(p.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);f.push({token:v,fullToken:g});const y=p.run(e,g,o.match,l);if(!y)return Ae(n,NaN);u.push(y.setter),e=y.rest}else{if(v.match(vj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");if(g==="''"?g="'":v==="'"&&(g=yj(g)),e.indexOf(g)===0)e=e.slice(g.length);else return Ae(n,NaN)}}if(e.length>0&&gj.test(e))return Ae(n,NaN);const d=u.map(g=>g.priority).sort((g,v)=>v-g).filter((g,v,p)=>p.indexOf(g)===v).map(g=>u.filter(v=>v.priority===g).sort((v,p)=>p.subPriority-v.subPriority)).map(g=>g[0]);let h=Z(n);if(isNaN(h.getTime()))return Ae(n,NaN);const m={};for(const g of d){if(!g.validate(h,l))return Ae(n,NaN);const v=g.set(h,m,l);Array.isArray(v)?(h=v[0],Object.assign(m,v[1])):h=v}return Ae(n,h)}function yj(e){return e.match(pj)[1].replace(mj,"'")}function wj(e,t){const n=Z(e),r=Z(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function _j(e,t){const n=_g(e),r=_g(t);return+n==+r}function Sj(e,t){const n=Z(e),r=Z(t);return n.getFullYear()===r.getFullYear()}function Rl(e,t){const n=+Z(e),[r,i]=[+Z(t.start),+Z(t.end)].sort((o,a)=>o-a);return n>=r&&n<=i}function xj(e,t){return Zr(e,-t)}function bj(e,t){const r=kj(e);let i;if(r.date){const l=Mj(r.date,2);i=Dj(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let a=0,s;if(r.time&&(a=Oj(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(s=Pj(r.timezone),isNaN(s))return new Date(NaN)}else{const l=new Date(o+a),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(o+a+s)}const Fu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ej=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Cj=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Tj=/^([+-])(\d{2})(?::?(\d{2}))?$/;function kj(e){const t={},n=e.split(Fu.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Fu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Fu.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=Fu.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function Mj(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function Dj(e,t){if(t===null)return new Date(NaN);const n=e.match(Ej);if(!n)return new Date(NaN);const r=!!n[4],i=Ts(n[1]),o=Ts(n[2])-1,a=Ts(n[3]),s=Ts(n[4]),l=Ts(n[5])-1;if(r)return Aj(t,s,l)?Nj(t,s,l):new Date(NaN);{const u=new Date(0);return!Ij(t,o,a)||!Lj(t,i)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(i,a)),u)}}function Ts(e){return e?parseInt(e):1}function Oj(e){const t=e.match(Cj);if(!t)return NaN;const n=Lp(t[1]),r=Lp(t[2]),i=Lp(t[3]);return Fj(n,r,i)?n*Bd+r*Vd+i*1e3:NaN}function Lp(e){return e&&parseFloat(e.replace(",","."))||0}function Pj(e){if(e==="Z")return 0;const t=e.match(Tj);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return $j(r,i)?n*(r*Bd+i*Vd):NaN}function Nj(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const Rj=[31,null,31,30,31,30,31,31,30,31,30,31];function fk(e){return e%400===0||e%4===0&&e%100!==0}function Ij(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Rj[t]||(fk(e)?29:28))}function Lj(e,t){return t>=1&&t<=(fk(e)?366:365)}function Aj(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Fj(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function $j(e,t){return t>=0&&t<=59}function on(e,t){const n=Z(e),r=n.getFullYear(),i=n.getDate(),o=Ae(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const a=S8(o);return n.setMonth(t,Math.min(i,a)),n}function jj(e,t){let n=Z(e);return isNaN(+n)?Ae(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=on(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function wc(e,t){const n=Z(e);return n.setHours(t),n}function _c(e,t){const n=Z(e);return n.setMinutes(t),n}function Qo(e,t){const n=Z(e),r=Math.trunc(n.getMonth()/3)+1,i=t-r;return on(n,n.getMonth()+i*3)}function Sc(e,t){const n=Z(e);return n.setSeconds(t),n}function er(e,t){const n=Z(e);return isNaN(+n)?Ae(e,NaN):(n.setFullYear(t),n)}function Ua(e,t){return Qn(e,-t)}function dk(e,t){return Sv(e,-t)}function j_(e,t){return Sf(e,-t)}function Ha(e,t){return Br(e,-t)}var xc=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Mf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Mf(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Mf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function hk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function U_(e,t){const n=hk(e);return Math.round(t*n)/n}function Ap(e){const t=_.useRef(e);return xc(()=>{t.current=e}),t}function Uj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:u}=e,[c,f]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=_.useState(r);Mf(d,r)||h(r);const[m,g]=_.useState(null),[v,p]=_.useState(null),w=_.useCallback(M=>{M!==b.current&&(b.current=M,g(M))},[]),y=_.useCallback(M=>{M!==C.current&&(C.current=M,p(M))},[]),x=o||m,E=a||v,b=_.useRef(null),C=_.useRef(null),k=_.useRef(c),N=l!=null,A=Ap(l),O=Ap(i),V=Ap(u),I=_.useCallback(()=>{if(!b.current||!C.current)return;const M={placement:t,strategy:n,middleware:d};O.current&&(M.platform=O.current),T3(b.current,C.current,M).then($=>{const B={...$,isPositioned:V.current!==!1};T.current&&!Mf(k.current,B)&&(k.current=B,ql.flushSync(()=>{f(B)}))})},[d,t,n,O,V]);xc(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const T=_.useRef(!1);xc(()=>(T.current=!0,()=>{T.current=!1}),[]),xc(()=>{if(x&&(b.current=x),E&&(C.current=E),x&&E){if(A.current)return A.current(x,E,I);I()}},[x,E,I,A,N]);const P=_.useMemo(()=>({reference:b,floating:C,setReference:w,setFloating:y}),[w,y]),D=_.useMemo(()=>({reference:x,floating:E}),[x,E]),j=_.useMemo(()=>{const M={position:n,left:0,top:0};if(!D.floating)return M;const $=U_(D.floating,c.x),B=U_(D.floating,c.y);return s?{...M,transform:"translate("+$+"px, "+B+"px)",...hk(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:B}},[n,s,D.floating,c.x,c.y]);return _.useMemo(()=>({...c,update:I,refs:P,elements:D,floatingStyles:j}),[c,I,P,D,j])}const Hj=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?e_({element:r.current,padding:i}).fn(n):{}:r?e_({element:r,padding:i}).fn(n):{}}}},Vj=(e,t)=>({...E3(e),options:[e,t]}),Bj=(e,t)=>({...C3(e),options:[e,t]}),Yj=(e,t)=>({...Hj(e),options:[e,t]}),pk={...om},zj=pk.useInsertionEffect,Wj=zj||(e=>e());function qj(e){const t=_.useRef(()=>{});return Wj(()=>{t.current=e}),_.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Df=typeof document<"u"?_.useLayoutEffect:_.useEffect;function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(this,arguments)}let H_=!1,Qj=0;const V_=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Qj++;function Gj(){const[e,t]=_.useState(()=>H_?V_():void 0);return Df(()=>{e==null&&t(V_())},[]),_.useEffect(()=>{H_=!0},[]),e}const Kj=pk.useId,mk=Kj||Gj,Xj=_.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:a}},width:s=14,height:l=7,tipRadius:u=0,strokeWidth:c=0,staticOffset:f,stroke:d,d:h,style:{transform:m,...g}={},...v}=t,p=mk(),[w,y]=_.useState(!1);if(Df(()=>{if(!i)return;In(i).direction==="rtl"&&y(!0)},[i]),!i)return null;const[x,E]=r.split("-"),b=x==="top"||x==="bottom";let C=f;(b&&a!=null&&a.x||!b&&a!=null&&a.y)&&(C=null);const k=c*2,N=k/2,A=s/2*(u/-8+1),O=l/2*u/4,V=!!h,I=C&&E==="end"?"bottom":"top";let T=C&&E==="end"?"right":"left";C&&w&&(T=E==="end"?"left":"right");const P=o?.x!=null?C||o.x:"",D=o?.y!=null?C||o.y:"",j=h||"M0,0"+(" H"+s)+(" L"+(s-A)+","+(l-O))+(" Q"+s/2+","+l+" "+A+","+(l-O))+" Z",M={top:V?"rotate(180deg)":"",left:V?"rotate(90deg)":"rotate(-90deg)",bottom:V?"":"rotate(180deg)",right:V?"rotate(-90deg)":"rotate(90deg)"}[x];return _.createElement("svg",bg({},v,{"aria-hidden":!0,ref:n,width:V?s:s+k,height:s,viewBox:"0 0 "+s+" "+(l>s?l:s),style:{position:"absolute",pointerEvents:"none",[T]:P,[I]:D,[x]:b||V?"100%":"calc(100% - "+k/2+"px)",transform:[M,m].filter($=>!!$).join(" "),...g}}),k>0&&_.createElement("path",{clipPath:"url(#"+p+")",fill:"none",stroke:d,strokeWidth:k+(h?0:1),d:j}),_.createElement("path",{stroke:k&&!h?v.fill:"none",d:j}),_.createElement("clipPath",{id:p},_.createElement("rect",{x:-N,y:N*(V?-1:1),width:s+k,height:s})))});function Zj(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const Jj=_.createContext(null),eU=_.createContext(null),tU=()=>{var e;return((e=_.useContext(Jj))==null?void 0:e.id)||null},nU=()=>_.useContext(eU);function rU(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=mk(),o=_.useRef({}),[a]=_.useState(()=>Zj()),s=tU()!=null,[l,u]=_.useState(r.reference),c=qj((h,m,g)=>{o.current.openEvent=h?m:void 0,a.emit("openchange",{open:h,event:m,reason:g,nested:s}),n?.(h,m,g)}),f=_.useMemo(()=>({setPositionReference:u}),[]),d=_.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return _.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:d,events:a,floatingId:i,refs:f}),[t,c,d,a,i,f])}function iU(e){e===void 0&&(e={});const{nodeId:t}=e,n=rU({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,a]=_.useState(null),[s,l]=_.useState(null),c=i?.domReference||o,f=_.useRef(null),d=nU();Df(()=>{c&&(f.current=c)},[c]);const h=Uj({...e,elements:{...i,...s&&{reference:s}}}),m=_.useCallback(y=>{const x=Bt(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;l(x),h.refs.setReference(x)},[h.refs]),g=_.useCallback(y=>{(Bt(y)||y===null)&&(f.current=y,a(y)),(Bt(h.refs.reference.current)||h.refs.reference.current===null||y!==null&&!Bt(y))&&h.refs.setReference(y)},[h.refs]),v=_.useMemo(()=>({...h.refs,setReference:g,setPositionReference:m,domReference:f}),[h.refs,g,m]),p=_.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),w=_.useMemo(()=>({...h,...r,refs:v,elements:p,nodeId:t}),[h,v,p,t,r]);return Df(()=>{r.dataRef.current.floatingContext=w;const y=d?.nodesRef.current.find(x=>x.id===t);y&&(y.context=w)}),_.useMemo(()=>({...h,context:w,refs:v,elements:p}),[h,v,p,w])}/*!
  react-datepicker v7.5.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Eg=function(t,n){return Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},Eg(t,n)};function Et(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Eg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ke=function(){return ke=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},ke.apply(this,arguments)};function lr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var oU=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,i=r===void 0?!1:r,o=e.className,a=e.children,s=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return R.createElement("div",{className:o,role:"dialog","aria-label":s,"aria-modal":"true"},a)},aU=function(e,t){var n=_.useRef(null),r=_.useRef(e);r.current=e;var i=_.useCallback(function(o){var a;n.current&&!n.current.contains(o.target)&&(t&&o.target instanceof HTMLElement&&o.target.classList.contains(t)||(a=r.current)===null||a===void 0||a.call(r,o))},[t]);return _.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},zd=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,o=e.style,a=e.ignoreClass,s=aU(n,a);return R.createElement("div",{className:r,style:o,ref:function(l){s.current=l,i&&(i.current=l)}},t)},K;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(K||(K={}));function gk(){var e=typeof window<"u"?window:globalThis;return e}var tu=12,sU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Fe(e){if(e==null)return new Date;var t=typeof e=="string"?bj(e):Z(e);return Rr(t)?t:new Date}function Fp(e,t,n,r,i){var o,a=null,s=ho(n)||ho(ll()),l=!0;if(Array.isArray(t))return t.forEach(function(c){var f=Ip(e,c,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(l=Rr(f,i)&&e===Ye(f,c,n)),Rr(f,i)&&l&&(a=f)}),a;if(a=Ip(e,t,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)l=Rr(a)&&e===Ye(a,t,n);else if(!Rr(a)){var u=((o=t.match(sU))!==null&&o!==void 0?o:[]).map(function(c){var f=c[0];if(f==="p"||f==="P"){var d=Tf[f];return s?d(c,s.formatLong):f}return c}).join("");e.length>0&&(a=Ip(e,u.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Rr(a)||(a=new Date(e))}return Rr(a)&&l?a:null}function Rr(e,t){return xf(e)&&!To(e,t??new Date("1/1/1800"))}function Ye(e,t,n){if(n==="en")return F_(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?ho(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&ll()&&ho(ll())&&(r=ho(ll())),F_(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Sn(e,t){var n=t.dateFormat,r=t.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Ye(e,i,r)||""}function lU(e,t,n){if(!e)return"";var r=Sn(e,n),i=t?Sn(t,n):"";return"".concat(r," - ").concat(i)}function uU(e,t){if(!e?.length)return"";var n=e[0]?Sn(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=Sn(e[1],t);return"".concat(n,", ").concat(r)}var i=e.length-1;return"".concat(n," (+").concat(i,")")}function $p(e,t){var n=t.hour,r=n===void 0?0:n,i=t.minute,o=i===void 0?0:i,a=t.second,s=a===void 0?0:a;return wc(_c(Sc(e,s),o),r)}function cU(e){return xv(e)}function fU(e,t){return Ye(e,"ddd",t)}function bc(e){return Co(e)}function Oi(e,t,n){var r=ho(t||ll());return Jr(e,{locale:r,weekStartsOn:n})}function Wr(e){return ek(e)}function Vs(e){return Yd(e)}function B_(e){return _g(e)}function Y_(){return Co(Fe())}function z_(e){return ZT(e)}function dU(e){return M6(e)}function hU(e){return JT(e)}function rr(e,t){return e&&t?Sj(e,t):!e&&!t}function Vt(e,t){return e&&t?wj(e,t):!e&&!t}function Of(e,t){return e&&t?_j(e,t):!e&&!t}function Te(e,t){return e&&t?T6(e,t):!e&&!t}function io(e,t){return e&&t?E8(e,t):!e&&!t}function Bs(e,t,n){var r,i=Co(t),o=ZT(n);try{r=Rl(e,{start:i,end:o})}catch{r=!1}return r}function ll(){var e=gk();return e.__localeId__}function ho(e){if(typeof e=="string"){var t=gk();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function pU(e,t,n){return t(Ye(e,"EEEE",n))}function mU(e,t){return Ye(e,"EEEEEE",t)}function gU(e,t){return Ye(e,"EEE",t)}function Tv(e,t){return Ye(on(Fe(),e),"LLLL",t)}function vk(e,t){return Ye(on(Fe(),e),"LLL",t)}function vU(e,t){return Ye(Qo(Fe(),e),"QQQ",t)}function Cn(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.excludeDateIntervals,s=n.includeDates,l=n.includeDateIntervals,u=n.filterDate;return nu(e,{minDate:r,maxDate:i})||o&&o.some(function(c){return c instanceof Date?Te(e,c):Te(e,c.date)})||a&&a.some(function(c){var f=c.start,d=c.end;return Rl(e,{start:f,end:d})})||s&&!s.some(function(c){return Te(e,c)})||l&&!l.some(function(c){var f=c.start,d=c.end;return Rl(e,{start:f,end:d})})||u&&!u(Fe(e))||!1}function kv(e,t){var n=t===void 0?{}:t,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var a=o.start,s=o.end;return Rl(e,{start:a,end:s})}):r&&r.some(function(o){var a;return o instanceof Date?Te(e,o):Te(e,(a=o.date)!==null&&a!==void 0?a:new Date)})||!1}function yk(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate;return nu(e,{minDate:r?ek(r):void 0,maxDate:i?JT(i):void 0})||o?.some(function(l){return Vt(e,l instanceof Date?l:l.date)})||a&&!a.some(function(l){return Vt(e,l)})||s&&!s(Fe(e))||!1}function $u(e,t,n,r){var i=_e(e),o=Yt(e),a=_e(t),s=Yt(t),l=_e(r);return i===a&&i===l?o<=n&&n<=s:i<a?l===i&&o<=n||l===a&&s>=n||l<a&&l>i:!1}function yU(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates;return nu(e,{minDate:r,maxDate:i})||o&&o.some(function(s){return Vt(s instanceof Date?s:s.date,e)})||a&&!a.some(function(s){return Vt(s,e)})||!1}function ju(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate;return nu(e,{minDate:r,maxDate:i})||o?.some(function(l){return Of(e,l instanceof Date?l:l.date)})||a&&!a.some(function(l){return Of(e,l)})||s&&!s(Fe(e))||!1}function Uu(e,t,n){if(!t||!n||!xf(t)||!xf(n))return!1;var r=_e(t),i=_e(n);return r<=e&&i>=e}function Ec(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.maxDate,o=n.excludeDates,a=n.includeDates,s=n.filterDate,l=new Date(e,0,1);return nu(l,{minDate:r?Yd(r):void 0,maxDate:i?tk(i):void 0})||o?.some(function(u){return rr(l,u instanceof Date?u:u.date)})||a&&!a.some(function(u){return rr(l,u)})||s&&!s(Fe(l))||!1}function Hu(e,t,n,r){var i=_e(e),o=fo(e),a=_e(t),s=fo(t),l=_e(r);return i===a&&i===l?o<=n&&n<=s:i<a?l===i&&o<=n||l===a&&s>=n||l<a&&l>i:!1}function nu(e,t){var n,r=t===void 0?{}:t,i=r.minDate,o=r.maxDate;return(n=i&&ja(e,i)<0||o&&ja(e,o)>0)!==null&&n!==void 0?n:!1}function W_(e,t){return t.some(function(n){return mr(n)===mr(e)&&gr(n)===gr(e)&&zr(n)===zr(e)})}function q_(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&W_(e,r)||i&&!W_(e,i)||o&&!o(e)||!1}function Q_(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Fe();i=wc(i,mr(e)),i=_c(i,gr(e)),i=Sc(i,zr(e));var o=Fe();o=wc(o,mr(n)),o=_c(o,gr(n)),o=Sc(o,zr(n));var a=Fe();a=wc(a,mr(r)),a=_c(a,gr(r)),a=Sc(a,zr(r));var s;try{s=!Rl(i,{start:o,end:a})}catch{s=!1}return s}function G_(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=Ua(e,1);return r&&bf(r,o)>0||i&&i.every(function(a){return bf(a,o)>0})||!1}function K_(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=Qn(e,1);return r&&bf(o,r)>0||i&&i.every(function(a){return bf(o,a)>0})||!1}function wU(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=Yd(e),a=dk(o,1);return r&&Ef(r,a)>0||i&&i.every(function(s){return Ef(s,a)>0})||!1}function _U(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=tk(e),a=Sv(o,1);return r&&Ef(a,r)>0||i&&i.every(function(s){return Ef(a,s)>0})||!1}function X_(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.includeDates,o=Ha(e,1);return r&&Cf(r,o)>0||i&&i.every(function(a){return Cf(a,o)>0})||!1}function SU(e,t){var n=t===void 0?{}:t,r=n.minDate,i=n.yearItemNumber,o=i===void 0?tu:i,a=Vs(Ha(e,o)),s=Si(a,o).endPeriod,l=r&&_e(r);return l&&l>s||!1}function Z_(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.includeDates,o=Br(e,1);return r&&Cf(o,r)>0||i&&i.every(function(a){return Cf(o,a)>0})||!1}function xU(e,t){var n=t===void 0?{}:t,r=n.maxDate,i=n.yearItemNumber,o=i===void 0?tu:i,a=Br(e,o),s=Si(a,o).startPeriod,l=r&&_e(r);return l&&l<s||!1}function wk(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return ja(i,t)>=0});return P_(r)}else return n?P_(n):t}function _k(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(i){return ja(i,t)<=0});return O_(r)}else return n?O_(n):t}function J_(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=e.length;i<o;i++){var a=e[i];if(Yr(a)){var s=Ye(a,"MM.dd.yyyy"),l=r.get(s)||[];l.includes(t)||(l.push(t),r.set(s,l))}else if(typeof a=="object"){var u=Object.keys(a),c=(n=u[0])!==null&&n!==void 0?n:"",f=a[c];if(typeof c=="string"&&Array.isArray(f))for(var d=0,h=f.length;d<h;d++){var m=f[d];if(m){var s=Ye(m,"MM.dd.yyyy"),l=r.get(s)||[];l.includes(c)||(l.push(c),r.set(s,l))}}}}return r}function bU(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function EU(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var i=r.date,o=r.holidayName;if(Yr(i)){var a=Ye(i,"MM.dd.yyyy"),s=n.get(a)||{className:"",holidayNames:[]};if(!("className"in s&&s.className===t&&bU(s.holidayNames,[o]))){s.className=t;var l=s.holidayNames;s.holidayNames=l?lr(lr([],l,!0),[o],!1):[o],n.set(a,s)}}}),n}function CU(e,t,n,r,i){for(var o=i.length,a=[],s=0;s<o;s++){var l=e,u=i[s];u&&(l=x6(l,mr(u)),l=wg(l,gr(u)),l=C6(l,zr(u)));var c=wg(e,(n+1)*r);Fi(l,t)&&To(l,c)&&u!=null&&a.push(u)}return a}function eS(e){return e<10?"0".concat(e):"".concat(e)}function Si(e,t){t===void 0&&(t=tu);var n=Math.ceil(_e(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function TU(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function tS(e){var t=e.getSeconds(),n=e.getMilliseconds();return Z(e.getTime()-t*1e3-n)}function kU(e,t){return tS(e).getTime()===tS(t).getTime()}function nS(e){if(!Yr(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function rS(e,t){if(!Yr(e)||!Yr(t))throw new Error("Invalid date received");var n=nS(e),r=nS(t);return To(n,r)}function Sk(e){return e.key===K.Space}var MU=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=R.createRef(),r.onTimeChange=function(i){var o,a;r.setState({time:i});var s=r.props.date,l=s instanceof Date&&!isNaN(+s),u=l?s:new Date;if(i?.includes(":")){var c=i.split(":"),f=c[0],d=c[1];u.setHours(Number(f)),u.setMinutes(Number(d))}(a=(o=r.props).onChange)===null||a===void 0||a.call(o,u)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,a=o.date,s=o.timeString,l=o.customTimeInput;return l?_.cloneElement(l,{date:a,value:i,onChange:r.onTimeChange}):R.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var u;(u=r.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:i,onChange:function(u){r.onTimeChange(u.target.value||s)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return R.createElement("div",{className:"react-datepicker__input-time-container"},R.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),R.createElement("div",{className:"react-datepicker-time__input-container"},R.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(_.Component),DU=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=_.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,o,a=r.key;a===K.Space&&(r.preventDefault(),r.key=K.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isSameDay=function(r){return Te(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Cn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return kv(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Te(n.props.day,Oi(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Te(r,Oi(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,o=r.highlightDates;if(!o)return!1;var a=Ye(i,"MM.dd.yyyy");return o.get(a)},n.getHolidaysClass=function(){var r,i=n.props,o=i.day,a=i.holidays;if(!a)return[void 0];var s=Ye(o,"MM.dd.yyyy");return a.has(s)?[(r=a.get(s))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Bs(i,o,a)},n.isInSelectingRange=function(){var r,i=n.props,o=i.day,a=i.selectsStart,s=i.selectsEnd,l=i.selectsRange,u=i.selectsDisabledDaysInRange,c=i.startDate,f=i.endDate,d=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(a||s||l)||!d||!u&&n.isDisabled()?!1:a&&f&&(To(d,f)||io(d,f))?Bs(o,d,f):s&&c&&(Fi(d,c)||io(d,c))||l&&c&&!f&&(Fi(d,c)||io(d,c))?Bs(o,c,d):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,a=i.startDate,s=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return s?Te(o,l):Te(o,a)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,a=i.endDate,s=i.selectsEnd,l=i.selectsRange,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return s||l?Te(o,u):Te(o,a)},n.isRangeStart=function(){var r=n.props,i=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Te(o,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,o=r.startDate,a=r.endDate;return!o||!a?!1:Te(a,i)},n.isWeekend=function(){var r=_8(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Yt(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Yt(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Fe())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return yt("react-datepicker__day",i,"react-datepicker__day--"+fU(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,a=o===void 0?"Choose":o,s=r.ariaLabelPrefixWhenDisabled,l=s===void 0?"Not available":s,u=n.isDisabled()||n.isExcluded()?l:a;return"".concat(u," ").concat(Ye(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,o=r.holidays,a=o===void 0?new Map:o,s=r.excludeDates,l=Ye(i,"MM.dd.yyyy"),u=[];return a.has(l)&&u.push.apply(u,a.get(l).holidayNames),n.isExcluded()&&u.push(s?.filter(function(c){return c instanceof Date?Te(c,i):Te(c?.date,i)}).map(function(c){if(!(c instanceof Date))return c?.message})),u.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Te(i,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents($_(n.props.day),n.props.day):$_(n.props.day)},n.render=function(){return R.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&R.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(_.Component),OU=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=_.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,o,a=r.key;a===K.Space&&(r.preventDefault(),r.key=K.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Te(n.props.date,n.props.selected)&&Te(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Te(n.props.date,n.props.selected)&&Te(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!r?.isInputFocused&&Te(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.ariaLabelPrefix,o=i===void 0?t.defaultProps.ariaLabelPrefix:i,a=n.onClick,s={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&Te(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return R.createElement("div",{ref:this.weekNumberEl,className:yt(s),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(_.Component),PU=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return Cn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,o){for(var a,s,l,u=new Date(r),c=0;c<7;c++){var f=new Date(r);f.setDate(f.getDate()+c);var d=!n.isDisabled(f);if(d){u=f;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(u,i,o),n.props.showWeekPicker&&n.handleDayClick(u,o),((a=n.props.shouldCloseOnSelect)!==null&&a!==void 0?a:t.defaultProps.shouldCloseOnSelect)&&((l=(s=n.props).setOpen)===null||l===void 0||l.call(s,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):cU(r)},n.renderDays=function(){var r=n.startOfWeek(),i=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var a=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;i.push(R.createElement(OU,ke({key:"W"},t.defaultProps,n.props,{weekNumber:o,date:r,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map(function(s){var l=Zr(r,s);return R.createElement(DU,ke({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Oi(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Te(n.startOfWeek(),n.props.selected)&&Te(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Te(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return R.createElement("div",{className:yt(n)},this.renderDays())},t}(_.Component),ks,NU=6,_a={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},jp=(ks={},ks[_a.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ks[_a.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ks[_a.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ks),Vu=1;function iS(e,t){return e?_a.FOUR_COLUMNS:t?_a.TWO_COLUMNS:_a.THREE_COLUMNS}var RU=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=lr([],Array(12),!0).map(function(){return _.createRef()}),n.QUARTER_REFS=lr([],Array(4),!0).map(function(){return _.createRef()}),n.isDisabled=function(r){return Cn(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return kv(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var o,a;(a=(o=n.props).onDayClick)===null||a===void 0||a.call(o,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,o;(o=(i=n.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Vt(on(o,r),a)},n.isRangeStartQuarter=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Of(Qo(o,r),a)},n.isRangeEndMonth=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Vt(on(o,r),s)},n.isRangeEndQuarter=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate;return!a||!s?!1:Of(Qo(o,r),s)},n.isInSelectingRangeMonth=function(r){var i,o=n.props,a=o.day,s=o.selectsStart,l=o.selectsEnd,u=o.selectsRange,c=o.startDate,f=o.endDate,d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(s||l||u)||!d?!1:s&&f?$u(d,f,r,a):l&&c||u&&c&&!f?$u(c,d,r,a):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,a=o.day,s=o.startDate,l=o.selectsStart,u=on(a,r),c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?Vt(u,c):Vt(u,s)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,a=o.day,s=o.endDate,l=o.selectsEnd,u=o.selectsRange,c=on(a,r),f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||u?Vt(c,f):Vt(c,s)},n.isInSelectingRangeQuarter=function(r){var i,o=n.props,a=o.day,s=o.selectsStart,l=o.selectsEnd,u=o.selectsRange,c=o.startDate,f=o.endDate,d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(s||l||u)||!d?!1:s&&f?Hu(d,f,r,a):l&&c||u&&c&&!f?Hu(c,d,r,a):!1},n.isWeekInMonth=function(r){var i=n.props.day,o=Zr(r,6);return Vt(r,i)||Vt(o,i)},n.isCurrentMonth=function(r,i){return _e(r)===_e(Fe())&&i===Yt(Fe())},n.isCurrentQuarter=function(r,i){return _e(r)===_e(Fe())&&i===fo(Fe())},n.isSelectedMonth=function(r,i,o){return Yt(o)===i&&_e(r)===_e(o)},n.isSelectMonthInList=function(r,i,o){return o.some(function(a){return n.isSelectedMonth(r,i,a)})},n.isSelectedQuarter=function(r,i,o){return fo(r)===i&&_e(r)===_e(o)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,o=0,a=!1,s=Oi(Wr(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(m){return n.props.showWeekPicker?Oi(m,n.props.locale,n.props.calendarStartDay):n.props.preSelection},u=function(m){return n.props.showWeekPicker?Oi(m,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?u(n.props.selected):void 0,f=n.props.preSelection?l(n.props.preSelection):void 0;r.push(R.createElement(PU,ke({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:s,month:Yt(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:f,showWeekNumber:n.props.showWeekNumbers}))),!a;){o++,s=Sf(s,1);var d=i&&o>=NU,h=!i&&!n.isWeekInMonth(s);if(d||h)if(n.props.peekNextMonth)a=!0;else break}return r},n.onMonthClick=function(r,i){var o=n.isMonthDisabledForLabelDate(i),a=o.isDisabled,s=o.labelDate;a||n.handleDayClick(Wr(s),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,a=i.labelDate;o||n.handleDayMouseEnter(Wr(a))},n.handleMonthNavigation=function(r,i){var o,a,s,l;(a=(o=n.props).setPreSelection)===null||a===void 0||a.call(o,i),(l=(s=n.MONTH_REFS[r])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,o){var a,s=n.props,l=s.selected,u=s.preSelection,c=s.setPreSelection,f=s.minDate,d=s.maxDate,h=s.showFourColumnMonthYearPicker,m=s.showTwoColumnMonthYearPicker;if(u){var g=iS(h,m),v=n.getVerticalOffset(g),p=(a=jp[g])===null||a===void 0?void 0:a.grid,w=function(C,k,N){var A,O,V=k,I=N;switch(C){case K.ArrowRight:V=Qn(k,Vu),I=N===11?0:N+Vu;break;case K.ArrowLeft:V=Ua(k,Vu),I=N===0?11:N-Vu;break;case K.ArrowUp:V=Ua(k,v),I=!((A=p?.[0])===null||A===void 0)&&A.includes(N)?N+12-v:N-v;break;case K.ArrowDown:V=Qn(k,v),I=!((O=p?.[p.length-1])===null||O===void 0)&&O.includes(N)?N-12+v:N+v;break}return{newCalculatedDate:V,newCalculatedMonth:I}},y=function(C,k,N){for(var A=40,O=C,V=!1,I=0,T=w(O,k,N),P=T.newCalculatedDate,D=T.newCalculatedMonth;!V;){if(I>=A){P=k,D=N;break}if(f&&P<f){O=K.ArrowRight;var j=w(O,P,D);P=j.newCalculatedDate,D=j.newCalculatedMonth}if(d&&P>d){O=K.ArrowLeft;var j=w(O,P,D);P=j.newCalculatedDate,D=j.newCalculatedMonth}if(yU(P,n.props)){var j=w(O,P,D);P=j.newCalculatedDate,D=j.newCalculatedMonth}else V=!0;I++}return{newCalculatedDate:P,newCalculatedMonth:D}};if(i===K.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),c?.(l));return}var x=y(i,u,o),E=x.newCalculatedDate,b=x.newCalculatedMonth;switch(i){case K.ArrowRight:case K.ArrowLeft:case K.ArrowUp:case K.ArrowDown:n.handleMonthNavigation(b,E);break}}},n.getVerticalOffset=function(r){var i,o;return(o=(i=jp[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,i){var o=n.props,a=o.disabledKeyboardNavigation,s=o.handleOnMonthKeyDown,l=r.key;l!==K.Tab&&r.preventDefault(),a||n.handleKeyboardNavigation(r,l,i),s&&s(r)},n.onQuarterClick=function(r,i){var o=Qo(n.props.day,i);ju(o,n.props)||n.handleDayClick(B_(o),r)},n.onQuarterMouseEnter=function(r){var i=Qo(n.props.day,r);ju(i,n.props)||n.handleDayMouseEnter(B_(i))},n.handleQuarterNavigation=function(r,i){var o,a,s,l;n.isDisabled(i)||n.isExcluded(i)||((a=(o=n.props).setPreSelection)===null||a===void 0||a.call(o,i),(l=(s=n.QUARTER_REFS[r-1])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var o,a,s=r.key;if(!n.props.disabledKeyboardNavigation)switch(s){case K.Enter:n.onQuarterClick(r,i),(a=(o=n.props).setPreSelection)===null||a===void 0||a.call(o,n.props.selected);break;case K.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,Sv(n.props.preSelection,1));break;case K.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,dk(n.props.preSelection,1));break}},n.isMonthDisabledForLabelDate=function(r){var i,o=n.props,a=o.day,s=o.minDate,l=o.maxDate,u=o.excludeDates,c=o.includeDates,f=on(a,r);return{isDisabled:(i=(s||l||u||c)&&yk(f,n.props))!==null&&i!==void 0?i:!1,labelDate:f}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate,l=i.preSelection,u=i.monthClassName,c=u?u(on(o,r)):void 0,f=n.getSelection();return yt("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":f?n.isSelectMonthInList(o,r,f):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(o,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":a&&s?$u(a,s,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=Yt(n.props.preSelection),o=n.isMonthDisabledForLabelDate(i).isDisabled,a=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return a},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=fo(n.props.preSelection),o=ju(n.props.day,n.props),a=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return a},n.getAriaLabel=function(r){var i=n.props,o=i.chooseDayAriaLabelPrefix,a=o===void 0?"Choose":o,s=i.disabledDayAriaLabelPrefix,l=s===void 0?"Not available":s,u=i.day,c=i.locale,f=on(u,r),d=n.isDisabled(f)||n.isExcluded(f)?l:a;return"".concat(d," ").concat(Ye(f,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var i=n.props,o=i.day,a=i.startDate,s=i.endDate,l=i.selected,u=i.minDate,c=i.maxDate,f=i.excludeDates,d=i.includeDates,h=i.filterDate,m=i.preSelection,g=i.disabledKeyboardNavigation,v=(u||c||f||d||h)&&ju(Qo(o,r),n.props);return yt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(o,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&m&&n.isSelectedQuarter(o,r,m)&&!v,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":a&&s?Hu(a,s,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var i=n.props,o=i.showFullMonthYearPicker,a=i.renderMonthContent,s=i.locale,l=i.day,u=vk(r,s),c=Tv(r,s);return a?a(r,u,c,l):o?c:u},n.getQuarterContent=function(r){var i,o=n.props,a=o.renderQuarterContent,s=o.locale,l=vU(r,s);return(i=a?.(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,o=i.showTwoColumnMonthYearPicker,a=i.showFourColumnMonthYearPicker,s=i.day,l=i.selected,u=(r=jp[iS(a,o)])===null||r===void 0?void 0:r.grid;return u?.map(function(c,f){return R.createElement("div",{className:"react-datepicker__month-wrapper",key:f},c.map(function(d,h){return R.createElement("div",{ref:n.MONTH_REFS[d],key:h,onClick:function(m){n.onMonthClick(m,d)},onKeyDown:function(m){Sk(m)&&(m.preventDefault(),m.key=K.Enter),n.onMonthKeyDown(m,d)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(d)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(d)}:void 0,tabIndex:Number(n.getTabIndex(d)),className:n.getMonthClassNames(d),"aria-disabled":n.isMonthDisabled(d),role:"option","aria-label":n.getAriaLabel(d),"aria-current":n.isCurrentMonth(s,d)?"date":void 0,"aria-selected":l?n.isSelectedMonth(s,d,l):void 0},n.getMonthContent(d))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,o=r.selected,a=[1,2,3,4];return R.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(s,l){return R.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(u){n.onQuarterClick(u,s)},onKeyDown:function(u){n.onQuarterKeyDown(u,s)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(s)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(s)}:void 0,className:n.getQuarterClassNames(s),"aria-selected":o?n.isSelectedQuarter(i,s,o):void 0,tabIndex:Number(n.getQuarterTabIndex(s)),"aria-current":n.isCurrentQuarter(i,s)?"date":void 0},n.getQuarterContent(s))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,o=r.selectsStart,a=r.selectsEnd,s=r.showMonthYearPicker,l=r.showQuarterYearPicker,u=r.showWeekPicker;return yt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||a)},{"react-datepicker__monthPicker":s},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,o=n.selectsMultiple;if(o)return i;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,a=n.ariaLabelPrefix,s=a===void 0?"Month ":a,l=s?s.trim()+" ":"";return R.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Ye(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},t}(_.Component),IU=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return R.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?R.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return R.createElement(zd,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),LU=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,o){return R.createElement("option",{key:i,value:o},i)})},n.renderSelectMode=function(r){return R.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return R.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},R.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),R.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return R.createElement(IU,ke({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,o=[n.renderReadView(!i,r)];return i&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return vk(o,n.props.locale)}:function(o){return Tv(o,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return R.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},t}(_.Component);function AU(e,t){for(var n=[],r=Wr(e),i=Wr(t);!Fi(r,i);)n.push(Fe(r)),r=Qn(r,1);return n}var FU=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=xg(i),a=rr(r.props.date,i)&&Vt(r.props.date,i);return R.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":a?"true":void 0},a?R.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ye(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:AU(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=yt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return R.createElement(zd,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),$U=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=Wr(n.props.minDate),i=Wr(n.props.maxDate),o=[];!Fi(r,i);){var a=xg(r);o.push(R.createElement("option",{key:a,value:a},Ye(r,n.props.dateFormat,n.props.locale))),r=Qn(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return R.createElement("select",{value:xg(Wr(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=Ye(n.props.date,n.props.dateFormat,n.props.locale);return R.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},R.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),R.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return R.createElement(FU,ke({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Fe(r);rr(n.props.date,i)&&Vt(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return R.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(_.Component),jU=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var i,o;(n.props.minTime||n.props.maxTime)&&Q_(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&q_(r,n.props)||(o=(i=n.props).onChange)===null||o===void 0||o.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&kU(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&Q_(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&q_(r,n.props)},n.liClasses=function(r){var i,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(mr(r)*3600+gr(r)*60+zr(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:t.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,i){var o,a;r.key===K.Space&&(r.preventDefault(),r.key=K.Enter),(r.key===K.ArrowUp||r.key===K.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===K.ArrowDown||r.key===K.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===K.Enter&&n.handleClick(i),(a=(o=n.props).handleOnKeyDown)===null||a===void 0||a.call(o,r)},n.renderTimes=function(){for(var r,i=[],o=typeof n.props.format=="string"?n.props.format:"p",a=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,s=n.props.selected||n.props.openToDate||Fe(),l=bc(s),u=n.props.injectTimes&&n.props.injectTimes.sort(function(v,p){return v.getTime()-p.getTime()}),c=60*TU(s),f=c/a,d=0;d<f;d++){var h=wg(l,d*a);if(i.push(h),u){var m=CU(l,h,d,a,u);i=i.concat(m)}}var g=i.reduce(function(v,p){return p.getTime()<=s.getTime()?p:v},i[0]);return i.map(function(v){return R.createElement("li",{key:v.valueOf(),onClick:n.handleClick.bind(n,v),className:n.liClasses(v),ref:function(p){v===g&&(n.centerLi=p)},onKeyDown:function(p){n.handleOnKeyDown(p,v)},tabIndex:v===g?0:-1,role:"option","aria-selected":n.isSelectedTime(v)?"true":void 0,"aria-disabled":n.isDisabledTime(v)?"true":void 0},Ye(v,o,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?R.createElement(R.Fragment,null):R.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},R.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,i=this.state.height;return R.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),R.createElement("div",{className:"react-datepicker__time"},R.createElement("div",{className:"react-datepicker__time-box"},R.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(_.Component),oS=3,UU=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=lr([],Array(r.props.yearItemNumber),!0).map(function(){return _.createRef()}),r.isDisabled=function(i){return Cn(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return kv(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var a,s;(s=(a=r.YEAR_REFS[i])===null||a===void 0?void 0:a.current)===null||s===void 0||s.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var a,s,l,u,c=r.props,f=c.date,d=c.yearItemNumber;if(!(f===void 0||d===void 0)){var h=Si(f,d).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((s=(a=r.props).setPreSelection)===null||s===void 0||s.call(a,o),i-h<0?r.updateFocusOnPaginate(d-(h-i)):i-h>=d?r.updateFocusOnPaginate(Math.abs(d-(i-h))):(u=(l=r.YEAR_REFS[i-h])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},r.isSameDay=function(i,o){return Te(i,o)},r.isCurrentYear=function(i){return i===_e(Fe())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&rr(er(Fe(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&rr(er(Fe(),i),r.props.endDate)},r.isInRange=function(i){return Uu(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,a=o.selectsStart,s=o.selectsEnd,l=o.selectsRange,u=o.startDate,c=o.endDate;return!(a||s||l)||!r.selectingDate()?!1:a&&c?Uu(i,r.selectingDate(),c):s&&u||l&&u&&!c?Uu(i,u,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var a=r.props,s=a.startDate,l=a.selectsStart,u=er(Fe(),i);return l?rr(u,(o=r.selectingDate())!==null&&o!==void 0?o:null):rr(u,s??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var a=r.props,s=a.endDate,l=a.selectsEnd,u=a.selectsRange,c=er(Fe(),i);return l||u?rr(c,(o=r.selectingDate())!==null&&o!==void 0?o:null):rr(c,s??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,a=o.minDate,s=o.maxDate,l=o.excludeDates,u=o.includeDates,c=o.filterDate,f=Vs(er(r.props.date,i)),d=(a||s||l||u||c)&&Ec(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Te(f,Vs(r.props.selected))&&Te(f,Vs(r.props.preSelection))&&!d}},r.onYearClick=function(i,o){var a=r.props.date;a!==void 0&&r.handleYearClick(Vs(er(a,o)),i)},r.onYearKeyDown=function(i,o){var a,s,l=i.key,u=r.props,c=u.date,f=u.yearItemNumber,d=u.handleOnKeyDown;if(l!==K.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case K.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(s=(a=r.props).setPreSelection)===null||s===void 0||s.call(a,r.props.selected);break;case K.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Br(r.props.preSelection,1));break;case K.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Ha(r.props.preSelection,1));break;case K.ArrowUp:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var h=Si(c,f).startPeriod,m=oS,g=o-m;if(g<h){var v=f%m;o>=h&&o<h+v?m=v:m+=v,g=o-m}r.handleYearNavigation(g,Ha(r.props.preSelection,m));break}case K.ArrowDown:{if(c===void 0||f===void 0||r.props.preSelection==null)break;var p=Si(c,f).endPeriod,m=oS,g=o+m;if(g>p){var v=f%m;o<=p&&o>p-v?m=v:m+=v,g=o+m}r.handleYearNavigation(g,Br(r.props.preSelection,m));break}}d&&d(i)},r.getYearClassNames=function(i){var o=r.props,a=o.date,s=o.minDate,l=o.maxDate,u=o.selected,c=o.excludeDates,f=o.includeDates,d=o.filterDate,h=o.yearClassName;return yt("react-datepicker__year-text","react-datepicker__year-".concat(i),a?h?.(er(a,i)):void 0,{"react-datepicker__year-text--selected":u?i===_e(u):void 0,"react-datepicker__year-text--disabled":(s||l||c||f||d)&&Ec(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=_e(r.props.preSelection),a=Ec(i,r.props);return i===o&&!a?"0":"-1"},r.getYearContainerClassNames=function(){var i=r.props,o=i.selectingDate,a=i.selectsStart,s=i.selectsEnd,l=i.selectsRange;return yt("react-datepicker__year",{"react-datepicker__year--selecting-range":o&&(a||s||l)})},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return t.prototype.render=function(){var n=this,r=[],i=this.props,o=i.date,a=i.yearItemNumber,s=i.onYearMouseEnter,l=i.onYearMouseLeave;if(o===void 0)return null;for(var u=Si(o,a),c=u.startPeriod,f=u.endPeriod,d=function(g){r.push(R.createElement("div",{ref:h.YEAR_REFS[g-c],onClick:function(v){n.onYearClick(v,g)},onKeyDown:function(v){Sk(v)&&(v.preventDefault(),v.key=K.Enter),n.onYearKeyDown(v,g)},tabIndex:Number(h.getYearTabIndex(g)),className:h.getYearClassNames(g),onMouseEnter:h.props.usePointerEvent?void 0:function(v){return s(v,g)},onPointerEnter:h.props.usePointerEvent?function(v){return s(v,g)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(v){return l(v,g)},onPointerLeave:h.props.usePointerEvent?function(v){return l(v,g)}:void 0,key:g,"aria-current":h.isCurrentYear(g)?"date":void 0},h.getYearContent(g)))},h=this,m=c;m<=f;m++)d(m);return R.createElement("div",{className:this.getYearContainerClassNames()},R.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(_.Component);function HU(e,t,n,r){for(var i=[],o=0;o<2*t+1;o++){var a=e+t-o,s=!0;n&&(s=_e(n)<=a),r&&s&&(s=_e(r)>=a),s&&i.push(a)}return i}var VU=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var s=r.props.year,l=r.state.yearsList.map(function(f){return R.createElement("div",{className:s===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":s===f?"true":void 0},s===f?R.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),u=r.props.minDate?_e(r.props.minDate):null,c=r.props.maxDate?_e(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(f){return f===c}))&&l.unshift(R.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},R.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(f){return f===u}))&&l.push(R.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},R.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(s){r.props.onChange(s)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(s){var l=r.state.yearsList.map(function(u){return u+s});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,a=i||(o?10:5);return r.state={yearsList:HU(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=_.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=yt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return R.createElement(zd,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(_.Component),BU=function(e){Et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?_e(n.props.minDate):1900,i=n.props.maxDate?_e(n.props.maxDate):2100,o=[],a=r;a<=i;a++)o.push(R.createElement("option",{key:a,value:a},a));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return R.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return R.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},R.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),R.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return R.createElement(VU,ke({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var o;(o=n.onSelect)===null||o===void 0||o.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var o,a;(a=(o=n.props).onSelect)===null||a===void 0||a.call(o,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return R.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(_.Component),YU=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],zU=function(e){var t=(e.className||"").split(/\s+/);return YU.some(function(n){return t.indexOf(n)>=0})},WU=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,a;zU(i.target)&&((a=(o=r.props).onDropdownFocus)===null||a===void 0||a.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,a=i.selected,s=i.openToDate,l=wk(r.props),u=_k(r.props),c=Fe(),f=s||a||o;return f||(l&&To(c,l)?l:u&&Fi(c,u)?u:c)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:Qn(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:Ua(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,a){r.props.onSelect(i,o,a),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:er(Fe(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){var o,a,s,l;(a=(o=r.props).onYearChange)===null||a===void 0||a.call(o,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(s=r.props).setOpen)===null||l===void 0||l.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Cn(i,r.props))return i;for(var o=Wr(i),a=hU(i),s=k6(a,o),l=null,u=0;u<=s;u++){var c=Zr(o,u);if(!Cn(c,r.props)){l=c;break}}return l},r.handleMonthChange=function(i){var o,a,s,l=(o=r.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(s=(a=r.props).setOpen)===null||s===void 0||s.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var o,a;(a=(o=r.props).onMonthChange)===null||a===void 0||a.call(o,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var a=o.date;return{date:er(a,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var a=o.date;return{date:on(a,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var a=o.date;return{date:er(on(a,Yt(i)),_e(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=Oi(i,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(R.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),a.concat([0,1,2,3,4,5,6].map(function(s){var l=Zr(o,s),u=r.formatWeekday(l,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return R.createElement("div",{key:s,"aria-label":Ye(l,"EEEE",r.props.locale),className:yt("react-datepicker__day-name",c)},u)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?pU(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?gU(i,o):mU(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,a=i.date;return{date:Ha(a,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=X_(r.state.date,r.props);break;case r.props.showYearPicker:o=SU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=wU(r.state.date,r.props);break;default:o=G_(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],s=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.decreaseYear),o&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--previous--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,f=c.previousMonthButtonLabel,d=f===void 0?t.defaultProps.previousMonthButtonLabel:f,h=c.previousYearButtonLabel,m=h===void 0?t.defaultProps.previousYearButtonLabel:h,g=r.props,v=g.previousMonthAriaLabel,p=v===void 0?typeof d=="string"?d:"Previous Month":v,w=g.previousYearAriaLabel,y=w===void 0?typeof m=="string"?m:"Previous Year":w;return R.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?y:p},R.createElement("span",{className:a.join(" ")},u?m:d))}}},r.increaseYear=function(){r.setState(function(i){var o,a=i.date;return{date:Br(a,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=Z_(r.state.date,r.props);break;case r.props.showYearPicker:o=xU(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=_U(r.state.date,r.props);break;default:o=K_(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,f=c.nextMonthButtonLabel,d=f===void 0?t.defaultProps.nextMonthButtonLabel:f,h=c.nextYearButtonLabel,m=h===void 0?t.defaultProps.nextYearButtonLabel:h,g=r.props,v=g.nextMonthAriaLabel,p=v===void 0?typeof d=="string"?d:"Next Month":v,w=g.nextYearAriaLabel,y=w===void 0?typeof m=="string"?m:"Next Year":w;return R.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?y:p},R.createElement("span",{className:s.join(" ")},u?m:d))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),R.createElement("h2",{className:o.join(" ")},Ye(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return R.createElement(BU,ke({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:_e(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return R.createElement(LU,ke({},t.defaultProps,r.props,{month:Yt(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return R.createElement($U,ke({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(Y_(),i),r.props.setPreSelection&&r.props.setPreSelection(Y_())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return R.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,a=i.i;return R.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),R.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(a!==0),r.renderMonthYearDropdown(a!==0),r.renderYearDropdown(a!==0)),R.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,a,s=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var u=G_(r.state.date,r.props),c=K_(r.state.date,r.props),f=X_(r.state.date,r.props),d=Z_(r.state.date,r.props),h=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return R.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(a=(o=r.props).renderCustomHeader)===null||a===void 0?void 0:a.call(o,ke(ke({},r.state),{customHeaderCount:l,monthDate:s,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:c,prevYearButtonDisabled:f,nextYearButtonDisabled:d})),h&&R.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderYearHeader=function(i){var o=i.monthDate,a=r.props,s=a.showYearPicker,l=a.yearItemNumber,u=l===void 0?t.defaultProps.yearItemNumber:l,c=Si(o,u),f=c.startPeriod,d=c.endPeriod;return R.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},s?"".concat(f," - ").concat(d):_e(o))},r.renderHeader=function(i){var o=i.monthDate,a=i.i,s=a===void 0?0:a,l={monthDate:o,i:s};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var a=[],s=(i=r.props.monthsShown)!==null&&i!==void 0?i:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?s-1:0,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Br(r.state.date,l):Ua(r.state.date,l),c=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,f=0;f<s;++f){var d=f-c+l,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Br(u,d):Qn(u,d),m="month-".concat(f),g=f<s-1,v=f>0;a.push(R.createElement("div",{key:m,ref:function(p){r.monthContainer=p??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:f}),R.createElement(RU,ke({},t.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:f,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:v}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return R.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),R.createElement(UU,ke({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return R.createElement(jU,ke({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&Rr(i)&&!!r.props.selected,a=o?"".concat(eS(i.getHours()),":").concat(eS(i.getMinutes())):"";if(r.props.showTimeInput)return R.createElement(MU,ke({},t.defaultProps,r.props,{date:i,timeString:a,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=Si(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber),a=o.startPeriod,s=o.endPeriod,l;return r.props.showYearPicker?l="".concat(a," - ").concat(s):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=_e(r.state.date):l="".concat(Tv(Yt(r.state.date),r.props.locale)," ").concat(_e(r.state.date)),R.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return R.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=_.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:tu}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Te(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Vt(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Te(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||oU;return R.createElement(zd,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},R.createElement(n,{className:yt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},t}(_.Component),qU=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,i=e.onClick,o="react-datepicker__calendar-icon";return typeof t=="string"?R.createElement("i",{className:"".concat(o," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i}):R.isValidElement(t)?R.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(o," ").concat(r),onClick:function(a){typeof t.props.onClick=="function"&&t.props.onClick(a),typeof i=="function"&&i(a)}}):R.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},R.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},xk=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return HN.createPortal(this.props.children,this.el)},t}(_.Component),QU="[tabindex], a, button, input, select, textarea",GU=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},bk=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(QU),1,-1).filter(GU)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=_.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?R.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},R.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,R.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(_.Component);function KU(e){var t=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=_.useRef(null),a=iU(ke({open:!i,whileElementsMounted:KC,placement:n.popperPlacement,middleware:lr([Bj({padding:15}),Vj(10),Yj({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),s=ke(ke({},n),{hidePopper:i,popperProps:ke(ke({},a),{arrowRef:o})});return R.createElement(e,ke({},s))};return t}var XU=function(e){Et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,o=n.hidePopper,a=o===void 0?t.defaultProps.hidePopper:o,s=n.popperComponent,l=n.targetComponent,u=n.enableTabLoop,c=n.popperOnKeyDown,f=n.portalId,d=n.portalHost,h=n.popperProps,m=n.showArrow,g=void 0;if(!a){var v=yt("react-datepicker-popper",r);g=R.createElement(bk,{enableTabLoop:u},R.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:v,"data-placement":h.placement,onKeyDown:c},s,m&&R.createElement(Xj,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=_.createElement(this.props.popperContainer,{},g)),f&&!a&&(g=R.createElement(xk,{portalId:f,portalHost:d},g));var p=yt("react-datepicker-wrapper",i);return R.createElement(R.Fragment,null,R.createElement("div",{ref:h.refs.setReference,className:p},l),g)},t}(_.Component),ZU=KU(XU),aS="react-datepicker-ignore-onclickoutside";function JU(e,t){return e&&t?Yt(e)!==Yt(t)||_e(e)!==_e(t):e!==t}var Up="Date input not valid.",Cg=function(e){Et(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Fe()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,a){var s=new Date(a.date);return Rr(s)?lr(lr([],o,!0),[ke(ke({},a),{date:s})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),a=wk(r.props),s=_k(r.props),l=a&&To(o,bc(a))?a:s&&Fi(o,z_(s))?s:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:J_(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(ke(ke({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(ke(ke({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})},r.setBlur=function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Hp},function(){i||r.setState(function(a){return{focused:o?a.focused:!1}},function(){!o&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Yr(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,a,s=r.state.wasHidden,l=s?r.state.open:!0;s&&r.resetHiddenStatus(),!r.state.preventFocus&&l&&((a=(o=r.props).onFocus)===null||a===void 0||a.call(o,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,a;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((a=(o=r.props).onBlur)===null||a===void 0||a.call(o,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,a;r.props.inline||r.setOpen(!1),(a=(o=r.props).onClickOutside)===null||a===void 0||a.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,o,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var l=a[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,a),!l||typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){r.setState({inputValue:l?.target instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:eH});var u=r.props,c=u.dateFormat,f=c===void 0?t.defaultProps.dateFormat:c,d=u.strictParsing,h=d===void 0?t.defaultProps.strictParsing:d,m=u.selectsRange,g=u.startDate,v=u.endDate,p=l?.target instanceof HTMLInputElement?l.target.value:"";if(m){var w=p.split("-",2).map(function(A){return A.trim()}),y=w[0],x=w[1],E=Fp(y??"",f,r.props.locale,h),b=Fp(x??"",f,r.props.locale,h),C=g?.getTime()!==E?.getTime(),k=v?.getTime()!==b?.getTime();if(!C&&!k||E&&Cn(E,r.props)||b&&Cn(b,r.props))return;(o=(i=r.props).onChange)===null||o===void 0||o.call(i,[E,b],l)}else{var N=Fp(p,f,r.props.locale,h,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&N&&!Te(N,r.props.selected)&&(N=jj(r.props.selected,{hours:mr(N),minutes:gr(N),seconds:zr(N)})),(N||!p)&&r.setSelected(N,l,!0)}}},r.handleSelect=function(i,o,a){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,a),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var s=r.props,l=s.startDate,u=s.endDate;l&&!u&&(r.props.swapRange||!rS(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,o,a,s){var l,u,c=i;if(r.props.showYearPicker){if(c!==null&&Ec(_e(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&yk(c,r.props))return}else if(c!==null&&Cn(c,r.props))return;var f=r.props,d=f.onChange,h=f.selectsRange,m=f.startDate,g=f.endDate,v=f.selectsMultiple,p=f.selectedDates,w=f.minTime,y=f.swapRange;if(!io(r.props.selected,c)||r.props.allowSameDay||h||v)if(c!==null&&(r.props.selected&&(!a||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=$p(c,{hour:mr(r.props.selected),minute:gr(r.props.selected),second:zr(r.props.selected)})),!a&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&w&&(c=$p(c,{hour:w.getHours(),minute:w.getMinutes(),second:w.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:s})),h){var x=!m&&!g,E=m&&!g,b=m&&g;x?d?.([c,null],o):E&&(c===null?d?.([null,null],o):rS(c,m)?d?.(y?[c,m]:[c,null],o):d?.([m,c],o)),b&&d?.([c,null],o)}else if(v){if(c!==null)if(!p?.length)d?.([c],o);else{var C=p.some(function(N){return Te(N,c)});if(C){var k=p.filter(function(N){return!Te(N,c)});d?.(k,o)}else d?.(lr(lr([],p,!0),[c],!1),o)}}else d?.(c,o);a||((u=(l=r.props).onSelect)===null||u===void 0||u.call(l,c,o),r.setState({inputValue:null}))},r.setPreSelection=function(i){var o=Yr(r.props.minDate),a=Yr(r.props.maxDate),s=!0;if(i){var l=bc(i);if(o&&a)s=Bs(i,r.props.minDate,r.props.maxDate);else if(o){var u=bc(r.props.minDate);s=Fi(i,u)||io(l,u)}else if(a){var c=z_(r.props.maxDate);s=To(i,c)||io(l,c)}}s&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o,a;if(!(r.props.selectsRange||r.props.selectsMultiple)){var s=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:$p(s,{hour:mr(i),minute:gr(i)});r.setState({preSelection:l}),(a=(o=r.props).onChange)===null||a===void 0||a.call(o,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,a,s,l,u,c;(a=(o=r.props).onKeyDown)===null||a===void 0||a.call(o,i);var f=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f===K.ArrowDown||f===K.ArrowUp||f===K.Enter)&&((s=r.onInputClick)===null||s===void 0||s.call(r));return}if(r.state.open){if(f===K.ArrowDown||f===K.ArrowUp){i.preventDefault();var d=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',h=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(d);h instanceof HTMLElement&&h.focus({preventScroll:!0});return}var m=Fe(r.state.preSelection);f===K.Enter?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Hp?(r.handleSelect(m,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(m)):r.setOpen(!1)):f===K.Escape?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):f===K.Tab&&r.setOpen(!1),r.inputOk()||(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:Up})}},r.onPortalKeyDown=function(i){var o=i.key;o===K.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,a,s,l,u,c,f=r.props,d=f.minDate,h=f.maxDate,m=f.disabledKeyboardNavigation,g=f.showWeekPicker,v=f.shouldCloseOnSelect,p=f.locale,w=f.calendarStartDay,y=f.adjustDateOnChange,x=f.inline;if((a=(o=r.props).onKeyDown)===null||a===void 0||a.call(o,i),!m){var E=i.key,b=i.shiftKey,C=Fe(r.state.preSelection),k=function(P,D){var j=D;switch(P){case K.ArrowRight:j=g?Sf(D,1):Zr(D,1);break;case K.ArrowLeft:j=g?j_(D,1):xj(D,1);break;case K.ArrowUp:j=j_(D,1);break;case K.ArrowDown:j=Sf(D,1);break;case K.PageUp:j=b?Ha(D,1):Ua(D,1);break;case K.PageDown:j=b?Br(D,1):Qn(D,1);break;case K.Home:j=Oi(D,p,w);break;case K.End:j=dU(D);break}return j},N=function(P,D){for(var j=40,M=P,$=!1,B=0,q=k(P,D);!$;){if(B>=j){q=D;break}d&&q<d&&(M=K.ArrowRight,q=Cn(d,r.props)?k(M,q):d),h&&q>h&&(M=K.ArrowLeft,q=Cn(h,r.props)?k(M,q):h),Cn(q,r.props)?((M===K.PageUp||M===K.Home)&&(M=K.ArrowRight),(M===K.PageDown||M===K.End)&&(M=K.ArrowLeft),q=k(M,q)):$=!0,B++}return q};if(E===K.Enter){i.preventDefault(),r.handleSelect(C,i),!v&&r.setPreSelection(C);return}else if(E===K.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(s=r.props).onInputError)===null||l===void 0||l.call(s,{code:1,msg:Up});return}var A=null;switch(E){case K.ArrowLeft:case K.ArrowRight:case K.ArrowUp:case K.ArrowDown:case K.PageUp:case K.PageDown:case K.Home:case K.End:A=N(E,C);break}if(!A){(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:Up});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Hp}),y&&r.setSelected(A),r.setPreSelection(A),x){var O=Yt(C),V=Yt(A),I=_e(C),T=_e(A);O!==V||I!==T?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===K.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,a=o.selectsRange,s=o.onChange;s?.(a?[null,null]:null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:R.createElement(WU,ke({showMonthYearDropdown:void 0,ref:function(a){r.calendar=a}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:EU(r.modifyHolidays()),outsideClickIgnoreClass:aS,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,a=o===void 0?t.defaultProps.dateFormat:o,s=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,u=l?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(Sn(r.props.startDate,{dateFormat:u,locale:s}),". ").concat(r.props.endDate?"End date: "+Sn(r.props.endDate,{dateFormat:u,locale:s}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(Sn(r.props.selected,{dateFormat:a,locale:s})):r.props.showYearPicker?c="Selected year: ".concat(Sn(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?c="Selected month: ".concat(Sn(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(Sn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):c="Selected date: ".concat(Sn(r.props.selected,{dateFormat:u,locale:s})),R.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,o,a,s=yt(r.props.className,(i={},i[aS]=r.state.open,i)),l=r.props.customInput||R.createElement("input",{type:"text"}),u=r.props.customInputRef||"ref",c=r.props,f=c.dateFormat,d=f===void 0?t.defaultProps.dateFormat:f,h=c.locale,m=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?lU(r.props.startDate,r.props.endDate,{dateFormat:d,locale:h}):r.props.selectsMultiple?uU((a=r.props.selectedDates)!==null&&a!==void 0?a:[],{dateFormat:d,locale:h}):Sn(r.props.selected,{dateFormat:d,locale:h});return _.cloneElement(l,(o={},o[u]=function(g){r.input=g},o.value=m,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=yt(l.props.className,s),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,a=i.disabled,s=i.selected,l=i.startDate,u=i.endDate,c=i.clearButtonTitle,f=i.clearButtonClassName,d=f===void 0?"":f,h=i.ariaLabelClose,m=h===void 0?"Close":h,g=i.selectedDates;return o&&(s!=null||l!=null||u!=null||g?.length)?R.createElement("button",{type:"button",className:yt("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":m,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:tu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var i,o,a,s;n.inline&&JU(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:J_(this.props.highlightDates)}),!r.focused&&!io(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((s=(a=this.props).onCalendarClose)===null||s===void 0||s.call(a)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,o=n.calendarIconClassname,a=n.calendarIconClassName,s=n.toggleCalendarOnIconClick,l=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),R.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&R.createElement(qU,ke({icon:i,className:yt(a,!a&&o,l&&"react-datepicker-ignore-onclickoutside")},s?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?R.createElement(bk,{enableTabLoop:this.props.enableTabLoop},R.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=R.createElement(xk,ke({portalId:this.props.portalId},this.props),r)),R.createElement("div",null,this.renderInputContainer(),r)}return R.createElement(ZU,ke({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(_.Component),eH="input",Hp="navigate";function ie({label:e,...t}){return S.jsxs("div",{className:"thin-border blue-bg",style:{display:"flex",justifyContent:"space-between",gap:"1em"},children:[e,S.jsx("div",{className:"number-field",children:t.children})]})}function tH(){const e=_.useContext(xt),t=e.portaCountClient.state,n=e.portaCountClient.settings,[r,i]=ae(F.BAUD_RATE),[o]=ae(F.ADVANCED_MODE),[a]=ae(F.SHOW_REMAINING_EVENT_TIME),[s]=ae(F.SHOW_ELAPSED_PARTICIPANT_TIME),[l,u]=_.useState(!1),[c,f]=_.useState("all-raw-data"),[d,h]=ae(F.MINUTES_ALLOTTED_PER_PARTICIPANT),[m,g]=ae(F.MASK_LIST),[v,p]=ae(F.PARTICIPANT_LIST),[w,y]=ae(F.COLOR_SCHEME),[x,E]=_.useState(e.settings.eventEndTime),[,b]=_.useState({}),C=_.useCallback(()=>{b({})},[]);function k(T){f(T.target.value)}function N(){switch(c){case"all-raw-data":A();break;case"all-results-as-json":O();break;default:console.log(`unsupported data to download: ${c}`)}}async function A(){await vd.getData().then(T=>{yg(JSON.stringify(T),"fit-test-all-raw-data","json")})}function O(){Rn.getData().then(T=>{yg(JSON.stringify(T),"fit-test-all-results","json")})}function V(T){const P=Number(T);isNaN(P)?h(D=>D):P>0?h(P):console.warn(`ignoring out-of-range minutes per participant value: ${T}`)}_.useEffect(()=>{e.settings.eventEndTime=x},[x]),_.useEffect(()=>{e.settings.getActualSetting(F.EVENT_END_HHMM).then(()=>{E(e.settings.eventEndTime)});const T={stateChanged(){C()},settingsChanged(){C()}};return e.portaCountClient.addListener(T),()=>{e.portaCountClient.removeListener(T)}},[]);function I(){const T=e.portaCountClient.externalController;T.assumeManualControl(),T.requestRuntimeStatus(),T.sendCommand(Ee.REQUEST_VOLTAGE_INFO),T.requestSettings()}return S.jsxs("div",{id:"settings-panel",children:[S.jsx("fieldset",{children:"mftc v1.8.7 production"}),S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Settings"}),S.jsxs("section",{id:"settings",style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignItems:"stretch"},children:[S.jsx("section",{id:"basic-controls",children:S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Basic"}),S.jsx(et,{setting:F.KEEP_SCREEN_AWAKE}),S.jsx(W4,{}),S.jsx(et,{setting:F.SAY_PARTICLE_COUNT}),S.jsx(et,{setting:F.SAY_ESTIMATED_FIT_FACTOR}),S.jsxs("div",{className:"labeled-setting",children:[S.jsxs("select",{id:"download-file-format-selector",defaultValue:c,onChange:k,children:[S.jsx("option",{value:"all-raw-data",children:"All Raw data as JSON"}),S.jsx("option",{value:"all-results-as-json",children:"All results as JSON"})]}),S.jsx("input",{className:"button",type:"button",value:"Download!",id:"download-button",onClick:N})]})]})}),S.jsx("section",{id:"event settings",children:S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Event settings"}),S.jsx(et,{setting:F.SHOW_ELAPSED_PARTICIPANT_TIME}),s&&S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{htmlFor:"minutes-per-participant-input",children:"Minutes per participant:"}),S.jsx(w6,{style:{width:"8ch"},id:"minutes-per-participant-input",value:d,onChange:V,type:"number",min:1,max:60})]}),S.jsx(et,{setting:F.SHOW_REMAINING_EVENT_TIME}),a&&S.jsxs("div",{className:"labeled-setting",children:[S.jsx("label",{children:"Event end time"}),S.jsx(Cg,{className:"date-time-input",selected:x,showTimeSelect:!0,showTimeCaption:!0,includeDates:[new Date],showIcon:!0,dateFormat:"YYYY-MMM-dd HH:mm",timeFormat:"HH:mm",placeholderText:"Pick end time",onChange:T=>T&&E(T)})]}),S.jsxs("fieldset",{id:"today-participant-list",children:[S.jsx("legend",{children:"Participants"}),S.jsx("div",{style:{maxHeight:"50vh"},children:S.jsx(xo,{scrollable:!0,onChangeOnlyOnBlur:!0,initialValue:v.join(`
`),onChange:T=>{T!==void 0&&p(T.split(/\n/).map(P=>P.trim()).filter(P=>P.length>0))}})})]})]})}),S.jsxs("section",{id:"advanced-controls",children:[S.jsxs("fieldset",{children:[S.jsx("legend",{children:S.jsx(et,{trueLabel:"Advanced settings",setting:F.ADVANCED_MODE})}),S.jsxs("div",{style:{display:o?"inline-block":"none"},children:[S.jsx(k_,{label:"Baud Rate",value:r.toString(),setValue:T=>i(Number(T)),options:[{300:"300"},{600:"600"},{1200:"1200"},{2400:"2400"},{9600:"9600"}]}),S.jsx(k_,{label:"Color Scheme",value:w,setValue:T=>y(T),options:[{Auto:"light dark"},{Dark:"dark"},{Light:"light"}]}),S.jsx(y6,{}),S.jsx(et,{trueLabel:"Verbose speech",setting:F.VERBOSE}),S.jsx(et,{setting:F.SHOW_EXTERNAL_CONTROL}),S.jsx(et,{setting:F.ENABLE_TEST_INSTRUCTIONS_ZOOM}),S.jsx(et,{setting:F.USE_COMPACT_UI}),S.jsx(et,{setting:F.SHOW_MASK_PERF_GRAPH}),S.jsx(et,{setting:F.USE_IDLE_AMBIENT_VALUES}),S.jsx(et,{setting:F.SAMPLE_MASK_WHEN_IDLE}),S.jsx(et,{setting:F.ENABLE_WEB_SERIAL_DRIVERS}),S.jsx(et,{setting:F.ENABLE_PROTOCOL_EDITOR}),S.jsx(et,{setting:F.ENABLE_QR_CODE_SCANNER}),S.jsx(et,{setting:F.ENABLE_STATS}),S.jsx(et,{setting:F.AUTO_UPDATE_MASK_LIST}),S.jsx(et,{setting:F.ENABLE_AUTO_CONNECT}),S.jsx(et,{setting:F.SYNC_DEVICE_STATE_ON_CONNECT}),S.jsx(et,{setting:F.AUTO_CREATE_FAST_PROTOCOLS}),S.jsx(et,{setting:F.ENABLE_SIMULATOR}),S.jsx(bT,{trueLabel:"Show Danger Zone",value:l,setValue:u})]})]}),l&&S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Danger Zone"}),S.jsx("input",{type:"button",value:"Clear Local Storage",onClick:()=>localStorage.clear()})]})]}),S.jsxs("fieldset",{id:"mask-list",children:[S.jsx("legend",{children:"Mask list"}),S.jsx("div",{style:{maxHeight:"50vh"},children:S.jsx(xo,{scrollable:!0,onChangeOnlyOnBlur:!0,initialValue:m.join(`
`),onChange:T=>{T!==void 0&&g(T.split(/\n/).map(P=>P.trim()).filter(P=>P.length>0))}})})]}),S.jsxs("fieldset",{id:"settings-state",children:[S.jsx("legend",{children:"Settings & State"}),S.jsx("button",{onClick:I,children:"Fetch settings & state info"}),S.jsx(ie,{label:"Serial Number",children:n.serialNumber}),S.jsx(ie,{label:"Last Service Date",children:n.lastServiceDate.toISOString()}),S.jsx(ie,{label:"Run Time Since Service",children:Ge(1e3*n.runTimeSinceFactoryServiceSeconds)}),S.jsx(ie,{label:"Num Exercises",children:n.numExercises}),S.jsx(ie,{label:"Ambient Purge",children:Ge(1e3*n.ambientPurge)}),S.jsx(ie,{label:"Ambient Sample",children:Ge(1e3*n.ambientSample)}),S.jsx(ie,{label:"Mask Purge",children:Ge(1e3*n.maskPurge)}),[...n.maskSample.entries()].map(([T,P])=>S.jsx(ie,{label:`Ex ${String(T)} sample`,children:Ge(1e3*P)},T)),[...n.fitFactorPassLevel.entries()].map(([T,P])=>S.jsx(ie,{label:`FF pass level ${String(T)}`,children:P},T)),S.jsx(ie,{label:"Battery",children:t.batteryStatus}),S.jsx(ie,{label:"Pulse",children:t.pulseStatus}),[...t.componentVoltages.entries()].map(([T,P])=>S.jsx(ie,{label:`${T} voltage`,children:P},T))]})]})]})]})}function nH(){const[e,t]=_.useState(""),n=R.useRef(null),[r,i]=_.useState(""),o=R.useRef(null),[a,s]=_.useState(""),l=R.useRef(null),u=_.useContext(xt);return _.useEffect(()=>{t(()=>u.dataCollector.rawLines),i(u.dataCollector.logLines),s(u.dataCollector.processedData);const c={logRawLine(){t(()=>u.dataCollector.rawLines)},logMessage(f){i(d=>d+f)},logProcessedData(f){const d=new Date().toISOString();s(h=>h+`${d} ${f}`)}};return u.dataCollector.addListener(c),()=>{u.dataCollector.removeListener(c)}},[]),S.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[S.jsxs("section",{style:{width:"100%",display:"flex",flexGrow:1},children:[S.jsxs("fieldset",{style:{flexGrow:1},children:[S.jsx("legend",{children:"Raw Data"}),S.jsx("textarea",{id:"raw-data",ref:n,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1e3,value:e})]}),S.jsxs("fieldset",{style:{flexGrow:1},children:[S.jsx("legend",{children:"Processed Data"}),S.jsx("textarea",{id:"interpreted-data",ref:l,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1001,value:a})]})]}),S.jsx("section",{style:{width:"100%",flexGrow:1,display:"flex"},children:S.jsxs("fieldset",{style:{flexGrow:1},children:[S.jsx("legend",{children:"Log"}),S.jsx("textarea",{id:"log-text-area",ref:o,readOnly:!0,style:{width:"100%",height:"100%",border:"none",resize:"vertical"},tabIndex:1002,value:r})]})})]})}var Ek={};typeof window<"u"&&function(e,t){try{e.querySelector(":scope body")}catch{["querySelector","querySelectorAll"].forEach(function(r){const i=t[r];t[r]=function(o){if(/(^|,)\s*:scope/.test(o)){const a=this.id;this.id="ID_"+Date.now(),o=o.replace(/((^|,)\s*):scope/g,"$1#"+this.id);const s=e[r](o);return this.id=a,s}else return i.call(this,o)}})}}(window.document,Element.prototype);var Wd={};function we(e){return function(){return e}}const sS=Math.abs,Rt=Math.atan2,Or=Math.cos,rH=Math.max,Sa=Math.min,Kt=Math.sin,ze=Math.sqrt,Lt=1e-12,$i=Math.PI,Pf=$i/2,Pi=2*$i;function iH(e){return e>1?0:e<-1?$i:Math.acos(e)}function lS(e){return e>=1?Pf:e<=-1?-Pf:Math.asin(e)}const Tg=Math.PI,kg=2*Tg,eo=1e-6,oH=kg-eo;function Ck(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function aH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ck;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class sH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ck:aH(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>eo)if(!(Math.abs(f*l-u*c)>eo)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,m=i-s,g=l*l+u*u,v=h*h+m*m,p=Math.sqrt(g),w=Math.sqrt(d),y=o*Math.tan((Tg-Math.acos((g+d-v)/(2*p*w)))/2),x=y/w,E=y/p;Math.abs(x-1)>eo&&this._append`L${t+x*c},${n+x*f}`,this._append`A${o},${o},0,0,${+(f*h>c*m)},${this._x1=t+E*l},${this._y1=n+E*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>eo||Math.abs(this._y1-c)>eo)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%kg+kg),d>oH?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>eo&&this._append`A${r},${r},0,${+(d>=Tg)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ru(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new sH(t)}function lH(e){return e.innerRadius}function uH(e){return e.outerRadius}function cH(e){return e.startAngle}function fH(e){return e.endAngle}function dH(e){return e&&e.padAngle}function hH(e,t,n,r,i,o,a,s){var l=n-e,u=r-t,c=a-i,f=s-o,d=f*l-c*u;if(!(d*d<Lt))return d=(c*(t-o)-f*(e-i))/d,[e+d*l,t+d*u]}function Bu(e,t,n,r,i,o,a){var s=e-n,l=t-r,u=(a?o:-o)/ze(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=t+f,m=n+c,g=r+f,v=(d+m)/2,p=(h+g)/2,w=m-d,y=g-h,x=w*w+y*y,E=i-o,b=d*g-m*h,C=(y<0?-1:1)*ze(rH(0,E*E*x-b*b)),k=(b*y-w*C)/x,N=(-b*w-y*C)/x,A=(b*y+w*C)/x,O=(-b*w+y*C)/x,V=k-v,I=N-p,T=A-v,P=O-p;return V*V+I*I>T*T+P*P&&(k=A,N=O),{cx:k,cy:N,x01:-c,y01:-f,x11:k*(i/E-1),y11:N*(i/E-1)}}function pH(){var e=lH,t=uH,n=we(0),r=null,i=cH,o=fH,a=dH,s=null,l=ru(u);function u(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),m=i.apply(this,arguments)-Pf,g=o.apply(this,arguments)-Pf,v=sS(g-m),p=g>m;if(s||(s=c=l()),h<d&&(f=h,h=d,d=f),!(h>Lt))s.moveTo(0,0);else if(v>Pi-Lt)s.moveTo(h*Or(m),h*Kt(m)),s.arc(0,0,h,m,g,!p),d>Lt&&(s.moveTo(d*Or(g),d*Kt(g)),s.arc(0,0,d,g,m,p));else{var w=m,y=g,x=m,E=g,b=v,C=v,k=a.apply(this,arguments)/2,N=k>Lt&&(r?+r.apply(this,arguments):ze(d*d+h*h)),A=Sa(sS(h-d)/2,+n.apply(this,arguments)),O=A,V=A,I,T;if(N>Lt){var P=lS(N/d*Kt(k)),D=lS(N/h*Kt(k));(b-=P*2)>Lt?(P*=p?1:-1,x+=P,E-=P):(b=0,x=E=(m+g)/2),(C-=D*2)>Lt?(D*=p?1:-1,w+=D,y-=D):(C=0,w=y=(m+g)/2)}var j=h*Or(w),M=h*Kt(w),$=d*Or(E),B=d*Kt(E);if(A>Lt){var q=h*Or(y),G=h*Kt(y),me=d*Or(x),ce=d*Kt(x),ne;if(v<$i)if(ne=hH(j,M,me,ce,q,G,$,B)){var ge=j-ne[0],z=M-ne[1],re=q-ne[0],L=G-ne[1],Q=1/Kt(iH((ge*re+z*L)/(ze(ge*ge+z*z)*ze(re*re+L*L)))/2),de=ze(ne[0]*ne[0]+ne[1]*ne[1]);O=Sa(A,(d-de)/(Q-1)),V=Sa(A,(h-de)/(Q+1))}else O=V=0}C>Lt?V>Lt?(I=Bu(me,ce,j,M,h,V,p),T=Bu(q,G,$,B,h,V,p),s.moveTo(I.cx+I.x01,I.cy+I.y01),V<A?s.arc(I.cx,I.cy,V,Rt(I.y01,I.x01),Rt(T.y01,T.x01),!p):(s.arc(I.cx,I.cy,V,Rt(I.y01,I.x01),Rt(I.y11,I.x11),!p),s.arc(0,0,h,Rt(I.cy+I.y11,I.cx+I.x11),Rt(T.cy+T.y11,T.cx+T.x11),!p),s.arc(T.cx,T.cy,V,Rt(T.y11,T.x11),Rt(T.y01,T.x01),!p))):(s.moveTo(j,M),s.arc(0,0,h,w,y,!p)):s.moveTo(j,M),!(d>Lt)||!(b>Lt)?s.lineTo($,B):O>Lt?(I=Bu($,B,q,G,d,-O,p),T=Bu(j,M,me,ce,d,-O,p),s.lineTo(I.cx+I.x01,I.cy+I.y01),O<A?s.arc(I.cx,I.cy,O,Rt(I.y01,I.x01),Rt(T.y01,T.x01),!p):(s.arc(I.cx,I.cy,O,Rt(I.y01,I.x01),Rt(I.y11,I.x11),!p),s.arc(0,0,d,Rt(I.cy+I.y11,I.cx+I.x11),Rt(T.cy+T.y11,T.cx+T.x11),p),s.arc(T.cx,T.cy,O,Rt(T.y11,T.x11),Rt(T.y01,T.x01),!p))):s.arc(0,0,d,E,x,p)}if(s.closePath(),c)return s=null,c+""||null}return u.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-$i/2;return[Or(f)*c,Kt(f)*c]},u.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:we(+c),u):e},u.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:we(+c),u):t},u.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:we(+c),u):n},u.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:we(+c),u):r},u.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:we(+c),u):i},u.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:we(+c),u):o},u.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:we(+c),u):a},u.context=function(c){return arguments.length?(s=c??null,u):s},u}var mH=Array.prototype.slice;function qd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Tk(e){this._context=e}Tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qd(e){return new Tk(e)}function Mv(e){return e[0]}function Dv(e){return e[1]}function Ov(e,t){var n=we(!0),r=null,i=Qd,o=null,a=ru(s);e=typeof e=="function"?e:e===void 0?Mv:we(e),t=typeof t=="function"?t:t===void 0?Dv:we(t);function s(l){var u,c=(l=qd(l)).length,f,d=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,u,l),+t(f,u,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:we(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:we(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:we(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function kk(e,t,n){var r=null,i=we(!0),o=null,a=Qd,s=null,l=ru(u);e=typeof e=="function"?e:e===void 0?Mv:we(+e),t=typeof t=="function"?t:we(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Dv:we(+n);function u(f){var d,h,m,g=(f=qd(f)).length,v,p=!1,w,y=new Array(g),x=new Array(g);for(o==null&&(s=a(w=l())),d=0;d<=g;++d){if(!(d<g&&i(v=f[d],d,f))===p)if(p=!p)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=h;--m)s.point(y[m],x[m]);s.lineEnd(),s.areaEnd()}p&&(y[d]=+e(v,d,f),x[d]=+t(v,d,f),s.point(r?+r(v,d,f):y[d],n?+n(v,d,f):x[d]))}if(w)return s=null,w+""||null}function c(){return Ov().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:we(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:we(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:we(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:we(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:we(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:we(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:we(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}function gH(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function vH(e){return e}function yH(){var e=vH,t=gH,n=null,r=we(0),i=we(Pi),o=we(0);function a(s){var l,u=(s=qd(s)).length,c,f,d=0,h=new Array(u),m=new Array(u),g=+r.apply(this,arguments),v=Math.min(Pi,Math.max(-Pi,i.apply(this,arguments)-g)),p,w=Math.min(Math.abs(v)/u,o.apply(this,arguments)),y=w*(v<0?-1:1),x;for(l=0;l<u;++l)(x=m[h[l]=l]=+e(s[l],l,s))>0&&(d+=x);for(t!=null?h.sort(function(E,b){return t(m[E],m[b])}):n!=null&&h.sort(function(E,b){return n(s[E],s[b])}),l=0,f=d?(v-u*y)/d:0;l<u;++l,g=p)c=h[l],x=m[c],p=g+(x>0?x*f:0)+y,m[c]={data:s[c],index:l,value:x,startAngle:g,endAngle:p,padAngle:w};return m}return a.value=function(s){return arguments.length?(e=typeof s=="function"?s:we(+s),a):e},a.sortValues=function(s){return arguments.length?(t=s,n=null,a):t},a.sort=function(s){return arguments.length?(n=s,t=null,a):n},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:we(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:we(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:we(+s),a):o},a}var Mk=Pv(Qd);function Dk(e){this._curve=e}Dk.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function Pv(e){function t(n){return new Dk(e(n))}return t._curve=e,t}function Ys(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(Pv(n)):t()._curve},e}function uS(){return Ys(Ov().curve(Mk))}function cS(){var e=kk().curve(Mk),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Ys(n())},delete e.lineX0,e.lineEndAngle=function(){return Ys(r())},delete e.lineX1,e.lineInnerRadius=function(){return Ys(i())},delete e.lineY0,e.lineOuterRadius=function(){return Ys(o())},delete e.lineY1,e.curve=function(a){return arguments.length?t(Pv(a)):t()._curve},e}function zs(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}class Ok{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}class wH{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{const r=zs(this._x0,this._y0),i=zs(this._x0,this._y0=(this._y0+n)/2),o=zs(t,this._y0),a=zs(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...i,...o,...a)}this._x0=t,this._y0=n}}function Pk(e){return new Ok(e,!0)}function Nk(e){return new Ok(e,!1)}function _H(e){return new wH(e)}function SH(e){return e.source}function xH(e){return e.target}function Gd(e){let t=SH,n=xH,r=Mv,i=Dv,o=null,a=null,s=ru(l);function l(){let u;const c=mH.call(arguments),f=t.apply(this,c),d=n.apply(this,c);if(o==null&&(a=e(u=s())),a.lineStart(),c[0]=f,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=d,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),u)return a=null,u+""||null}return l.source=function(u){return arguments.length?(t=u,l):t},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:we(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:we(+u),l):i},l.context=function(u){return arguments.length?(u==null?o=a=null:a=e(o=u),l):o},l}function bH(){return Gd(Pk)}function EH(){return Gd(Nk)}function CH(){const e=Gd(_H);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const TH=ze(3),Rk={draw(e,t){const n=ze(t+Sa(t/28,.75))*.59436,r=n/2,i=r*TH;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Kd={draw(e,t){const n=ze(t/$i);e.moveTo(n,0),e.arc(0,0,n,0,Pi)}},Ik={draw(e,t){const n=ze(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Lk=ze(1/3),kH=Lk*2,Ak={draw(e,t){const n=ze(t/kH),r=n*Lk;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Fk={draw(e,t){const n=ze(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},$k={draw(e,t){const n=ze(t-Sa(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},jk={draw(e,t){const n=ze(t),r=-n/2;e.rect(r,r,n,n)}},Uk={draw(e,t){const n=ze(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},MH=.8908130915292852,Hk=Kt($i/10)/Kt(7*$i/10),DH=Kt(Pi/10)*Hk,OH=-Or(Pi/10)*Hk,Vk={draw(e,t){const n=ze(t*MH),r=DH*n,i=OH*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Pi*o/5,s=Or(a),l=Kt(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Vp=ze(3),Bk={draw(e,t){const n=-ze(t/(Vp*3));e.moveTo(0,n*2),e.lineTo(-Vp*n,-n),e.lineTo(Vp*n,-n),e.closePath()}},PH=ze(3),Yk={draw(e,t){const n=ze(t)*.6824,r=n/2,i=n*PH/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},yn=-.5,wn=ze(3)/2,Mg=1/ze(12),NH=(Mg/2+1)*3,zk={draw(e,t){const n=ze(t/NH),r=n/2,i=n*Mg,o=r,a=n*Mg+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(yn*r-wn*i,wn*r+yn*i),e.lineTo(yn*o-wn*a,wn*o+yn*a),e.lineTo(yn*s-wn*l,wn*s+yn*l),e.lineTo(yn*r+wn*i,yn*i-wn*r),e.lineTo(yn*o+wn*a,yn*a-wn*o),e.lineTo(yn*s+wn*l,yn*l-wn*s),e.closePath()}},Dg={draw(e,t){const n=ze(t-Sa(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},fS=[Kd,Ik,Ak,jk,Vk,Bk,zk],RH=[Kd,$k,Dg,Yk,Rk,Uk,Fk];function IH(e,t){let n=null,r=ru(i);e=typeof e=="function"?e:we(e||Kd),t=typeof t=="function"?t:we(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:we(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:we(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ji(){}function Nf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Xd(e){this._context=e}Xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LH(e){return new Xd(e)}function Wk(e){this._context=e}Wk.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AH(e){return new Wk(e)}function qk(e){this._context=e}qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FH(e){return new qk(e)}function Qk(e,t){this._basis=new Xd(e),this._beta=t}Qk.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*o),this._beta*t[s]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const $H=function e(t){function n(r){return t===1?new Xd(r):new Qk(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Rf(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Nv(e,t){this._context=e,this._k=(1-t)/6}Nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Rf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Rf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jH=function e(t){function n(r){return new Nv(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Rv(e,t){this._context=e,this._k=(1-t)/6}Rv.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Rf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const UH=function e(t){function n(r){return new Rv(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Iv(e,t){this._context=e,this._k=(1-t)/6}Iv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Rf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const HH=function e(t){function n(r){return new Iv(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Lv(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Lt){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Lt){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Gk(e,t){this._context=e,this._alpha=t}Gk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Lv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const VH=function e(t){function n(r){return t?new Gk(r,t):new Nv(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Kk(e,t){this._context=e,this._alpha=t}Kk.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Lv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const BH=function e(t){function n(r){return t?new Kk(r,t):new Rv(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Xk(e,t){this._context=e,this._alpha=t}Xk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Lv(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const YH=function e(t){function n(r){return t?new Xk(r,t):new Iv(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Zk(e){this._context=e}Zk.prototype={areaStart:ji,areaEnd:ji,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function zH(e){return new Zk(e)}function dS(e){return e<0?-1:1}function hS(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(dS(o)+dS(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function pS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Bp(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function If(e){this._context=e}If.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bp(this,this._t0,pS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bp(this,pS(this,n=hS(this,e,t)),n);break;default:Bp(this,this._t0,n=hS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Jk(e){this._context=new eM(e)}(Jk.prototype=Object.create(If.prototype)).point=function(e,t){If.prototype.point.call(this,t,e)};function eM(e){this._context=e}eM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function WH(e){return new If(e)}function qH(e){return new Jk(e)}function tM(e){this._context=e}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=mS(e),i=mS(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mS(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function QH(e){return new tM(e)}function Zd(e,t){this._context=e,this._t=t}Zd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function GH(e){return new Zd(e,.5)}function KH(e){return new Zd(e,0)}function XH(e){return new Zd(e,1)}function Va(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ba(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ZH(e,t){return e[t]}function JH(e){const t=[];return t.key=e,t}function eV(){var e=we([]),t=Ba,n=Va,r=ZH;function i(o){var a=Array.from(e.apply(this,arguments),JH),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=qd(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:we(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:we(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Ba:typeof o=="function"?o:we(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Va,i):n},i}function tV(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Va(e,t)}}function nV(e,t){if((l=e.length)>0)for(var n,r=0,i,o,a,s,l,u=e[t[0]].length;r<u;++r)for(a=s=0,n=0;n<l;++n)(o=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=a,i[1]=a+=o):o<0?(i[1]=s,i[0]=s+=o):(i[0]=0,i[1]=o)}function rV(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Va(e,t)}}function iV(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],f=c[r][1]||0,d=c[r-1][1]||0,h=(f-d)/2,m=0;m<s;++m){var g=e[t[m]],v=g[r][1]||0,p=g[r-1][1]||0;h+=v-p}l+=f,u+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Va(e,t)}}function nM(e){var t=e.map(oV);return Ba(e).sort(function(n,r){return t[n]-t[r]})}function oV(e){for(var t=-1,n=0,r=e.length,i,o=-1/0;++t<r;)(i=+e[t][1])>o&&(o=i,n=t);return n}function rM(e){var t=e.map(iM);return Ba(e).sort(function(n,r){return t[n]-t[r]})}function iM(e){for(var t=0,n=-1,r=e.length,i;++n<r;)(i=+e[n][1])&&(t+=i);return t}function aV(e){return rM(e).reverse()}function sV(e){var t=e.length,n,r,i=e.map(iM),o=nM(e),a=0,s=0,l=[],u=[];for(n=0;n<t;++n)r=o[n],a<s?(a+=i[r],l.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(l)}function lV(e){return Ba(e).reverse()}const uV=Object.freeze(Object.defineProperty({__proto__:null,arc:pH,area:kk,areaRadial:cS,curveBasis:LH,curveBasisClosed:AH,curveBasisOpen:FH,curveBumpX:Pk,curveBumpY:Nk,curveBundle:$H,curveCardinal:jH,curveCardinalClosed:UH,curveCardinalOpen:HH,curveCatmullRom:VH,curveCatmullRomClosed:BH,curveCatmullRomOpen:YH,curveLinear:Qd,curveLinearClosed:zH,curveMonotoneX:WH,curveMonotoneY:qH,curveNatural:QH,curveStep:GH,curveStepAfter:XH,curveStepBefore:KH,line:Ov,lineRadial:uS,link:Gd,linkHorizontal:bH,linkRadial:CH,linkVertical:EH,pie:yH,pointRadial:zs,radialArea:cS,radialLine:uS,stack:eV,stackOffsetDiverging:nV,stackOffsetExpand:tV,stackOffsetNone:Va,stackOffsetSilhouette:rV,stackOffsetWiggle:iV,stackOrderAppearance:nM,stackOrderAscending:rM,stackOrderDescending:aV,stackOrderInsideOut:sV,stackOrderNone:Ba,stackOrderReverse:lV,symbol:IH,symbolAsterisk:Rk,symbolCircle:Kd,symbolCross:Ik,symbolDiamond:Ak,symbolDiamond2:Fk,symbolPlus:$k,symbolSquare:jk,symbolSquare2:Uk,symbolStar:Vk,symbolTimes:Dg,symbolTriangle:Bk,symbolTriangle2:Yk,symbolWye:zk,symbolX:Dg,symbols:fS,symbolsFill:fS,symbolsStroke:RH},Symbol.toStringTag,{value:"Module"})),Jd=ii(uV);function cV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ya(e){return e=Lf(Math.abs(e)),e?e[1]:NaN}function fV(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function dV(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var hV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function za(e){if(!(t=hV.exec(e)))throw new Error("invalid format: "+e);var t;return new eh({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}za.prototype=eh.prototype;function eh(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pV(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var oM;function mV(e,t){var n=Lf(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(oM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Lf(e,Math.max(0,t+o-1))[0]}function gS(e,t){var n=Lf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gS(e*100,t),r:gS,s:mV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yS(e){return e}var wS=Array.prototype.map,_S=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aM(e){var t=e.grouping===void 0||e.thousands===void 0?yS:fV(wS.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?yS:dV(wS.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=za(f);var d=f.fill,h=f.align,m=f.sign,g=f.symbol,v=f.zero,p=f.width,w=f.comma,y=f.precision,x=f.trim,E=f.type;E==="n"?(w=!0,E="g"):vS[E]||(y===void 0&&(y=12),x=!0,E="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var b=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",C=g==="$"?r:/[%p]/.test(E)?a:"",k=vS[E],N=/[defgprs%]/.test(E);y=y===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function A(O){var V=b,I=C,T,P,D;if(E==="c")I=k(O)+I,O="";else{O=+O;var j=O<0||1/O<0;if(O=isNaN(O)?l:k(Math.abs(O),y),x&&(O=pV(O)),j&&+O==0&&m!=="+"&&(j=!1),V=(j?m==="("?m:s:m==="-"||m==="("?"":m)+V,I=(E==="s"?_S[8+oM/3]:"")+I+(j&&m==="("?")":""),N){for(T=-1,P=O.length;++T<P;)if(D=O.charCodeAt(T),48>D||D>57){I=(D===46?i+O.slice(T+1):O.slice(T))+I,O=O.slice(0,T);break}}}w&&!v&&(O=t(O,1/0));var M=V.length+O.length+I.length,$=M<p?new Array(p-M+1).join(d):"";switch(w&&v&&(O=t($+O,$.length?p-I.length:1/0),$=""),h){case"<":O=V+O+I+$;break;case"=":O=V+$+O+I;break;case"^":O=$.slice(0,M=$.length>>1)+V+O+I+$.slice(M);break;default:O=$+V+O+I;break}return o(O)}return A.toString=function(){return f+""},A}function c(f,d){var h=u((f=za(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Ya(d)/3)))*3,g=Math.pow(10,-m),v=_S[8+m/3];return function(p){return h(g*p)+v}}return{format:u,formatPrefix:c}}var Yu,th,Av;sM({thousands:",",grouping:[3],currency:["$",""]});function sM(e){return Yu=aM(e),th=Yu.format,Av=Yu.formatPrefix,Yu}function lM(e){return Math.max(0,-Ya(Math.abs(e)))}function uM(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ya(t)/3)))*3-Ya(Math.abs(e)))}function cM(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ya(t)-Ya(e))+1}const gV=Object.freeze(Object.defineProperty({__proto__:null,FormatSpecifier:eh,get format(){return th},formatDefaultLocale:sM,formatLocale:aM,get formatPrefix(){return Av},formatSpecifier:za,precisionFixed:lM,precisionPrefix:uM,precisionRound:cM},Symbol.toStringTag,{value:"Module"})),vV=ii(gV);function Ni(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fv(e){let t,n,r;e.length!==2?(t=Ni,n=(s,l)=>Ni(e(s),l),r=(s,l)=>e(s)-l):(t=e===Ni||e===yV?e:wV,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function wV(){return 0}function fM(e){return e===null?NaN:+e}function*_V(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const SV=Fv(Ni),iu=SV.right;Fv(fM).center;class SS extends Map{constructor(t,n=EV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(xS(this,t))}has(t){return super.has(xS(this,t))}set(t,n){return super.set(xV(this,t),n)}delete(t){return super.delete(bV(this,t))}}function xS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function xV({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function bV({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function EV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CV(e=Ni){if(e===Ni)return dM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function dM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const TV=Math.sqrt(50),kV=Math.sqrt(10),MV=Math.sqrt(2);function Af(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=TV?10:o>=kV?5:o>=MV?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?Af(e,t,n*2):[s,l,u]}function Og(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Af(t,e,n):Af(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Pg(e,t,n){return t=+t,e=+e,n=+n,Af(e,t,n)[2]}function Ng(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Pg(t,e,n):Pg(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function bS(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function ES(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?dM:CV(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/l+d)),m=Math.min(r,Math.floor(t+(l-u)*f/l+d));hM(e,t,h,m,i)}const o=e[t];let a=n,s=r;for(Ms(e,n,t),i(e[r],o)>0&&Ms(e,n,r);a<s;){for(Ms(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Ms(e,n,s):(++s,Ms(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Ms(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function DV(e,t,n){if(e=Float64Array.from(_V(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return ES(e);if(t>=1)return bS(e);var r,i=(r-1)*t,o=Math.floor(i),a=bS(hM(e,o).subarray(0,o+1)),s=ES(e.subarray(o+1));return a+(s-a)*(i-o)}}function OV(e,t,n=fM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function PV(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Fn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function si(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Rg=Symbol("implicit");function $v(){var e=new SS,t=[],n=[],r=Rg;function i(o){let a=e.get(o);if(a===void 0){if(r!==Rg)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new SS;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $v(t,n).unknown(r)},Fn.apply(i,arguments),i}function jv(){var e=$v().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var d=t().length,h=i<r,m=h?i:r,g=h?r:i;o=(g-m)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var v=PV(d).map(function(p){return m+o*p});return n(h?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return jv(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Fn.apply(f(),arguments)}function pM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pM(t())},e}function NV(){return pM(jv.apply(null,arguments).paddingInner(1))}function ss(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ou(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zi(){}var ko=.7,Wa=1/ko,xa="\\s*([+-]?\\d+)\\s*",Il="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",RV=/^#([0-9a-f]{3,8})$/,IV=new RegExp(`^rgb\\(${xa},${xa},${xa}\\)$`),LV=new RegExp(`^rgb\\(${vr},${vr},${vr}\\)$`),AV=new RegExp(`^rgba\\(${xa},${xa},${xa},${Il}\\)$`),FV=new RegExp(`^rgba\\(${vr},${vr},${vr},${Il}\\)$`),$V=new RegExp(`^hsl\\(${Il},${vr},${vr}\\)$`),jV=new RegExp(`^hsla\\(${Il},${vr},${vr},${Il}\\)$`),CS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ss(zi,Ui,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TS,formatHex:TS,formatHex8:UV,formatHsl:HV,formatRgb:kS,toString:kS});function TS(){return this.rgb().formatHex()}function UV(){return this.rgb().formatHex8()}function HV(){return mM(this).formatHsl()}function kS(){return this.rgb().formatRgb()}function Ui(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=RV.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?MS(t):n===3?new wt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=IV.exec(e))?new wt(t[1],t[2],t[3],1):(t=LV.exec(e))?new wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AV.exec(e))?zu(t[1],t[2],t[3],t[4]):(t=FV.exec(e))?zu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$V.exec(e))?PS(t[1],t[2]/100,t[3]/100,1):(t=jV.exec(e))?PS(t[1],t[2]/100,t[3]/100,t[4]):CS.hasOwnProperty(e)?MS(CS[e]):e==="transparent"?new wt(NaN,NaN,NaN,0):null}function MS(e){return new wt(e>>16&255,e>>8&255,e&255,1)}function zu(e,t,n,r){return r<=0&&(e=t=n=NaN),new wt(e,t,n,r)}function Uv(e){return e instanceof zi||(e=Ui(e)),e?(e=e.rgb(),new wt(e.r,e.g,e.b,e.opacity)):new wt}function Ll(e,t,n,r){return arguments.length===1?Uv(e):new wt(e,t,n,r??1)}function wt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ss(wt,Ll,ou(zi,{brighter(e){return e=e==null?Wa:Math.pow(Wa,e),new wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ko:Math.pow(ko,e),new wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wt(po(this.r),po(this.g),po(this.b),Ff(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DS,formatHex:DS,formatHex8:VV,formatRgb:OS,toString:OS}));function DS(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}`}function VV(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}${oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function OS(){const e=Ff(this.opacity);return`${e===1?"rgb(":"rgba("}${po(this.r)}, ${po(this.g)}, ${po(this.b)}${e===1?")":`, ${e})`}`}function Ff(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function po(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oo(e){return e=po(e),(e<16?"0":"")+e.toString(16)}function PS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Bn(e,t,n,r)}function mM(e){if(e instanceof Bn)return new Bn(e.h,e.s,e.l,e.opacity);if(e instanceof zi||(e=Ui(e)),!e)return new Bn;if(e instanceof Bn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Bn(a,s,l,e.opacity)}function $f(e,t,n,r){return arguments.length===1?mM(e):new Bn(e,t,n,r??1)}function Bn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ss(Bn,$f,ou(zi,{brighter(e){return e=e==null?Wa:Math.pow(Wa,e),new Bn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ko:Math.pow(ko,e),new Bn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wt(Yp(e>=240?e-240:e+120,i,r),Yp(e,i,r),Yp(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Bn(NS(this.h),Wu(this.s),Wu(this.l),Ff(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ff(this.opacity);return`${e===1?"hsl(":"hsla("}${NS(this.h)}, ${Wu(this.s)*100}%, ${Wu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NS(e){return e=(e||0)%360,e<0?e+360:e}function Wu(e){return Math.max(0,Math.min(1,e||0))}function Yp(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gM=Math.PI/180,vM=180/Math.PI,jf=18,yM=.96422,wM=1,_M=.82521,SM=4/29,ba=6/29,xM=3*ba*ba,BV=ba*ba*ba;function bM(e){if(e instanceof Wn)return new Wn(e.l,e.a,e.b,e.opacity);if(e instanceof ur)return CM(e);e instanceof wt||(e=Uv(e));var t=Qp(e.r),n=Qp(e.g),r=Qp(e.b),i=zp((.2225045*t+.7168786*n+.0606169*r)/wM),o,a;return t===n&&n===r?o=a=i:(o=zp((.4360747*t+.3850649*n+.1430804*r)/yM),a=zp((.0139322*t+.0971045*n+.7141733*r)/_M)),new Wn(116*i-16,500*(o-i),200*(i-a),e.opacity)}function YV(e,t){return new Wn(e,0,0,t??1)}function Uf(e,t,n,r){return arguments.length===1?bM(e):new Wn(e,t,n,r??1)}function Wn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}ss(Wn,Uf,ou(zi,{brighter(e){return new Wn(this.l+jf*(e??1),this.a,this.b,this.opacity)},darker(e){return new Wn(this.l-jf*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=yM*Wp(t),e=wM*Wp(e),n=_M*Wp(n),new wt(qp(3.1338561*t-1.6168667*e-.4906146*n),qp(-.9787684*t+1.9161415*e+.033454*n),qp(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function zp(e){return e>BV?Math.pow(e,1/3):e/xM+SM}function Wp(e){return e>ba?e*e*e:xM*(e-SM)}function qp(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Qp(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function EM(e){if(e instanceof ur)return new ur(e.h,e.c,e.l,e.opacity);if(e instanceof Wn||(e=bM(e)),e.a===0&&e.b===0)return new ur(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*vM;return new ur(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function zV(e,t,n,r){return arguments.length===1?EM(e):new ur(n,t,e,r??1)}function Hf(e,t,n,r){return arguments.length===1?EM(e):new ur(e,t,n,r??1)}function ur(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function CM(e){if(isNaN(e.h))return new Wn(e.l,0,0,e.opacity);var t=e.h*gM;return new Wn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ss(ur,Hf,ou(zi,{brighter(e){return new ur(this.h,this.c,this.l+jf*(e??1),this.opacity)},darker(e){return new ur(this.h,this.c,this.l-jf*(e??1),this.opacity)},rgb(){return CM(this).rgb()}}));var TM=-.14861,Hv=1.78277,Vv=-.29227,nh=-.90649,Al=1.97294,RS=Al*nh,IS=Al*Hv,LS=Hv*Vv-nh*TM;function WV(e){if(e instanceof mo)return new mo(e.h,e.s,e.l,e.opacity);e instanceof wt||(e=Uv(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(LS*r+RS*t-IS*n)/(LS+RS-IS),o=r-i,a=(Al*(n-i)-Vv*o)/nh,s=Math.sqrt(a*a+o*o)/(Al*i*(1-i)),l=s?Math.atan2(a,o)*vM-120:NaN;return new mo(l<0?l+360:l,s,i,e.opacity)}function Vf(e,t,n,r){return arguments.length===1?WV(e):new mo(e,t,n,r??1)}function mo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ss(mo,Vf,ou(zi,{brighter(e){return e=e==null?Wa:Math.pow(Wa,e),new mo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ko:Math.pow(ko,e),new mo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*gM,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new wt(255*(t+n*(TM*r+Hv*i)),255*(t+n*(Vv*r+nh*i)),255*(t+n*(Al*r)),this.opacity)}}));const qV=Object.freeze(Object.defineProperty({__proto__:null,color:Ui,cubehelix:Vf,gray:YV,hcl:Hf,hsl:$f,lab:Uf,lch:zV,rgb:Ll},Symbol.toStringTag,{value:"Module"}));function kM(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function MM(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return kM((n-r/t)*t,a,i,o,s)}}function DM(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return kM((n-r/t)*t,i,o,a,s)}}const rh=e=>()=>e;function OM(e,t){return function(n){return e+n*t}}function QV(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ih(e,t){var n=t-e;return n?OM(e,n>180||n<-180?n-360*Math.round(n/360):n):rh(isNaN(e)?t:e)}function GV(e){return(e=+e)==1?_t:function(t,n){return n-t?QV(t,n,e):rh(isNaN(t)?n:t)}}function _t(e,t){var n=t-e;return n?OM(e,n):rh(isNaN(e)?t:e)}const Fl=function e(t){var n=GV(t);function r(i,o){var a=n((i=Ll(i)).r,(o=Ll(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=_t(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function PM(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Ll(t[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=e(r),i=e(i),o=e(o),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=o(l),s+""}}}var KV=PM(MM),XV=PM(DM);function Bv(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function NM(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZV(e,t){return(NM(t)?Bv:RM)(e,t)}function RM(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=$o(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function IM(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Tn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function LM(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=$o(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ig=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gp=new RegExp(Ig.source,"g");function JV(e){return function(){return e}}function eB(e){return function(t){return e(t)+""}}function Yv(e,t){var n=Ig.lastIndex=Gp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Ig.exec(e))&&(i=Gp.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Tn(r,i)})),n=Gp.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?eB(l[0].x):JV(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function $o(e,t){var n=typeof t,r;return t==null||n==="boolean"?rh(t):(n==="number"?Tn:n==="string"?(r=Ui(t))?(t=r,Fl):Yv:t instanceof Ui?Fl:t instanceof Date?IM:NM(t)?Bv:Array.isArray(t)?RM:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LM:Tn)(e,t)}function tB(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function nB(e,t){var n=ih(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function oh(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var AS=180/Math.PI,Lg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function AM(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*AS,skewX:Math.atan(l)*AS,scaleX:a,scaleY:s}}var qu;function rB(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Lg:AM(t.a,t.b,t.c,t.d,t.e,t.f)}function iB(e){return e==null||(qu||(qu=document.createElementNS("http://www.w3.org/2000/svg","g")),qu.setAttribute("transform",e),!(e=qu.transform.baseVal.consolidate()))?Lg:(e=e.matrix,AM(e.a,e.b,e.c,e.d,e.e,e.f))}function FM(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,f,d,h,m){if(u!==f||c!==d){var g=h.push("translate(",null,t,null,n);m.push({i:g-4,x:Tn(u,f)},{i:g-2,x:Tn(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function a(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Tn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Tn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,h,m){if(u!==f||c!==d){var g=h.push(i(h)+"scale(",null,",",null,")");m.push({i:g-4,x:Tn(u,f)},{i:g-2,x:Tn(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,f,d),a(u.rotate,c.rotate,f,d),s(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(h){for(var m=-1,g=d.length,v;++m<g;)f[(v=d[m]).i]=v.x(h);return f.join("")}}}var $M=FM(rB,"px, ","px)","deg)"),jM=FM(iB,", ",")",")"),oB=1e-12;function FS(e){return((e=Math.exp(e))+1/e)/2}function aB(e){return((e=Math.exp(e))-1/e)/2}function sB(e){return((e=Math.exp(2*e))-1)/(e+1)}const UM=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],f=a[1],d=a[2],h=c-s,m=f-l,g=h*h+m*m,v,p;if(g<oB)p=Math.log(d/u)/t,v=function(C){return[s+C*h,l+C*m,u*Math.exp(t*C*p)]};else{var w=Math.sqrt(g),y=(d*d-u*u+r*g)/(2*u*n*w),x=(d*d-u*u-r*g)/(2*d*n*w),E=Math.log(Math.sqrt(y*y+1)-y),b=Math.log(Math.sqrt(x*x+1)-x);p=(b-E)/t,v=function(C){var k=C*p,N=FS(E),A=u/(n*w)*(N*sB(t*k+E)-aB(E));return[s+A*h,l+A*m,u*N/FS(t*k+E)]}}return v.duration=p*1e3*t/Math.SQRT2,v}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);function HM(e){return function(t,n){var r=e((t=$f(t)).h,(n=$f(n)).h),i=_t(t.s,n.s),o=_t(t.l,n.l),a=_t(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const lB=HM(ih);var uB=HM(_t);function cB(e,t){var n=_t((e=Uf(e)).l,(t=Uf(t)).l),r=_t(e.a,t.a),i=_t(e.b,t.b),o=_t(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function VM(e){return function(t,n){var r=e((t=Hf(t)).h,(n=Hf(n)).h),i=_t(t.c,n.c),o=_t(t.l,n.l),a=_t(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const fB=VM(ih);var dB=VM(_t);function BM(e){return function t(n){n=+n;function r(i,o){var a=e((i=Vf(i)).h,(o=Vf(o)).h),s=_t(i.s,o.s),l=_t(i.l,o.l),u=_t(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=s(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}const hB=BM(ih);var pB=BM(_t);function YM(e,t){t===void 0&&(t=e,e=$o);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function mB(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const gB=Object.freeze(Object.defineProperty({__proto__:null,interpolate:$o,interpolateArray:ZV,interpolateBasis:MM,interpolateBasisClosed:DM,interpolateCubehelix:hB,interpolateCubehelixLong:pB,interpolateDate:IM,interpolateDiscrete:tB,interpolateHcl:fB,interpolateHclLong:dB,interpolateHsl:lB,interpolateHslLong:uB,interpolateHue:nB,interpolateLab:cB,interpolateNumber:Tn,interpolateNumberArray:Bv,interpolateObject:LM,interpolateRgb:Fl,interpolateRgbBasis:KV,interpolateRgbBasisClosed:XV,interpolateRound:oh,interpolateString:Yv,interpolateTransformCss:$M,interpolateTransformSvg:jM,interpolateZoom:UM,piecewise:YM,quantize:mB},Symbol.toStringTag,{value:"Module"}));function vB(e){return function(){return e}}function Bf(e){return+e}var $S=[0,1];function zt(e){return e}function Ag(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:vB(isNaN(t)?NaN:.5)}function yB(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function wB(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Ag(i,r),o=n(a,o)):(r=Ag(r,i),o=n(o,a)),function(s){return o(r(s))}}function _B(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Ag(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=iu(e,s,1,r)-1;return o[l](i[l](s))}}function au(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ah(){var e=$S,t=$S,n=$o,r,i,o,a=zt,s,l,u;function c(){var d=Math.min(e.length,t.length);return a!==zt&&(a=yB(e[0],e[d-1])),s=d>2?_B:wB,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(e.map(r),t,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(t,e.map(r),Tn)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Bf),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=oh,c()},f.clamp=function(d){return arguments.length?(a=d?!0:zt,c()):a!==zt},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function zv(){return ah()(zt,zt)}function zM(e,t,n,r){var i=Ng(e,t,n),o;switch(r=za(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=uM(i,a))&&(r.precision=o),Av(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=cM(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=lM(i))&&(r.precision=o-(r.type==="%")*2);break}}return th(r)}function Wi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Og(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return zM(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=Pg(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function WM(){var e=zv();return e.copy=function(){return au(e,WM())},Fn.apply(e,arguments),Wi(e)}function qM(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Bf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return qM(e).unknown(t)},e=arguments.length?Array.from(e,Bf):[0,1],Wi(n)}function QM(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function jS(e){return Math.log(e)}function US(e){return Math.exp(e)}function SB(e){return-Math.log(-e)}function xB(e){return-Math.exp(-e)}function bB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function EB(e){return e===10?bB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function HS(e){return(t,n)=>-e(-t,n)}function Wv(e){const t=e(jS,US),n=t.domain;let r=10,i,o;function a(){return i=CB(r),o=EB(r),n()[0]<0?(i=HS(i),o=HS(o),e(SB,xB)):e(jS,US),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),h=i(c),m,g;const v=s==null?10:+s;let p=[];if(!(r%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;p.push(g)}}else for(;d<=h;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;p.push(g)}p.length*2<v&&(p=Og(u,c,v))}else p=Og(d,h,Math.min(h-d,v)).map(o);return f?p.reverse():p},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=za(l)).precision==null&&(l.trim=!0),l=th(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(QM(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function GM(){const e=Wv(ah()).domain([1,10]);return e.copy=()=>au(e,GM()).base(e.base()),Fn.apply(e,arguments),e}function VS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qv(e){var t=1,n=e(VS(t),BS(t));return n.constant=function(r){return arguments.length?e(VS(t=+r),BS(t)):t},Wi(n)}function KM(){var e=qv(ah());return e.copy=function(){return au(e,KM()).constant(e.constant())},Fn.apply(e,arguments)}function YS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function kB(e){return e<0?-e*e:e*e}function Qv(e){var t=e(zt,zt),n=1;function r(){return n===1?e(zt,zt):n===.5?e(TB,kB):e(YS(n),YS(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Wi(t)}function Gv(){var e=Qv(ah());return e.copy=function(){return au(e,Gv()).exponent(e.exponent())},Fn.apply(e,arguments),e}function MB(){return Gv.apply(null,arguments).exponent(.5)}function zS(e){return Math.sign(e)*e*e}function DB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XM(){var e=zv(),t=[0,1],n=!1,r;function i(o){var a=DB(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(zS(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Bf)).map(zS)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return XM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Fn.apply(i,arguments),Wi(i)}function ZM(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=OV(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[iu(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ni),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return ZM().domain(e).range(t).unknown(r)},Fn.apply(o,arguments)}function JM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[iu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return JM().domain([e,t]).range(i).unknown(o)},Fn.apply(Wi(a),arguments)}function eD(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[iu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return eD().domain(e).range(t).unknown(n)},Fn.apply(i,arguments)}const Kp=new Date,Xp=new Date;function ht(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>ht(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Kp.setTime(+o),Xp.setTime(+a),e(Kp),e(Xp),Math.floor(n(Kp,Xp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Yf=ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Yf);Yf.range;const $r=1e3,Dn=$r*60,jr=Dn*60,ei=jr*24,Kv=ei*7,WS=ei*30,Zp=ei*365,ao=ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$r)},(e,t)=>(t-e)/$r,e=>e.getUTCSeconds());ao.range;const Xv=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$r)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getMinutes());Xv.range;const Zv=ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCMinutes());Zv.range;const Jv=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$r-e.getMinutes()*Dn)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getHours());Jv.range;const ey=ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getUTCHours());ey.range;const su=ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/ei,e=>e.getDate()-1);su.range;const sh=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ei,e=>e.getUTCDate()-1);sh.range;const tD=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ei,e=>Math.floor(e/ei));tD.range;function jo(e){return ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/Kv)}const lh=jo(0),zf=jo(1),OB=jo(2),PB=jo(3),qa=jo(4),NB=jo(5),RB=jo(6);lh.range;zf.range;OB.range;PB.range;qa.range;NB.range;RB.range;function Uo(e){return ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Kv)}const uh=Uo(0),Wf=Uo(1),IB=Uo(2),LB=Uo(3),Qa=Uo(4),AB=Uo(5),FB=Uo(6);uh.range;Wf.range;IB.range;LB.range;Qa.range;AB.range;FB.range;const ty=ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ty.range;const ny=ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ny.range;const ti=ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ti.range;const ni=ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ni.range;function nD(e,t,n,r,i,o){const a=[[ao,1,$r],[ao,5,5*$r],[ao,15,15*$r],[ao,30,30*$r],[o,1,Dn],[o,5,5*Dn],[o,15,15*Dn],[o,30,30*Dn],[i,1,jr],[i,3,3*jr],[i,6,6*jr],[i,12,12*jr],[r,1,ei],[r,2,2*ei],[n,1,Kv],[t,1,WS],[t,3,3*WS],[e,1,Zp]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),m=h?h.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,h=Fv(([,,v])=>v).right(a,d);if(h===a.length)return e.every(Ng(u/Zp,c/Zp,f));if(h===0)return Yf.every(Math.max(Ng(u,c,f),1));const[m,g]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return m.every(g)}return[s,l]}const[$B,jB]=nD(ni,ny,uh,tD,ey,Zv),[UB,HB]=nD(ti,ty,lh,su,Jv,Xv);function Jp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function em(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ds(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function VB(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Os(i),c=Ps(i),f=Os(o),d=Ps(o),h=Os(a),m=Ps(a),g=Os(s),v=Ps(s),p=Os(l),w=Ps(l),y={a:j,A:M,b:$,B,c:null,d:ZS,e:ZS,f:fY,g:SY,G:bY,H:lY,I:uY,j:cY,L:rD,m:dY,M:hY,p:q,q:G,Q:tx,s:nx,S:pY,u:mY,U:gY,V:vY,w:yY,W:wY,x:null,X:null,y:_Y,Y:xY,Z:EY,"%":ex},x={a:me,A:ce,b:ne,B:ge,c:null,d:JS,e:JS,f:MY,g:$Y,G:UY,H:CY,I:TY,j:kY,L:oD,m:DY,M:OY,p:z,q:re,Q:tx,s:nx,S:PY,u:NY,U:RY,V:IY,w:LY,W:AY,x:null,X:null,y:FY,Y:jY,Z:HY,"%":ex},E={a:A,A:O,b:V,B:I,c:T,d:KS,e:KS,f:iY,g:GS,G:QS,H:XS,I:XS,j:eY,L:rY,m:JB,M:tY,p:N,q:ZB,Q:aY,s:sY,S:nY,u:qB,U:QB,V:GB,w:WB,W:KB,x:P,X:D,y:GS,Y:QS,Z:XB,"%":oY};y.x=b(n,y),y.X=b(r,y),y.c=b(t,y),x.x=b(n,x),x.X=b(r,x),x.c=b(t,x);function b(L,Q){return function(de){var Y=[],le=-1,U=0,X=L.length,he,ve,Ut;for(de instanceof Date||(de=new Date(+de));++le<X;)L.charCodeAt(le)===37&&(Y.push(L.slice(U,le)),(ve=qS[he=L.charAt(++le)])!=null?he=L.charAt(++le):ve=he==="e"?" ":"0",(Ut=Q[he])&&(he=Ut(de,ve)),Y.push(he),U=le+1);return Y.push(L.slice(U,le)),Y.join("")}}function C(L,Q){return function(de){var Y=Ds(1900,void 0,1),le=k(Y,L,de+="",0),U,X;if(le!=de.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Q&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(U=em(Ds(Y.y,0,1)),X=U.getUTCDay(),U=X>4||X===0?Wf.ceil(U):Wf(U),U=sh.offset(U,(Y.V-1)*7),Y.y=U.getUTCFullYear(),Y.m=U.getUTCMonth(),Y.d=U.getUTCDate()+(Y.w+6)%7):(U=Jp(Ds(Y.y,0,1)),X=U.getDay(),U=X>4||X===0?zf.ceil(U):zf(U),U=su.offset(U,(Y.V-1)*7),Y.y=U.getFullYear(),Y.m=U.getMonth(),Y.d=U.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),X="Z"in Y?em(Ds(Y.y,0,1)).getUTCDay():Jp(Ds(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(X+5)%7:Y.w+Y.U*7-(X+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,em(Y)):Jp(Y)}}function k(L,Q,de,Y){for(var le=0,U=Q.length,X=de.length,he,ve;le<U;){if(Y>=X)return-1;if(he=Q.charCodeAt(le++),he===37){if(he=Q.charAt(le++),ve=E[he in qS?Q.charAt(le++):he],!ve||(Y=ve(L,de,Y))<0)return-1}else if(he!=de.charCodeAt(Y++))return-1}return Y}function N(L,Q,de){var Y=u.exec(Q.slice(de));return Y?(L.p=c.get(Y[0].toLowerCase()),de+Y[0].length):-1}function A(L,Q,de){var Y=h.exec(Q.slice(de));return Y?(L.w=m.get(Y[0].toLowerCase()),de+Y[0].length):-1}function O(L,Q,de){var Y=f.exec(Q.slice(de));return Y?(L.w=d.get(Y[0].toLowerCase()),de+Y[0].length):-1}function V(L,Q,de){var Y=p.exec(Q.slice(de));return Y?(L.m=w.get(Y[0].toLowerCase()),de+Y[0].length):-1}function I(L,Q,de){var Y=g.exec(Q.slice(de));return Y?(L.m=v.get(Y[0].toLowerCase()),de+Y[0].length):-1}function T(L,Q,de){return k(L,t,Q,de)}function P(L,Q,de){return k(L,n,Q,de)}function D(L,Q,de){return k(L,r,Q,de)}function j(L){return a[L.getDay()]}function M(L){return o[L.getDay()]}function $(L){return l[L.getMonth()]}function B(L){return s[L.getMonth()]}function q(L){return i[+(L.getHours()>=12)]}function G(L){return 1+~~(L.getMonth()/3)}function me(L){return a[L.getUTCDay()]}function ce(L){return o[L.getUTCDay()]}function ne(L){return l[L.getUTCMonth()]}function ge(L){return s[L.getUTCMonth()]}function z(L){return i[+(L.getUTCHours()>=12)]}function re(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var Q=b(L+="",y);return Q.toString=function(){return L},Q},parse:function(L){var Q=C(L+="",!1);return Q.toString=function(){return L},Q},utcFormat:function(L){var Q=b(L+="",x);return Q.toString=function(){return L},Q},utcParse:function(L){var Q=C(L+="",!0);return Q.toString=function(){return L},Q}}}var qS={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,BB=/^%/,YB=/[\\^$*+?|[\]().{}]/g;function Oe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function zB(e){return e.replace(YB,"\\$&")}function Os(e){return new RegExp("^(?:"+e.map(zB).join("|")+")","i")}function Ps(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function WB(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function qB(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function QB(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function GB(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function KB(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function QS(e,t,n){var r=Ct.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function GS(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function XB(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ZB(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function JB(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function KS(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function eY(e,t,n){var r=Ct.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function XS(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tY(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function nY(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function rY(e,t,n){var r=Ct.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function iY(e,t,n){var r=Ct.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function oY(e,t,n){var r=BB.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function aY(e,t,n){var r=Ct.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function sY(e,t,n){var r=Ct.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ZS(e,t){return Oe(e.getDate(),t,2)}function lY(e,t){return Oe(e.getHours(),t,2)}function uY(e,t){return Oe(e.getHours()%12||12,t,2)}function cY(e,t){return Oe(1+su.count(ti(e),e),t,3)}function rD(e,t){return Oe(e.getMilliseconds(),t,3)}function fY(e,t){return rD(e,t)+"000"}function dY(e,t){return Oe(e.getMonth()+1,t,2)}function hY(e,t){return Oe(e.getMinutes(),t,2)}function pY(e,t){return Oe(e.getSeconds(),t,2)}function mY(e){var t=e.getDay();return t===0?7:t}function gY(e,t){return Oe(lh.count(ti(e)-1,e),t,2)}function iD(e){var t=e.getDay();return t>=4||t===0?qa(e):qa.ceil(e)}function vY(e,t){return e=iD(e),Oe(qa.count(ti(e),e)+(ti(e).getDay()===4),t,2)}function yY(e){return e.getDay()}function wY(e,t){return Oe(zf.count(ti(e)-1,e),t,2)}function _Y(e,t){return Oe(e.getFullYear()%100,t,2)}function SY(e,t){return e=iD(e),Oe(e.getFullYear()%100,t,2)}function xY(e,t){return Oe(e.getFullYear()%1e4,t,4)}function bY(e,t){var n=e.getDay();return e=n>=4||n===0?qa(e):qa.ceil(e),Oe(e.getFullYear()%1e4,t,4)}function EY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oe(t/60|0,"0",2)+Oe(t%60,"0",2)}function JS(e,t){return Oe(e.getUTCDate(),t,2)}function CY(e,t){return Oe(e.getUTCHours(),t,2)}function TY(e,t){return Oe(e.getUTCHours()%12||12,t,2)}function kY(e,t){return Oe(1+sh.count(ni(e),e),t,3)}function oD(e,t){return Oe(e.getUTCMilliseconds(),t,3)}function MY(e,t){return oD(e,t)+"000"}function DY(e,t){return Oe(e.getUTCMonth()+1,t,2)}function OY(e,t){return Oe(e.getUTCMinutes(),t,2)}function PY(e,t){return Oe(e.getUTCSeconds(),t,2)}function NY(e){var t=e.getUTCDay();return t===0?7:t}function RY(e,t){return Oe(uh.count(ni(e)-1,e),t,2)}function aD(e){var t=e.getUTCDay();return t>=4||t===0?Qa(e):Qa.ceil(e)}function IY(e,t){return e=aD(e),Oe(Qa.count(ni(e),e)+(ni(e).getUTCDay()===4),t,2)}function LY(e){return e.getUTCDay()}function AY(e,t){return Oe(Wf.count(ni(e)-1,e),t,2)}function FY(e,t){return Oe(e.getUTCFullYear()%100,t,2)}function $Y(e,t){return e=aD(e),Oe(e.getUTCFullYear()%100,t,2)}function jY(e,t){return Oe(e.getUTCFullYear()%1e4,t,4)}function UY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Qa(e):Qa.ceil(e),Oe(e.getUTCFullYear()%1e4,t,4)}function HY(){return"+0000"}function ex(){return"%"}function tx(e){return+e}function nx(e){return Math.floor(+e/1e3)}var Wo,sD,lD;VY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VY(e){return Wo=VB(e),sD=Wo.format,Wo.parse,lD=Wo.utcFormat,Wo.utcParse,Wo}function BY(e){return new Date(e)}function YY(e){return e instanceof Date?+e:+new Date(+e)}function ry(e,t,n,r,i,o,a,s,l,u){var c=zv(),f=c.invert,d=c.domain,h=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),p=u("%a %d"),w=u("%b %d"),y=u("%B"),x=u("%Y");function E(b){return(l(b)<b?h:s(b)<b?m:a(b)<b?g:o(b)<b?v:r(b)<b?i(b)<b?p:w:n(b)<b?y:x)(b)}return c.invert=function(b){return new Date(f(b))},c.domain=function(b){return arguments.length?d(Array.from(b,YY)):d().map(BY)},c.ticks=function(b){var C=d();return e(C[0],C[C.length-1],b??10)},c.tickFormat=function(b,C){return C==null?E:u(C)},c.nice=function(b){var C=d();return(!b||typeof b.range!="function")&&(b=t(C[0],C[C.length-1],b??10)),b?d(QM(C,b)):c},c.copy=function(){return au(c,ry(e,t,n,r,i,o,a,s,l,u))},c}function zY(){return Fn.apply(ry(UB,HB,ti,ty,lh,su,Jv,Xv,ao,sD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WY(){return Fn.apply(ry($B,jB,ni,ny,uh,sh,ey,Zv,ao,lD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ch(){var e=0,t=1,n,r,i,o,a=zt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(d){var h,m;return arguments.length?([h,m]=d,a=f(h,m),u):[a(0),a(1)]}}return u.range=c($o),u.rangeRound=c(oh),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uD(){var e=Wi(ch()(zt));return e.copy=function(){return qi(e,uD())},si.apply(e,arguments)}function cD(){var e=Wv(ch()).domain([1,10]);return e.copy=function(){return qi(e,cD()).base(e.base())},si.apply(e,arguments)}function fD(){var e=qv(ch());return e.copy=function(){return qi(e,fD()).constant(e.constant())},si.apply(e,arguments)}function iy(){var e=Qv(ch());return e.copy=function(){return qi(e,iy()).exponent(e.exponent())},si.apply(e,arguments)}function qY(){return iy.apply(null,arguments).exponent(.5)}function dD(){var e=[],t=zt;function n(r){if(r!=null&&!isNaN(r=+r))return t((iu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ni),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>DV(e,o/r))},n.copy=function(){return dD(t).domain(e)},si.apply(n,arguments)}function fh(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=zt,c,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function m(g){return function(v){var p,w,y;return arguments.length?([p,w,y]=v,u=YM(g,[p,w,y]),h):[u(0),u(.5),u(1)]}}return h.range=m($o),h.rangeRound=m(oh),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,i=g(e),o=g(t),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function hD(){var e=Wi(fh()(zt));return e.copy=function(){return qi(e,hD())},si.apply(e,arguments)}function pD(){var e=Wv(fh()).domain([.1,1,10]);return e.copy=function(){return qi(e,pD()).base(e.base())},si.apply(e,arguments)}function mD(){var e=qv(fh());return e.copy=function(){return qi(e,mD()).constant(e.constant())},si.apply(e,arguments)}function oy(){var e=Qv(fh());return e.copy=function(){return qi(e,oy()).exponent(e.exponent())},si.apply(e,arguments)}function QY(){return oy.apply(null,arguments).exponent(.5)}const GY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jv,scaleDiverging:hD,scaleDivergingLog:pD,scaleDivergingPow:oy,scaleDivergingSqrt:QY,scaleDivergingSymlog:mD,scaleIdentity:qM,scaleImplicit:Rg,scaleLinear:WM,scaleLog:GM,scaleOrdinal:$v,scalePoint:NV,scalePow:Gv,scaleQuantile:ZM,scaleQuantize:JM,scaleRadial:XM,scaleSequential:uD,scaleSequentialLog:cD,scaleSequentialPow:iy,scaleSequentialQuantile:dD,scaleSequentialSqrt:qY,scaleSequentialSymlog:fD,scaleSqrt:MB,scaleSymlog:KM,scaleThreshold:eD,scaleTime:zY,scaleUtc:WY,tickFormat:zM},Symbol.toStringTag,{value:"Module"})),KY=ii(GY);function XY(e){return e}var Cc=1,Tc=2,Fg=3,Ws=4,rx=1e-6;function ZY(e){return"translate("+e+",0)"}function JY(e){return"translate(0,"+e+")"}function ez(e){return t=>+e(t)}function tz(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function nz(){return!this.__axis}function dh(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Cc||e===Ws?-1:1,c=e===Ws||e===Tc?"x":"y",f=e===Cc||e===Fg?ZY:JY;function d(h){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):XY),v=Math.max(o,0)+s,p=t.range(),w=+p[0]+l,y=+p[p.length-1]+l,x=(t.bandwidth?tz:ez)(t.copy(),l),E=h.selection?h.selection():h,b=E.selectAll(".domain").data([null]),C=E.selectAll(".tick").data(m,t).order(),k=C.exit(),N=C.enter().append("g").attr("class","tick"),A=C.select("line"),O=C.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(N),A=A.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),O=O.merge(N.append("text").attr("fill","currentColor").attr(c,u*v).attr("dy",e===Cc?"0em":e===Fg?"0.71em":"0.32em")),h!==E&&(b=b.transition(h),C=C.transition(h),A=A.transition(h),O=O.transition(h),k=k.transition(h).attr("opacity",rx).attr("transform",function(V){return isFinite(V=x(V))?f(V+l):this.getAttribute("transform")}),N.attr("opacity",rx).attr("transform",function(V){var I=this.parentNode.__axis;return f((I&&isFinite(I=I(V))?I:x(V))+l)})),k.remove(),b.attr("d",e===Ws||e===Tc?a?"M"+u*a+","+w+"H"+l+"V"+y+"H"+u*a:"M"+l+","+w+"V"+y:a?"M"+w+","+u*a+"V"+l+"H"+y+"V"+u*a:"M"+w+","+l+"H"+y),C.attr("opacity",1).attr("transform",function(V){return f(x(V)+l)}),A.attr(c+"2",u*o),O.attr(c,u*v).text(g),E.filter(nz).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Tc?"start":e===Ws?"end":"middle"),E.each(function(){this.__axis=x})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=a=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(l=+h,d):l},d}function rz(e){return dh(Cc,e)}function iz(e){return dh(Tc,e)}function oz(e){return dh(Fg,e)}function az(e){return dh(Ws,e)}const sz=Object.freeze(Object.defineProperty({__proto__:null,axisBottom:oz,axisLeft:az,axisRight:iz,axisTop:rz},Symbol.toStringTag,{value:"Module"})),lz=ii(sz);var uz={value:()=>{}};function ay(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new kc(n)}function kc(e){this._=e}function cz(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}kc.prototype=ay.prototype={constructor:kc,on:function(e,t){var n=this._,r=cz(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=fz(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=ix(n[i],e.name,t);else if(t==null)for(i in n)n[i]=ix(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new kc(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function fz(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function ix(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=uz,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var $g="http://www.w3.org/1999/xhtml";const jg={svg:"http://www.w3.org/2000/svg",xhtml:$g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),jg.hasOwnProperty(t)?{space:jg[t],local:e}:e}function dz(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===$g&&t.documentElement.namespaceURI===$g?t.createElement(e):t.createElementNS(n,e)}}function hz(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hh(e){var t=lu(e);return(t.local?hz:dz)(t)}function pz(){}function ph(e){return e==null?pz:function(){return this.querySelector(e)}}function mz(e){typeof e!="function"&&(e=ph(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=e.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new qt(r,this._parents)}function gD(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function gz(){return[]}function sy(e){return e==null?gz:function(){return this.querySelectorAll(e)}}function vz(e){return function(){return gD(e.apply(this,arguments))}}function yz(e){typeof e=="function"?e=vz(e):e=sy(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),i.push(l));return new qt(r,i)}function ly(e){return function(){return this.matches(e)}}function vD(e){return function(t){return t.matches(e)}}var wz=Array.prototype.find;function _z(e){return function(){return wz.call(this.children,e)}}function Sz(){return this.firstElementChild}function xz(e){return this.select(e==null?Sz:_z(typeof e=="function"?e:vD(e)))}var bz=Array.prototype.filter;function Ez(){return Array.from(this.children)}function Cz(e){return function(){return bz.call(this.children,e)}}function Tz(e){return this.selectAll(e==null?Ez:Cz(typeof e=="function"?e:vD(e)))}function kz(e){typeof e!="function"&&(e=ly(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new qt(r,this._parents)}function yD(e){return new Array(e.length)}function Mz(){return new qt(this._enter||this._groups.map(yD),this._parents)}function qf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}qf.prototype={constructor:qf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Dz(e){return function(){return e}}function Oz(e,t,n,r,i,o){for(var a=0,s,l=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new qf(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function Pz(e,t,n,r,i,o,a){var s,l,u=new Map,c=t.length,f=o.length,d=new Array(c),h;for(s=0;s<c;++s)(l=t[s])&&(d[s]=h=a.call(l,l.__data__,s,t)+"",u.has(h)?i[s]=l:u.set(h,l));for(s=0;s<f;++s)h=a.call(e,o[s],s,o)+"",(l=u.get(h))?(r[s]=l,l.__data__=o[s],u.delete(h)):n[s]=new qf(e,o[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(d[s])===l&&(i[s]=l)}function Nz(e){return e.__data__}function Rz(e,t){if(!arguments.length)return Array.from(this,Nz);var n=t?Pz:Oz,r=this._parents,i=this._groups;typeof e!="function"&&(e=Dz(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],f=i[u],d=f.length,h=Iz(e.call(c,c&&c.__data__,u,r)),m=h.length,g=s[u]=new Array(m),v=a[u]=new Array(m),p=l[u]=new Array(d);n(c,f,g,v,p,h,t);for(var w=0,y=0,x,E;w<m;++w)if(x=g[w]){for(w>=y&&(y=w+1);!(E=v[y])&&++y<m;);x._next=E||null}}return a=new qt(a,r),a._enter=s,a._exit=l,a}function Iz(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Lz(){return new qt(this._exit||this._groups.map(yD),this._parents)}function Az(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Fz(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],f=u.length,d=s[l]=new Array(f),h,m=0;m<f;++m)(h=u[m]||c[m])&&(d[m]=h);for(;l<i;++l)s[l]=n[l];return new qt(s,this._parents)}function $z(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function jz(e){e||(e=Uz);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(t)}return new qt(i,this._parents).order()}function Uz(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Hz(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Vz(){return Array.from(this)}function Bz(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Yz(){let e=0;for(const t of this)++e;return e}function zz(){return!this.node()}function Wz(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function qz(e){return function(){this.removeAttribute(e)}}function Qz(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gz(e,t){return function(){this.setAttribute(e,t)}}function Kz(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Xz(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Zz(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Jz(e,t){var n=lu(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Qz:qz:typeof t=="function"?n.local?Zz:Xz:n.local?Kz:Gz)(n,t))}function uy(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function e7(e){return function(){this.style.removeProperty(e)}}function t7(e,t,n){return function(){this.style.setProperty(e,t,n)}}function n7(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function r7(e,t,n){return arguments.length>1?this.each((t==null?e7:typeof t=="function"?n7:t7)(e,t,n??"")):Mo(this.node(),e)}function Mo(e,t){return e.style.getPropertyValue(t)||uy(e).getComputedStyle(e,null).getPropertyValue(t)}function i7(e){return function(){delete this[e]}}function o7(e,t){return function(){this[e]=t}}function a7(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function s7(e,t){return arguments.length>1?this.each((t==null?i7:typeof t=="function"?a7:o7)(e,t)):this.node()[e]}function wD(e){return e.trim().split(/^|\s+/)}function cy(e){return e.classList||new _D(e)}function _D(e){this._node=e,this._names=wD(e.getAttribute("class")||"")}_D.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function SD(e,t){for(var n=cy(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function xD(e,t){for(var n=cy(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function l7(e){return function(){SD(this,e)}}function u7(e){return function(){xD(this,e)}}function c7(e,t){return function(){(t.apply(this,arguments)?SD:xD)(this,e)}}function f7(e,t){var n=wD(e+"");if(arguments.length<2){for(var r=cy(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?c7:t?l7:u7)(n,t))}function d7(){this.textContent=""}function h7(e){return function(){this.textContent=e}}function p7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function m7(e){return arguments.length?this.each(e==null?d7:(typeof e=="function"?p7:h7)(e)):this.node().textContent}function g7(){this.innerHTML=""}function v7(e){return function(){this.innerHTML=e}}function y7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function w7(e){return arguments.length?this.each(e==null?g7:(typeof e=="function"?y7:v7)(e)):this.node().innerHTML}function _7(){this.nextSibling&&this.parentNode.appendChild(this)}function S7(){return this.each(_7)}function x7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function b7(){return this.each(x7)}function E7(e){var t=typeof e=="function"?e:hh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function C7(){return null}function T7(e,t){var n=typeof e=="function"?e:hh(e),r=t==null?C7:typeof t=="function"?t:ph(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function k7(){var e=this.parentNode;e&&e.removeChild(this)}function M7(){return this.each(k7)}function D7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function O7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function P7(e){return this.select(e?O7:D7)}function N7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function R7(e){return function(t){e.call(this,t,this.__data__)}}function I7(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function L7(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function A7(e,t,n){return function(){var r=this.__on,i,o=R7(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function F7(e,t,n){var r=I7(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?A7:L7,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function bD(e,t,n){var r=uy(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function $7(e,t){return function(){return bD(this,e,t)}}function j7(e,t){return function(){return bD(this,e,t.apply(this,arguments))}}function U7(e,t){return this.each((typeof t=="function"?j7:$7)(e,t))}function*H7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var fy=[null];function qt(e,t){this._groups=e,this._parents=t}function ls(){return new qt([[document.documentElement]],fy)}function V7(){return this}qt.prototype=ls.prototype={constructor:qt,select:mz,selectAll:yz,selectChild:xz,selectChildren:Tz,filter:kz,data:Rz,enter:Mz,exit:Lz,join:Az,merge:Fz,selection:V7,order:$z,sort:jz,call:Hz,nodes:Vz,node:Bz,size:Yz,empty:zz,each:Wz,attr:Jz,style:r7,property:s7,classed:f7,text:m7,html:w7,raise:S7,lower:b7,append:E7,insert:T7,remove:M7,clone:P7,datum:N7,on:F7,dispatch:U7,[Symbol.iterator]:H7};function Lr(e){return typeof e=="string"?new qt([[document.querySelector(e)]],[document.documentElement]):new qt([[e]],fy)}function B7(e){return Lr(hh(e).call(document.documentElement))}var Y7=0;function ED(){return new Ug}function Ug(){this._="@"+(++Y7).toString(36)}Ug.prototype=ED.prototype={constructor:Ug,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function CD(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pr(e,t){if(e=CD(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function z7(e,t){return e.target&&(e=CD(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>Pr(n,t))}function W7(e){return typeof e=="string"?new qt([document.querySelectorAll(e)],[document.documentElement]):new qt([gD(e)],fy)}const q7=Object.freeze(Object.defineProperty({__proto__:null,create:B7,creator:hh,local:ED,matcher:ly,namespace:lu,namespaces:jg,pointer:Pr,pointers:z7,select:Lr,selectAll:W7,selection:ls,selector:ph,selectorAll:sy,style:Mo,window:uy},Symbol.toStringTag,{value:"Module"})),Hg={capture:!0,passive:!1};function Vg(e){e.preventDefault(),e.stopImmediatePropagation()}function Q7(e){var t=e.document.documentElement,n=Lr(e).on("dragstart.drag",Vg,Hg);"onselectstart"in t?n.on("selectstart.drag",Vg,Hg):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function G7(e,t){var n=e.document.documentElement,r=Lr(e).on("dragstart.drag",null);t&&(r.on("click.drag",Vg,Hg),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ga=0,qs=0,Ns=0,TD=1e3,Qf,Qs,Gf=0,Do=0,mh=0,$l=typeof performance=="object"&&performance.now?performance:Date,kD=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function dy(){return Do||(kD(K7),Do=$l.now()+mh)}function K7(){Do=0}function Kf(){this._call=this._time=this._next=null}Kf.prototype=MD.prototype={constructor:Kf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?dy():+n)+(t==null?0:+t),!this._next&&Qs!==this&&(Qs?Qs._next=this:Qf=this,Qs=this),this._call=e,this._time=n,Bg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bg())}};function MD(e,t,n){var r=new Kf;return r.restart(e,t,n),r}function X7(){dy(),++Ga;for(var e=Qf,t;e;)(t=Do-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ga}function ox(){Do=(Gf=$l.now())+mh,Ga=qs=0;try{X7()}finally{Ga=0,J7(),Do=0}}function Z7(){var e=$l.now(),t=e-Gf;t>TD&&(mh-=t,Gf=e)}function J7(){for(var e,t=Qf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Qf=n);Qs=e,Bg(r)}function Bg(e){if(!Ga){qs&&(qs=clearTimeout(qs));var t=e-Do;t>24?(e<1/0&&(qs=setTimeout(ox,e-$l.now()-mh)),Ns&&(Ns=clearInterval(Ns))):(Ns||(Gf=$l.now(),Ns=setInterval(Z7,TD)),Ga=1,kD(ox))}}function ax(e,t,n){var r=new Kf;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var e9=ay("start","end","cancel","interrupt"),t9=[],DD=0,sx=1,Yg=2,Mc=3,lx=4,zg=5,Dc=6;function gh(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;n9(e,n,{name:t,index:r,group:i,on:e9,tween:t9,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:DD})}function hy(e,t){var n=Gn(e,t);if(n.state>DD)throw new Error("too late; already scheduled");return n}function br(e,t){var n=Gn(e,t);if(n.state>Mc)throw new Error("too late; already running");return n}function Gn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function n9(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=MD(o,0,n.time);function o(u){n.state=sx,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,f,d,h;if(n.state!==sx)return l();for(c in r)if(h=r[c],h.name===n.name){if(h.state===Mc)return ax(a);h.state===lx?(h.state=Dc,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=Dc,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(ax(function(){n.state===Mc&&(n.state=lx,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Yg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Yg){for(n.state=Mc,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=zg,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===zg&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Dc,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Oc(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Yg&&r.state<zg,r.state=Dc,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function r9(e){return this.each(function(){Oc(this,e)})}function i9(e,t){var n,r;return function(){var i=br(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function o9(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=br(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function a9(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Gn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?i9:o9)(n,e,t))}function py(e,t,n){var r=e._id;return e.each(function(){var i=br(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Gn(i,r).value[t]}}function OD(e,t){var n;return(typeof t=="number"?Tn:t instanceof Ui?Fl:(n=Ui(t))?(t=n,Fl):Yv)(e,t)}function s9(e){return function(){this.removeAttribute(e)}}function l9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function u9(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function c9(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function f9(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function d9(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function h9(e,t){var n=lu(e),r=n==="transform"?jM:OD;return this.attrTween(e,typeof t=="function"?(n.local?d9:f9)(n,r,py(this,"attr."+e,t)):t==null?(n.local?l9:s9)(n):(n.local?c9:u9)(n,r,t))}function p9(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function m9(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function g9(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&m9(e,o)),n}return i._value=t,i}function v9(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&p9(e,o)),n}return i._value=t,i}function y9(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=lu(e);return this.tween(n,(r.local?g9:v9)(r,t))}function w9(e,t){return function(){hy(this,e).delay=+t.apply(this,arguments)}}function _9(e,t){return t=+t,function(){hy(this,e).delay=t}}function S9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?w9:_9)(t,e)):Gn(this.node(),t).delay}function x9(e,t){return function(){br(this,e).duration=+t.apply(this,arguments)}}function b9(e,t){return t=+t,function(){br(this,e).duration=t}}function E9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?x9:b9)(t,e)):Gn(this.node(),t).duration}function C9(e,t){if(typeof t!="function")throw new Error;return function(){br(this,e).ease=t}}function T9(e){var t=this._id;return arguments.length?this.each(C9(t,e)):Gn(this.node(),t).ease}function k9(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;br(this,e).ease=n}}function M9(e){if(typeof e!="function")throw new Error;return this.each(k9(this._id,e))}function D9(e){typeof e!="function"&&(e=ly(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new ri(r,this._parents,this._name,this._id)}function O9(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],u=n[s],c=l.length,f=a[s]=new Array(c),d,h=0;h<c;++h)(d=l[h]||u[h])&&(f[h]=d);for(;s<r;++s)a[s]=t[s];return new ri(a,this._parents,this._name,this._id)}function P9(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function N9(e,t,n){var r,i,o=P9(t)?hy:br;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function R9(e,t){var n=this._id;return arguments.length<2?Gn(this.node(),n).on.on(e):this.each(N9(n,e,t))}function I9(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function L9(){return this.on("end.remove",I9(this._id))}function A9(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ph(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,f,d=0;d<l;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,gh(u[d],t,n,d,u,Gn(c,n)));return new ri(o,this._parents,t,n)}function F9(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sy(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=e.call(c,c.__data__,f,l),h,m=Gn(c,n),g=0,v=d.length;g<v;++g)(h=d[g])&&gh(h,t,n,g,d,m);o.push(d),a.push(c)}return new ri(o,a,t,n)}var $9=ls.prototype.constructor;function j9(){return new $9(this._groups,this._parents)}function U9(e,t){var n,r,i;return function(){var o=Mo(this,e),a=(this.style.removeProperty(e),Mo(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function PD(e){return function(){this.style.removeProperty(e)}}function H9(e,t,n){var r,i=n+"",o;return function(){var a=Mo(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function V9(e,t,n){var r,i,o;return function(){var a=Mo(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Mo(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function B9(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=br(this,e),u=l.on,c=l.value[o]==null?s||(s=PD(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function Y9(e,t,n){var r=(e+="")=="transform"?$M:OD;return t==null?this.styleTween(e,U9(e,r)).on("end.style."+e,PD(e)):typeof t=="function"?this.styleTween(e,V9(e,r,py(this,"style."+e,t))).each(B9(this._id,e)):this.styleTween(e,H9(e,r,t),n).on("end.style."+e,null)}function z9(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function W9(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&z9(e,a,n)),r}return o._value=t,o}function q9(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,W9(e,t,n??""))}function Q9(e){return function(){this.textContent=e}}function G9(e){return function(){var t=e(this);this.textContent=t??""}}function K9(e){return this.tween("text",typeof e=="function"?G9(py(this,"text",e)):Q9(e==null?"":e+""))}function X9(e){return function(t){this.textContent=e.call(this,t)}}function Z9(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&X9(i)),t}return r._value=e,r}function J9(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Z9(e))}function eW(){for(var e=this._name,t=this._id,n=ND(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=Gn(l,t);gh(l,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ri(r,this._parents,e,n)}function tW(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=br(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&o()})}var nW=0;function ri(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ND(){return++nW}var Tr=ls.prototype;ri.prototype={constructor:ri,select:A9,selectAll:F9,selectChild:Tr.selectChild,selectChildren:Tr.selectChildren,filter:D9,merge:O9,selection:j9,transition:eW,call:Tr.call,nodes:Tr.nodes,node:Tr.node,size:Tr.size,empty:Tr.empty,each:Tr.each,on:R9,attr:h9,attrTween:y9,style:Y9,styleTween:q9,text:K9,textTween:J9,remove:L9,tween:a9,delay:S9,duration:E9,ease:T9,easeVarying:M9,end:tW,[Symbol.iterator]:Tr[Symbol.iterator]};function rW(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var iW={time:null,delay:0,duration:250,ease:rW};function oW(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function aW(e){var t,n;e instanceof ri?(t=e._id,e=e._name):(t=ND(),(n=iW).time=dy(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&gh(l,e,t,u,a,n||oW(l,t));return new ri(r,this._parents,e,t)}ls.prototype.interrupt=r9;ls.prototype.transition=aW;const Qu=e=>()=>e;function sW(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function cr(e,t,n){this.k=e,this.x=t,this.y=n}cr.prototype={constructor:cr,scale:function(e){return e===1?this:new cr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new cr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vh=new cr(1,0,0);RD.prototype=cr.prototype;function RD(e){for(;!e.__zoom;)if(!(e=e.parentNode))return vh;return e.__zoom}function tm(e){e.stopImmediatePropagation()}function Rs(e){e.preventDefault(),e.stopImmediatePropagation()}function lW(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function uW(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ux(){return this.__zoom||vh}function cW(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function fW(){return navigator.maxTouchPoints||"ontouchstart"in this}function dW(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function hW(){var e=lW,t=uW,n=dW,r=cW,i=fW,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=UM,u=ay("start","zoom","end"),c,f,d,h=500,m=150,g=0,v=10;function p(T){T.property("__zoom",ux).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(T,P,D,j){var M=T.selection?T.selection():T;M.property("__zoom",ux),T!==M?E(T,P,D,j):M.interrupt().each(function(){b(this,arguments).event(j).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},p.scaleBy=function(T,P,D,j){p.scaleTo(T,function(){var M=this.__zoom.k,$=typeof P=="function"?P.apply(this,arguments):P;return M*$},D,j)},p.scaleTo=function(T,P,D,j){p.transform(T,function(){var M=t.apply(this,arguments),$=this.__zoom,B=D==null?x(M):typeof D=="function"?D.apply(this,arguments):D,q=$.invert(B),G=typeof P=="function"?P.apply(this,arguments):P;return n(y(w($,G),B,q),M,a)},D,j)},p.translateBy=function(T,P,D,j){p.transform(T,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),a)},null,j)},p.translateTo=function(T,P,D,j,M){p.transform(T,function(){var $=t.apply(this,arguments),B=this.__zoom,q=j==null?x($):typeof j=="function"?j.apply(this,arguments):j;return n(vh.translate(q[0],q[1]).scale(B.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof D=="function"?-D.apply(this,arguments):-D),$,a)},j,M)};function w(T,P){return P=Math.max(o[0],Math.min(o[1],P)),P===T.k?T:new cr(P,T.x,T.y)}function y(T,P,D){var j=P[0]-D[0]*T.k,M=P[1]-D[1]*T.k;return j===T.x&&M===T.y?T:new cr(T.k,j,M)}function x(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function E(T,P,D,j){T.on("start.zoom",function(){b(this,arguments).event(j).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(j).end()}).tween("zoom",function(){var M=this,$=arguments,B=b(M,$).event(j),q=t.apply(M,$),G=D==null?x(q):typeof D=="function"?D.apply(M,$):D,me=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),ce=M.__zoom,ne=typeof P=="function"?P.apply(M,$):P,ge=l(ce.invert(G).concat(me/ce.k),ne.invert(G).concat(me/ne.k));return function(z){if(z===1)z=ne;else{var re=ge(z),L=me/re[2];z=new cr(L,G[0]-re[0]*L,G[1]-re[1]*L)}B.zoom(null,z)}})}function b(T,P,D){return!D&&T.__zooming||new C(T,P)}function C(T,P){this.that=T,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(T,P),this.taps=0}C.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,P){return this.mouse&&T!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var P=Lr(this.that).datum();u.call(T,this.that,new sW(T,{sourceEvent:this.sourceEvent,target:p,type:T,transform:this.that.__zoom,dispatch:u}),P)}};function k(T,...P){if(!e.apply(this,arguments))return;var D=b(this,P).event(T),j=this.__zoom,M=Math.max(o[0],Math.min(o[1],j.k*Math.pow(2,r.apply(this,arguments)))),$=Pr(T);if(D.wheel)(D.mouse[0][0]!==$[0]||D.mouse[0][1]!==$[1])&&(D.mouse[1]=j.invert(D.mouse[0]=$)),clearTimeout(D.wheel);else{if(j.k===M)return;D.mouse=[$,j.invert($)],Oc(this),D.start()}Rs(T),D.wheel=setTimeout(B,m),D.zoom("mouse",n(y(w(j,M),D.mouse[0],D.mouse[1]),D.extent,a));function B(){D.wheel=null,D.end()}}function N(T,...P){if(d||!e.apply(this,arguments))return;var D=T.currentTarget,j=b(this,P,!0).event(T),M=Lr(T.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",me,!0),$=Pr(T,D),B=T.clientX,q=T.clientY;Q7(T.view),tm(T),j.mouse=[$,this.__zoom.invert($)],Oc(this),j.start();function G(ce){if(Rs(ce),!j.moved){var ne=ce.clientX-B,ge=ce.clientY-q;j.moved=ne*ne+ge*ge>g}j.event(ce).zoom("mouse",n(y(j.that.__zoom,j.mouse[0]=Pr(ce,D),j.mouse[1]),j.extent,a))}function me(ce){M.on("mousemove.zoom mouseup.zoom",null),G7(ce.view,j.moved),Rs(ce),j.event(ce).end()}}function A(T,...P){if(e.apply(this,arguments)){var D=this.__zoom,j=Pr(T.changedTouches?T.changedTouches[0]:T,this),M=D.invert(j),$=D.k*(T.shiftKey?.5:2),B=n(y(w(D,$),j,M),t.apply(this,P),a);Rs(T),s>0?Lr(this).transition().duration(s).call(E,B,j,T):Lr(this).call(p.transform,B,j,T)}}function O(T,...P){if(e.apply(this,arguments)){var D=T.touches,j=D.length,M=b(this,P,T.changedTouches.length===j).event(T),$,B,q,G;for(tm(T),B=0;B<j;++B)q=D[B],G=Pr(q,this),G=[G,this.__zoom.invert(G),q.identifier],M.touch0?!M.touch1&&M.touch0[2]!==G[2]&&(M.touch1=G,M.taps=0):(M.touch0=G,$=!0,M.taps=1+!!c);c&&(c=clearTimeout(c)),$&&(M.taps<2&&(f=G[0],c=setTimeout(function(){c=null},h)),Oc(this),M.start())}}function V(T,...P){if(this.__zooming){var D=b(this,P).event(T),j=T.changedTouches,M=j.length,$,B,q,G;for(Rs(T),$=0;$<M;++$)B=j[$],q=Pr(B,this),D.touch0&&D.touch0[2]===B.identifier?D.touch0[0]=q:D.touch1&&D.touch1[2]===B.identifier&&(D.touch1[0]=q);if(B=D.that.__zoom,D.touch1){var me=D.touch0[0],ce=D.touch0[1],ne=D.touch1[0],ge=D.touch1[1],z=(z=ne[0]-me[0])*z+(z=ne[1]-me[1])*z,re=(re=ge[0]-ce[0])*re+(re=ge[1]-ce[1])*re;B=w(B,Math.sqrt(z/re)),q=[(me[0]+ne[0])/2,(me[1]+ne[1])/2],G=[(ce[0]+ge[0])/2,(ce[1]+ge[1])/2]}else if(D.touch0)q=D.touch0[0],G=D.touch0[1];else return;D.zoom("touch",n(y(B,q,G),D.extent,a))}}function I(T,...P){if(this.__zooming){var D=b(this,P).event(T),j=T.changedTouches,M=j.length,$,B;for(tm(T),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),$=0;$<M;++$)B=j[$],D.touch0&&D.touch0[2]===B.identifier?delete D.touch0:D.touch1&&D.touch1[2]===B.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(B=Pr(B,this),Math.hypot(f[0]-B[0],f[1]-B[1])<v)){var q=Lr(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return p.wheelDelta=function(T){return arguments.length?(r=typeof T=="function"?T:Qu(+T),p):r},p.filter=function(T){return arguments.length?(e=typeof T=="function"?T:Qu(!!T),p):e},p.touchable=function(T){return arguments.length?(i=typeof T=="function"?T:Qu(!!T),p):i},p.extent=function(T){return arguments.length?(t=typeof T=="function"?T:Qu([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),p):t},p.scaleExtent=function(T){return arguments.length?(o[0]=+T[0],o[1]=+T[1],p):[o[0],o[1]]},p.translateExtent=function(T){return arguments.length?(a[0][0]=+T[0][0],a[1][0]=+T[1][0],a[0][1]=+T[0][1],a[1][1]=+T[1][1],p):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},p.constrain=function(T){return arguments.length?(n=T,p):n},p.duration=function(T){return arguments.length?(s=+T,p):s},p.interpolate=function(T){return arguments.length?(l=T,p):l},p.on=function(){var T=u.on.apply(u,arguments);return T===u?p:T},p.clickDistance=function(T){return arguments.length?(g=(T=+T)*T,p):Math.sqrt(g)},p.tapDistance=function(T){return arguments.length?(v=+T,p):v},p}const pW=Object.freeze(Object.defineProperty({__proto__:null,ZoomTransform:cr,zoom:hW,zoomIdentity:vh,zoomTransform:RD},Symbol.toStringTag,{value:"Module"})),mW=ii(pW),Er=ii(q7),gW=ii(gB);var my={exports:{}},Ea=typeof Reflect=="object"?Reflect:null,cx=Ea&&typeof Ea.apply=="function"?Ea.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Pc;Ea&&typeof Ea.ownKeys=="function"?Pc=Ea.ownKeys:Object.getOwnPropertySymbols?Pc=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Pc=function(t){return Object.getOwnPropertyNames(t)};function vW(e){console&&console.warn&&console.warn(e)}var ID=Number.isNaN||function(t){return t!==t};function Ue(){Ue.init.call(this)}my.exports=Ue;my.exports.once=SW;Ue.EventEmitter=Ue;Ue.prototype._events=void 0;Ue.prototype._eventsCount=0;Ue.prototype._maxListeners=void 0;var fx=10;function yh(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ue,"defaultMaxListeners",{enumerable:!0,get:function(){return fx},set:function(e){if(typeof e!="number"||e<0||ID(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");fx=e}});Ue.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ue.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ID(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function LD(e){return e._maxListeners===void 0?Ue.defaultMaxListeners:e._maxListeners}Ue.prototype.getMaxListeners=function(){return LD(this)};Ue.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")cx(l,this,n);else for(var u=l.length,c=UD(l,u),r=0;r<u;++r)cx(c[r],this,n);return!0};function AD(e,t,n,r){var i,o,a;if(yh(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),a===void 0)a=o[t]=n,++e._eventsCount;else if(typeof a=="function"?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=LD(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,vW(s)}return e}Ue.prototype.addListener=function(t,n){return AD(this,t,n,!1)};Ue.prototype.on=Ue.prototype.addListener;Ue.prototype.prependListener=function(t,n){return AD(this,t,n,!0)};function yW(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function FD(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=yW.bind(r);return i.listener=n,r.wrapFn=i,i}Ue.prototype.once=function(t,n){return yh(n),this.on(t,FD(this,t,n)),this};Ue.prototype.prependOnceListener=function(t,n){return yh(n),this.prependListener(t,FD(this,t,n)),this};Ue.prototype.removeListener=function(t,n){var r,i,o,a,s;if(yh(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){s=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():wW(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||n)}return this};Ue.prototype.off=Ue.prototype.removeListener;Ue.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function $D(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?_W(i):UD(i,i.length)}Ue.prototype.listeners=function(t){return $D(this,t,!0)};Ue.prototype.rawListeners=function(t){return $D(this,t,!1)};Ue.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):jD.call(e,t)};Ue.prototype.listenerCount=jD;function jD(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Ue.prototype.eventNames=function(){return this._eventsCount>0?Pc(this._events):[]};function UD(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function wW(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function _W(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function SW(e,t){return new Promise(function(n,r){function i(a){e.removeListener(t,o),r(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}HD(e,t,o,{once:!0}),t!=="error"&&xW(e,i,{once:!0})})}function xW(e,t,n){typeof e.on=="function"&&HD(e,"error",t,n)}function HD(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var bW=my.exports,gy={};Object.defineProperty(gy,"__esModule",{value:!0});const EW=Jd,CW=Er;function TW(e){const t=e.owner.meta.xScale,n=e.owner.meta.yScale,r=(0,EW.line)().x(function(i){return i[0]}).y(function(i){return i[1]});return function(i){i.each(function(){const a=(0,CW.select)(this).selectAll("g.annotations").data(function(m){return m.annotations||[]}),s=a.enter().append("g").attr("class","annotations"),l=n.range(),u=t.range(),c=a.merge(s).selectAll("path").data(function(m){return"x"in m?[[[0,l[0]],[0,l[1]]]]:[[[u[0],0],[u[1],0]]]}),f=c.enter().append("path");c.merge(f).attr("stroke","#eee").attr("d",r),c.exit().remove();const d=a.merge(s).selectAll("text").data(function(m){return[{text:m.text||"",hasX:"x"in m}]}),h=d.enter().append("text");d.merge(h).text(function(m){return m.text}).attr("y",function(m){return m.hasX?3:0}).attr("x",function(m){return m.hasX?0:3}).attr("dy",function(m){return m.hasX?5:-5}).attr("text-anchor",function(m){return m.hasX?"end":""}).attr("transform",function(m){return m.hasX?"rotate(-90)":""}),d.exit().remove(),a.merge(s).attr("transform",function(m){return"x"in m?"translate("+t(m.x)+", 0)":"translate(0, "+n(m.y)+")"}),a.exit().remove()})}}gy.default=TW;var vy={},Kn={},li={};const yy=ii(qV);Object.defineProperty(li,"__esModule",{value:!0});li.registerGraphType=void 0;const kW=yy,jl={COLORS:["steelblue","red","#05b378","orange","#4040e8","yellow","brown","magenta","cyan"].map(function(e){return(0,kW.hsl)(e)}),DEFAULT_WIDTH:550,DEFAULT_HEIGHT:350,DEFAULT_ITERATIONS:null,TIP_X_EPS:1,MAX_ITERATIONS:0,graphTypes:{}};jl.MAX_ITERATIONS=jl.DEFAULT_WIDTH*10;function MW(e,t){if(Object.hasOwn(jl.graphTypes,e))throw new Error(`registerGraphType: graphType ${e} is already registered.`);jl.graphTypes[e]=t}li.registerGraphType=MW;li.default=jl;var DW=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kn,"__esModule",{value:!0});const dx=DW(li),OW={linspace:function(e,t,n){const r=(t-e)/(n-1);return Array.from({length:n},(i,o)=>e+r*o)},logspace:function(e,t,n){return this.linspace(e,t,n).map(r=>Math.pow(10,r))},isValidNumber:function(e){return typeof e=="number"&&!isNaN(e)},space:function(e,t,n){const r=t[0],i=t[1];return e.type==="log"?this.logspace(Math.log10(r),Math.log10(i),n):this.linspace(r,i,n)},getterSetter:function(e,t){const n=this;this[t]=function(r){return arguments.length?(e[t]=r,n):e[t]}},sgn:function(e){return e<0?-1:e>0?1:0},clamp:function(e,t,n){return e<t?t:e>n?n:e},color:function(e,t){const n=t%dx.default.COLORS.length;return e.color||dx.default.COLORS[n].hex()},infinity:function(){return 9007199254740991}};Kn.default=OW;var An={},wy={exports:{}},Ho={},VD={EOF:0,DELIMITER:1,NUMBER:2,STRING:3,SYMBOL:4},Gi=VD,PW={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},NW={",":!0,"(":!0,")":!0,"[":!0,"]":!0,";":!0,"~":!0,"!":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0,"^":!0,"**":!0,"|":!0,"&":!0,"^|":!0,"=":!0,":":!0,"?":!0,"||":!0,"&&":!0,xor:!0,"==":!0,"!=":!0,"===":!0,"!==":!0,"<":!0,">":!0,">=":!0,"<=":!0,">>>":!0,"<<":!0,">>":!0};function Ir(e){return e>="0"&&e<="9"}function BD(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"}function RW(e){return e===" "||e==="\r"||e==="	"||e===`
`||e==="\v"||e===""}function nm(e){return NW[e]}function IW(e){return e==="'"||e==='"'}function Qi(){}Qi.prototype.throwError=function(e,t){t=typeof t>"u"?this.index:t;var n=new Error(e+" at index "+t);throw n.index=t,n.description=e,n};Qi.prototype.lex=function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){for(;RW(this.peek());)this.consume();var t=this.peek(),n=t+this.peek(1),r=n+this.peek(2);nm(r)?(this.tokens.push({type:Gi.DELIMITER,value:r}),this.consume(),this.consume(),this.consume()):nm(n)?(this.tokens.push({type:Gi.DELIMITER,value:n}),this.consume(),this.consume()):nm(t)?(this.tokens.push({type:Gi.DELIMITER,value:t}),this.consume()):Ir(t)||t==="."&&Ir(this.peek(1))?this.tokens.push({type:Gi.NUMBER,value:this.readNumber()}):IW(t)?this.tokens.push({type:Gi.STRING,value:this.readString()}):BD(t)?this.tokens.push({type:Gi.SYMBOL,value:this.readIdentifier()}):this.throwError("unexpected character "+t)}return this.tokens.push({type:Gi.EOF}),this.tokens};Qi.prototype.peek=function(e){if(e=e||0,!(this.index+e>=this.text.length))return this.text.charAt(this.index+e)};Qi.prototype.consume=function(){var e=this.peek();return this.index+=1,e};Qi.prototype.readNumber=function(){var e="";if(this.peek()===".")e+=this.consume(),Ir(this.peek())||this.throwError("number expected");else{for(;Ir(this.peek());)e+=this.consume();this.peek()==="."&&(e+=this.consume())}for(;Ir(this.peek());)e+=this.consume();if(this.peek()==="e"||this.peek()==="E")for(e+=this.consume(),Ir(this.peek())||this.peek()==="+"||this.peek()==="-"||this.throwError(),(this.peek()==="+"||this.peek()==="-")&&(e+=this.consume()),Ir(this.peek())||this.throwError("number expected");Ir(this.peek());)e+=this.consume();return e};Qi.prototype.readIdentifier=function(){for(var e="";BD(this.peek())||Ir(this.peek());)e+=this.consume();return e};Qi.prototype.readString=function(){for(var e=this.consume(),t="",n;;){var r=this.consume();if(r||this.throwError("string is not closed"),n){if(r==="u"){var i=this.text.substring(this.index+1,this.index+5);i.match(/[\da-f]{4}/i)||this.throwError("invalid unicode escape"),this.index+=4,t+=String.fromCharCode(parseInt(i,16))}else{var o=PW[r];o?t+=o:t+=r}n=!1}else{if(r===e)break;r==="\\"?n=!0:t+=r}}return t};var YD=Qi;function zD(){}zD.prototype.type="Node";var Cr=zD,LW=Cr,AW={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};function _y(e,t){if(!AW[t])throw Error("unsupported type '"+t+"'");this.value=e,this.valueType=t}_y.prototype=Object.create(LW.prototype);_y.prototype.type="ConstantNode";var WD=_y,FW=Cr;function Sy(e,t){this.op=e,this.args=t||[]}Sy.prototype=Object.create(FW.prototype);Sy.prototype.type="OperatorNode";var qD=Sy,$W=Cr;function xy(e,t){this.op=e,this.argument=t}xy.prototype=Object.create($W.prototype);xy.prototype.type="UnaryNode";var QD=xy,jW=Cr;function by(e){this.name=e}by.prototype=Object.create(jW.prototype);by.prototype.type="SymbolNode";var GD=by,UW=Cr;function Ey(e,t){this.name=e,this.args=t}Ey.prototype=Object.create(UW.prototype);Ey.prototype.type="FunctionNode";var KD=Ey,HW=Cr;function Cy(e){this.nodes=e}Cy.prototype=Object.create(HW.prototype);Cy.prototype.type="ArrayNode";var XD=Cy,VW=Cr;function Ty(e,t,n){this.condition=e,this.trueExpr=t,this.falseExpr=n}Ty.prototype=Object.create(VW.prototype);Ty.prototype.type="ConditionalNode";var ZD=Ty,BW=Cr;function ky(e,t){this.name=e,this.expr=t}ky.prototype=Object.create(BW.prototype);ky.prototype.type="AssignmentNode";var JD=ky,YW=Cr;function My(e){this.blocks=e}My.prototype=Object.create(YW.prototype);My.prototype.type="BlockNode";var e2=My,Oo=VD,zW=YD,Dy=WD,hn=qD,WW=QD,t2=GD,qW=KD,QW=XD,GW=ZD,KW=JD,XW=e2;function Ie(){this.lexer=new zW,this.tokens=null}Ie.prototype.current=function(){return this.tokens[0]};Ie.prototype.next=function(){return this.tokens[1]};Ie.prototype.peek=function(){if(this.tokens.length){for(var e=this.tokens[0],t=0;t<arguments.length;t+=1)if(e.value===arguments[t])return!0}};Ie.prototype.consume=function(e){return this.tokens.shift()};Ie.prototype.expect=function(e){if(!this.peek(e))throw Error("expected "+e);return this.consume()};Ie.prototype.isEOF=function(){return this.current().type===Oo.EOF};Ie.prototype.parse=function(e){return this.tokens=this.lexer.lex(e),this.program()};Ie.prototype.program=function(){for(var e=[];!this.isEOF();)e.push(this.assignment()),this.peek(";")&&this.consume();return this.end(),new XW(e)};Ie.prototype.assignment=function(){var e=this.ternary();return e instanceof t2&&this.peek("=")?(this.consume(),new KW(e.name,this.assignment())):e};Ie.prototype.ternary=function(){var e=this.logicalOR();if(this.peek("?")){this.consume();var t=this.ternary();this.expect(":");var n=this.ternary();return new GW(e,t,n)}return e};Ie.prototype.logicalOR=function(){var e=this.logicalXOR();if(this.peek("||")){var t=this.consume(),n=this.logicalOR();return new hn(t.value,[e,n])}return e};Ie.prototype.logicalXOR=function(){var e=this.logicalAND();if(this.current().value==="xor"){var t=this.consume(),n=this.logicalXOR();return new hn(t.value,[e,n])}return e};Ie.prototype.logicalAND=function(){var e=this.bitwiseOR();if(this.peek("&&")){var t=this.consume(),n=this.logicalAND();return new hn(t.value,[e,n])}return e};Ie.prototype.bitwiseOR=function(){var e=this.bitwiseXOR();if(this.peek("|")){var t=this.consume(),n=this.bitwiseOR();return new hn(t.value,[e,n])}return e};Ie.prototype.bitwiseXOR=function(){var e=this.bitwiseAND();if(this.peek("^|")){var t=this.consume(),n=this.bitwiseXOR();return new hn(t.value,[e,n])}return e};Ie.prototype.bitwiseAND=function(){var e=this.relational();if(this.peek("&")){var t=this.consume(),n=this.bitwiseAND();return new hn(t.value,[e,n])}return e};Ie.prototype.relational=function(){var e=this.shift();if(this.peek("==","===","!=","!==",">=","<=",">","<")){var t=this.consume(),n=this.shift();return new hn(t.value,[e,n])}return e};Ie.prototype.shift=function(){var e=this.additive();if(this.peek(">>","<<",">>>")){var t=this.consume(),n=this.shift();return new hn(t.value,[e,n])}return e};Ie.prototype.additive=function(){for(var e=this.multiplicative();this.peek("+","-");){var t=this.consume();e=new hn(t.value,[e,this.multiplicative()])}return e};Ie.prototype.multiplicative=function(){for(var e,t,n=this.unary();this.peek("*","/","%");)e=this.consume(),n=new hn(e.value,[n,this.unary()]);return this.current().type===Oo.SYMBOL||this.peek("(")||!(n.type instanceof Dy)&&this.current().type===Oo.NUMBER?(t=this.multiplicative(),new hn("*",[n,t])):n};Ie.prototype.unary=function(){if(this.peek("-","+","~")){var e=this.consume(),t=this.unary();return new WW(e.value,t)}return this.pow()};Ie.prototype.pow=function(){var e=this.factorial();if(this.peek("^","**")){var t=this.consume(),n=this.unary();return new hn(t.value,[e,n])}return e};Ie.prototype.factorial=function(){var e=this.symbol();if(this.peek("!")){var t=this.consume();return new hn(t.value,[e])}return e};Ie.prototype.symbol=function(){var e=this.current();if(e.type===Oo.SYMBOL){var t=this.consume(),n=this.functionCall(t);return n}return this.string()};Ie.prototype.functionCall=function(e){var t=e.value;if(this.peek("(")){this.consume();for(var n=[];!this.peek(")")&&!this.isEOF();)n.push(this.assignment()),this.peek(",")&&this.consume();return this.expect(")"),new qW(t,n)}return new t2(t)};Ie.prototype.string=function(){return this.current().type===Oo.STRING?new Dy(this.consume().value,"string"):this.array()};Ie.prototype.array=function(){if(this.peek("[")){this.consume();for(var e=[];!this.peek("]")&&!this.isEOF();)e.push(this.assignment()),this.peek(",")&&this.consume();return this.expect("]"),new QW(e)}return this.number()};Ie.prototype.number=function(){var e=this.current();return e.type===Oo.NUMBER?new Dy(this.consume().value,"number"):this.parentheses()};Ie.prototype.parentheses=function(){var e=this.current();if(e.value==="("){this.consume();var t=this.assignment();return this.expect(")"),t}return this.end()};Ie.prototype.end=function(){var e=this.current();if(e.type!==Oo.EOF)throw Error("unexpected end of expression")};var ZW=Ie,JW={ArrayNode:XD,AssignmentNode:JD,BlockNode:e2,ConditionalNode:ZD,ConstantNode:WD,FunctionNode:KD,Node:Cr,OperatorNode:qD,SymbolNode:GD,UnaryNode:QD};Ho.Lexer=YD;Ho.Parser=ZW;Ho.nodeTypes=JW;var Nc=Object.prototype.hasOwnProperty,n2=Object.prototype.toString,hx=Object.defineProperty,px=Object.getOwnPropertyDescriptor,mx=function(t){return typeof Array.isArray=="function"?Array.isArray(t):n2.call(t)==="[object Array]"},gx=function(t){if(!t||n2.call(t)!=="[object Object]")return!1;var n=Nc.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Nc.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Nc.call(t,i)},vx=function(t,n){hx&&n.name==="__proto__"?hx(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},yx=function(t,n){if(n==="__proto__")if(Nc.call(t,n)){if(px)return px(t,n).value}else return;return t[n]},wh=function e(){var t,n,r,i,o,a,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=yx(s,n),i=yx(t,n),s!==i&&(c&&i&&(gx(i)||(o=mx(i)))?(o?(o=!1,a=r&&mx(r)?r:[]):a=r&&gx(r)?r:{},vx(s,{name:n,newValue:e(c,a,i)})):typeof i<"u"&&vx(s,{name:n,newValue:i}));return s},eq=function(e){var t=this,n=[];this.rawify(this.options.rawArrayExpressionElements,function(){n=e.nodes.map(function(i){return t.next(i)})});var r="["+n.join(",")+"]";return this.options.raw?r:this.options.factory+"("+r+")"},tq=function(e){return'scope["'+e.name+'"] = '+this.next(e.expr)},nq=function(e){var t="!!("+this.next(e.condition)+")",n=this.next(e.trueExpr),r=this.next(e.falseExpr);return"("+t+" ? ("+n+") : ("+r+") )"},rq=function(e){return this.options.raw?e.value:this.options.factory+"("+e.value+")"},Oy={exports:{}},iq=Ho.nodeTypes.SymbolNode,r2=function(e){return"$$mathCodegen.functionProxy("+this.next(new iq(e.name))+', "'+e.name+'")'};Oy.exports=function(e){var t=this,n=r2.call(this,e),r=[];return this.rawify(this.options.rawCallExpressionElements,function(){r=e.args.map(function(i){return t.next(i)})}),n+"("+r.join(", ")+")"};Oy.exports.functionProxy=r2;var oq=Oy.exports,aq={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},sq=aq,lq=function(e){if(this.options.raw)return["("+this.next(e.args[0]),e.op,this.next(e.args[1])+")"].join(" ");var t=sq[e.op];if(!t)throw TypeError("unidentified operator");return this.FunctionNode({name:t,args:e.args})},uq=function(e){var t=e.name;return'$$mathCodegen.getProperty("'+t+'", scope, ns)'},cq={"+":"positive","-":"negative","~":"oneComplement"},wx=cq,fq=function(e){if(this.options.raw)return e.op+this.next(e.argument);if(!(e.op in wx))throw new SyntaxError(e.op+" not implemented");var t=wx[e.op];return this.FunctionNode({name:t,args:[e.argument]})},i2=wh,dq={ArrayNode:eq,AssignmentNode:tq,ConditionalNode:nq,ConstantNode:rq,FunctionNode:oq,OperatorNode:lq,SymbolNode:uq,UnaryNode:fq},_h=function(e,t){this.owner=e,this.options=i2({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1},t)};i2(_h.prototype,dq);_h.prototype.next=function(e){if(!(e.type in this))throw new TypeError("the node type "+e.type+" is not implemented");return this[e.type](e)};_h.prototype.rawify=function(e,t){var n=this.options.raw;e&&(this.options.raw=!0),t(),e&&(this.options.raw=n)};var hq=_h,pq=Ho.Parser,mq=hq,gq=wh;function Sh(e,t){this.statements=[],this.defs=t||{},this.interpreter=new mq(this,e)}Sh.prototype.setDefs=function(e){return this.defs=gq(this.defs,e),this};Sh.prototype.compile=function(e){if(!e||!(typeof e=="object"||typeof e=="function"))throw TypeError("namespace must be an object");if(typeof e.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=e,this.defs.$$mathCodegen={getProperty:function(o,a,s){if(o in a)return a[o];if(o in s)return s[o];throw SyntaxError('symbol "'+o+'" is undefined')},functionProxy:function(o,a){if(typeof o!="function")throw SyntaxError('symbol "'+a+'" must be a function');return o}},this.defs.$$processScope=this.defs.$$processScope||function(){};var t=Object.keys(this.defs).map(function(o){return"var "+o+' = defs["'+o+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var n=this.statements.join(";"),r=t.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+n,"  },","  code: '"+n+"'","}"].join(`
`),i=new Function("defs",r);return i(this.defs)};Sh.prototype.parse=function(e){var t=this,n=new pq().parse(e);return this.statements=n.blocks.map(function(r){return t.interpreter.next(r)}),this};var vq=Sh,yq=vq,wq=function(){var e=Object.create(Math);return e.factory=function(t){if(typeof t!="number")throw new TypeError("built-in math factory only accepts numbers");return Number(t)},e.add=function(t,n){return t+n},e.sub=function(t,n){return t-n},e.mul=function(t,n){return t*n},e.div=function(t,n){return t/n},e.mod=function(t,n){return t%n},e.factorial=function(t){for(var n=1,r=2;r<=t;r+=1)n*=r;return n},e.nthRoot=function(t,n){var r=n<0;if(r&&(n=-n),n===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(n)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return 0;if(!isFinite(t))return r?0:t;var i=Math.pow(Math.abs(t),1/n);return i=t<0?-i:i,r?1/i:i},e.logicalOR=function(t,n){return t||n},e.logicalXOR=function(t,n){return t!=n},e.logicalAND=function(t,n){return t&&n},e.bitwiseOR=function(t,n){return t|n},e.bitwiseXOR=function(t,n){return t^n},e.bitwiseAND=function(t,n){return t&n},e.lessThan=function(t,n){return t<n},e.lessEqualThan=function(t,n){return t<=n},e.greaterThan=function(t,n){return t>n},e.greaterEqualThan=function(t,n){return t>=n},e.equal=function(t,n){return t==n},e.strictlyEqual=function(t,n){return t===n},e.notEqual=function(t,n){return t!=n},e.strictlyNotEqual=function(t,n){return t!==n},e.shiftRight=function(t,n){return t>>n},e.shiftLeft=function(t,n){return t<<n},e.unsignedRightShift=function(t,n){return t>>>n},e.negative=function(t){return-t},e.positive=function(t){return t},e},_q=yq,Py=wq();function Sq(e){Object.keys(e).forEach(function(t){var n=e[t];e[t]=Py.factory(n)})}wy.exports=function(e){return new _q().setDefs({$$processScope:Sq}).parse(e).compile(Py)};wy.exports.math=Py;var xq=wy.exports,bq=xq,xh={exports:{}},Eq=function(e){var t=this,n=[];this.rawify(this.options.rawArrayExpressionElements,function(){n=e.nodes.map(function(i){return t.next(i)})});var r="["+n.join(",")+"]";return this.options.raw?r:this.options.factory+"("+r+")"},Cq=function(e){return'scope["'+e.name+'"] = '+this.next(e.expr)},Tq=function(e){var t="!!("+this.next(e.condition)+")",n=this.next(e.trueExpr),r=this.next(e.falseExpr);return"("+t+" ? ("+n+") : ("+r+") )"},kq=function(e){return this.options.raw?e.value:this.options.factory+"("+e.value+")"},Ny={exports:{}},Mq=Ho.nodeTypes.SymbolNode,o2=function(e){return"$$mathCodegen.functionProxy("+this.next(new Mq(e.name))+', "'+e.name+'")'};Ny.exports=function(e){var t=this,n=o2.call(this,e),r=[];return this.rawify(this.options.rawCallExpressionElements,function(){r=e.args.map(function(i){return t.next(i)})}),n+"("+r.join(", ")+")"};Ny.exports.functionProxy=o2;var Dq=Ny.exports,Oq={"+":"add","-":"sub","*":"mul","/":"div","^":"pow","%":"mod","!":"factorial","|":"bitwiseOR","^|":"bitwiseXOR","&":"bitwiseAND","||":"logicalOR",xor:"logicalXOR","&&":"logicalAND","<":"lessThan",">":"greaterThan","<=":"lessEqualThan",">=":"greaterEqualThan","===":"strictlyEqual","==":"equal","!==":"strictlyNotEqual","!=":"notEqual",">>":"shiftRight","<<":"shiftLeft",">>>":"unsignedRightShift"},Pq=Oq,Nq=function(e){if(this.options.raw)return["("+this.next(e.args[0]),e.op,this.next(e.args[1])+")"].join(" ");var t=Pq[e.op];if(!t)throw TypeError("unidentified operator");return this.FunctionNode({name:t,args:e.args})},Rq=function(e){var t=e.name;return'$$mathCodegen.getProperty("'+t+'", scope, ns)'},Iq={"+":"positive","-":"negative","~":"oneComplement"},_x=Iq,Lq=function(e){if(this.options.raw)return e.op+this.next(e.argument);if(!(e.op in _x))throw new SyntaxError(e.op+" not implemented");var t=_x[e.op];return this.FunctionNode({name:t,args:[e.argument]})},a2=wh,Aq={ArrayNode:Eq,AssignmentNode:Cq,ConditionalNode:Tq,ConstantNode:kq,FunctionNode:Dq,OperatorNode:Nq,SymbolNode:Rq,UnaryNode:Lq},bh=function(e,t){this.owner=e,this.options=a2({factory:"ns.factory",raw:!1,rawArrayExpressionElements:!0,rawCallExpressionElements:!1,applyFactoryToScope:!1},t)};a2(bh.prototype,Aq);bh.prototype.next=function(e){if(!(e.type in this))throw new TypeError("the node type "+e.type+" is not implemented");return this[e.type](e)};bh.prototype.rawify=function(e,t){var n=this.options.raw;e&&(this.options.raw=!0),t(),e&&(this.options.raw=n)};var Fq=bh,$q=Ho.Parser,jq=Fq,Uq=wh;function Eh(e,t){this.statements=[],this.defs=t||{},this.interpreter=new jq(this,e)}Eh.prototype.setDefs=function(e){return this.defs=Uq(this.defs,e),this};Eh.prototype.compile=function(e){var t=this;if(!e||!(typeof e=="object"||typeof e=="function"))throw TypeError("namespace must be an object");if(typeof e.factory!="function")throw TypeError("namespace.factory must be a function");this.defs.ns=e,this.defs.$$mathCodegen={getProperty:function(a,s,l){function u(c){return t.interpreter.options.applyFactoryToScope&&typeof c!="function"?l.factory(c):c}if(a in s)return u(s[a]);if(a in l)return u(l[a]);throw SyntaxError('symbol "'+a+'" is undefined')},functionProxy:function(a,s){if(typeof a!="function")throw SyntaxError('symbol "'+s+'" must be a function');return a}},this.defs.$$processScope=this.defs.$$processScope||function(){};var n=Object.keys(this.defs).map(function(a){return"var "+a+' = defs["'+a+'"]'});if(!this.statements.length)throw Error("there are no statements saved in this generator, make sure you parse an expression before compiling it");this.statements[this.statements.length-1]="return "+this.statements[this.statements.length-1];var r=this.statements.join(";"),i=n.join(`
`)+`
`+["return {","  eval: function (scope) {","    scope = scope || {}","    $$processScope(scope)","    "+r,"  },","  code: '"+r+"'","}"].join(`
`),o=new Function("defs",i);return o(this.defs)};Eh.prototype.parse=function(e){var t=this,n=new $q().parse(e);return this.statements=n.blocks.map(function(r){return t.interpreter.next(r)}),this};var Hq=Eh,Vq=Hq;function Xf(e){return typeof e=="object"&&typeof e.lo=="number"&&typeof e.hi=="number"}function se(e){return e.lo>e.hi}function Ch(e){return e.lo===-1/0&&e.hi===1/0}function Ka(e){return e.lo===e.hi}function us(e){return Ry(e,0)}function Ry(e,t){return se(e)?!1:e.lo<=t&&t<=e.hi}function s2(e,t){return se(e)?!0:!se(t)&&t.lo<=e.lo&&e.hi<=t.hi}function Th(e,t){return se(e)||se(t)?!1:e.lo<=t.lo&&t.lo<=e.hi||t.lo<=e.lo&&e.lo<=t.hi}const Bq=Object.freeze(Object.defineProperty({__proto__:null,hasInterval:s2,hasValue:Ry,intervalsOverlap:Th,isEmpty:se,isInterval:Xf,isSingleton:Ka,isWhole:Ch,zeroIn:us},Symbol.toStringTag,{value:"Module"}));var Iy={exports:{}};Iy.exports;(function(e){var t=!1;if(typeof Float64Array<"u"){var n=new Float64Array(1),r=new Uint32Array(n.buffer);if(n[0]=1,t=!0,r[1]===1072693248){let o=function(l,u){return r[0]=l,r[1]=u,n[0]},a=function(l){return n[0]=l,r[0]},s=function(l){return n[0]=l,r[1]};e.exports=function(u){return n[0]=u,[r[0],r[1]]},e.exports.pack=o,e.exports.lo=a,e.exports.hi=s}else if(r[0]===1072693248){let o=function(l,u){return r[1]=l,r[0]=u,n[0]},a=function(l){return n[0]=l,r[1]},s=function(l){return n[0]=l,r[0]};e.exports=function(u){return n[0]=u,[r[1],r[0]]},e.exports.pack=o,e.exports.lo=a,e.exports.hi=s}else t=!1}if(!t){let o=function(l,u){return i.writeUInt32LE(l,0,!0),i.writeUInt32LE(u,4,!0),i.readDoubleLE(0,!0)},a=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(0,!0)},s=function(l){return i.writeDoubleLE(l,0,!0),i.readUInt32LE(4,!0)};var i=new Buffer(8);e.exports=function(u){return i.writeDoubleLE(u,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},e.exports.pack=o,e.exports.lo=a,e.exports.hi=s}e.exports.sign=function(o){return e.exports.hi(o)>>>31},e.exports.exponent=function(o){var a=e.exports.hi(o);return(a<<1>>>21)-1023},e.exports.fraction=function(o){var a=e.exports.lo(o),s=e.exports.hi(o),l=s&(1<<20)-1;return s&2146435072&&(l+=1<<20),[a,l]},e.exports.denormalized=function(o){var a=e.exports.hi(o);return!(a&2146435072)}})(Iy);var Yq=Iy.exports,rm=Yq,Sx=Math.pow(2,-1074),xx=-1>>>0,zq=Wq;function Wq(e,t){if(isNaN(e)||isNaN(t))return NaN;if(e===t)return e;if(e===0)return t<0?-Sx:Sx;var n=rm.hi(e),r=rm.lo(e);return t>e==e>0?r===xx?(n+=1,r=0):r+=1:r===0?(r=xx,n-=1):r-=1,rm.pack(r,n)}const l2=No(zq);function qq(e){return e}function Wg(e){return e===1/0?e:l2(e,-1/0)}function qg(e){return e===-1/0?e:l2(e,1/0)}function bx(e){return e<0?Math.ceil(e):Math.floor(e)}const qo={prev:Wg,next:qg},H={safePrev:Wg,safeNext:qg,prev(e){return qo.prev(e)},next(e){return qo.next(e)},addLo(e,t){return H.prev(e+t)},addHi(e,t){return H.next(e+t)},subLo(e,t){return H.prev(e-t)},subHi(e,t){return H.next(e-t)},mulLo(e,t){return H.prev(e*t)},mulHi(e,t){return H.next(e*t)},divLo(e,t){return H.prev(e/t)},divHi(e,t){return H.next(e/t)},intLo(e){return bx(H.prev(e))},intHi(e){return bx(H.next(e))},logLo(e){return H.prev(Math.log(e))},logHi(e){return H.next(Math.log(e))},expLo(e){return H.prev(Math.exp(e))},expHi(e){return H.next(Math.exp(e))},sinLo(e){return H.prev(Math.sin(e))},sinHi(e){return H.next(Math.sin(e))},cosLo(e){return H.prev(Math.cos(e))},cosHi(e){return H.next(Math.cos(e))},tanLo(e){return H.prev(Math.tan(e))},tanHi(e){return H.next(Math.tan(e))},asinLo(e){return H.prev(Math.asin(e))},asinHi(e){return H.next(Math.asin(e))},acosLo(e){return H.prev(Math.acos(e))},acosHi(e){return H.next(Math.acos(e))},atanLo(e){return H.prev(Math.atan(e))},atanHi(e){return H.next(Math.atan(e))},sinhLo(e){return H.prev(Math.sinh(e))},sinhHi(e){return H.next(Math.sinh(e))},coshLo(e){return H.prev(Math.cosh(e))},coshHi(e){return H.next(Math.cosh(e))},tanhLo(e){return H.prev(Math.tanh(e))},tanhHi(e){return H.next(Math.tanh(e))},powLo(e,t){if(t%1!==0)return H.prev(Math.pow(e,t));let n=(t&1)===1?e:1;for(t>>=1;t>0;)e=H.mulLo(e,e),(t&1)===1&&(n=H.mulLo(e,n)),t>>=1;return n},powHi(e,t){if(t%1!==0)return H.next(Math.pow(e,t));let n=(t&1)===1?e:1;for(t>>=1;t>0;)e=H.mulHi(e,e),(t&1)===1&&(n=H.mulHi(e,n)),t>>=1;return n},sqrtLo(e){return H.prev(Math.sqrt(e))},sqrtHi(e){return H.next(Math.sqrt(e))},disable(){qo.next=qo.prev=qq},enable(){qo.next=qg,qo.prev=Wg}};class Ul{constructor(t,n){if(this.lo=0,this.hi=0,!(this instanceof Ul))return console.log("calling with new"),console.log(t,n),new Ul(t,n);if(typeof t<"u"&&typeof n<"u"){if(Xf(t)){if(!Ka(t))throw new TypeError("Interval: interval `lo` must be a singleton");t=t.lo}if(Xf(n)){if(!Ka(n))throw TypeError("Interval: interval `hi` must be a singleton");n=n.hi}}else{if(typeof t<"u")return Array.isArray(t)?new ee(t[0],t[1]):new ee(t,t);t=n=0}this.assign(t,n)}singleton(t){return this.set(t,t)}bounded(t,n){return this.set(H.prev(t),H.next(n))}boundedSingleton(t){return this.bounded(t,t)}set(t,n){return this.lo=t,this.hi=n,this}assign(t,n){if(typeof t!="number"||typeof n!="number")throw TypeError("Interval#assign: arguments must be numbers");return isNaN(t)||isNaN(n)||t>n?this.setEmpty():this.set(t,n)}setEmpty(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)}setWhole(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)}open(t,n){return this.assign(H.safeNext(t),H.safePrev(n))}halfOpenLeft(t,n){return this.assign(H.safeNext(t),n)}halfOpenRight(t,n){return this.assign(t,H.safePrev(n))}toArray(){return[this.lo,this.hi]}clone(){return new ee().set(this.lo,this.hi)}}function Qq(e){function t(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return new(Function.prototype.bind.apply(e,[null].concat(r)))}return t.prototype=e.prototype,t}const ee=Qq(Ul);ee.factory=ee;const Gu=(3373259426+273688/(1<<21))/(1<<30),Ku=(3373259426+273689/(1<<21))/(1<<30),te={PI_LOW:Gu,PI_HIGH:Ku,PI_HALF_LOW:Gu/2,PI_HALF_HIGH:Ku/2,PI_TWICE_LOW:Gu*2,PI_TWICE_HIGH:Ku*2,get E(){return new ee(H.prev(Math.E),H.next(Math.E))},get PI(){return new ee(Gu,Ku)},get PI_HALF(){return new ee(te.PI_HALF_LOW,te.PI_HALF_HIGH)},get PI_TWICE(){return new ee(te.PI_TWICE_LOW,te.PI_TWICE_HIGH)},get ZERO(){return new ee(0)},get ONE(){return new ee(1)},get WHOLE(){return new ee().setWhole()},get EMPTY(){return new ee().setEmpty()}};function u2(e,t){return se(e)?se(t):!se(t)&&e.lo===t.lo&&e.hi===t.hi}const Gq=1e-7;function Zf(e,t){if(!e)throw new Error(t||"assertion failed")}function Ex(e,t){if(!isFinite(e))return Zf(e===t,`[Infinity] expected ${e} to be ${t}`);Zf(Math.abs(e-t)<Gq,`expected ${e} to be close to ${t}`)}function Ly(e,t){e=Array.isArray(e)?e:e.toArray(),t=Array.isArray(t)?t:t.toArray(),Ex(e[0],t[0]),Ex(e[1],t[1])}function c2(e,t){Ly(e,t),e=Array.isArray(e)?e:e.toArray(),t=Array.isArray(t)?t:t.toArray(),Zf(e[0]<=t[0],`${e[0]} should be less/equal than ${t[0]}`),Zf(t[1]<=e[1],`${t[1]} should be less/equal than ${e[1]}`)}function f2(e,t){return se(e)?!se(t):se(t)||e.hi<t.lo||e.lo>t.hi}function Ay(e,t){return se(e)||se(t)?!1:e.hi<t.lo}const d2=Ay;function Fy(e,t){return se(e)||se(t)?!1:e.lo>t.hi}const h2=Fy;function $y(e,t){return se(e)||se(t)?!1:e.hi<=t.lo}const p2=$y;function jy(e,t){return se(e)||se(t)?!1:e.lo>=t.hi}const m2=jy,Kq=Object.freeze(Object.defineProperty({__proto__:null,almostEqual:Ly,assertIncludes:c2,equal:u2,geq:m2,greaterEqualThan:jy,greaterThan:Fy,gt:h2,leq:p2,lessEqualThan:$y,lessThan:Ay,lt:d2,notEqual:f2},Symbol.toStringTag,{value:"Module"}));function Xq(e,t){const n=e.lo,r=e.hi,i=t.lo,o=t.hi,a=new ee;return r<0?o<0?(a.lo=H.divLo(r,i),a.hi=H.divHi(n,o)):(a.lo=H.divLo(n,i),a.hi=H.divHi(r,o)):n<0?o<0?(a.lo=H.divLo(r,o),a.hi=H.divHi(n,o)):(a.lo=H.divLo(n,i),a.hi=H.divHi(r,i)):o<0?(a.lo=H.divLo(r,o),a.hi=H.divHi(n,i)):(a.lo=H.divLo(n,o),a.hi=H.divHi(r,i)),a}function Zq(e,t){return e.lo===0&&e.hi===0?e:us(e)?te.WHOLE:e.hi<0?new ee(Number.NEGATIVE_INFINITY,H.divHi(e.hi,t)):new ee(H.divLo(e.lo,t),Number.POSITIVE_INFINITY)}function Jq(e,t){return e.lo===0&&e.hi===0?e:us(e)?te.WHOLE:e.hi<0?new ee(H.divLo(e.hi,t),Number.POSITIVE_INFINITY):new ee(Number.NEGATIVE_INFINITY,H.divHi(e.lo,t))}function eQ(e){return e.lo===0&&e.hi===0?e:te.WHOLE}function g2(e,t){return new ee(H.addLo(e.lo,t.lo),H.addHi(e.hi,t.hi))}function Uy(e,t){return new ee(H.subLo(e.lo,t.hi),H.subHi(e.hi,t.lo))}const cs=Uy;function Hy(e,t){if(se(e)||se(t))return te.EMPTY;const n=e.lo,r=e.hi,i=t.lo,o=t.hi,a=new ee;return n<0?r>0?i<0?o>0?(a.lo=Math.min(H.mulLo(n,o),H.mulLo(r,i)),a.hi=Math.max(H.mulHi(n,i),H.mulHi(r,o))):(a.lo=H.mulLo(r,i),a.hi=H.mulHi(n,i)):o>0?(a.lo=H.mulLo(n,o),a.hi=H.mulHi(r,o)):(a.lo=0,a.hi=0):i<0?o>0?(a.lo=H.mulLo(n,o),a.hi=H.mulHi(n,i)):(a.lo=H.mulLo(r,o),a.hi=H.mulHi(n,i)):o>0?(a.lo=H.mulLo(n,o),a.hi=H.mulHi(r,i)):(a.lo=0,a.hi=0):r>0?i<0?o>0?(a.lo=H.mulLo(r,i),a.hi=H.mulHi(r,o)):(a.lo=H.mulLo(r,i),a.hi=H.mulHi(n,o)):o>0?(a.lo=H.mulLo(n,i),a.hi=H.mulHi(r,o)):(a.lo=0,a.hi=0):(a.lo=0,a.hi=0),a}const Vy=Hy;function By(e,t){return se(e)||se(t)?te.EMPTY:us(t)?t.lo!==0?t.hi!==0?eQ(e):Jq(e,t.lo):t.hi!==0?Zq(e,t.hi):te.EMPTY:Xq(e,t)}const kh=By;function v2(e){return new ee(e.lo,e.hi)}function Mh(e){return new ee(-e.hi,-e.lo)}const tQ=Object.freeze(Object.defineProperty({__proto__:null,add:g2,div:kh,divide:By,mul:Vy,multiply:Hy,negative:Mh,positive:v2,sub:cs,subtract:Uy},Symbol.toStringTag,{value:"Module"}));function Dh(e,t){if(se(e)||se(t))return te.EMPTY;const n=e.lo<0?t.lo:t.hi;let r=e.lo/n;return r<0?r=Math.ceil(r):r=Math.floor(r),cs(e,Vy(t,new ee(r)))}function Yy(e){return se(e)?te.EMPTY:us(e)?e.lo!==0?e.hi!==0?te.WHOLE:new ee(Number.NEGATIVE_INFINITY,H.divHi(1,e.lo)):e.hi!==0?new ee(H.divLo(1,e.hi),Number.POSITIVE_INFINITY):te.EMPTY:new ee(H.divLo(1,e.hi),H.divHi(1,e.lo))}function zy(e,t){if(se(e))return te.EMPTY;if(typeof t=="object"){if(!Ka(t))return te.EMPTY;t=t.lo}if(t===0)return e.lo===0&&e.hi===0?te.EMPTY:te.ONE;if(t<0)return zy(Yy(e),-t);if(Number.isSafeInteger(t))if(e.hi<0){const n=H.powLo(-e.hi,t),r=H.powHi(-e.lo,t);return(t&1)===1?new ee(-r,-n):new ee(n,r)}else return e.lo<0?(t&1)===1?new ee(-H.powLo(-e.lo,t),H.powHi(e.hi,t)):new ee(0,H.powHi(Math.max(-e.lo,e.hi),t)):new ee(H.powLo(e.lo,t),H.powHi(e.hi,t));else return console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),te.EMPTY}function y2(e){return Wy(e,2)}function Wy(e,t){if(se(e)||t<0)return te.EMPTY;if(typeof t=="object"){if(!Ka(t))return te.EMPTY;t=t.lo}const n=1/t;if(e.hi<0){if(Number.isSafeInteger(t)&&(t&1)===1){const r=H.powHi(-e.lo,n),i=H.powLo(-e.hi,n);return new ee(-r,-i)}return te.EMPTY}else if(e.lo<0){const r=H.powHi(e.hi,n);if(Number.isSafeInteger(t)&&(t&1)===1){const i=-H.powHi(-e.lo,n);return new ee(i,r)}return new ee(0,r)}else return new ee(H.powLo(e.lo,n),H.powHi(e.hi,n))}const nQ=Object.freeze(Object.defineProperty({__proto__:null,fmod:Dh,multiplicativeInverse:Yy,nthRoot:Wy,pow:zy,sqrt:y2},Symbol.toStringTag,{value:"Module"}));function w2(e){return se(e)?te.EMPTY:new ee(H.expLo(e.lo),H.expHi(e.hi))}function Vo(e){if(se(e))return te.EMPTY;const t=e.lo<=0?Number.NEGATIVE_INFINITY:H.logLo(e.lo);return new ee(t,H.logHi(e.hi))}const _2=Vo,qy=Vo(new ee(10,10));function S2(e){return se(e)?te.EMPTY:kh(Vo(e),qy)}const Qy=Vo(new ee(2,2));function x2(e){return se(e)?te.EMPTY:kh(Vo(e),Qy)}function b2(e,t){const n=se(e),r=se(t);return n&&r?te.EMPTY:n?t.clone():r?e.clone():new ee(Math.min(e.lo,t.lo),Math.max(e.hi,t.hi))}function E2(e,t){if(se(e)||se(t))return te.EMPTY;const n=Math.max(e.lo,t.lo),r=Math.min(e.hi,t.hi);return n<=r?new ee(n,r):te.EMPTY}function C2(e,t){if(!Th(e,t))throw Error("Interval#union: intervals do not overlap");return new ee(Math.min(e.lo,t.lo),Math.max(e.hi,t.hi))}function T2(e,t){if(se(e)||Ch(t))return te.EMPTY;if(Th(e,t)){if(e.lo<t.lo&&t.hi<e.hi)throw Error("Interval.difference: difference creates multiple intervals");return t.lo<=e.lo&&t.hi===1/0||t.hi>=e.hi&&t.lo===-1/0?te.EMPTY:t.lo<=e.lo?new ee().halfOpenLeft(t.hi,e.hi):new ee().halfOpenRight(e.lo,t.lo)}return e.clone()}function Oh(e){return se(e)?0:H.subHi(e.hi,e.lo)}const k2=Oh;function M2(e){return se(e)||Ch(e)?te.EMPTY:e.lo>=0?e.clone():e.hi<=0?Mh(e):new ee(0,Math.max(-e.lo,e.hi))}function D2(e,t){const n=se(e),r=se(t);return n&&r?te.EMPTY:n?t.clone():r?e.clone():new ee(Math.max(e.lo,t.lo),Math.max(e.hi,t.hi))}function O2(e,t){const n=se(e),r=se(t);return n&&r?te.EMPTY:n?t.clone():r?e.clone():new ee(Math.min(e.lo,t.lo),Math.min(e.hi,t.hi))}function P2(e){return new ee().set(e.lo,e.hi)}const rQ=Object.freeze(Object.defineProperty({__proto__:null,LOG_EXP_10:qy,LOG_EXP_2:Qy,abs:M2,clone:P2,difference:T2,exp:w2,hull:b2,intersection:E2,ln:_2,log:Vo,log10:S2,log2:x2,max:D2,min:O2,union:C2,wid:k2,width:Oh},Symbol.toStringTag,{value:"Module"}));function Gy(e){return!isFinite(e.lo)&&e.lo===e.hi}function N2(e){if(e.lo<0)if(e.lo===-1/0)e.lo=0,e.hi=1/0;else{const t=Math.ceil(-e.lo/te.PI_TWICE_LOW);e.lo+=te.PI_TWICE_LOW*t,e.hi+=te.PI_TWICE_LOW*t}return e}function Ph(e){if(se(e)||Gy(e))return te.EMPTY;const t=new ee().set(e.lo,e.hi);N2(t);const n=te.PI_TWICE,r=Dh(t,n);if(Oh(r)>=n.lo)return new ee(-1,1);if(r.lo>=te.PI_HIGH){const l=Ph(cs(r,te.PI));return Mh(l)}const i=r.lo,o=r.hi,a=H.cosLo(o),s=H.cosHi(i);return o<=te.PI_LOW?new ee(a,s):o<=n.lo?new ee(-1,Math.max(a,s)):new ee(-1,1)}function R2(e){return se(e)||Gy(e)?te.EMPTY:Ph(cs(e,te.PI_HALF))}function I2(e){if(se(e)||Gy(e))return te.EMPTY;const t=new ee().set(e.lo,e.hi);N2(t);const n=te.PI;let r=Dh(t,n);return r.lo>=te.PI_HALF_LOW&&(r=cs(r,n)),r.lo<=-te.PI_HALF_LOW||r.hi>=te.PI_HALF_LOW?te.WHOLE:new ee(H.tanLo(r.lo),H.tanHi(r.hi))}function L2(e){if(se(e)||e.hi<-1||e.lo>1)return te.EMPTY;const t=e.lo<=-1?-te.PI_HALF_HIGH:H.asinLo(e.lo),n=e.hi>=1?te.PI_HALF_HIGH:H.asinHi(e.hi);return new ee(t,n)}function A2(e){if(se(e)||e.hi<-1||e.lo>1)return te.EMPTY;const t=e.hi>=1?0:H.acosLo(e.hi),n=e.lo<=-1?te.PI_HIGH:H.acosHi(e.lo);return new ee(t,n)}function F2(e){return se(e)?te.EMPTY:new ee(H.atanLo(e.lo),H.atanHi(e.hi))}function $2(e){return se(e)?te.EMPTY:new ee(H.sinhLo(e.lo),H.sinhHi(e.hi))}function j2(e){return se(e)?te.EMPTY:e.hi<0?new ee(H.coshLo(e.hi),H.coshHi(e.lo)):e.lo>=0?new ee(H.coshLo(e.lo),H.coshHi(e.hi)):new ee(1,H.coshHi(-e.lo>e.hi?e.lo:e.hi))}function U2(e){return se(e)?te.EMPTY:new ee(H.tanhLo(e.lo),H.tanhHi(e.hi))}const iQ=Object.freeze(Object.defineProperty({__proto__:null,acos:A2,asin:L2,atan:F2,cos:Ph,cosh:j2,sin:R2,sinh:$2,tan:I2,tanh:U2},Symbol.toStringTag,{value:"Module"})),oQ=Object.assign(ee,te,H,rQ,Bq,Kq,tQ,nQ,iQ,{round:H}),aQ=Object.freeze(Object.defineProperty({__proto__:null,Interval:Ul,LOG_EXP_10:qy,LOG_EXP_2:Qy,abs:M2,acos:A2,add:g2,almostEqual:Ly,asin:L2,assertIncludes:c2,atan:F2,clone:P2,constants:te,cos:Ph,cosh:j2,default:oQ,difference:T2,div:kh,divide:By,equal:u2,exp:w2,fmod:Dh,geq:m2,greaterEqualThan:jy,greaterThan:Fy,gt:h2,hasInterval:s2,hasValue:Ry,hull:b2,intersection:E2,intervalsOverlap:Th,isEmpty:se,isInterval:Xf,isSingleton:Ka,isWhole:Ch,leq:p2,lessEqualThan:$y,lessThan:Ay,ln:_2,log:Vo,log10:S2,log2:x2,lt:d2,max:D2,min:O2,mul:Vy,multiplicativeInverse:Yy,multiply:Hy,negative:Mh,notEqual:f2,nthRoot:Wy,positive:v2,pow:zy,round:H,sin:R2,sinh:$2,sqrt:y2,sub:cs,subtract:Uy,tan:I2,tanh:U2,union:C2,wid:k2,width:Oh,zeroIn:us},Symbol.toStringTag,{value:"Module"})),sQ=ii(aQ);var lQ=function(e){e.mod=e.fmod,e.lessThan=e.lt,e.lessEqualThan=e.leq,e.greaterThan=e.gt,e.greaterEqualThan=e.geq,e.strictlyEqual=e.equal,e.strictlyNotEqual=e.notEqual,e.logicalAND=function(t,n){return t&&n},e.logicalXOR=function(t,n){return t^n},e.logicalOR=function(t,n){return t||n}},uQ=function(e){return{disableRounding:function(){e.round.disable()},enableRounding:function(){e.round.enable()}}};const cQ=Vq,Xa=sQ.default;lQ(Xa);function fQ(e){Object.keys(e).forEach(function(t){const n=e[t];typeof n=="number"||Array.isArray(n)?e[t]=Xa.factory(n):typeof n=="object"&&"lo"in n&&"hi"in n&&(e[t]=Xa.factory(n.lo,n.hi))})}xh.exports=function(e){return new cQ().setDefs({$$processScope:fQ}).parse(e).compile(Xa)};xh.exports.policies=uQ(Xa);xh.exports.Interval=Xa;var dQ=xh.exports,H2=dQ,V2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(An,"__esModule",{value:!0});An.interval=An.builtIn=void 0;const hQ=V2(bq),pQ=V2(H2),B2={interval:pQ.default,builtIn:hQ.default};function mQ(){return typeof pe=="object"&&"math"in pe?pe.math:typeof window=="object"&&"math"in window?window.math:null}const Qg=mQ();Qg&&(B2.builtIn=Qg.compile);function Y2(e){function t(o){if(typeof o=="string"){const a=B2[e](o);return Qg&&e==="builtIn"?{eval:a.evaluate||a.eval}:a}else{if(typeof o=="function")return{eval:o};throw Error("expression must be a string or a function")}}function n(o,a){const s=o[a],l=e+"_Expression_"+a,u=e+"_Compiled_"+a;s!==o[l]&&(o[l]=s,o[u]=t(s))}function r(o,a){return o[e+"_Compiled_"+a]}function i(o,a,s){return n(o,a),r(o,a).eval(Object.assign({},o.scope||{},s))}return i}const gQ=Y2("builtIn");An.builtIn=gQ;const vQ=Y2("interval");An.interval=vQ;var z2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vy,"__esModule",{value:!0});const yQ=Jd,wQ=Er,Ki=z2(Kn),Cx=z2(li),Tx=An;function _Q(e){e=Object.assign({xLine:!1,yLine:!1,renderer:function(s,l){return"("+s.toFixed(3)+", "+l.toFixed(3)+")"},owner:null},e);const t=20,n=(0,yQ.line)().x(function(s){return s[0]}).y(function(s){return s[1]});function r(s,l){return s.append("path").datum(l).attr("stroke","grey").attr("stroke-dasharray","5,5").attr("opacity",.5).attr("d",n)}let i,o;function a(s){const l=s.selectAll("g.tip").data(function(c){return[c]}),u=l.enter().append("g").attr("class","tip").attr("clip-path","url(#function-plot-clip-"+e.owner.id+")");i=l.merge(u).selectAll("g.inner-tip").data(function(c){return[c]}),o=i.enter().append("g").attr("class","inner-tip").style("display","none").each(function(){const c=(0,wQ.select)(this);r(c,[[0,-e.owner.meta.height-t],[0,e.owner.meta.height+t]]).attr("class","tip-x-line").style("display","none"),r(c,[[-e.owner.meta.width-t,0],[e.owner.meta.width+t,0]]).attr("class","tip-y-line").style("display","none"),c.append("circle").attr("r",3),c.append("text").attr("transform","translate(5,-5)")}),i.merge(o).selectAll(".tip-x-line").style("display",e.xLine?null:"none"),i.merge(o).selectAll(".tip-y-line").style("display",e.yLine?null:"none")}return a.move=function(s){let l,u=1/0,c=-1,f,d;const h=i.merge(o),m=e.owner.meta,g=h.datum().data,v=m.xScale,p=m.yScale,w=m.width,y=m.height,x=s.x,E=s.y;for(l=0;l<g.length;l+=1){if(g[l].skipTip||g[l].fnType!=="linear")continue;const b=g[l].range||[-Ki.default.infinity(),Ki.default.infinity()];let C;if(x>b[0]-Cx.default.TIP_X_EPS&&x<b[1]+Cx.default.TIP_X_EPS){try{C=(0,Tx.builtIn)(g[l],"fn",{x})}catch{}if(Ki.default.isValidNumber(C)){const k=Math.abs(C-E);k<u&&(u=k,c=l)}}}if(c!==-1){f=x,g[c].range&&(f=Math.max(f,g[c].range[0]),f=Math.min(f,g[c].range[1])),d=(0,Tx.builtIn)(g[c],"fn",{x:f}),a.show(),e.owner.emit("tip:update",{x:f,y:d,index:c});const b=Ki.default.clamp(f,v.invert(-t),v.invert(w+t)),C=Ki.default.clamp(d,p.invert(y+t),p.invert(-t)),k=Ki.default.color(g[c],c);h.style("color","red"),h.attr("transform","translate("+v(b)+","+p(C)+")"),h.select("circle").attr("fill",k),h.select("text").attr("fill",k).text(e.renderer(f,d,c))}else a.hide()},a.show=function(){i.merge(o).style("display",null)},a.hide=function(){i.merge(o).style("display","none")},Object.keys(e).forEach(function(s){Ki.default.getterSetter.call(a,e,s)}),a}vy.default=_Q;var Nh={},Ky={},sn={},Xy={},uu={},Zy={},SQ=pe&&pe.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),xQ=pe&&pe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bQ=pe&&pe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&SQ(t,e,n);return xQ(t,e),t},EQ=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zy,"__esModule",{value:!0});const so=bQ(H2),W2=An,CQ=EQ(Kn);so.default.policies.disableRounding();function TQ(e){const t=CQ.default.space(e.xAxis,e.range,e.nSamples),n=e.xScale,r=e.yScale,i=r.domain()[0],o=r.domain()[1],a=[];let s;for(s=0;s<t.length-1;s+=1){const l={lo:t[s],hi:t[s+1]},u=(0,W2.interval)(e.d,"fn",{x:l});!so.Interval.isEmpty(u)&&!so.Interval.isWhole(u)&&a.push([l,u]),so.Interval.isWhole(u)&&a.push(null)}for(s=1;s<a.length-1;s+=1)if(!a[s]){const l=a[s-1],u=a[s+1];l&&u&&!so.Interval.intervalsOverlap(l[1],u[1])&&(l[1].lo>u[1].hi&&(l[1].hi=Math.max(o,l[1].hi),u[1].lo=Math.min(i,u[1].lo)),l[1].hi<u[1].lo&&(l[1].lo=Math.min(i,l[1].lo),u[1].hi=Math.max(o,u[1].hi)))}return a.scaledDx=n(t[1])-n(t[0]),[a]}let q2;function kQ(e,t){return so.Interval.width(e)<q2}function Gs(e,t,n){const r=(0,W2.interval)(n,"fn",{x:e,y:t});if(!so.Interval.zeroIn(r))return this;if(kQ(e))return this.push([e,t]),this;const o=e.lo+(e.hi-e.lo)/2,a=t.lo+(t.hi-t.lo)/2,s={lo:o,hi:e.hi},l={lo:e.lo,hi:o},u={lo:a,hi:t.hi},c={lo:t.lo,hi:a};Gs.call(this,s,u,n),Gs.call(this,s,c,n),Gs.call(this,l,u,n),Gs.call(this,l,c,n)}function MQ(e){const t=e.xScale,n=e.xScale.domain(),r=e.yScale.domain(),i={lo:n[0],hi:n[1]},o={lo:r[0],hi:r[1]},a=[];return q2=t.invert(1)-t.invert(0),Gs.call(a,i,o,e.d),a.scaledDx=1,[a]}const DQ=function(t){const n={implicit:MQ,linear:TQ};if(!Object.hasOwn(n,t.d.fnType))throw Error(t.d.fnType+" is not supported in the `interval` sampler");return n[t.d.fnType].apply(null,arguments)};Zy.default=DQ;var Jy={},OQ=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jy,"__esModule",{value:!0});const Ft=OQ(Kn),Hl=An;function Q2(e,t,n,r,i){if(!i)return{asymptote:!0,d0:e,d1:t};const o=10,a=e[0],s=t[0],l=Ft.default.linspace(a,s,o);let u,c;for(let f=0;f<o;f+=1){const d=l[f],h=(0,Hl.builtIn)(n,"fn",{x:d});if(u){const m=h-u;if(Ft.default.sgn(m)===r)return Q2([c,u],[d,h],n,r,i-1)}u=h,c=d}return{asymptote:!1,d0:e,d1:t}}function PQ(e,t,n){let r;const i=[],o=n.domain()[0]-Ft.default.infinity(),a=n.domain()[1]+Ft.default.infinity();let s=[t[0]],l=1,u=Ft.default.infinity();for(;l<t.length;){const c=t[l-1][1],d=t[l][1]-c,h=Ft.default.sgn(d);if(s.length>=2&&r!==h&&Math.abs(d/u)>1){const m=Q2(t[l-1],t[l],e,h,3);m.asymptote?(t[l-1][0]=m.d0[0],t[l-1][1]=Ft.default.clamp(m.d0[1],o,a),i.push(s),t[l][0]=m.d1[0],t[l][1]=Ft.default.clamp(m.d1[1],o,a),s=[t[l]]):s.push(t[l])}else s.push(t[l]);s.length>1&&(u=s[s.length-1][0]-s[s.length-2][0],r=h),++l}return s.length&&i.push(s),i}function NQ(e){const t=Ft.default.space(e.xAxis,e.range,e.nSamples),n=e.yScale.domain(),r=n[0]-Ft.default.infinity(),i=n[1]+Ft.default.infinity(),o=[];for(let s=0;s<t.length;s+=1){const l=t[s];let u=(0,Hl.builtIn)(e.d,"fn",{x:l});Ft.default.isValidNumber(l)&&Ft.default.isValidNumber(u)&&(u=Ft.default.clamp(u,r,i),o.push([l,u]))}return PQ(e.d,o,e.yScale)}function RQ(e){const t=e.d.range||[0,2*Math.PI],n=Ft.default.space(e.xAxis,t,e.nSamples),r=[];for(let i=0;i<n.length;i+=1){const o=n[i],a=(0,Hl.builtIn)(e.d,"x",{t:o}),s=(0,Hl.builtIn)(e.d,"y",{t:o});r.push([a,s])}return[r]}function IQ(e){const t=e.d.range||[-Math.PI,Math.PI],n=Ft.default.space(e.xAxis,t,e.nSamples),r=[];for(let i=0;i<n.length;i+=1){const o=n[i],a=(0,Hl.builtIn)(e.d,"r",{theta:o}),s=a*Math.cos(o),l=a*Math.sin(o);r.push([s,l])}return[r]}function LQ(e){return[e.d.points]}function AQ(e){const t=e.d;return t.offset=t.offset||[0,0],[[t.offset,[t.vector[0]+t.offset[0],t.vector[1]+t.offset[1]]]]}const FQ=function(t){const n={parametric:RQ,polar:IQ,points:LQ,vector:AQ,linear:NQ};if(!(t.d.fnType in n))throw Error(t.d.fnType+" is not supported in the `builtIn` sampler");return n[t.d.fnType].apply(null,arguments)};Jy.default=FQ;var e1=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uu,"__esModule",{value:!0});const kx=e1(li),$Q=e1(Zy),jQ=e1(Jy);function UQ(e,t){const n=t.range||[-1/0,1/0],r=Math.max(e.domain()[0],n[0]),i=Math.min(e.domain()[1],n[1]);return[r,i]}function HQ(e,t){const n=UQ(e.meta.xScale,t);let r;if(t.sampler==="builtIn")r=jQ.default;else if(t.sampler==="interval")r=$Q.default;else throw new Error(`Invalid sampler function ${t.sampler}`);const i=t.nSamples||Math.min(kx.default.MAX_ITERATIONS,kx.default.DEFAULT_ITERATIONS||e.meta.width*2),o=r({d:t,range:n,xScale:e.meta.xScale,yScale:e.meta.yScale,xAxis:e.options.xAxis,yAxis:e.options.yAxis,nSamples:i});return e.emit("eval",o,t.index,t.isHelper),o}uu.default=HQ;var G2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xy,"__esModule",{value:!0});const Mx=Er,im=Jd,Xu=G2(Kn),VQ=G2(uu);function BQ(e){function t(n){n.each(function(r){const i=t.el=(0,Mx.select)(this),o=r.index,a=(0,VQ.default)(e,r),s=Xu.default.color(r,o),l=i.selectAll(":scope > path.line").data(a),u=e.meta.yScale.range();let c=u[0],f=u[1];const d=c-f;c+=d*1e6,f-=d*1e6,r.skipBoundsCheck&&(c=Xu.default.infinity(),f=-Xu.default.infinity());function h(w){return Xu.default.clamp(e.meta.yScale(w[1]),f,c)}const m=(0,im.line)().curve(im.curveLinear).x(function(w){return e.meta.xScale(w[0])}).y(h),g=(0,im.area)().x(function(w){return e.meta.xScale(w[0])}).y0(e.meta.yScale(0)).y1(h),v=`line line-${o}`,p=l.enter().append("path").attr("class",v).attr("stroke-width",1).attr("stroke-linecap","round");l.merge(p).each(function(){const w=(0,Mx.select)(this);let y;if(r.closed?(w.attr("fill",s),w.attr("fill-opacity",.3),y=g):(w.attr("fill","none"),y=m),w.attr("stroke",s).attr("marker-end",function(){return r.fnType==="vector"?"url(#"+e.markerId+")":null}).attr("d",y),r.attr)for(const x in r.attr){let E=r.attr[x];x==="class"&&(E=`${v} ${r.attr[x]}`),w.attr(x,E)}}),l.exit().remove()})}return t}Xy.default=BQ;var t1={},K2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t1,"__esModule",{value:!0});const YQ=Er,zQ=K2(uu),WQ=K2(Kn);function qQ(e){let t;const n=e.meta.xScale,r=e.meta.yScale;function i(s,l,u,c){if(u>c){const h=u;u=c,c=h}const f=Math.min(l,c),d=Math.max(s,u);return d>f?[-t,0]:[d,f]}const o=function(s,l){let u="";const c=r.range(),f=Math.min.apply(Math,c),d=Math.max.apply(Math,c);for(let h=0,m=s.length;h<m;h+=1)if(s[h]){const g=s[h][0],v=s[h][1];let p=v.lo,w=v.hi;l&&(p=Math.min(p,0),w=Math.max(w,0));const y=n(g.lo)+s.scaledDx/2,x=i(f,d,isFinite(w)?r(w):-1/0,isFinite(p)?r(p):1/0),E=x[0],b=x[1];u+=" M "+y+" "+E,u+=" v "+Math.max(b-E,t)}return u};function a(s){s.each(function(l){const u=a.el=(0,YQ.select)(this),c=l.index,f=l.closed,d=(0,zQ.default)(e,l),h=u.selectAll(":scope > path.line").data(d);t=Math.max(d[0].scaledDx,1);const m=`line line-${c}`,g=h.enter().append("path").attr("class",m).attr("fill","none"),v=h.merge(g).attr("stroke-width",t).attr("stroke",WQ.default.color(l,c)).attr("opacity",f?.5:1).attr("d",function(p){return o(p,f)});if(l.attr)for(const p in l.attr){let w=l.attr[p];p==="class"&&(w=`${m} ${l.attr[p]}`),v.attr(p,w)}h.exit().remove()})}return a}t1.default=qQ;var n1={},X2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n1,"__esModule",{value:!0});const QQ=Er,GQ=yy,KQ=X2(Kn),XQ=X2(uu);function ZQ(e){const t=e.meta.xScale,n=e.meta.yScale;function r(i){i.each(function(o){let a,s;const l=o.index,u=KQ.default.color(o,l),c=(0,XQ.default)(e,o),f=[];for(a=0;a<c.length;a+=1)for(s=0;s<c[a].length;s+=1)f.push(c[a][s]);const d=(0,QQ.select)(this).selectAll(":scope > circle.scatter").data(f),h=`scatter scatter-${l}`,m=d.enter().append("circle").attr("class",h),g=d.merge(m).attr("fill",(0,GQ.hsl)(u.toString()).brighter(1.5).formatHex()).attr("stroke",u).attr("opacity",.7).attr("r",1).attr("cx",function(v){return t(v[0])}).attr("cy",function(v){return n(v[1])});if(o.attr)for(const v in o.attr){let p=o.attr[v];v==="class"&&(p=`${h} ${o.attr[v]}`),g.attr(v,p)}d.exit().remove()})}return r}n1.default=ZQ;var r1={},JQ=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r1,"__esModule",{value:!0});const eG=Er,tG=yy,nG=JQ(Kn);function rG(e){const t=e.meta.xScale,n=e.meta.yScale;function r(i){i.each(function(o){o.sampler="builtIn",o.fnType="vector";const a=(0,eG.select)(this).selectAll(":scope > text.fn-text").data([o.location]),s=a.enter().append("text").attr("class",`fn-text fn-text-${o.index}`),l=nG.default.color(o,o.index),u=a.merge(s).attr("fill",(0,tG.hsl)(l.toString()).brighter(1.5).formatHex()).attr("x",c=>t(c[0])).attr("y",c=>n(c[1])).text(()=>o.text);if(o.attr)for(const c in o.attr)u.attr(c,o.attr[c]);a.exit().remove()})}return r}r1.default=rG;var Rh=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sn,"__esModule",{value:!0});sn.text=sn.scatter=sn.interval=sn.polyline=void 0;const iG=Rh(Xy);sn.polyline=iG.default;const oG=Rh(t1);sn.interval=oG.default;const aG=Rh(n1);sn.scatter=aG.default;const sG=Rh(r1);sn.text=sG.default;var cu={};Object.defineProperty(cu,"__esModule",{value:!0});function lG(e){return"graphType"in e||(e.graphType="interval"),"sampler"in e||(e.sampler=e.graphType!=="interval"?"builtIn":"interval"),"fnType"in e||(e.fnType="linear"),e}cu.default=lG;var Z2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ky,"__esModule",{value:!0});const uG=Er,cG=sn,Dx=An,fG=Z2(cu),dG=Z2(Kn);function hG(e){const t=(0,fG.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function n(o){if(!o.derivative)return[];const a=typeof o.derivative.x0=="number"?o.derivative.x0:dG.default.infinity();return t.index=o.index,t.scope={m:(0,Dx.builtIn)(o.derivative,"fn",{x:a}),x0:a,y0:(0,Dx.builtIn)(o,"fn",{x:a})},t.fn="m * (x - x0) + y0",[t]}function r(o){const a=this;o.derivative&&o.derivative.updateOnMouseMove&&!o.derivative.$$mouseListener&&(o.derivative.$$mouseListener=function({x:s}){o.derivative&&(o.derivative.x0=s),i(a)},e.on("tip:update",o.derivative.$$mouseListener))}const i=function(o){o.each(function(a){const s=(0,uG.select)(this),l=n.call(o,a);r.call(o,a);const u=s.selectAll("g.derivative").data(l),c=u.enter().append("g").attr("class","derivative");u.merge(c).call((0,cG.polyline)(e)),u.merge(c).selectAll("path").attr("opacity",.5),u.exit().remove()})};return i}Ky.default=hG;var i1={},J2=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i1,"__esModule",{value:!0});const pG=Er,Ox=An,mG=J2(cu),gG=sn,vG=J2(Kn);function yG(e){const t=(0,mG.default)({isHelper:!0,skipTip:!0,skipBoundsCheck:!0,nSamples:2,graphType:"polyline"});function n(l){l.m=(l.y1-l.y0)/(l.x1-l.x0)}function r(l,u){if(!("x0"in u))throw Error("secant must have the property `x0` defined");u.scope=u.scope||{};const c=u.x0,f=typeof u.x1=="number"?u.x1:vG.default.infinity();Object.assign(u.scope,{x0:c,x1:f,y0:(0,Ox.builtIn)(l,"fn",{x:c}),y1:(0,Ox.builtIn)(l,"fn",{x:f})}),n(u.scope)}function i(l,u){r(l,u),u.fn="m * (x - x0) + y0"}function o(l,u){const c=this;u.updateOnMouseMove&&!u.$$mouseListener&&(u.$$mouseListener=function({x:f}){u.x1=f,r(l,u),s(c)},e.on("tip:update",u.$$mouseListener))}function a(l){const u=this,c=[];l.secants=l.secants||[];for(let f=0;f<l.secants.length;f+=1){const d=l.secants[f]=Object.assign({},t,l.secants[f]);d.index=l.index,d.fn||(i.call(u,l,d),o.call(u,l,d)),c.push(d)}return c}function s(l){l.each(function(u){const c=(0,pG.select)(this),f=a.call(l,u),d=c.selectAll("g.secant").data(f),h=d.enter().append("g").attr("class","secant");d.merge(h).call((0,gG.polyline)(e)),d.merge(h).selectAll("path").attr("opacity",.5),d.exit().remove()})}return s}i1.default=yG;var eO=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nh,"__esModule",{value:!0});const wG=Er,_G=eO(Ky),SG=eO(i1);function xG(e){function t(n){n.each(function(){const r=(0,wG.select)(this);r.call((0,_G.default)(e)),r.call((0,SG.default)(e))})}return t}Nh.default=xG;var fs=pe&&pe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.Chart=void 0;const bG=Jd,EG=vV,Px=KY,Nx=lz,CG=mW,Zu=Er,Rx=gW,TG=fs(bW),kG=fs(gy),MG=fs(vy),DG=fs(Nh),OG=fs(cu),Ju=fs(li);function Ix(e){return e==="linear"?Px.scaleLinear:Px.scaleLog}class Ih extends TG.default.EventEmitter{constructor(t){super();const n=Math.random(),r=String.fromCharCode(Math.floor(n*26)+97);this.options=t,this.id=r+n.toString(16).substr(2),this.options.id=this.id,this.markerId=this.id+"-marker",Ih.cache[this.id]=this,this.linkedGraphs=[this],this.meta={},this.setUpEventListeners()}build(){return this.internalVars(),this.drawGraphWrapper(),this}getDraggableNode(){return(0,Zu.select)(this.options.target).select(".zoom-and-drag").node()}getEmitInstance(){let t=this;const n=this.getDraggableNode();return n&&(t=n.instance),t}internalVars(){const t=this.meta.margin={left:40,right:20,top:20,bottom:20};this.options.title&&(this.meta.margin.top=40),this.meta.width=(this.options.width||Ju.default.DEFAULT_WIDTH)-t.left-t.right,this.meta.height=(this.options.height||Ju.default.DEFAULT_HEIGHT)-t.top-t.bottom,this.initializeAxes()}initializeAxes(){const t=this,n=(0,EG.format)("~s");function r(s){return Math.abs(s)-Math.floor(Math.abs(s))>0?s.toString():n(s)}function i(s){const l=s[1]-s[0];return t.meta.height*l/t.meta.width}this.options.xAxis=this.options.xAxis||{},this.options.xAxis.type=this.options.xAxis.type||"linear",this.options.yAxis=this.options.yAxis||{},this.options.yAxis.type=this.options.yAxis.type||"linear";const o=this.meta.xDomain=function(s){if(s.domain)return s.domain;if(s.type==="linear")return[-12/2,12/2];if(s.type==="log")return[1,10];throw Error("axis type "+s.type+" unsupported")}(this.options.xAxis),a=this.meta.yDomain=function(s){if(s.domain)return s.domain;const l=i(o);if(s.type==="linear")return[-l/2,l/2];if(s.type==="log")return[1,10];throw Error("axis type "+s.type+" unsupported")}(this.options.yAxis);this.meta.xScale||(this.meta.xScale=Ix(this.options.xAxis.type)()),this.meta.xScale.domain(o).range(this.options.xAxis.invert?[this.meta.width,0]:[0,this.meta.width]),this.meta.yScale||(this.meta.yScale=Ix(this.options.yAxis.type)()),this.meta.yScale.domain(a).range(this.options.yAxis.invert?[0,this.meta.height]:[this.meta.height,0]),this.meta.xAxis||(this.meta.xAxis=(0,Nx.axisBottom)(this.meta.xScale)),this.meta.xAxis.tickSize(this.options.grid?-this.meta.height:0).tickFormat(r),this.meta.yAxis||(this.meta.yAxis=(0,Nx.axisLeft)(this.meta.yScale)),this.meta.yAxis.tickSize(this.options.grid?-this.meta.width:0).tickFormat(r),this.line=(0,bG.line)().x(function(s){return t.meta.xScale(s[0])}).y(function(s){return t.meta.yScale(s[1])})}drawGraphWrapper(){const t=this.root=(0,Zu.select)(this.options.target).selectAll("svg").data([this.options]);this.root.enter=t.enter().append("svg").attr("class","function-plot").attr("font-size",this.getFontSize()),t.merge(this.root.enter).attr("width",this.meta.width+this.meta.margin.left+this.meta.margin.right).attr("height",this.meta.height+this.meta.margin.top+this.meta.margin.bottom),this.buildTitle(),this.buildLegend(),this.buildCanvas(),this.buildClip(),this.buildAxis(),this.buildAxisLabel();const n=this.tip=(0,MG.default)(Object.assign(this.options.tip||{},{owner:this}));this.canvas.merge(this.canvas.enter).call(n),this.setUpPlugins(),this.draw(),this.buildZoomHelper()}buildTitle(){const t=this.root.merge(this.root.enter).selectAll("text.title").data(function(r){return[r.title].filter(Boolean)});t.enter().append("text").merge(t).attr("class","title").attr("y",this.meta.margin.top/2).attr("x",this.meta.margin.left+this.meta.width/2).attr("font-size",25).attr("text-anchor","middle").attr("alignment-baseline","middle").text(this.options.title),t.exit().remove()}buildLegend(){this.root.enter.append("text").attr("class","top-right-legend").attr("text-anchor","end"),this.root.merge(this.root.enter).select(".top-right-legend").attr("y",this.meta.margin.top/2).attr("x",this.meta.width+this.meta.margin.left)}buildCanvas(){const t=this.canvas=this.root.merge(this.root.enter).selectAll(".canvas").data(function(n){return[n]});this.canvas.enter=t.enter().append("g").attr("class","canvas")}buildClip(){const t=this.id,n=this.canvas.enter.append("defs");n.append("clipPath").attr("id","function-plot-clip-"+t).append("rect").attr("class","clip static-clip"),this.canvas.merge(this.canvas.enter).selectAll(".clip").attr("width",this.meta.width).attr("height",this.meta.height),n.append("clipPath").append("marker").attr("id",this.markerId).attr("viewBox","0 -5 10 10").attr("refX",10).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5L0,0").attr("stroke-width","0px").attr("fill-opacity",1).attr("fill","#777")}buildAxis(){const t=this.canvas.enter;t.append("g").attr("class","x axis"),t.append("g").attr("class","y axis"),this.canvas.merge(this.canvas.enter).select(".x.axis").attr("transform","translate(0,"+this.meta.height+")").call(this.meta.xAxis),this.canvas.merge(this.canvas.enter).select(".y.axis").call(this.meta.yAxis)}buildAxisLabel(){const t=this.canvas,n=t.merge(t.enter).selectAll("text.x.axis-label").data(function(a){return[a.xAxis.label].filter(Boolean)}),r=n.enter().append("text").attr("class","x axis-label").attr("text-anchor","end");n.merge(r).attr("x",this.meta.width).attr("y",this.meta.height-6).text(function(a){return a}),n.exit().remove();const i=t.merge(t.enter).selectAll("text.y.axis-label").data(function(a){return[a.yAxis.label].filter(Boolean)}),o=i.enter().append("text").attr("class","y axis-label").attr("y",6).attr("dy",".75em").attr("text-anchor","end").attr("transform","rotate(-90)");i.merge(o).text(function(a){return a}),i.exit().remove()}buildContent(){const t=this,n=this.canvas;n.merge(n.enter).attr("transform","translate("+this.meta.margin.left+","+this.meta.margin.top+")");const r=this.content=n.merge(n.enter).selectAll(":scope > g.content").data(function(s){return[s]}),i=r.enter().append("g").attr("clip-path","url(#function-plot-clip-"+this.id+")").attr("class","content");if(this.options.xAxis.type==="linear"){const s=r.merge(i).selectAll(":scope > path.y.origin").data([[[0,this.meta.yScale.domain()[0]],[0,this.meta.yScale.domain()[1]]]]),l=s.enter().append("path").attr("class","y origin").attr("stroke","black").attr("opacity",.2);s.merge(l).attr("d",this.line)}if(this.options.yAxis.type==="linear"){const s=r.merge(i).selectAll(":scope > path.x.origin").data([[[this.meta.xScale.domain()[0],0],[this.meta.xScale.domain()[1],0]]]),l=s.enter().append("path").attr("class","x origin").attr("stroke","black").attr("opacity",.2);s.merge(l).attr("d",this.line)}r.merge(i).call((0,kG.default)({owner:t}));const o=r.merge(i).selectAll(":scope > g.graph").data(s=>s.data.map(OG.default),s=>s.fn||s.r||s.x||s.text);o.exit().remove();const a=o.enter().append("g").attr("class","graph");o.merge(a).each(function(s,l){s.index=l;const u=(0,Zu.select)(this);u.call(Ju.default.graphTypes[s.graphType](t)),u.call((0,DG.default)(t))})}buildZoomHelper(){const t=this;this.meta.zoomBehavior||(this.meta.zoomBehavior=(0,CG.zoom)().on("zoom",function(r){t.getEmitInstance().emit("all:zoom",r)}),t.meta.zoomBehavior.xScale=t.meta.xScale.copy(),t.meta.zoomBehavior.yScale=t.meta.yScale.copy()),t.meta.zoomBehavior.xScale.range(t.meta.xScale.range()),t.meta.zoomBehavior.yScale.range(t.meta.yScale.range()),this.canvas.enter.append("rect").call(this.meta.zoomBehavior).attr("class","zoom-and-drag").style("fill","none").style("pointer-events","all").on("mouseover",function(n){t.getEmitInstance().emit("all:mouseover",n)}).on("mouseout",function(n){t.getEmitInstance().emit("all:mouseout",n)}).on("mousemove",function(n){t.getEmitInstance().emit("all:mousemove",n)}),this.draggable=this.canvas.merge(this.canvas.enter).select(".zoom-and-drag").call(n=>{n.node()&&(n.node().instance=t)}).attr("width",this.meta.width).attr("height",this.meta.height)}setUpPlugins(){const t=this.options.plugins||[],n=this;t.forEach(function(r){r(n)})}addLink(){for(let t=0;t<arguments.length;t+=1)this.linkedGraphs.push(arguments[t])}updateAxes(){const t=this,n=t.canvas.merge(t.canvas.enter);if(n.select(".x.axis").call(t.meta.xAxis),this.options.xAxis.position==="sticky"){const r=this.meta.yScale.domain()[0],i=this.meta.yScale.domain()[1],o=(i+r)/2;let s=this.meta.height/(i-r)*o+this.meta.height/2;s=s<0?0:s,s=s>this.meta.height?this.meta.height:s,n.select(".x.axis").attr("transform","translate(0,"+s+")"),n.selectAll(".x.axis path, .x.axis line").attr("transform","translate(0,"+(this.meta.height/2-s+this.meta.height/2)+")")}if(n.select(".y.axis").call(t.meta.yAxis),this.options.yAxis.position==="sticky"){const r=this.meta.xScale.domain()[0],i=this.meta.xScale.domain()[1],o=(i+r)/2;let s=this.meta.width/(r-i)*o+this.meta.width/2;s=s<0?0:s,s=s>this.meta.width?this.meta.width:s,n.select(".y.axis").attr("transform","translate("+s+",0)"),n.selectAll(".y.axis path, .y.axis line").attr("transform","translate("+-s+",0)")}n.selectAll(".axis path, .axis line").attr("fill","none").attr("stroke","black").attr("shape-rendering","crispedges").attr("opacity",.1)}syncOptions(){this.options.xAxis.domain=this.meta.xScale.domain(),this.options.yAxis.domain=this.meta.yScale.domain()}getFontSize(){return Math.max(Math.max(this.meta.width,this.meta.height)/50,8)}draw(){const t=this;t.emit("before:draw"),t.syncOptions(),t.updateAxes(),t.buildContent(),t.emit("after:draw")}setUpEventListeners(){const t=this,n=this.getEmitInstance();n&&n.removeAllListeners();const r={mousemove:function(o){t.tip.move(o)},mouseover:function(){t.tip.show()},mouseout:function(){t.tip.hide()},zoom:function({transform:a}){if(t.options.disableZoom)return;const s=a.rescaleX(t.meta.zoomBehavior.xScale).interpolate(Rx.interpolateRound),l=a.rescaleY(t.meta.zoomBehavior.yScale).interpolate(Rx.interpolateRound);t.meta.xScale.domain(s.domain()).range(s.range()),t.meta.yScale.domain(l.domain()).range(l.range())},"tip:update":function({x:o,y:a,index:s}){const l=t.root.merge(t.root.enter).datum().data[s],u=l.title||"",c=l.renderer||function(d,h){return d.toFixed(3)+", "+h.toFixed(3)},f=[];u&&f.push(u),f.push(c(o,a)),t.root.select(".top-right-legend").attr("fill",Ju.default.COLORS[s]).text(f.join(" "))}},i={mousemove:function(o){const a=(0,Zu.pointer)(o,t.draggable.node()),s={x:t.meta.xScale.invert(a[0]),y:t.meta.yScale.invert(a[1])};t.linkedGraphs.forEach(function(l){l.emit("before:mousemove",s),l.emit("mousemove",s)})},zoom:function(o){t.linkedGraphs.forEach(function(a){a.draggable.node().__zoom=t.draggable.node().__zoom,a.emit("zoom",o),a.draw()}),t.emit("all:mousemove",o)}};Object.keys(r).forEach(function(o){!i[o]&&t.on("all:"+o,function(){const a=Array.prototype.slice.call(arguments);t.linkedGraphs.forEach(function(s){const l=a.slice();l.unshift(o),s.emit.apply(s,l)})}),t.on(o,r[o])}),Object.keys(i).forEach(function(o){t.on("all:"+o,i[o])})}}Wd.Chart=Ih;Ih.cache={};var tO={};Object.defineProperty(tO,"__esModule",{value:!0});(function(e){var t=pe&&pe.__createBinding||(Object.create?function(d,h,m,g){g===void 0&&(g=m);var v=Object.getOwnPropertyDescriptor(h,m);(!v||("get"in v?!h.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(d,g,v)}:function(d,h,m,g){g===void 0&&(g=m),d[g]=h[m]}),n=pe&&pe.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),r=pe&&pe.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var m in d)m!=="default"&&Object.prototype.hasOwnProperty.call(d,m)&&t(h,d,m);return n(h,d),h},i=pe&&pe.__exportStar||function(d,h){for(var m in d)m!=="default"&&!Object.prototype.hasOwnProperty.call(h,m)&&t(h,d,m)};Object.defineProperty(e,"__esModule",{value:!0}),e.GraphTypeScatter=e.GraphTypePolyline=e.GraphTypeInterval=e.EvalInterval=e.EvalBuiltIn=e.registerGraphType=e.Chart=void 0;const o=Wd;Object.defineProperty(e,"Chart",{enumerable:!0,get:function(){return o.Chart}});const a=r(li);Object.defineProperty(e,"registerGraphType",{enumerable:!0,get:function(){return a.registerGraphType}});const s=sn,l=r(An);(0,a.registerGraphType)("polyline",s.polyline),(0,a.registerGraphType)("interval",s.interval),(0,a.registerGraphType)("scatter",s.scatter),(0,a.registerGraphType)("text",s.text);function u(d){d.data=d.data||[];let h=o.Chart.cache[d.id];return h||(h=new o.Chart(d)),h.build()}e.default=u,u.globals=a.default,u.$eval=l,u.graphTypes={interval:s.interval,polyline:s.polyline,scatter:s.scatter},i(tO,e);var c=An;Object.defineProperty(e,"EvalBuiltIn",{enumerable:!0,get:function(){return c.builtIn}}),Object.defineProperty(e,"EvalInterval",{enumerable:!0,get:function(){return c.interval}});var f=sn;Object.defineProperty(e,"GraphTypeInterval",{enumerable:!0,get:function(){return f.interval}}),Object.defineProperty(e,"GraphTypePolyline",{enumerable:!0,get:function(){return f.polyline}}),Object.defineProperty(e,"GraphTypeScatter",{enumerable:!0,get:function(){return f.scatter}}),i(Nh,e)})(Ek);const PG=No(Ek);function NG(e){const t=_.useRef(null);return _.useEffect(()=>{try{PG(Object.assign({},e,{target:t.current}))}catch(n){console.error(n)}}),S.jsxs("div",{id:"function-plot-container",children:[S.jsx("style",{id:"function-plot-custom-styles",children:"path.line { opacity: 0.5;}"}),S.jsx("div",{ref:t})]})}const RG=["#FE2712","#FC600A","#FB9902","#FCCC1A","#FEFE33","#B2D732","#66B032","#347C98","#0247FE","#4424D6","#8601AF","#C21460"];function Lx(e){return RG[e]||"black"}function IG(e){const[t,n]=_.useState(!0),[r,i]=_.useState(!1),[o,a]=_.useState(!1);let s=[];e.records?s=e.records.filter(y=>!isNaN(Number(y["Ex 1"]))).toSpliced(10).map(y=>{const x=Object.keys(y).filter(E=>E.startsWith("Ex")&&!isNaN(Number(y[E]))).map(E=>y[E]);return{lo:Math.min(...x),hi:Math.max(...x),label:`${rC(y.Mask??"").shortName} (${y.ID})`}}):e.ranges&&(s=e.ranges.filter(y=>!(isNaN(y.hi)||isNaN(y.lo))));function l(y,x){return{fn:E=>({hi:kr(E.x.hi),lo:kr(y.lo)}),range:[y.lo,y.hi],color:Lx(x)}}function u(y,x){return{fn:E=>({hi:pR(E.x.hi),lo:y.lo}),range:[kr(y.lo),kr(y.hi)],color:Lx(x)}}function c(y){return{graphType:"text",location:t?[kr(y.lo),y.lo]:[y.lo,kr(y.lo)],text:y.label,color:"black"}}const f=1.001,d=200,h=1,m=99.99,g={domain:[o?Math.min(...s.map(y=>kr(y.lo))):h,o?Math.max(...s.map(y=>kr(y.hi))):m],type:"linear",label:"Filtration %"},v={domain:[r?Math.min(...s.map(y=>y.lo)):f,r?Math.max(...s.map(y=>y.hi)):d],type:"log",label:"Fit Factor"},p={fn:"1/(1-x/100)",range:[h,m]},w={fn:"100*(1-1/x)",range:[f,d]};return S.jsxs("div",{children:[S.jsxs("div",{children:[S.jsx("button",{onClick:()=>n(!t),children:"Invert"}),S.jsx("button",{onClick:()=>a(!o),children:"Zoom Efficiency"}),S.jsx("button",{onClick:()=>i(!r),children:"Zoom Fit Factor"})]}),S.jsx(NG,{height:300,width:1e3,grid:!0,tip:{xLine:!0,yLine:!0,renderer:(y,x)=>t?`${tg(y)}% = FF:${mw(x)}`:`${tg(x)}% = FF:${mw(y)}`},xAxis:t?g:v,yAxis:t?v:g,data:[t?p:w,...s.map((y,x)=>t?u(y,x):l(y,x)),...s.map(y=>c(y))]})]})}const LG=60*60*1e3;function AG(){const e=_.useContext(xt),[t,n]=ae(F.STATS_FIRST_DATE),[r,i]=ae(F.STATS_LAST_DATE),[o,a]=_.useState([]),[s,l]=_.useState(0),[u,c]=_.useState(0),[f,d]=_.useState(0),[h,m]=_.useState(0),[g,v]=_.useState(0),[p,w]=_.useState(0),[y,x]=_.useState([]),[E,b]=_.useState([]),[C,k]=_.useState(0),[N,A]=_.useState(0),[O,V]=_.useState(0),[I,T]=_.useState(0),[P,D]=_.useState(0);function j(z){try{return new Date(z.getTime()-z.getTimezoneOffset()*60*1e3)}catch(re){return console.warn("could not parse date: ",z,re),new Date}}function M(z){return j(z).toISOString().substring(0,10).replace(/-/g,"")}function $(z,re){return new Date(re.Time??0).getTime()-new Date(z.Time??0).getTime()}function B(z,re){return $(z,re)>1*60*60*1e3}function q(z){return z.Time?M(new Date(z.Time)):""}function G(z){z=z.toSorted((U,X)=>(U.Time?j(new Date(U.Time)).getTime():0)-(X.Time?j(new Date(X.Time)).getTime():0)),z=z.filter(U=>!(U.Participant?.match(/zero\s+filter/i)||U.DataSource==="Simulator"||U.DataSource==="Simulator-file")),w(new Set(z.map(U=>U.Mask)).size),c(z.length),d(z.reduce((U,X)=>U+(X.Final?1:0),0)),l(z.reduce((U,X,he,ve)=>{const Ut=ve[he-1]??{};return U+(B(Ut,X)?1:0)},0)),m(new Set(z.map(U=>`${q(U)}-${U.Participant}`)).size),v(z.reduce((U,X,he,ve)=>{const Ut=ve[he-1]??{};return B(Ut,X)?U:U+$(Ut,X)},0));const re=new Map;z.forEach((U,X,he)=>{const ve=he[X-1]??{};if(B(ve,U))return null;const Ut=`${q(ve)}-${ve.Participant}`,Lh=$(ve,U);re.set(Ut,Lh+(re.get(Ut)||0))}),V(cp(new Array(...re.values())));const L=new Map;z.forEach(U=>{const X=`${q(U)}-${U.Participant}`;L.set(X,(L.get(X)??new Set).add(U.Mask??"unknown mask"))});const Q=[...L.values()].map(U=>U.size);T(cp(Q)),D(iC(Q)),A(cp(z.map((U,X,he)=>{const ve=he[X-1]??{};return B(ve,U)||!U.Final?null:$(ve,U)}).filter(U=>U!==null)));const de=e.settings.getProtocolDuration(e.settings.getDefault(F.SELECTED_PROTOCOL));k(z.filter(U=>U.Final).reduce((U,X)=>U+(X.ProtocolName?e.settings.getProtocolDuration(X.ProtocolName):de),0)),x(z.toSorted((U,X)=>(X.Final??0)-(U.Final??0)).filter(U=>!(!U.Final||isNaN(U.Final)||isNaN(Number(U.Final))||!isFinite(Number(U.Final)))).toSpliced(5));const Y={};z.forEach(U=>{const X=`${q(U)}-${U.Participant}-${U.Mask}`;Y[X]=U});const le={};Object.values(Y).forEach(U=>{const X=rC(U.Mask??""),he=`${X.maker} ${X.model}`.trim();le[he]=1+(le[he]??0)}),console.debug(`mask tally: ${JSON.stringify(le)}`),b(Object.entries(le).toSorted((U,X)=>X[1]-U[1]).toSpliced(5))}async function me(){return new Promise(z=>{const re=new Set;Rn.getData(L=>(re.add(new Date(L.Time)),!1)).then(()=>z([...re].toSorted((L,Q)=>L.getTime()-Q.getTime())))})}async function ce(){const z=typeof t=="string"?new Date(t):new Date(0),re=typeof r=="string"?new Date(r):new Date,L=Number(M(z)),Q=Number(M(re)),Y=(await vd.getData(le=>{const U=Number(M(new Date(le.timestamp)));return L<=U&&U<=Q})).toSorted((le,U)=>new Date(le.timestamp).getTime()-new Date(U.timestamp).getTime()).reduce((le,U)=>{const X=new Date(U.timestamp).getTime();if(X>le.end+LG){const he=M(new Date(U.timestamp)),ve=le.longest.get(he)||{start:X,end:X,longest:{}};ve.end-ve.start<le.end-le.start&&(ve.start=le.start,ve.end=le.end,le.longest.set(he,ve)),le.start=X}return le.end=X,le},{start:0,end:0,longest:new Map});console.debug(`event date ranges: ${JSON.stringify(Y.longest)}`,Y),G(await Rn.getData(le=>{const U=Number(M(new Date(le.Time)));return L<=U&&U<=Q}))}_.useEffect(()=>{ce()},[t,r]),_.useEffect(()=>{me().then(z=>{if(a(z),z.length===0)return;const re=typeof t=="string"?new Date(t):t;re.getTime()===0?n(z[z.length-1]):typeof t=="string"&&n(re)})},[]);function ne(z){z?(r&&z>r&&i(z),n(z)):o.length>0?n(o[0]):n(new Date(0))}function ge(z){z?(t&&z<t&&n(z),i(z)):o.length>0?i(o[o.length-1]):i(new Date)}return S.jsxs("div",{id:"stats-panel",children:[S.jsx(IG,{ranges:[{lo:1.3,hi:4.6,label:"cloth"},{lo:2.5,hi:9.6,label:"surgical"},{lo:3,hi:39,label:"earloop"},{lo:35,hi:171,label:"headloop"}]}),S.jsxs("section",{id:"stats-date-range-selection",style:{display:"flex",justifySelf:"center"},children:["from",S.jsx(Cg,{id:"stats-first-date-picker",className:"date-picker-input",selected:t,showIcon:!0,dateFormat:"YYYY-MMM-dd",placeholderText:"Start date",highlightDates:o,onChange:z=>ne(z)}),"to",S.jsx(Cg,{id:"stats-last-date-from",className:"date-picker-input",selected:r,showIcon:!0,dateFormat:"YYYY-MMM-dd",placeholderText:"End date",highlightDates:o,onChange:z=>ge(z)})]}),S.jsxs("section",{id:"stats-display",style:{display:"flex",flexDirection:"column",justifyContent:"stretch",width:"fit-content",justifySelf:"center"},children:[S.jsxs(ie,{label:"For selected date range",children:[S.jsx(ie,{label:"Num Events",children:s}),S.jsx(ie,{label:"Num Participants",children:h}),S.jsx(ie,{label:"Num Masks Tested",children:p}),S.jsx(ie,{label:"Num Tests Started",children:u}),S.jsx(ie,{label:"Num Tests Completed",children:`${f} (${(100*f/u).toFixed(1)}%)`})]}),S.jsx("hr",{}),S.jsx(ie,{label:"Total time from completed tests",children:Ge(C*1e3)}),S.jsx(ie,{label:"Total event time (estimate)",children:Ge(g)}),S.jsxs(ie,{label:"Device utilization",children:[(100*C*1e3/g).toFixed(1),"%"]}),S.jsx("hr",{}),S.jsx(ie,{label:"Time spent per participant",children:S.jsxs("div",{className:"inline-flex",children:[S.jsx(ie,{label:"Average",children:Ge(g/h)}),S.jsx(ie,{label:"Median",children:Ge(O)})]})}),S.jsx(ie,{label:"Time spent per completed test",children:S.jsxs("div",{className:"inline-flex",children:[S.jsx(ie,{label:"Average",children:Ge(g/f)}),S.jsx(ie,{label:"Median",children:Ge(N)})]})}),S.jsx("hr",{}),S.jsx(ie,{label:"Num masks tested per participant",children:S.jsxs("div",{className:"inline-flex",children:[S.jsx(ie,{label:"Average",children:P.toFixed(1)}),S.jsx(ie,{label:"Median",children:I.toFixed(1)})]})}),S.jsx("hr",{}),S.jsxs(ie,{label:"Per Participant averages",children:[S.jsx(ie,{label:"Num Tests Started",children:(u/h).toFixed(1)}),S.jsx(ie,{label:"Num Tests Completed",children:(f/h).toFixed(1)})]}),S.jsx("hr",{}),S.jsx(ie,{label:"popular masks",children:E.map(([z,re])=>S.jsx(ie,{label:z.trim().length===0?"Unnamed mask":z,children:re},z))}),S.jsx("hr",{}),S.jsx(ie,{label:"top overall scores",children:y.map(z=>S.jsx(ie,{label:z.Mask??"Unnamed mask",children:z.Final},z.ID))}),S.jsx("hr",{}),S.jsx(ie,{label:"top individual scores",children:"todo: look at this across all exercises"}),S.jsx("hr",{}),S.jsxs(ie,{label:"Per Event averages",children:[S.jsx(ie,{label:"Time Spent",children:Ge(g/s)}),S.jsx(ie,{label:"Num Participants",children:(h/s).toFixed(1)}),S.jsx(ie,{label:"Num Masks Tested",children:"todo"}),S.jsx(ie,{label:"Num Tests Started",children:(u/s).toFixed(1)}),S.jsx(ie,{label:"Num Tests Completed",children:(f/s).toFixed(1)})]})]})]})}const FG=()=>{const[e]=ae(F.KEEP_SCREEN_AWAKE),t=_.useRef(null);async function n(){if(console.debug("requestWakeLock()"),t.current===null&&document.visibilityState==="visible")try{t.current=await navigator.wakeLock.request("screen")}catch(i){console.warn(i)}else console.debug("not visible or already have a wakelock")}const r=_.useCallback(()=>{e&&n()},[e]);_.useEffect(()=>(e?(n(),document.addEventListener("visibilitychange",r)):t.current!==null&&(console.debug("removing wake lock"),document.removeEventListener("visibilitychange",r),t.current.release().then(()=>{t.current=null})),()=>{document.removeEventListener("visibilitychange",r)}),[e,r])};function $G({useIcons:e=!1,...t}){const n=_.useContext(xt),[r]=ae(F.MINUTES_ALLOTTED_PER_PARTICIPANT),[i,o]=_.useState("");function a(){return Date.now()-n.settings.eventEndTime.getTime()}function s(){const c=a()/60/1e3;return r-c<0?"over-time":"on-time"}function l(){o(Ge(n.settings.eventEndTime.getTime()-Date.now(),!1,!1))}return q0(l),t.style={...t.style,display:"flex",gap:"0.3em"},S.jsxs("div",{...t,className:`number-field thin-border smooth-background-change svg-container no-wrap ${s()}`,children:[e?S.jsx(dL,{}):S.jsx("span",{children:"Event Time:"}),S.jsx("span",{children:i})]})}function jG({useIcons:e=!1,...t}){const[n]=ae(F.TEST_TEMPLATE),[r]=ae(F.MINUTES_ALLOTTED_PER_PARTICIPANT),[i,o]=_.useState("");function a(){return!!n.Participant}function s(){return a()&&n.Time?Date.now()-new Date(n.Time).getTime():0}function l(){if(a()){if(n.Time){const f=s()/60/1e3;if(r-f<0)return"over-time"}return"on-time"}return"idle"}function u(){o(Ge(s()))}return q0(u),t.style={...t.style,display:"flex",gap:"0.3em"},S.jsxs("div",{...t,className:`thin-border number-field smooth-background-change svg-container no-wrap ${l()}`,children:[e?S.jsx(fL,{}):S.jsx("span",{children:"Participant Time:"}),S.jsx("span",{children:i})]})}function UG(){const t=_.useContext(xt).portaCountClient,[n,r]=_.useState(t.state.sampleSource),[i]=ae(F.USE_COMPACT_UI),[o]=ae(F.SHOW_EXTERNAL_CONTROL);_.useEffect(()=>{const s={sampleSourceChanged(l){r(l)}};return t.addListener(s),()=>{t.removeListener(s)}},[]);function a(){t.externalController.sampleSource=n==xe.MASK?xe.AMBIENT:xe.MASK}return o&&i?S.jsxs("div",{id:"sample-source-widget",onClick:a,className:"svg-container",children:[n===xe.AMBIENT&&S.jsx(SC,{}),n===xe.MASK&&S.jsx(bC,{})]}):null}function HG(e){return ot({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(e)}function VG(e){return ot({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M9.25 14.5c0 0.415-0.335 0.75-0.75 0.75s-0.75-0.335-0.75-0.75 0.335-0.75 0.75-0.75 0.75 0.335 0.75 0.75zM16 1.5v14c0 0.827-0.625 1.5-1.392 1.5h-12.216c-0.767 0-1.392-0.673-1.392-1.5v-14c0-0.827 0.625-1.5 1.392-1.5h12.217c0.766 0 1.391 0.673 1.391 1.5zM15 1.5c0-0.271-0.179-0.5-0.392-0.5h-12.216c-0.213 0-0.392 0.229-0.392 0.5v14c0 0.271 0.179 0.5 0.392 0.5h12.217c0.212 0 0.391-0.229 0.391-0.5v-14zM3 2h11v11h-11v-11zM4 12h9v-9h-9v9z"},child:[]}]})(e)}function BG(){const t=_.useContext(xt).portaCountClient,[n,r]=_.useState(t.state.controlSource),[i]=ae(F.USE_COMPACT_UI),[o]=ae(F.SHOW_EXTERNAL_CONTROL);_.useEffect(()=>{const s={controlSourceChanged(l){r(l)}};return t.addListener(s),()=>{t.removeListener(s)}},[]);function a(){t.externalController.controlSource=n==Ce.Internal?Ce.External:Ce.Internal}return o&&i?S.jsxs("div",{id:"control-source-widget",onClick:a,className:"svg-container",children:[n===Ce.External&&S.jsx(HG,{}),n===Ce.Internal&&S.jsx(VG,{})]}):null}function YG(e){return ot({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(e)}function zG(){const[e]=ae(F.COLOR_SCHEME);return _.useEffect(()=>{document.querySelector('meta[name="color-scheme"]')?.setAttribute("content",e)},[e]),S.jsx(S.Fragment,{})}function WG(){const[e]=ae(F.SHOW_ELAPSED_PARTICIPANT_TIME),[t]=ae(F.SHOW_REMAINING_EVENT_TIME),[n]=ae(F.USE_COMPACT_UI),[r]=ae(F.ENABLE_PROTOCOL_EDITOR),[i]=ae(F.ENABLE_STATS),[o]=ae(F.ENABLE_QR_CODE_SCANNER),a=$d(),s=ai(),l=_.useRef(null),[u,c]=_.useState("full-width"),[f,d]=_.useState(0),[h,m]=_.useState(!1),[g,v]=_.useState(!1);_.useEffect(()=>{const y=new ResizeObserver(([x])=>{w(x)});return l.current&&y.observe(l.current),()=>{y.disconnect()}},[u]),_.useEffect(()=>{const y=()=>c("full-width");return screen.orientation.addEventListener("change",y),()=>{screen.orientation.removeEventListener("change",y)}},[]),FG();const p=[{label:"Home",value:"/"},{label:"Results",value:"/view-results"},{label:"Raw Data",value:"/raw-data"},{label:"Settings",value:"/settings"}];r&&p.push({label:"Protocols",value:"/protocols"}),i&&p.push({label:"Stats",value:"/stats"}),o&&p.push({label:"QR Code",value:"/qrscanner"}),p.push({label:"Daily Checks",value:"/daily-checks"}),p.push({label:"Bookmarks",value:"/bookmarks"});function w(y){const x=window.getComputedStyle(y.target),E=Math.floor(parseFloat(x.height)/parseFloat(x.lineHeight)),b=parseFloat(x.width)-f>0;switch(u){case"full-width":E>1&&c("2-lines"),m(!1),v(!1);break;case"2-lines":E<2&&b&&c("full-width"),E>2&&c("time-icons"),m(!1),v(!1);break;case"time-icons":E<2&&b&&c("2-lines"),E>2&&c("dropdown-tabs"),m(!0),v(!1);break;case"dropdown-tabs":E<2&&b&&c("time-icons"),m(!0),v(!0);break}d(parseFloat(x.width))}return S.jsxs("div",{id:"nav-bar",ref:l,className:"nav-bar",children:[S.jsx(zG,{}),S.jsx(jG,{style:{visibility:e?"visible":"hidden"},useIcons:h}),S.jsxs("div",{id:"nav-links-container",className:"inline-flex",style:{gap:"0.3em",flexWrap:"wrap",justifyContent:"center"},children:[S.jsxs("div",{children:["v","1.8.7","p"]}),g?S.jsx("div",{children:S.jsx(dv,{options:p,value:s.pathname,onChange:y=>a(y),children:S.jsxs("div",{className:"blue-bg thin-border svg-container inline-flex no-wrap",children:[p.find(y=>y.value===s.pathname)?.label,S.jsx(YG,{})]})})}):S.jsx("div",{style:{gap:"0.1em",display:"flex",flexWrap:"wrap"},children:p.reduce((y,x)=>(y.length>0&&y.push("|"),y.push(S.jsx(zT,{to:x.value,className:({isActive:E,isPending:b})=>b?"nav-link-pending":E?"nav-link-active":"",children:S.jsx("div",{className:"no-wrap",children:x.label})},x.label)),y),[])}),S.jsxs("div",{id:"compact-ui",className:"inline-flex",style:{width:"fit-content",gap:"0.3em",alignItems:"center",height:"inherit",flexWrap:"wrap",justifyContent:"center"},children:[n&&S.jsx(kT,{compact:!0}),S.jsx(BG,{}),S.jsx(UG,{}),n&&S.jsx(xT,{compact:!0}),n&&S.jsx(CT,{label:""}),n&&S.jsx(TT,{label:""})]})]}),S.jsx($G,{style:{visibility:t?"visible":"hidden"},useIcons:h})]})}function qG({children:e}){return S.jsx(xt.Provider,{value:yC,children:e})}function QG(){const e=window.location.pathname,t=e.endsWith("old/")||e.endsWith("-old");return S.jsx(S.Fragment,{children:S.jsx(qG,{children:S.jsx("div",{className:`app-border-container ${t?"red-border":""}`,children:S.jsxs("div",{className:"app-container",style:{display:"flex",flexDirection:"column"},children:[S.jsx("div",{id:"navbar-container",style:{position:"relative",top:0,left:0},children:S.jsx(WG,{})}),S.jsx("div",{id:"main-container",style:{position:"relative",top:"0.1rem",height:"100%",overflow:"auto",backgroundColor:"var(--root-color)"},children:S.jsx(u4,{})})]})})})})}var o1={exports:{}};o1.exports;(function(e){var t=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function a(l,u){if(!o[l]){o[l]={};for(var c=0;c<l.length;c++)o[l][l.charAt(c)]=c}return o[l][u]}var s={compressToBase64:function(l){if(l==null)return"";var u=s._compress(l,6,function(c){return r.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:s._decompress(l.length,32,function(u){return a(r,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":s._compress(l,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:s._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=s.compress(l),c=new Uint8Array(u.length*2),f=0,d=u.length;f<d;f++){var h=u.charCodeAt(f);c[f*2]=h>>>8,c[f*2+1]=h%256}return c},decompressFromUint8Array:function(l){if(l==null)return s.decompress(l);for(var u=new Array(l.length/2),c=0,f=u.length;c<f;c++)u[c]=l[c*2]*256+l[c*2+1];var d=[];return u.forEach(function(h){d.push(n(h))}),s.decompress(d.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":s._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),s._decompress(l.length,32,function(u){return a(i,l.charAt(u))}))},compress:function(l){return s._compress(l,16,function(u){return n(u)})},_compress:function(l,u,c){if(l==null)return"";var f,d,h={},m={},g="",v="",p="",w=2,y=3,x=2,E=[],b=0,C=0,k;for(k=0;k<l.length;k+=1)if(g=l.charAt(k),Object.prototype.hasOwnProperty.call(h,g)||(h[g]=y++,m[g]=!0),v=p+g,Object.prototype.hasOwnProperty.call(h,v))p=v;else{if(Object.prototype.hasOwnProperty.call(m,p)){if(p.charCodeAt(0)<256){for(f=0;f<x;f++)b=b<<1,C==u-1?(C=0,E.push(c(b)),b=0):C++;for(d=p.charCodeAt(0),f=0;f<8;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}else{for(d=1,f=0;f<x;f++)b=b<<1|d,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=0;for(d=p.charCodeAt(0),f=0;f<16;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}w--,w==0&&(w=Math.pow(2,x),x++),delete m[p]}else for(d=h[p],f=0;f<x;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1;w--,w==0&&(w=Math.pow(2,x),x++),h[v]=y++,p=String(g)}if(p!==""){if(Object.prototype.hasOwnProperty.call(m,p)){if(p.charCodeAt(0)<256){for(f=0;f<x;f++)b=b<<1,C==u-1?(C=0,E.push(c(b)),b=0):C++;for(d=p.charCodeAt(0),f=0;f<8;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}else{for(d=1,f=0;f<x;f++)b=b<<1|d,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=0;for(d=p.charCodeAt(0),f=0;f<16;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1}w--,w==0&&(w=Math.pow(2,x),x++),delete m[p]}else for(d=h[p],f=0;f<x;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1;w--,w==0&&(w=Math.pow(2,x),x++)}for(d=2,f=0;f<x;f++)b=b<<1|d&1,C==u-1?(C=0,E.push(c(b)),b=0):C++,d=d>>1;for(;;)if(b=b<<1,C==u-1){E.push(c(b));break}else C++;return E.join("")},decompress:function(l){return l==null?"":l==""?null:s._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,c){var f=[],d=4,h=4,m=3,g="",v=[],p,w,y,x,E,b,C,k={val:c(0),position:u,index:1};for(p=0;p<3;p+=1)f[p]=p;for(y=0,E=Math.pow(2,2),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;switch(y){case 0:for(y=0,E=Math.pow(2,8),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;C=n(y);break;case 1:for(y=0,E=Math.pow(2,16),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;C=n(y);break;case 2:return""}for(f[3]=C,w=C,v.push(C);;){if(k.index>l)return"";for(y=0,E=Math.pow(2,m),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;switch(C=y){case 0:for(y=0,E=Math.pow(2,8),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;f[h++]=n(y),C=h-1,d--;break;case 1:for(y=0,E=Math.pow(2,16),b=1;b!=E;)x=k.val&k.position,k.position>>=1,k.position==0&&(k.position=u,k.val=c(k.index++)),y|=(x>0?1:0)*b,b<<=1;f[h++]=n(y),C=h-1,d--;break;case 2:return v.join("")}if(d==0&&(d=Math.pow(2,m),m++),f[C])g=f[C];else if(C===h)g=w+w.charAt(0);else return null;v.push(g),f[h++]=w+g.charAt(0),d--,w=g,d==0&&(d=Math.pow(2,m),m++)}}};return s}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(o1);var GG=o1.exports;const KG=No(GG);function XG(e,t){return e.Time===t.Time&&(e.ID===t.ID||e.Final===t.Final&&e["Ex 1"]===t["Ex 1"])}function ZG(e){const t=So(e);return delete t.ID,delete t.source,t}async function Rc(){return await Rn.getData()}async function nO(e){const t=e.length;e=e.filter(s=>"Time"in s&&"ID"in s&&"Ex 1"in s);const n=t-e.length,r=await Rc(),i=r.length,o=[],a=[];for(const s of e)if(r.some(l=>XG(l,s)))a.push(s);else{const l=ZG(s);l.source="ext",o.push(l)}for(const s of o){const l=await Rn.addRecord(s);s.ID=l}return r.push(...o),console.log(`total records ${r.length}, new records ${o.length}, old records ${i}`),{allRecords:r,newRecords:o,duplicateRecords:a,attemptedRecordCount:t,rejectedRecordCount:n}}function JG(e){return e.getRowModel().rows.map(t=>t.original)}function _K(e){const t=JG(e);yg(JSON.stringify(t),"cft-results","json")}async function SK(){if(!("showOpenFilePicker"in window)){const e="showOpenFilePicker not supported. Unable to import file.";return console.error(e),Promise.reject(e)}return window.showOpenFilePicker({id:"file-to-import"}).then(e=>e[0].getFile()).then(e=>e.text()).then(e=>JSON.parse(e)).then(e=>nO(e)).then(e=>(console.debug(`imported ${e.newRecords.length} records of ${e.attemptedRecordCount}, ignored ${e.duplicateRecords.length} duplicates, rejected ${e.rejectedRecordCount}. total records: ${e.allRecords.length}`),e)).catch(e=>{console.log("Error importing file",e)})}function eK(){const[e,t]=_.useState([]),[n]=U4(),r=$d();async function i(){const a=n.get("data");if(a){const s=KG.decompressFromEncodedURIComponent(a);if(r("",{replace:!0}),s){console.log(`got url data: ${s}`);const l=JSON.parse(s);console.log(`data records: ${JSON.stringify(l,null,2)}`);const{allRecords:u}=await nO(l);t(u)}else console.log("no data from url"),t(await Rc())}else console.log("no data parameter"),t(await Rc())}_.useEffect(()=>{Rn.open().then(()=>i()).catch(a=>console.log(`error while opening db: ${a}`))},[]);async function o(a){await Promise.all(a.map(s=>Rn.deleteRecordById(s))),t(await Rc())}return S.jsx("div",{style:{justifySelf:"center",maxWidth:"100%",height:"100%"},children:S.jsx(MT,{tableData:e,setTableData:t,deleteRowsCallback:o})})}function tK(){const a=_.useContext(xt).portaCountClient,s=a.externalController,[l,u]=_.useState(!1),[c,f]=_.useState(!1),[d,h]=_.useState(!1),[m,g]=_.useState(0),[v,p]=_.useState(0),[w,y]=_.useState(1e3),[x,E]=_.useState(xn(11e3)),[b,C]=_.useState(xn(5e3)),[k,N]=_.useState("idle"),[A,O]=_.useState("Press start to begin"),[V,I]=_.useState(0),[T,P]=_.useState(0),[D,j]=_.useState(0),[M,$]=_.useState(0),[B,q]=_.useState(0),[G,me]=_.useState({}),ce=_.useCallback(()=>{me({})},[]);_.useEffect(()=>{const z={particleConcentrationReceived:re=>{const L=re.concentration;switch(re.sampleSource===xe.AMBIENT?(g(Q=>Q>L?Q:L),b.push(re.timestamp,L)):(p(Q=>Q>L?Q:L),y(Q=>Q<L?Q:L),x.push(re.timestamp,L)),ce(),console.debug(`state is ${k}`),k){case"idle":break;case"start":E(xn(11e3)),C(xn(5e3)),y(1e3),p(0),g(0),u(!1),f(!1),h(!1),q(0),O("Remove zero filter if attached"),s.assumeManualControl(),s.beep(),s.sampleMask(),N("initial-mask-purge"),I(Date.now());break;case"initial-mask-purge":Date.now()-V>7e3&&(N("waiting-for-particle-check"),I(Date.now()));break;case"waiting-for-particle-check":console.debug(`max mask count: ${v}`),v>1e3&&(N("waiting-for-zero-check"),O("Attach zero filter"),s.beep(),u(!0),y(1e3));break;case"waiting-for-zero-check":w===0&&(N("purge-ambient-1"),s.sampleAmbient(),O("reading from ambient"),I(Date.now()),f(!0));break;case"purge-ambient-1":Date.now()-V>7e3&&(N("waiting-for-ambient-average"),I(Date.now()),C(xn(5e3)));break;case"waiting-for-ambient-average":Date.now()-V>12e3&&(P(b.movingAverage()),N("purge-mask"),s.sampleMask(),O("reading from mask"),I(Date.now()));break;case"purge-mask":Date.now()-V>7e3&&(N("waiting-for-mask-average"),I(Date.now()),E(xn(11e3)));break;case"waiting-for-mask-average":Date.now()-V>18e3&&($(x.movingAverage()),N("purge-ambient-2"),s.sampleAmbient(),O("reading from ambient"),I(Date.now()));break;case"purge-ambient-2":Date.now()-V>7e3&&(N("waiting-for-second-ambient-average"),I(Date.now()),C(xn(5e3)));break;case"waiting-for-second-ambient-average":if(Date.now()-V>12e3){j(b.movingAverage()),N("done"),O("done");const Q=.5*(T+D)/Math.max(.01,M);q(Q),h(Q>5e4),s.sampleMask(),s.beep(),s.beep()}break;case"done":break;default:console.error(`unhandled state ${k}`)}}};return a.addListener(z),()=>{a.removeListener(z)}},[G]);function ne(){N("start")}function ge(z){return S.jsx("div",{className:"svg-container",style:{padding:"4px"},children:z?S.jsx(sL,{color:"green"}):S.jsx(xC,{color:"red"})})}return S.jsxs("div",{id:"daily-check-panel",style:{width:"fit-content",justifySelf:"center"},children:[S.jsx("div",{children:A}),S.jsx("button",{onClick:()=>ne(),children:"Press to start"}),S.jsx(ie,{label:"State",children:k}),S.jsx(ie,{label:"Particle count check",children:ge(l)}),S.jsx(ie,{label:"Zero check",children:ge(c)}),S.jsx(ie,{label:"Max fit factor check",children:ge(d)}),S.jsx(ie,{label:"Max ambient count",children:m}),S.jsx(ie,{label:"Ambient average",children:(b.movingAverage()??0).toFixed(2)}),S.jsx(ie,{label:"Max mask count",children:v}),S.jsx(ie,{label:"Min mask count",children:w}),S.jsx(ie,{label:"Mask average",children:(x.movingAverage()??0).toFixed(2)}),S.jsx(ie,{label:"Fit factor",children:gd(B)})]})}var nK=Object.defineProperty,Jf=Object.getOwnPropertySymbols,rO=Object.prototype.hasOwnProperty,iO=Object.prototype.propertyIsEnumerable,Ax=(e,t,n)=>t in e?nK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gg=(e,t)=>{for(var n in t||(t={}))rO.call(t,n)&&Ax(e,n,t[n]);if(Jf)for(var n of Jf(t))iO.call(t,n)&&Ax(e,n,t[n]);return e},Kg=(e,t)=>{var n={};for(var r in e)rO.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Jf)for(var r of Jf(e))t.indexOf(r)<0&&iO.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Po;(e=>{const t=class Se{constructor(l,u,c,f){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<Se.MIN_VERSION||l>Se.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let d=[];for(let m=0;m<this.size;m++)d.push(!1);for(let m=0;m<this.size;m++)this.modules.push(d.slice()),this.isFunction.push(d.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(c);if(this.drawCodewords(h),f==-1){let m=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const v=this.getPenaltyScore();v<m&&(f=g,m=v),this.applyMask(g)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,u){const c=e.QrSegment.makeSegments(l);return Se.encodeSegments(c,u)}static encodeBinary(l,u){const c=e.QrSegment.makeBytes(l);return Se.encodeSegments([c],u)}static encodeSegments(l,u,c=1,f=40,d=-1,h=!0){if(!(Se.MIN_VERSION<=c&&c<=f&&f<=Se.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");let m,g;for(m=c;;m++){const y=Se.getNumDataCodewords(m,u)*8,x=a.getTotalBits(l,m);if(x<=y){g=x;break}if(m>=f)throw new RangeError("Data too long")}for(const y of[Se.Ecc.MEDIUM,Se.Ecc.QUARTILE,Se.Ecc.HIGH])h&&g<=Se.getNumDataCodewords(m,y)*8&&(u=y);let v=[];for(const y of l){n(y.mode.modeBits,4,v),n(y.numChars,y.mode.numCharCountBits(m),v);for(const x of y.getData())v.push(x)}i(v.length==g);const p=Se.getNumDataCodewords(m,u)*8;i(v.length<=p),n(0,Math.min(4,p-v.length),v),n(0,(8-v.length%8)%8,v),i(v.length%8==0);for(let y=236;v.length<p;y^=253)n(y,8,v);let w=[];for(;w.length*8<v.length;)w.push(0);return v.forEach((y,x)=>w[x>>>3]|=y<<7-(x&7)),new Se(m,u,w,d)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let c=0;c<u;c++)for(let f=0;f<u;f++)c==0&&f==0||c==0&&f==u-1||c==u-1&&f==0||this.drawAlignmentPattern(l[c],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let c=u;for(let d=0;d<10;d++)c=c<<1^(c>>>9)*1335;const f=(u<<10|c)^21522;i(f>>>15==0);for(let d=0;d<=5;d++)this.setFunctionModule(8,d,r(f,d));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let d=9;d<15;d++)this.setFunctionModule(14-d,8,r(f,d));for(let d=0;d<8;d++)this.setFunctionModule(this.size-1-d,8,r(f,d));for(let d=8;d<15;d++)this.setFunctionModule(8,this.size-15+d,r(f,d));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let c=0;c<12;c++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let c=0;c<18;c++){const f=r(u,c),d=this.size-11+c%3,h=Math.floor(c/3);this.setFunctionModule(d,h,f),this.setFunctionModule(h,d,f)}}drawFinderPattern(l,u){for(let c=-4;c<=4;c++)for(let f=-4;f<=4;f++){const d=Math.max(Math.abs(f),Math.abs(c)),h=l+f,m=u+c;0<=h&&h<this.size&&0<=m&&m<this.size&&this.setFunctionModule(h,m,d!=2&&d!=4)}}drawAlignmentPattern(l,u){for(let c=-2;c<=2;c++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,u+c,Math.max(Math.abs(f),Math.abs(c))!=1)}setFunctionModule(l,u,c){this.modules[u][l]=c,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,c=this.errorCorrectionLevel;if(l.length!=Se.getNumDataCodewords(u,c))throw new RangeError("Invalid argument");const f=Se.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][u],d=Se.ECC_CODEWORDS_PER_BLOCK[c.ordinal][u],h=Math.floor(Se.getNumRawDataModules(u)/8),m=f-h%f,g=Math.floor(h/f);let v=[];const p=Se.reedSolomonComputeDivisor(d);for(let y=0,x=0;y<f;y++){let E=l.slice(x,x+g-d+(y<m?0:1));x+=E.length;const b=Se.reedSolomonComputeRemainder(E,p);y<m&&E.push(0),v.push(E.concat(b))}let w=[];for(let y=0;y<v[0].length;y++)v.forEach((x,E)=>{(y!=g-d||E>=m)&&w.push(x[y])});return i(w.length==h),w}drawCodewords(l){if(l.length!=Math.floor(Se.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let f=0;f<this.size;f++)for(let d=0;d<2;d++){const h=c-d,g=(c+1&2)==0?this.size-1-f:f;!this.isFunction[g][h]&&u<l.length*8&&(this.modules[g][h]=r(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let c=0;c<this.size;c++){let f;switch(l){case 0:f=(c+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=c%3==0;break;case 3:f=(c+u)%3==0;break;case 4:f=(Math.floor(c/3)+Math.floor(u/2))%2==0;break;case 5:f=c*u%2+c*u%3==0;break;case 6:f=(c*u%2+c*u%3)%2==0;break;case 7:f=((c+u)%2+c*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][c]&&f&&(this.modules[u][c]=!this.modules[u][c])}}getPenaltyScore(){let l=0;for(let d=0;d<this.size;d++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[d][v]==h?(m++,m==5?l+=Se.PENALTY_N1:m>5&&l++):(this.finderPenaltyAddHistory(m,g),h||(l+=this.finderPenaltyCountPatterns(g)*Se.PENALTY_N3),h=this.modules[d][v],m=1);l+=this.finderPenaltyTerminateAndCount(h,m,g)*Se.PENALTY_N3}for(let d=0;d<this.size;d++){let h=!1,m=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][d]==h?(m++,m==5?l+=Se.PENALTY_N1:m>5&&l++):(this.finderPenaltyAddHistory(m,g),h||(l+=this.finderPenaltyCountPatterns(g)*Se.PENALTY_N3),h=this.modules[v][d],m=1);l+=this.finderPenaltyTerminateAndCount(h,m,g)*Se.PENALTY_N3}for(let d=0;d<this.size-1;d++)for(let h=0;h<this.size-1;h++){const m=this.modules[d][h];m==this.modules[d][h+1]&&m==this.modules[d+1][h]&&m==this.modules[d+1][h+1]&&(l+=Se.PENALTY_N2)}let u=0;for(const d of this.modules)u=d.reduce((h,m)=>h+(m?1:0),u);const c=this.size*this.size,f=Math.ceil(Math.abs(u*20-c*10)/c)-1;return i(0<=f&&f<=9),l+=f*Se.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let c=[6];for(let f=this.size-7;c.length<l;f-=u)c.splice(1,0,f);return c}}static getNumRawDataModules(l){if(l<Se.MIN_VERSION||l>Se.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const c=Math.floor(l/7)+2;u-=(25*c-10)*c-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(Se.getNumRawDataModules(l)/8)-Se.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*Se.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<l-1;f++)u.push(0);u.push(1);let c=1;for(let f=0;f<l;f++){for(let d=0;d<u.length;d++)u[d]=Se.reedSolomonMultiply(u[d],c),d+1<u.length&&(u[d]^=u[d+1]);c=Se.reedSolomonMultiply(c,2)}return u}static reedSolomonComputeRemainder(l,u){let c=u.map(f=>0);for(const f of l){const d=f^c.shift();c.push(0),u.forEach((h,m)=>c[m]^=Se.reedSolomonMultiply(h,d))}return c}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let c=0;for(let f=7;f>=0;f--)c=c<<1^(c>>>7)*285,c^=(u>>>f&1)*l;return i(c>>>8==0),c}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const c=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(c&&l[0]>=u*4&&l[6]>=u?1:0)+(c&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,c){return l&&(this.finderPenaltyAddHistory(u,c),u=0),u+=this.size,this.finderPenaltyAddHistory(u,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(s,l,u){if(l<0||l>31||s>>>l)throw new RangeError("Value out of range");for(let c=l-1;c>=0;c--)u.push(s>>>c&1)}function r(s,l){return(s>>>l&1)!=0}function i(s){if(!s)throw new Error("Assertion error")}const o=class tt{constructor(l,u,c){if(this.mode=l,this.numChars=u,this.bitData=c,u<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(l){let u=[];for(const c of l)n(c,8,u);return new tt(tt.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!tt.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let c=0;c<l.length;){const f=Math.min(l.length-c,3);n(parseInt(l.substring(c,c+f),10),f*3+1,u),c+=f}return new tt(tt.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!tt.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],c;for(c=0;c+2<=l.length;c+=2){let f=tt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c))*45;f+=tt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c+1)),n(f,11,u)}return c<l.length&&n(tt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(c)),6,u),new tt(tt.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:tt.isNumeric(l)?[tt.makeNumeric(l)]:tt.isAlphanumeric(l)?[tt.makeAlphanumeric(l)]:[tt.makeBytes(tt.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new tt(tt.Mode.ECI,0,u)}static isNumeric(l){return tt.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return tt.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let c=0;for(const f of l){const d=f.mode.numCharCountBits(u);if(f.numChars>=1<<d)return 1/0;c+=4+d+f.bitData.length}return c}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let c=0;c<l.length;c++)l.charAt(c)!="%"?u.push(l.charCodeAt(c)):(u.push(parseInt(l.substring(c+1,c+3),16)),c+=2);return u}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=o;e.QrSegment=o})(Po||(Po={}));(e=>{(t=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(Po||(Po={}));(e=>{(t=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(Po||(Po={}));var ua=Po;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var rK={L:ua.QrCode.Ecc.LOW,M:ua.QrCode.Ecc.MEDIUM,Q:ua.QrCode.Ecc.QUARTILE,H:ua.QrCode.Ecc.HIGH},oO=128,aO="L",sO="#FFFFFF",lO="#000000",uO=!1,cO=1,iK=4,oK=0,aK=.1;function fO(e,t=0){const n=[];return e.forEach(function(r,i){let o=null;r.forEach(function(a,s){if(!a&&o!==null){n.push(`M${o+t} ${i+t}h${s-o}v1H${o+t}z`),o=null;return}if(s===r.length-1){if(!a)return;o===null?n.push(`M${s+t},${i+t} h1v1H${s+t}z`):n.push(`M${o+t},${i+t} h${s+1-o}v1H${o+t}z`);return}a&&o===null&&(o=s)})}),n.join("")}function dO(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((i,o)=>o<t.x||o>=t.x+t.w?i:!1))}function sK(e,t,n,r){if(r==null)return null;const i=e.length+n*2,o=Math.floor(t*aK),a=i/t,s=(r.width||o)*a,l=(r.height||o)*a,u=r.x==null?e.length/2-s/2:r.x*a,c=r.y==null?e.length/2-l/2:r.y*a,f=r.opacity==null?1:r.opacity;let d=null;if(r.excavate){let m=Math.floor(u),g=Math.floor(c),v=Math.ceil(s+u-m),p=Math.ceil(l+c-g);d={x:m,y:g,w:v,h:p}}const h=r.crossOrigin;return{x:u,y:c,h:l,w:s,excavation:d,opacity:f,crossOrigin:h}}function lK(e,t){return t!=null?Math.max(Math.floor(t),0):e?iK:oK}function hO({value:e,level:t,minVersion:n,includeMargin:r,marginSize:i,imageSettings:o,size:a,boostLevel:s}){let l=R.useMemo(()=>{const m=(Array.isArray(e)?e:[e]).reduce((g,v)=>(g.push(...ua.QrSegment.makeSegments(v)),g),[]);return ua.QrCode.encodeSegments(m,rK[t],n,void 0,void 0,s)},[e,t,n,s]);const{cells:u,margin:c,numCells:f,calculatedImageSettings:d}=R.useMemo(()=>{let h=l.getModules();const m=lK(r,i),g=h.length+m*2,v=sK(h,a,m,o);return{cells:h,margin:m,numCells:g,calculatedImageSettings:v}},[l,a,o,r,i]);return{qrcode:l,margin:c,cells:u,numCells:f,calculatedImageSettings:d}}var uK=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),cK=R.forwardRef(function(t,n){const r=t,{value:i,size:o=oO,level:a=aO,bgColor:s=sO,fgColor:l=lO,includeMargin:u=uO,minVersion:c=cO,boostLevel:f,marginSize:d,imageSettings:h}=r,g=Kg(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=g,p=Kg(g,["style"]),w=h?.src,y=R.useRef(null),x=R.useRef(null),E=R.useCallback(T=>{y.current=T,typeof n=="function"?n(T):n&&(n.current=T)},[n]),[b,C]=R.useState(!1),{margin:k,cells:N,numCells:A,calculatedImageSettings:O}=hO({value:i,level:a,minVersion:c,boostLevel:f,includeMargin:u,marginSize:d,imageSettings:h,size:o});R.useEffect(()=>{if(y.current!=null){const T=y.current,P=T.getContext("2d");if(!P)return;let D=N;const j=x.current,M=O!=null&&j!==null&&j.complete&&j.naturalHeight!==0&&j.naturalWidth!==0;M&&O.excavation!=null&&(D=dO(N,O.excavation));const $=window.devicePixelRatio||1;T.height=T.width=o*$;const B=o/A*$;P.scale(B,B),P.fillStyle=s,P.fillRect(0,0,A,A),P.fillStyle=l,uK?P.fill(new Path2D(fO(D,k))):N.forEach(function(q,G){q.forEach(function(me,ce){me&&P.fillRect(ce+k,G+k,1,1)})}),O&&(P.globalAlpha=O.opacity),M&&P.drawImage(j,O.x+k,O.y+k,O.w,O.h)}}),R.useEffect(()=>{C(!1)},[w]);const V=Gg({height:o,width:o},v);let I=null;return w!=null&&(I=R.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{C(!0)},ref:x,crossOrigin:O?.crossOrigin})),R.createElement(R.Fragment,null,R.createElement("canvas",Gg({style:V,height:o,width:o,ref:E,role:"img"},p)),I)});cK.displayName="QRCodeCanvas";var Ic=R.forwardRef(function(t,n){const r=t,{value:i,size:o=oO,level:a=aO,bgColor:s=sO,fgColor:l=lO,includeMargin:u=uO,minVersion:c=cO,boostLevel:f,title:d,marginSize:h,imageSettings:m}=r,g=Kg(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:p,numCells:w,calculatedImageSettings:y}=hO({value:i,level:a,minVersion:c,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:m,size:o});let x=p,E=null;m!=null&&y!=null&&(y.excavation!=null&&(x=dO(p,y.excavation)),E=R.createElement("image",{href:m.src,height:y.h,width:y.w,x:y.x+v,y:y.y+v,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const b=fO(x,v);return R.createElement("svg",Gg({height:o,width:o,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},g),!!d&&R.createElement("title",null,d),R.createElement("path",{fill:s,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),R.createElement("path",{fill:l,d:b,shapeRendering:"crispEdges"}),E)});Ic.displayName="QRCodeSVG";function fK(){const[e,t]=_.useState(""),[n,r]=_.useState(""),[i,o]=_.useState(""),[a,s]=_.useState(""),[l,u]=ae(F.BOOKMARKS),c=[["These bookmarks",window.location.href],["Fit Test for Everyone Discord","https://discord.gg/GeNhXx8Hxw"],["Fit testing resources wiki","https://github.com/emcee5601/fit-testing-resources/wiki"],["MFTC app","https://emcee5601.github.io/fit-test-console/"],["MFTC old versions","https://emcee5601.github.io/mftc-old/"],["MFTC app source","https://github.com/emcee5601/fit-test-console"],["Breathesafe","https://www.breathesafe.xyz/"]];Object.entries(l).forEach(([g,v])=>c.push([g,v]));function f(g,v){t(g),r(v)}function d(){return i&&!Object.values(l).includes(i)}function h(){if(!d())return;const g={};g[a||i]=i,Object.assign(g,l),u(g)}function m(g){const v={};Object.entries(l).filter(([p])=>p!==g).forEach(([p,w])=>v[p]=w),u(v)}return S.jsxs("div",{id:"bookmarks",style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"1em"},children:["Bookmarks",S.jsxs("div",{children:[e&&S.jsx("div",{className:"full-screen-overlay",children:S.jsxs("div",{onClick:()=>t(""),className:"qrcode-container",children:[S.jsx("span",{style:{display:"block"},children:n}),S.jsx("span",{style:{display:"block"},children:S.jsx("a",{href:e,children:e})}),S.jsx(Ic,{value:e,size:512,marginSize:4,title:n})]})}),S.jsxs("fieldset",{children:[S.jsx("legend",{children:"Add new bookmark"}),S.jsxs("div",{id:"bookmark-adder",style:{display:"flex"},children:[S.jsxs("div",{style:{textAlign:"start",height:"100%",display:"flex",flexDirection:"column",gap:"0.3em"},children:[S.jsx("div",{className:"thin-border-2",children:S.jsx(xo,{id:"bookmark-title",initialValue:a,placeholder:"Title",onChange:g=>s(g||"")})}),S.jsx("div",{className:"thin-border-2",children:S.jsx(xo,{id:"bookmark-url",initialValue:i,placeholder:"URL",onChange:g=>o(g||"")})})]}),S.jsx("div",{style:{height:"100%"},children:S.jsx(Ic,{value:i,size:128,marginSize:4,title:i,onClick:()=>f(i,a),visibility:i?"visible":"hidden"})}),S.jsx("button",{onClick:()=>h(),disabled:!d(),children:"Save bookmark"})]})]}),c.map(([g,v])=>S.jsx("div",{children:S.jsxs("fieldset",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[S.jsx("legend",{children:g}),S.jsx("a",{href:v,children:v}),S.jsx(Ic,{value:v,size:128,marginSize:4,title:g,onClick:()=>f(v,g)}),g in l&&S.jsx("button",{onClick:()=>m(g),children:"delete"})]})},g))]})]})}const dK=u5({onNeedRefresh(){confirm("A new version is available. Update to the latest version?")&&dK(!0)}});GE(document.getElementById("root")).render(S.jsx(_.StrictMode,{children:S.jsx(A4,{children:S.jsx(_.Suspense,{fallback:"...",children:S.jsx(f4,{children:S.jsxs(_n,{path:"",element:S.jsx(QG,{}),children:[S.jsx(_n,{index:!0,element:S.jsx(l5,{})}),S.jsx(_n,{path:"view-results",element:S.jsx(eK,{})}),S.jsx(_n,{path:"settings",element:S.jsx(tH,{})}),S.jsx(_n,{path:"protocols",element:S.jsx(i5,{})}),S.jsx(_n,{path:"raw-data",element:S.jsx(nH,{})}),S.jsx(_n,{path:"stats",element:S.jsx(AG,{})}),S.jsx(_n,{path:"qrscanner",element:S.jsx(o5,{})}),S.jsx(_n,{path:"unsupported-browser",element:S.jsx(DT,{})}),S.jsx(_n,{path:"daily-checks",element:S.jsx(tK,{})}),S.jsx(_n,{path:"bookmarks",element:S.jsx(fK,{})})]})})})})}));export{R as A,bT as B,Ce as C,Cg as D,KG as L,SL as M,Ic as Q,xo as S,ql as a,xt as b,xe as c,hK as d,pK as e,w6 as f,mK as g,yK as h,JG as i,S as j,ae as k,F as l,So as m,_K as n,SK as o,IG as p,No as q,_ as r,W5 as u};
